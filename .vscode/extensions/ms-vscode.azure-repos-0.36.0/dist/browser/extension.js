var us=Object.defineProperty;var a=(Na,fa)=>us(Na,"name",{value:fa,configurable:!0});(()=>{var Na={850:(Ve,h,y)=>{"use strict";y.r(h),y.d(h,{AppInsightsCore:()=>Ke,BaseCore:()=>ln,BaseTelemetryPlugin:()=>Yn.i,CoreUtils:()=>K.Tr,DiagnosticLogger:()=>Ae.AQ,ESPromise:()=>nr,ESPromiseScheduler:()=>Pn,EventHelper:()=>Dr.zB,EventLatency:()=>x,EventPersistence:()=>m,EventPropertyType:()=>v,EventsDiscardedReason:()=>Ir.h,FullVersionString:()=>K.vs,InternalAppInsightsCore:()=>Je.F,InternalBaseCore:()=>At.A,LoggingSeverity:()=>p.X,MinChannelPriorty:()=>ur,NotificationManager:()=>rr.f,PerfEvent:()=>Ie.zn,PerfManager:()=>Ie.Jk,ProcessTelemetryContext:()=>ir.Vi,TraceLevel:()=>B,Undefined:()=>dr.jA,Utils:()=>K.cQ,ValueKind:()=>k,ValueSanitizer:()=>Xn,Version:()=>K.Gf,_ExtendedInternalMessageId:()=>$,_InternalLogMessage:()=>Ae.lQ,_InternalMessageId:()=>p.v,__getRegisteredEvents:()=>fn.um,_logInternalMessage:()=>Ae.L4,_throwInternal:()=>Ae.kP,_warnToConsole:()=>Ae.jV,addEventHandler:()=>fn.Ib,addEventListeners:()=>fn.yw,addPageHideEventListener:()=>fn.TJ,addPageShowEventListener:()=>fn.nD,addPageUnloadEventListener:()=>fn.c9,areCookiesSupported:()=>hr.p7,arrForEach:()=>A.tO,arrIndexOf:()=>A.UA,arrMap:()=>A.Mr,arrReduce:()=>A.Xz,attachEvent:()=>fn.pZ,cookieAvailable:()=>hr.p7,createCookieMgr:()=>hr.Nz,createEnumStyle:()=>d.By,createGuid:()=>K.cm,createProcessTelemetryContext:()=>ir.CD,createTraceParent:()=>Zn.SU,createUniqueNamespace:()=>ei.J,createUnloadHandlerContainer:()=>Hr.Y,dateNow:()=>A.m6,deleteCookie:()=>K.kT,detachEvent:()=>fn.pD,disableCookies:()=>K.oF,disallowsSameSiteNone:()=>hr.UY,doPerf:()=>Ie.Lm,dumpObj:()=>ze.eU,eventOff:()=>fn.QY,eventOn:()=>fn.XO,extend:()=>K.l7,findW3cTraceParent:()=>Zn.lq,formatTraceParent:()=>Zn.aR,generateW3CId:()=>Dr.DO,getCommonSchemaMetaData:()=>K.Vv,getConsole:()=>ze.dr,getCookie:()=>K.ej,getCookieValue:()=>K.Do,getCrypto:()=>ze.MX,getDocument:()=>ze.Me,getExceptionName:()=>A.jj,getFieldValueType:()=>K.Sy,getGlobal:()=>Qn.Rd,getGlobalInst:()=>ze.a8,getHistory:()=>ze.s1,getIEVersion:()=>ze.sA,getISOString:()=>A.Y6,getJSON:()=>ze.xA,getLocation:()=>ze.k$,getMsCrypto:()=>ze.gz,getNavigator:()=>ze.jW,getPerformance:()=>ze.r,getSetValue:()=>A.qK,getTenantId:()=>K.jM,getTime:()=>K.hK,getWindow:()=>ze.Jj,hasDocument:()=>ze.Nv,hasHistory:()=>ze.fE,hasJSON:()=>ze.nS,hasNavigator:()=>ze.d6,hasOwnProperty:()=>A.nr,hasWindow:()=>ze.Ym,isArray:()=>A.kJ,isArrayValid:()=>K.JT,isBeaconsSupported:()=>ze.MF,isBoolean:()=>A.jn,isChromium:()=>K.mJ,isDate:()=>A.J_,isDocumentObjectAvailable:()=>K.x9,isError:()=>A.VZ,isFetchSupported:()=>ze.JO,isFunction:()=>A.mf,isIE:()=>ze.w1,isLatency:()=>K.r7,isNotTruthy:()=>A.F,isNullOrUndefined:()=>A.le,isNumber:()=>A.hj,isObject:()=>A.Kn,isReactNative:()=>ze.b$,isSampledFlag:()=>Zn.Pn,isString:()=>A.HD,isTruthy:()=>A.fQ,isTypeof:()=>A.Ym,isUint8ArrayAvailable:()=>K.IZ,isUndefined:()=>A.o8,isValidSpanId:()=>Zn.Lc,isValidTraceId:()=>Zn.jN,isValidTraceParent:()=>Zn.J6,isValueAssigned:()=>K.Sn,isValueKind:()=>K.oS,isWindowObjectAvailable:()=>K.dH,isXhrSupported:()=>ze.Z3,mergeEvtNamespace:()=>fn.jU,newGuid:()=>Dr.GW,newId:()=>Bn.pZ,normalizeJsName:()=>A.Gf,objCreate:()=>Qn.pu,objDefineAccessors:()=>A.l_,objForEachKey:()=>A.rW,objFreeze:()=>A.FL,objKeys:()=>A.FY,objSeal:()=>A.Xi,openXhr:()=>K.ot,optimizeObject:()=>A.Ax,parseTraceParent:()=>Zn.j_,perfNow:()=>Dr.Jj,proxyAssign:()=>A.cf,proxyFunctionAs:()=>A.Oi,proxyFunctions:()=>A.Vb,random32:()=>Bn._l,randomValue:()=>Bn.az,removeEventHandler:()=>fn.C1,removeEventListeners:()=>fn.nJ,removePageHideEventListener:()=>fn.C9,removePageShowEventListener:()=>fn.Yl,removePageUnloadEventListener:()=>fn.JA,safeGetCookieMgr:()=>hr.JP,safeGetLogger:()=>Ae.vH,sanitizeProperty:()=>K.yj,setCookie:()=>K.d8,setEnableEnvMocks:()=>ze.dI,setProcessTelemetryTimings:()=>K.if,setValue:()=>A.sO,strContains:()=>A._Q,strEndsWith:()=>A.Id,strFunction:()=>dr.cb,strObject:()=>dr.fK,strPrototype:()=>dr.hB,strStartsWith:()=>A.xe,strTrim:()=>A.nd,strUndefined:()=>dr.jA,throwError:()=>A._y,toISOString:()=>A.Y6,useXDomainRequest:()=>ze.cp});var w=y(1088),d=y(4873),A=y(6708),p=y(7310),k=(0,d.By)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),x=(0,d.By)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),v=(0,d.By)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),m=(0,d.By)({Normal:1,Critical:2}),B=(0,d.By)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),$=(0,A.FL)((0,w.uc)((0,w.uc)({},p.v),(0,d.By)({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520})));/*!
 * Microsoft Dynamic Proto Utility, 1.1.7
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var P,j="undefined",L="constructor",X="prototype",z="function",ue="_dynInstFuncs",b="_isDynProxy",F="_dynClass",R="_dynCls$",g="_dynInstChk",T=g,D="_dfOpts",J="_unknown_",Y="__proto__",V="_dyn"+Y,ie="__dynProto$Gbl",he="_dynInstProto",Z="useBaseInst",le="setInstFuncs",O=Object,Ue=O.getPrototypeOf,de=O.getOwnPropertyNames;function ae(){var I;return typeof globalThis!==j&&(I=globalThis),!I&&typeof self!==j&&(I=self),!I&&typeof window!==j&&(I=window),!I&&typeof y.g!==j&&(I=y.g),I||{}}a(ae,"_getGlobal");var W=ae(),te=W[ie]||(W[ie]={o:(P={},P[le]=!0,P[Z]=!0,P),n:1e3});function me(I,ce){return I&&O[X].hasOwnProperty.call(I,ce)}a(me,"_hasOwnProperty");function Oe(I){return I&&(I===O[X]||I===Array[X])}a(Oe,"_isObjectOrArrayPrototype");function ee(I){return Oe(I)||I===Function[X]}a(ee,"_isObjectArrayOrFunctionPrototype");function Me(I){var ce;if(I){if(Ue)return Ue(I);var Se=I[Y]||I[X]||(I[L]?I[L][X]:null);ce=I[V]||Se,me(I,V)||(delete I[he],ce=I[V]=I[he]||I[V],I[he]=Se)}return ce}a(Me,"_getObjProto");function He(I,ce){var Se=[];if(de)Se=de(I);else for(var Ne in I)typeof Ne=="string"&&me(I,Ne)&&Se.push(Ne);if(Se&&Se.length>0)for(var Ge=0;Ge<Se.length;Ge++)ce(Se[Ge])}a(He,"_forEachProp");function Xe(I,ce,Se){return ce!==L&&typeof I[ce]===z&&(Se||me(I,ce))}a(Xe,"_isDynamicCandidate");function U(I){throw new TypeError("DynamicProto: "+I)}a(U,"_throwTypeError");function G(I){var ce={};return He(I,function(Se){!ce[Se]&&Xe(I,Se,!1)&&(ce[Se]=I[Se])}),ce}a(G,"_getInstanceFuncs");function q(I,ce){for(var Se=I.length-1;Se>=0;Se--)if(I[Se]===ce)return!0;return!1}a(q,"_hasVisited");function fe(I,ce,Se,Ne){function Ge(wt,zt,ot){var Rt=zt[ot];if(Rt[b]&&Ne){var It=wt[ue]||{};It[T]!==!1&&(Rt=(It[zt[F]]||{})[ot]||Rt)}return function(){return Rt.apply(wt,arguments)}}a(Ge,"_instFuncProxy");var je={};He(Se,function(wt){je[wt]=Ge(ce,Se,wt)});for(var rt=Me(I),ht=[];rt&&!ee(rt)&&!q(ht,rt);)He(rt,function(wt){!je[wt]&&Xe(rt,wt,!Ue)&&(je[wt]=Ge(ce,rt,wt))}),ht.push(rt),rt=Me(rt);return je}a(fe,"_getBaseFuncs");function be(I,ce,Se,Ne){var Ge=null;if(I&&me(Se,F)){var je=I[ue]||{};if(Ge=(je[Se[F]]||{})[ce],Ge||U("Missing ["+ce+"] "+z),!Ge[g]&&je[T]!==!1){for(var rt=!me(I,ce),ht=Me(I),wt=[];rt&&ht&&!ee(ht)&&!q(wt,ht);){var zt=ht[ce];if(zt){rt=zt===Ne;break}wt.push(ht),ht=Me(ht)}try{rt&&(I[ce]=Ge),Ge[g]=1}catch(ot){je[T]=!1}}}return Ge}a(be,"_getInstFunc");function Te(I,ce,Se){var Ne=ce[I];return Ne===Se&&(Ne=Me(ce)[I]),typeof Ne!==z&&U("["+I+"] is not a "+z),Ne}a(Te,"_getProtoFunc");function oe(I,ce,Se,Ne,Ge){function je(wt,zt){var ot=a(function(){var Rt=be(this,zt,wt,ot)||Te(zt,wt,ot);return Rt.apply(this,arguments)},"dynProtoProxy");return ot[b]=1,ot}if(a(je,"_createDynamicPrototype"),!Oe(I)){var rt=Se[ue]=Se[ue]||{},ht=rt[ce]=rt[ce]||{};rt[T]!==!1&&(rt[T]=!!Ge),He(Se,function(wt){Xe(Se,wt,!1)&&Se[wt]!==Ne[wt]&&(ht[wt]=Se[wt],delete Se[wt],(!me(I,wt)||I[wt]&&!I[wt][b])&&(I[wt]=je(I,wt)))})}}a(oe,"_populatePrototype");function ye(I,ce){if(Ue){for(var Se=[],Ne=Me(ce);Ne&&!ee(Ne)&&!q(Se,Ne);){if(Ne===I)return!0;Se.push(Ne),Ne=Me(Ne)}return!1}return!0}a(ye,"_checkPrototype");function De(I,ce){return me(I,X)?I.name||ce||J:((I||{})[L]||{}).name||ce||J}a(De,"_getObjName");function Be(I,ce,Se,Ne){me(I,X)||U("theClass is an invalid class definition.");var Ge=I[X];ye(Ge,ce)||U("["+De(I)+"] not in hierarchy of ["+De(ce)+"]");var je=null;me(Ge,F)?je=Ge[F]:(je=R+De(I,"_")+"$"+te.n,te.n++,Ge[F]=je);var rt=Be[D],ht=!!rt[Z];ht&&Ne&&Ne[Z]!==void 0&&(ht=!!Ne[Z]);var wt=G(ce),zt=fe(Ge,ce,wt,ht);Se(ce,zt);var ot=!!Ue&&!!rt[le];ot&&Ne&&(ot=!!Ne[le]),oe(Ge,je,ce,wt,ot!==!1)}a(Be,"dynamicProto"),Be[D]=te.o;var Ae=y(5018),Ie=y(9288),ze=y(7630),Je=y(5121),Ee=y(7984),K=y(3599),Q=function(I){(0,w.ne)(ce,I);function ce(){var Se=I.call(this)||this;return Se.pluginVersionStringArr=[],Be(ce,Se,function(Ne,Ge){(!Ne.logger||!Ne.logger.queue)&&(Ne.logger=new Ae.AQ({loggingLevelConsole:1})),Ne.initialize=function(je,rt,ht,wt){(0,Ie.Lm)(Ne,function(){return"AppInsightsCore.initialize"},function(){var zt=Ne.pluginVersionStringArr;if(je){je.endpointUrl||(je.endpointUrl=Ee.YT);var ot=je.propertyStorageOverride;ot&&(!ot.getProperty||!ot.setProperty)&&(0,A._y)("Invalid property storage override passed."),je.channels&&(0,A.tO)(je.channels,function(Pt){Pt&&(0,A.tO)(Pt,function(mt){if(mt.identifier&&mt.version){var yn=mt.identifier+"="+mt.version;zt.push(yn)}})})}Ne.getWParam=function(){return typeof document!="undefined"||!!je.enableWParam?0:-1},rt&&(0,A.tO)(rt,function(Pt){if(Pt&&Pt.identifier&&Pt.version){var mt=Pt.identifier+"="+Pt.version;zt.push(mt)}}),Ne.pluginVersionString=zt.join(";"),Ne.pluginVersionStringArr=zt;try{Ge.initialize(je,rt,ht,wt),Ne.pollInternalLogs("InternalLog")}catch(Pt){var Rt=Ne.logger,It=(0,ze.eU)(Pt);It.indexOf("channels")!==-1&&(It+=`
 - Channels must be provided through config.channels only!`),(0,Ae.kP)(Rt,1,514,"SDK Initialization Failed - no telemetry will be sent: "+It)}},function(){return{config:je,extensions:rt,logger:ht,notificationManager:wt}})},Ne.track=function(je){(0,Ie.Lm)(Ne,function(){return"AppInsightsCore.track"},function(){var rt=je;if(rt){rt.timings=rt.timings||{},rt.timings.trackStart=(0,K.hK)(),(0,K.r7)(rt.latency)||(rt.latency=1);var ht=rt.ext=rt.ext||{};ht.sdk=ht.sdk||{},ht.sdk.ver=K.vs;var wt=rt.baseData=rt.baseData||{};wt[Ee.o6]=wt[Ee.o6]||{};var zt=wt[Ee.o6];zt[Ee.p8]=zt[Ee.p8]||Ne.pluginVersionString||Ee.qS}Ge.track(rt)},function(){return{item:je}},!je.sync)}}),Se}return a(ce,"AppInsightsCore"),ce.__ieDyn=1,ce}(Je.F);const Ke=Q;var At=y(6900),wn=function(I){(0,w.ne)(ce,I);function ce(){var Se=I.call(this)||this;return Be(ce,Se,function(Ne,Ge){Ne.initialize=function(je,rt,ht,wt){je&&!je.endpointUrl&&(je.endpointUrl=Ee.YT),Ne.getWParam=function(){return K.x9||!!je.enableWParam?0:-1};try{Ge.initialize(je,rt,ht,wt)}catch(zt){(0,Ae.kP)(Ne.logger,1,514,"Initialization Failed: "+(0,ze.eU)(zt)+`
 - Note: Channels must be provided through config.channels only`)}},Ne.track=function(je){var rt=je;if(rt){var ht=rt.ext=rt.ext||{};ht.sdk=ht.sdk||{},ht.sdk.ver=K.vs}Ge.track(rt)}}),Se}return a(ce,"BaseCore"),ce.__ieDyn=1,ce}(At.A);const ln=wn;var sn=A.mf;function or(I,ce,Se){return function(Ne){I[ce]=Ne,Se()}}a(or,"_createPromiseAllOnResolvedFunction");var jn=function(){function I(ce){var Se=0,Ne=null,Ge=[];Be(I,this,function(zt){zt.then=function(ot,Rt){return new I(function(It,Pt){je(ot,Rt,It,Pt)})},zt.catch=function(ot){return zt.then(null,ot)}});function je(zt,ot,Rt,It){Ge.push(function(){var Pt;try{Se===1?Pt=sn(zt)?zt(Ne):Ne:Pt=sn(ot)?ot(Ne):Ne,Pt instanceof I?Pt.then(Rt,It):Se===2&&!sn(ot)?It(Pt):Rt(Pt)}catch(mt){It(mt);return}}),Se!==0&&rt()}a(je,"_enqueue");function rt(){if(Ge.length>0){var zt=Ge.slice();Ge=[],setTimeout(function(){for(var ot=0,Rt=zt.length;ot<Rt;++ot)try{zt[ot]()}catch(It){}},0)}}a(rt,"_processQueue");function ht(zt){Se===0&&(Ne=zt,Se=1,rt())}a(ht,"_resolve");function wt(zt){Se===0&&(Ne=zt,Se=2,rt())}a(wt,"_reject"),a(function(){if(!sn(ce))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{ce(ht,wt)}catch(ot){wt(ot)}},"_initialize")()}return a(I,"ESPromise"),I.resolve=function(ce){return ce instanceof I?ce:ce&&sn(ce.then)?new I(function(Se,Ne){try{ce.then(Se,Ne)}catch(Ge){Ne(Ge)}}):new I(function(Se){Se(ce)})},I.reject=function(ce){return new I(function(Se,Ne){Ne(ce)})},I.all=function(ce){if(!(!ce||!ce.length))return new I(function(Se,Ne){try{for(var Ge=[],je=0,rt=0;rt<ce.length;rt++){var ht=ce[rt];ht&&sn(ht.then)?(je++,ht.then(or(Ge,rt,function(){--je==0&&Se(Ge)}),Ne)):Ge[rt]=ht}je===0&&setTimeout(function(){Se(Ge)},0)}catch(wt){Ne(wt)}})},I.race=function(ce){return new I(function(Se,Ne){if(!(!ce||!ce.length))try{for(var Ge=a(function(rt){var ht=ce[rt];ht&&sn(ht.then)?ht.then(Se,Ne):setTimeout(function(){Se(ht)},0)},"_loop_1"),je=0;je<ce.length;je++)Ge(je)}catch(rt){Ne(rt)}})},I}();const nr=jn;var Qn=y(2091),kn=6e5,it=0,Lt=[],Ht=[],jt=[];function Yt(){return new Date().getTime()}a(Yt,"_getTime");var cn=function(){function I(ce,Se){var Ne=0,Ge=(ce||"<unnamed>")+"."+it;it++,Be(I,this,function(ht){var wt=null,zt=0;ht.scheduleEvent=function(Rt,It,Pt){var mt=Ge+"."+zt;zt++,It&&(mt+="-("+It+")");var yn=mt+"{"+Ne+"}";Ne++;var rn={evt:null,tm:Yt(),id:yn,isRunning:!1,isAborted:!1};return wt?rn.evt=ti(rn,wt):rn.evt=On(rn),wt=rn,wt.evt._schId=yn,rn.evt;function ar(Nt){for(var $n=Yt(),mn=$n-kn,an=Nt.length,Cn=0;Cn<an;){var Vn=Nt[Cn];if(Vn&&Vn.tm<mn){var Sr=null;Vn.abort?(Sr="Aborting ["+Vn.id+"] due to Excessive runtime ("+($n-Vn.tm)+" ms)",Vn.abort(Sr)):Sr="Removing ["+Vn.id+"] due to Excessive runtime ("+($n-Vn.tm)+" ms)",rt(Sr),Nt.splice(Cn,1),an--}else Cn++}}a(ar,"_abortAndRemoveOldEvents");function Gn(Nt,$n){var mn=!1,an=ot(Lt,Nt);if(an||(an=ot(jt,Nt),mn=!0),an){an.to&&(clearTimeout(an.to),an.to=null);var Cn=Yt()-an.tm;$n?mn?rt("Timed out event ["+Nt+"] finally complete -- "+Cn+" ms"):je("Promise ["+Nt+"] Complete -- "+Cn+" ms"):(jt.push(an),rt("Event ["+Nt+"] Timed out and removed -- "+Cn+" ms"))}else je("Failed to remove ["+Nt+"] from running queue");wt&&wt.id===Nt&&(wt=null),ar(Lt),ar(Ht),ar(jt)}a(Gn,"_cleanup");function qn(Nt,$n){return function(mn){return Gn(Nt,!0),$n&&$n(mn),mn}}a(qn,"_removeScheduledEvent");function Mr(Nt,$n,mn,an){$n.then(function(Cn){return Cn instanceof nr?(je("Event ["+Nt+"] returned a promise -- waiting"),Mr(Nt,Cn,mn,an),Cn):qn(Nt,mn)(Cn)},qn(Nt,an))}a(Mr,"_waitForFinalResult");function Pr(Nt,$n){var mn=Nt.id;return new nr(function(an,Cn){je("Event ["+mn+"] Starting -- waited for "+(Nt.wTm||"--")+" ms"),Nt.isRunning=!0,Nt.abort=function(Sr){Nt.abort=null,Nt.isAborted=!0,Gn(mn,!1),Cn(new Error(Sr))};var Vn=$n(mn);Vn instanceof nr?(Pt&&(Nt.to=setTimeout(function(){Gn(mn,!1),Cn(new Error("Timed out after ["+Pt+"] ms"))},Pt)),Mr(mn,Vn,function(Sr){je("Event ["+mn+"] Resolving after "+(Yt()-Nt.tm)+" ms"),an(Sr)},Cn)):(je("Promise ["+mn+"] Auto completed as the start action did not return a promise"),an())})}a(Pr,"_createScheduledEvent");function On(Nt){var $n=Yt();return Nt.wTm=$n-Nt.tm,Nt.tm=$n,Nt.isAborted?nr.reject(new Error("["+mt+"] was aborted")):(Lt.push(Nt),Pr(Nt,Rt))}a(On,"_startWaitingEvent");function ti(Nt,$n){var mn=new nr(function(an,Cn){var Vn=Yt()-$n.tm,Sr=$n.id;je("["+mt+"] is waiting for ["+Sr+":"+Vn+" ms] to complete before starting -- ["+Ht.length+"] waiting and ["+Lt.length+"] running"),Nt.abort=function(kr){Nt.abort=null,ot(Ht,mt),Nt.isAborted=!0,Cn(new Error(kr))},$n.evt.then(function(kr){ot(Ht,mt),On(Nt).then(an,Cn)},function(kr){ot(Ht,mt),On(Nt).then(an,Cn)})});return Ht.push(Nt),mn}a(ti,"_waitForPreviousEvent")};function ot(Rt,It){for(var Pt=0;Pt<Rt.length;Pt++)if(Rt[Pt].id===It)return Rt.splice(Pt,1)[0];return null}a(ot,"_removeQueuedEvent")});function je(ht){var wt=(0,Qn.Rd)();wt&&wt.QUnit&&console&&console.log("ESPromiseScheduler["+Ge+"] "+ht)}a(je,"_debugLog");function rt(ht){(0,Ae.jV)(Se,"ESPromiseScheduler["+Ge+"] "+ht)}a(rt,"_warnLog")}return a(I,"ESPromiseScheduler"),I.incomplete=function(){return Lt},I.waitingToStart=function(){return Ht},I}();const Pn=cn;var Xn=function(){function I(ce){var Se=this,Ne={},Ge=[],je=[];ce&&je.push(ce);function rt(ot,Rt){var It,Pt=Ne[ot];if(Pt&&(It=Pt[Rt]),!It&&It!==null){if((0,A.HD)(ot)&&(0,A.HD)(Rt))if(je.length>0){for(var mt=0;mt<je.length;mt++)if(je[mt].handleField(ot,Rt)){It={canHandle:!0,fieldHandler:je[mt]};break}}else Ge.length===0&&(It={canHandle:!0});if(!It&&It!==null){It=null;for(var mt=0;mt<Ge.length;mt++)if(Ge[mt].handleField(ot,Rt)){It={canHandle:!0,handler:Ge[mt],fieldHandler:null};break}}Pt||(Pt=Ne[ot]={}),Pt[Rt]=It}return It}a(rt,"_getFieldSanitizer"),Se.addSanitizer=function(ot){ot&&(Ge.push(ot),Ne={})},Se.addFieldSanitizer=function(ot){ot&&(je.push(ot),Ne={})},Se.handleField=function(ot,Rt){var It=rt(ot,Rt);return It?It.canHandle:!1},Se.value=function(ot,Rt,It,Pt){var mt=rt(ot,Rt);if(mt&&mt.canHandle){if(!mt||!mt.canHandle)return null;if(mt.handler)return mt.handler.value(ot,Rt,It,Pt);if(!(0,A.HD)(Rt)||(0,A.le)(It)||It===Ee.qS)return null;var yn=null,rn=(0,K.Sy)(It);if((rn&8192)==8192){var ar=rn&~8192;if(yn=It,!(0,K.Sn)(yn.value)||ar!==1&&ar!==2&&ar!==3&&(ar&4096)!=4096)return null}else rn===1||rn===2||rn===3||(rn&4096)==4096?yn=wt(ot,Rt,It):rn===4&&(yn=wt(ot,Rt,Pt?JSON.stringify(It):It));if(yn)return ht(mt,ot,Rt,rn,yn,Pt)}return null},Se.property=function(ot,Rt,It,Pt){var mt=rt(ot,Rt);if(!mt||!mt.canHandle||!(0,A.HD)(Rt)||(0,A.le)(It)||!(0,K.Sn)(It.value))return null;var yn=(0,K.Sy)(It.value);return yn===0?null:ht(mt,ot,Rt,yn,It,Pt)};function ht(ot,Rt,It,Pt,mt,yn){if(ot.handler)return ot.handler.property(Rt,It,mt,yn);if(!(0,A.le)(mt.kind)){if((Pt&4096)==4096||!(0,K.oS)(mt.kind))return null;mt.value=mt.value.toString()}return zt(ot.fieldHandler,Rt,It,Pt,mt)}a(ht,"_handleProperty");function wt(ot,Rt,It){return(0,K.Sn)(It)?{value:It}:null}a(wt,"_convertToProperty");function zt(ot,Rt,It,Pt,mt){if(mt&&ot){var yn=ot.getSanitizer(Rt,It,Pt,mt.kind,mt.propertyType);if(yn)if(Pt===4){var rn={},ar=mt.value;(0,A.rW)(ar,function(qn,Mr){var Pr=Rt+"."+It;if((0,K.Sn)(Mr)){var On=wt(Pr,qn,Mr);On=zt(ot,Pr,qn,(0,K.Sy)(Mr),On),On&&(rn[qn]=On.value)}}),mt.value=rn}else{var Gn={path:Rt,name:It,type:Pt,prop:mt,sanitizer:Se};mt=yn.call(Se,Gn)}}return mt}a(zt,"_callFieldSanitizer")}return a(I,"ValueSanitizer"),I.getFieldType=K.Sy,I}(),ur=100,rr=y(1880),Yn=y(4063),ir=y(1589),Ir=y(5928),Dr=y(5843),fn=y(4869),Bn=y(4878),dr=y(4392),hr=y(3242),ei=y(5883),Hr=y(310),Zn=y(4206)},7984:(Ve,h,y)=>{"use strict";y.d(h,{qS:()=>w,YT:()=>d,p8:()=>k,o6:()=>x});var w="",d="https://browser.events.data.microsoft.com/OneCollector/1.0/",A="pluginVersionString",p=A+"Arr",k="version",x="properties"},3599:(Ve,h,y)=>{"use strict";y.d(h,{Gf:()=>P,vs:()=>j,x9:()=>F,dH:()=>R,Sn:()=>g,jM:()=>T,IZ:()=>D,r7:()=>J,yj:()=>Y,Vv:()=>V,oF:()=>ie,d8:()=>he,kT:()=>Z,ej:()=>le,Do:()=>O,cm:()=>Ue,l7:()=>de,hK:()=>ae,oS:()=>W,JT:()=>Oe,if:()=>ee,Sy:()=>Me,cQ:()=>He,Tr:()=>Xe,mJ:()=>U,ot:()=>G});var w=y(7630),d=y(6708),A=y(3242),p=y(5843),k=y(4392),x=y(4869),v=y(4878),m=y(2091),B=y(7984),$,P="3.2.10",j="1DS-Web-JS-"+P,L="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",X="withCredentials",z="timeout",ue=($={},$[0]=0,$[2]=6,$[1]=1,$[3]=7,$[4096|2]=6,$[4096|1]=1,$[4096|3]=7,$),b=null,F=Boolean((0,w.Me)()),R=Boolean((0,w.Jj)());function g(q){return!(q===B.qS||(0,d.le)(q))}a(g,"isValueAssigned");function T(q){if(q){var fe=q.indexOf("-");if(fe>-1)return q.substring(0,fe)}return B.qS}a(T,"getTenantId");function D(){return b===null&&(b=!(0,d.o8)(Uint8Array)&&!me()&&!(0,w.b$)()),b}a(D,"isUint8ArrayAvailable");function J(q){return!!(q&&(0,d.hj)(q)&&q>=1&&q<=4)}a(J,"isLatency");function Y(q,fe,be){if(!fe&&!g(fe)||typeof q!="string")return null;var Te=typeof fe;if(Te==="string"||Te==="number"||Te==="boolean"||(0,d.kJ)(fe))fe={value:fe};else if(Te==="object"&&!k.CY.call(fe,"value"))fe={value:be?JSON.stringify(fe):fe};else if((0,d.le)(fe.value)||fe.value===B.qS||!(0,d.HD)(fe.value)&&!(0,d.hj)(fe.value)&&!(0,d.jn)(fe.value)&&!(0,d.kJ)(fe.value))return null;if((0,d.kJ)(fe.value)&&!Oe(fe.value))return null;if(!(0,d.le)(fe.kind)){if((0,d.kJ)(fe.value)||!W(fe.kind))return null;fe.value=fe.value.toString()}return fe}a(Y,"sanitizeProperty");function V(q,fe,be){var Te=-1;if(!(0,d.o8)(q))if(fe>0&&(fe===32?Te=1<<13:fe<=13&&(Te=fe<<5)),te(be))Te===-1&&(Te=0),Te|=be;else{var oe=ue[Me(q)]||-1;Te!==-1&&oe!==-1?Te|=oe:oe===6&&(Te=oe)}return Te}a(V,"getCommonSchemaMetaData");function ie(){(0,A.JP)(null).setEnabled(!1)}a(ie,"disableCookies");function he(q,fe,be){(0,A.p7)(null)&&(0,A.JP)(null).set(q,fe,be*86400,null,"/")}a(he,"setCookie");function Z(q){(0,A.p7)(null)&&(0,A.JP)(null).del(q)}a(Z,"deleteCookie");function le(q){return(0,A.p7)(null)?O((0,A.JP)(null),q):B.qS}a(le,"getCookie");function O(q,fe,be){be===void 0&&(be=!0);var Te;return q&&(Te=q.get(fe),be&&Te&&decodeURIComponent&&(Te=decodeURIComponent(Te))),Te||B.qS}a(O,"getCookieValue");function Ue(q){q===void 0&&(q="D");var fe=(0,p.GW)();return q==="B"?fe="{"+fe+"}":q==="P"?fe="("+fe+")":q==="N"&&(fe=fe.replace(/-/g,B.qS)),fe}a(Ue,"createGuid");function de(q,fe,be,Te,oe){var ye={},De=!1,Be=0,Ae=arguments.length,Ie=Object[k.hB],ze=arguments;for(Ie.toString.call(ze[0])==="[object Boolean]"&&(De=ze[0],Be++);Be<Ae;Be++){var q=ze[Be];(0,d.rW)(q,function(Ee,K){De&&K&&(0,d.Kn)(K)?(0,d.kJ)(K)?(ye[Ee]=ye[Ee]||[],(0,d.tO)(K,function(Q,Ke){Q&&(0,d.Kn)(Q)?ye[Ee][Ke]=de(!0,ye[Ee][Ke],Q):ye[Ee][Ke]=Q})):ye[Ee]=de(!0,ye[Ee],K):ye[Ee]=K})}return ye}a(de,"extend");var ae=p.Jj;function W(q){return q===0||q>0&&q<=13||q===32}a(W,"isValueKind");function te(q){return q>=0&&q<=9}a(te,"isDataType");function me(){var q=(0,w.jW)();if(!(0,d.o8)(q)&&q.userAgent){var fe=q.userAgent.toLowerCase();if((fe.indexOf("safari")>=0||fe.indexOf("firefox")>=0)&&fe.indexOf("chrome")<0)return!0}return!1}a(me,"isSafariOrFirefox");function Oe(q){return q.length>0}a(Oe,"isArrayValid");function ee(q,fe){var be=q;be.timings=be.timings||{},be.timings.processTelemetryStart=be.timings.processTelemetryStart||{},be.timings.processTelemetryStart[fe]=ae()}a(ee,"setProcessTelemetryTimings");function Me(q){var fe=0;if(q!=null){var be=typeof q;be==="string"?fe=1:be==="number"?fe=2:be==="boolean"?fe=3:be===k.fK&&(fe=4,(0,d.kJ)(q)?(fe=4096,q.length>0&&(fe|=Me(q[0]))):k.CY.call(q,"value")&&(fe=8192|Me(q.value)))}return fe}a(Me,"getFieldValueType");var He={Version:P,FullVersionString:j,strUndefined:k.jA,strObject:k.fK,Undefined:k.jA,arrForEach:d.tO,arrIndexOf:d.UA,arrMap:d.Mr,arrReduce:d.Xz,objKeys:d.FY,toISOString:d.Y6,isReactNative:w.b$,isString:d.HD,isNumber:d.hj,isBoolean:d.jn,isFunction:d.mf,isArray:d.kJ,isObject:d.Kn,strTrim:d.nd,isDocumentObjectAvailable:F,isWindowObjectAvailable:R,isValueAssigned:g,getTenantId:T,isBeaconsSupported:w.MF,isUint8ArrayAvailable:D,isLatency:J,sanitizeProperty:Y,getISOString:d.Y6,useXDomainRequest:w.cp,getCommonSchemaMetaData:V,cookieAvailable:A.p7,disallowsSameSiteNone:A.UY,setCookie:he,deleteCookie:Z,getCookie:le,createGuid:Ue,extend:de,getTime:ae,isValueKind:W,isArrayValid:Oe,objDefineAccessors:d.l_,addPageUnloadEventListener:x.c9,setProcessTelemetryTimings:ee,addEventHandler:x.Ib,getFieldValueType:Me,strEndsWith:d.Id,objForEachKey:d.rW},Xe={_canUseCookies:void 0,isTypeof:d.Ym,isUndefined:d.o8,isNullOrUndefined:d.le,hasOwnProperty:d.nr,isFunction:d.mf,isObject:d.Kn,isDate:d.J_,isArray:d.kJ,isError:d.VZ,isString:d.HD,isNumber:d.hj,isBoolean:d.jn,toISOString:d.Y6,arrForEach:d.tO,arrIndexOf:d.UA,arrMap:d.Mr,arrReduce:d.Xz,strTrim:d.nd,objCreate:m.pu,objKeys:d.FY,objDefineAccessors:d.l_,addEventHandler:x.Ib,dateNow:d.m6,isIE:w.w1,disableCookies:ie,newGuid:p.GW,perfNow:p.Jj,newId:v.pZ,randomValue:v.az,random32:v._l,mwcRandomSeed:v.CN,mwcRandom32:v.F6,generateW3CId:p.DO};function U(){return!!(0,w.a8)("chrome")}a(U,"isChromium");function G(q,fe,be,Te,oe,ye){Te===void 0&&(Te=!1),oe===void 0&&(oe=!1);function De(Ae,Ie,ze){try{Ae[Ie]=ze}catch(Je){}}a(De,"_wrapSetXhrProp");var Be=new XMLHttpRequest;return Te&&De(Be,L,Te),be&&De(Be,X,be),Be.open(q,fe,!oe),be&&De(Be,X,be),!oe&&ye&&De(Be,z,ye),Be}a(G,"openXhr")},5229:(Ve,h,y)=>{"use strict";y.r(h),y.d(h,{BE_PROFILE:()=>ze,NRT_PROFILE:()=>Ie,PostChannel:()=>Li,RT_PROFILE:()=>Ae});var w=y(1088);/*!
 * Microsoft Dynamic Proto Utility, 1.1.7
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var d,A="undefined",p="constructor",k="prototype",x="function",v="_dynInstFuncs",m="_isDynProxy",B="_dynClass",$="_dynCls$",P="_dynInstChk",j=P,L="_dfOpts",X="_unknown_",z="__proto__",ue="_dyn"+z,b="__dynProto$Gbl",F="_dynInstProto",R="useBaseInst",g="setInstFuncs",T=Object,D=T.getPrototypeOf,J=T.getOwnPropertyNames;function Y(){var Pe;return typeof globalThis!==A&&(Pe=globalThis),!Pe&&typeof self!==A&&(Pe=self),!Pe&&typeof window!==A&&(Pe=window),!Pe&&typeof y.g!==A&&(Pe=y.g),Pe||{}}a(Y,"_getGlobal");var V=Y(),ie=V[b]||(V[b]={o:(d={},d[g]=!0,d[R]=!0,d),n:1e3});function he(Pe,Qe){return Pe&&T[k].hasOwnProperty.call(Pe,Qe)}a(he,"_hasOwnProperty");function Z(Pe){return Pe&&(Pe===T[k]||Pe===Array[k])}a(Z,"_isObjectOrArrayPrototype");function le(Pe){return Z(Pe)||Pe===Function[k]}a(le,"_isObjectArrayOrFunctionPrototype");function O(Pe){var Qe;if(Pe){if(D)return D(Pe);var st=Pe[z]||Pe[k]||(Pe[p]?Pe[p][k]:null);Qe=Pe[ue]||st,he(Pe,ue)||(delete Pe[F],Qe=Pe[ue]=Pe[F]||Pe[ue],Pe[F]=st)}return Qe}a(O,"_getObjProto");function Ue(Pe,Qe){var st=[];if(J)st=J(Pe);else for(var Ze in Pe)typeof Ze=="string"&&he(Pe,Ze)&&st.push(Ze);if(st&&st.length>0)for(var _t=0;_t<st.length;_t++)Qe(st[_t])}a(Ue,"_forEachProp");function de(Pe,Qe,st){return Qe!==p&&typeof Pe[Qe]===x&&(st||he(Pe,Qe))}a(de,"_isDynamicCandidate");function ae(Pe){throw new TypeError("DynamicProto: "+Pe)}a(ae,"_throwTypeError");function W(Pe){var Qe={};return Ue(Pe,function(st){!Qe[st]&&de(Pe,st,!1)&&(Qe[st]=Pe[st])}),Qe}a(W,"_getInstanceFuncs");function te(Pe,Qe){for(var st=Pe.length-1;st>=0;st--)if(Pe[st]===Qe)return!0;return!1}a(te,"_hasVisited");function me(Pe,Qe,st,Ze){function _t(Ot,tn,hn){var Hn=tn[hn];if(Hn[m]&&Ze){var Nn=Ot[v]||{};Nn[j]!==!1&&(Hn=(Nn[tn[B]]||{})[hn]||Hn)}return function(){return Hn.apply(Ot,arguments)}}a(_t,"_instFuncProxy");var xt={};Ue(st,function(Ot){xt[Ot]=_t(Qe,st,Ot)});for(var lt=O(Pe),$t=[];lt&&!le(lt)&&!te($t,lt);)Ue(lt,function(Ot){!xt[Ot]&&de(lt,Ot,!D)&&(xt[Ot]=_t(Qe,lt,Ot))}),$t.push(lt),lt=O(lt);return xt}a(me,"_getBaseFuncs");function Oe(Pe,Qe,st,Ze){var _t=null;if(Pe&&he(st,B)){var xt=Pe[v]||{};if(_t=(xt[st[B]]||{})[Qe],_t||ae("Missing ["+Qe+"] "+x),!_t[P]&&xt[j]!==!1){for(var lt=!he(Pe,Qe),$t=O(Pe),Ot=[];lt&&$t&&!le($t)&&!te(Ot,$t);){var tn=$t[Qe];if(tn){lt=tn===Ze;break}Ot.push($t),$t=O($t)}try{lt&&(Pe[Qe]=_t),_t[P]=1}catch(hn){xt[j]=!1}}}return _t}a(Oe,"_getInstFunc");function ee(Pe,Qe,st){var Ze=Qe[Pe];return Ze===st&&(Ze=O(Qe)[Pe]),typeof Ze!==x&&ae("["+Pe+"] is not a "+x),Ze}a(ee,"_getProtoFunc");function Me(Pe,Qe,st,Ze,_t){function xt(Ot,tn){var hn=a(function(){var Hn=Oe(this,tn,Ot,hn)||ee(tn,Ot,hn);return Hn.apply(this,arguments)},"dynProtoProxy");return hn[m]=1,hn}if(a(xt,"_createDynamicPrototype"),!Z(Pe)){var lt=st[v]=st[v]||{},$t=lt[Qe]=lt[Qe]||{};lt[j]!==!1&&(lt[j]=!!_t),Ue(st,function(Ot){de(st,Ot,!1)&&st[Ot]!==Ze[Ot]&&($t[Ot]=st[Ot],delete st[Ot],(!he(Pe,Ot)||Pe[Ot]&&!Pe[Ot][m])&&(Pe[Ot]=xt(Pe,Ot)))})}}a(Me,"_populatePrototype");function He(Pe,Qe){if(D){for(var st=[],Ze=O(Qe);Ze&&!le(Ze)&&!te(st,Ze);){if(Ze===Pe)return!0;st.push(Ze),Ze=O(Ze)}return!1}return!0}a(He,"_checkPrototype");function Xe(Pe,Qe){return he(Pe,k)?Pe.name||Qe||X:((Pe||{})[p]||{}).name||Qe||X}a(Xe,"_getObjName");function U(Pe,Qe,st,Ze){he(Pe,k)||ae("theClass is an invalid class definition.");var _t=Pe[k];He(_t,Qe)||ae("["+Xe(Pe)+"] not in hierarchy of ["+Xe(Qe)+"]");var xt=null;he(_t,B)?xt=_t[B]:(xt=$+Xe(Pe,"_")+"$"+ie.n,ie.n++,_t[B]=xt);var lt=U[L],$t=!!lt[R];$t&&Ze&&Ze[R]!==void 0&&($t=!!Ze[R]);var Ot=W(Qe),tn=me(_t,Qe,Ot,$t);st(Qe,tn);var hn=!!D&&!!lt[g];hn&&Ze&&(hn=!!Ze[g]),Me(_t,xt,Qe,Ot,hn!==!1)}a(U,"dynamicProto"),U[L]=ie.o;var G=y(9288),q=y(4869),fe=y(5883),be=y(3599),Te=y(6708),oe=y(7630),ye=y(5928),De=y(5018),Be=y(4063),Ae="REAL_TIME",Ie="NEAR_REAL_TIME",ze="BEST_EFFORT",Je="",Ee="POST",K="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Q="drop",Ke="send",At="requeue",wn="rspFail",ln="oth",sn="no-cache, no-store",or="application/x-json-stream",jn="cache-control",nr="content-type",Qn="kill-tokens",kn="kill-duration",it="kill-duration-seconds",Lt="time-delta-millis",Ht="client-version",jt="client-id",Yt="time-delta-to-apply-millis",cn="upload-time",Pn="apikey",Xn="AuthMsaDeviceTicket",ur="AuthXToken",rr="sdk-version",Yn="NoResponseBody",ir="msfpc",Ir="trace",Dr="user";function fn(Pe){var Qe=(Pe.ext||{}).intweb;return Qe&&(0,be.Sn)(Qe[ir])?Qe[ir]:null}a(fn,"_getEventMsfpc");function Bn(Pe){for(var Qe=null,st=0;Qe===null&&st<Pe.length;st++)Qe=fn(Pe[st]);return Qe}a(Bn,"_getMsfpc");var dr=function(){function Pe(Qe,st){var Ze=st?[].concat(st):[],_t=this,xt=Bn(Ze);_t.iKey=function(){return Qe},_t.Msfpc=function(){return xt||Je},_t.count=function(){return Ze.length},_t.events=function(){return Ze},_t.addEvent=function(lt){return lt?(Ze.push(lt),xt||(xt=fn(lt)),!0):!1},_t.split=function(lt,$t){var Ot;if(lt<Ze.length){var tn=Ze.length-lt;(0,Te.le)($t)||(tn=$t<tn?$t:tn),Ot=Ze.splice(lt,tn),xt=Bn(Ze)}return new Pe(Qe,Ot)}}return a(Pe,"EventBatch"),Pe.create=function(Qe,st){return new Pe(Qe,st)},Pe}(),hr=function(){function Pe(){var Qe=!0,st=!0,Ze=!0,_t="use-collector-delta",xt=!1;U(Pe,this,function(lt){lt.allowRequestSending=function(){return Qe},lt.firstRequestSent=function(){Ze&&(Ze=!1,xt||(Qe=!1))},lt.shouldAddClockSkewHeaders=function(){return st},lt.getClockSkewHeaderValue=function(){return _t},lt.setClockSkew=function($t){xt||($t?(_t=$t,st=!0,xt=!0):st=!1,Qe=!0)}})}return a(Pe,"ClockSkewManager"),Pe.__ieDyn=1,Pe}();const ei=hr;var Hr=1e3,Zn=function(){function Pe(){var Qe={};function st(Ze){var _t=[];return Ze&&(0,Te.tO)(Ze,function(xt){_t.push((0,Te.nd)(xt))}),_t}a(st,"_normalizeTenants"),U(Pe,this,function(Ze){Ze.setKillSwitchTenants=function(_t,xt){if(_t&&xt)try{var lt=st(_t.split(","));if(xt==="this-request-only")return lt;for(var $t=parseInt(xt,10)*Hr,Ot=0;Ot<lt.length;++Ot)Qe[lt[Ot]]=(0,Te.m6)()+$t}catch(tn){return[]}return[]},Ze.isTenantKilled=function(_t){var xt=Qe,lt=(0,Te.nd)(_t);return xt[lt]!==void 0&&xt[lt]>(0,Te.m6)()?!0:(delete xt[lt],!1)}})}return a(Pe,"KillSwitch"),Pe.__ieDyn=1,Pe}();const I=Zn;var ce=y(4392),Se=.8,Ne=1.2,Ge=3e3,je=6e5;function rt(Pe){return!(Pe>=300&&Pe<500&&Pe!=408&&Pe!=429||Pe==501||Pe==505)}a(rt,"retryPolicyShouldRetryForStatus");function ht(Pe){var Qe=0,st=Ge*Se,Ze=Ge*Ne,_t=Math.floor(Math.random()*(Ze-st))+st;return Qe=Math.pow(2,Pe)*_t,Math.min(Qe,je)}a(ht,"retryPolicyGetMillisToBackoffForRetry");var wt=20,zt=3984588,ot=65e3,Rt=2e6,It=Math.min(Rt,ot),Pt="metadata",mt="f",yn=/\./,rn=function(){function Pe(Qe,st,Ze,_t){var xt="data",lt="baseData",$t="ext",Ot=!!_t,tn=!0,hn=st,Hn={};U(Pe,this,function(Nn){Nn.createPayload=function(kt,Ft,qt,en,N,re){return{apiKeys:[],payloadBlob:Je,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:kt,isTeardown:Ft,isSync:qt,isBeacon:en,sendType:re,sendReason:N}},Nn.appendPayload=function(kt,Ft,qt){var en=kt&&Ft&&!kt.overflow;return en&&(0,G.Lm)(Qe,function(){return"Serializer:appendPayload"},function(){for(var N=Ft.events(),re=kt.payloadBlob,we=kt.numEvents,et=!1,yt=[],Ct=[],Zt=kt.isBeacon,Vt=Zt?ot:zt,Wt=Zt?It:Rt,Xt=0,nn=0;Xt<N.length;){var bt=N[Xt];if(bt){if(we>=qt){kt.overflow=Ft.split(Xt);break}var ct=Nn.getEventBlob(bt);if(ct&&ct.length<=Wt){var En=ct.length,vn=re.length;if(vn+En>Vt){kt.overflow=Ft.split(Xt);break}re&&(re+=`
`),re+=ct,nn++,nn>wt&&(re.substr(0,1),nn=0),et=!0,we++}else ct?yt.push(bt):Ct.push(bt),N.splice(Xt,1),Xt--}Xt++}if(yt&&yt.length>0&&kt.sizeExceed.push(dr.create(Ft.iKey(),yt)),Ct&&Ct.length>0&&kt.failedEvts.push(dr.create(Ft.iKey(),Ct)),et){kt.batches.push(Ft),kt.payloadBlob=re,kt.numEvents=we;var Tn=Ft.iKey();(0,Te.UA)(kt.apiKeys,Tn)===-1&&kt.apiKeys.push(Tn)}},function(){return{payload:kt,theBatch:{iKey:Ft.iKey(),evts:Ft.events()},max:qt}}),en},Nn.getEventBlob=function(kt){try{return(0,G.Lm)(Qe,function(){return"Serializer.getEventBlob"},function(){var Ft={};Ft.name=kt.name,Ft.time=kt.time,Ft.ver=kt.ver,Ft.iKey="o:"+(0,be.jM)(kt.iKey);var qt={},en=kt[$t];en&&(Ft[$t]=qt,(0,Te.rW)(en,function(we,et){var yt=qt[we]={};Dn(et,yt,"ext."+we,!0,null,null,!0)}));var N=Ft[xt]={};N.baseType=kt.baseType;var re=N[lt]={};return Dn(kt.baseData,re,lt,!1,[lt],function(we,et,yt){ar(qt,we,et,yt)},tn),Dn(kt.data,N,xt,!1,[],function(we,et,yt){ar(qt,we,et,yt)},tn),JSON.stringify(Ft)},function(){return{item:kt}})}catch(Ft){return null}};function Wn(kt,Ft){var qt=Hn[kt];return qt===void 0&&(kt.length>=7&&(qt=(0,Te.xe)(kt,"ext.metadata")||(0,Te.xe)(kt,"ext.web")),Hn[kt]=qt),qt}a(Wn,"_isReservedField");function Dn(kt,Ft,qt,en,N,re,we){(0,Te.rW)(kt,function(et,yt){var Ct=null;if(yt||(0,be.Sn)(yt)){var Zt=qt,Vt=et,Wt=N,Xt=Ft;if(Ot&&!en&&yn.test(et)){var nn=et.split("."),bt=nn.length;if(bt>1){Wt&&(Wt=Wt.slice());for(var ct=0;ct<bt-1;ct++){var En=nn[ct];Xt=Xt[En]=Xt[En]||{},Zt+="."+En,Wt&&Wt.push(En)}Vt=nn[bt-1]}}var vn=en&&Wn(Zt,Vt);if(!vn&&hn&&hn.handleField(Zt,Vt)?Ct=hn.value(Zt,Vt,yt,Ze):Ct=(0,be.yj)(Vt,yt,Ze),Ct){var Tn=Ct.value;if(Xt[Vt]=Tn,re&&re(Wt,Vt,Ct),we&&typeof Tn=="object"&&!(0,Te.kJ)(Tn)){var xn=Wt;xn&&(xn=xn.slice(),xn.push(Vt)),Dn(yt,Tn,Zt+"."+Vt,en,xn,re,we)}}}})}a(Dn,"_processPathKeys")})}return a(Pe,"Serializer"),Pe.__ieDyn=1,Pe}();function ar(Pe,Qe,st,Ze){if(Ze&&Pe){var _t=(0,be.Vv)(Ze.value,Ze.kind,Ze.propertyType);if(_t>-1){var xt=Pe[Pt];xt||(xt=Pe[Pt]={f:{}});var lt=xt[mt];if(lt||(lt=xt[mt]={}),Qe)for(var $t=0;$t<Qe.length;$t++){var Ot=Qe[$t];lt[Ot]||(lt[Ot]={f:{}});var tn=lt[Ot][mt];tn||(tn=lt[Ot][mt]={}),lt=tn}lt=lt[st]={},(0,Te.kJ)(Ze.value)?lt.a={t:_t}:lt.t=_t}}}a(ar,"_addJSONPropertyMetaData");var Gn,qn="sendAttempt",Mr="&"+Yn+"=true",Pr=(Gn={},Gn[1]=At,Gn[100]=At,Gn[200]="sent",Gn[8004]=Q,Gn[8003]=Q,Gn),On={},ti={};function Nt(Pe,Qe,st){On[Pe]=Qe,st!==!1&&(ti[Qe]=Pe)}a(Nt,"_addCollectorHeaderQsMapping"),Nt(Xn,Xn,!1),Nt(Ht,Ht),Nt(jt,"Client-Id"),Nt(Pn,Pn),Nt(Yt,Yt),Nt(cn,cn),Nt(ur,ur);function $n(Pe){try{return Pe.responseText}catch(Qe){}return Je}a($n,"_getResponseText");function mn(Pe,Qe){var st=!1;if(Pe&&Qe){var Ze=(0,Te.FY)(Pe);if(Ze&&Ze.length>0)for(var _t=Qe.toLowerCase(),xt=0;xt<Ze.length;xt++){var lt=Ze[xt];if(lt&&(0,Te.nr)(Qe,lt)&&lt.toLowerCase()===_t){st=!0;break}}}return st}a(mn,"_hasHeader");function an(Pe,Qe,st,Ze){Qe&&st&&st.length>0&&(Ze&&On[Qe]?(Pe.hdrs[On[Qe]]=st,Pe.useHdrs=!0):Pe.url+="&"+Qe+"="+st)}a(an,"_addRequestDetails");function Cn(Pe,Qe){return Qe&&((0,Te.hj)(Qe)?Pe=[Qe].concat(Pe):(0,Te.kJ)(Qe)&&(Pe=Qe.concat(Pe))),Pe}a(Cn,"_prependTransports");var Vn=function(){function Pe(Qe,st,Ze,_t,xt){this._responseHandlers=[];var lt="?cors=true&"+nr.toLowerCase()+"="+or,$t=new I,Ot=!1,tn=new ei,hn=!1,Hn=0,Nn,Wn,Dn,kt,Ft=!0,qt=[],en={},N=[],re=null,we=!1,et,yt=!1,Ct=!1,Zt,Vt,Wt,Xt,nn;U(Pe,this,function(bt){var ct=!0;bt.initialize=function(ve,Ye,tt,nt,gt){var Dt;gt||(gt={}),lt=ve+lt,Ct=(0,Te.o8)(gt.avoidOptions)?!0:!gt.avoidOptions,kt=Ye,et=Ye.getCookieMgr(),we=!kt.config.disableEventTimings;var Bt=!!kt.config.enableCompoundKey;Nn=tt,Wn=Nn.diagLog();var ge=gt.valueSanitizer,ke=gt.stringifyObjects;(0,Te.o8)(gt.enableCompoundKey)||(Bt=!!gt.enableCompoundKey),Zt=gt.xhrTimeout,Vt=!!gt.disableXhrSync,Wt=!!gt.disableFetchKeepAlive,nn=gt.addNoResponse!==!1,hn=!(0,oe.b$)(),re=new rn(kt,ge,ke,Bt),(0,Te.le)(gt.useSendBeacon)||(hn=!!gt.useSendBeacon);var xe=nt,at=gt.alwaysUseXhrOverride?nt:null,Et=gt.alwaysUseXhrOverride?nt:null,Ut=[3,2];if(!nt){Ft=!1;var pn=(0,oe.k$)();pn&&pn.protocol&&pn.protocol.toLowerCase()==="file:"&&(ct=!1);var dn=[];(0,oe.b$)()?(dn=[2,1],Ut=[2,1,3]):dn=[1,2,3],dn=Cn(dn,gt.transports),nt=En(dn,!1),nt||(0,De.jV)(Wn,"No available transport to send events"),xe=En(dn,!0)}at||(Ut=Cn(Ut,gt.unloadTransports),at=En(Ut,!0)),Xt=!Ft&&(hn&&(0,oe.MF)()||!Wt&&(0,oe.JO)(!0)),Dn=(Dt={},Dt[0]=nt,Dt[1]=xe||En([1,2,3],!0),Dt[2]=at||xe||En([1],!0),Dt[3]=Et||En([2,3],!0)||xe||En([1],!0),Dt)};function En(ve,Ye){for(var tt=0,nt=null,gt=0;nt==null&&gt<ve.length;)tt=ve[gt],tt===1?(0,oe.cp)()?nt=vn:(0,oe.Z3)()&&(nt=xn):tt===2&&(0,oe.JO)(Ye)&&(!Ye||Ye&&!Wt)?nt=Tn:hn&&tt===3&&(0,oe.MF)()&&(nt=Or),gt++;return nt?{_transport:tt,_isSync:Ye,sendPOST:nt}:null}a(En,"_getSenderInterface"),bt._getDbgPlgTargets=function(){return[Dn[0],$t,re,Dn]};function vn(ve,Ye,tt){var nt=new XDomainRequest;nt.open(Ee,ve.urlString),ve.timeout&&(nt.timeout=ve.timeout),nt.onload=function(){var gt=$n(nt);Mt(Ye,200,{},gt),$r(gt)},nt.onerror=function(){Mt(Ye,400,{})},nt.ontimeout=function(){Mt(Ye,500,{})},nt.onprogress=function(){},tt?nt.send(ve.data):xt.set(function(){nt.send(ve.data)},0)}a(vn,"_xdrSendPost");function Tn(ve,Ye,tt){var nt,gt=ve.urlString,Dt=!1,Bt=!1,ge=(nt={body:ve.data,method:Ee},nt[K]=!0,nt);tt&&(ge.keepalive=!0,ve._sendReason===2&&(Dt=!0,nn&&(gt+=Mr))),ct&&(ge.credentials="include"),ve.headers&&(0,Te.FY)(ve.headers).length>0&&(ge.headers=ve.headers),fetch(gt,ge).then(function(ke){var xe={},at=Je,Et=ke.headers;Et&&Et.forEach(function(Ut,pn){xe[pn]=Ut}),ke.body&&ke.text().then(function(Ut){at=Ut}),Bt||(Bt=!0,Mt(Ye,ke.status,xe,at),$r(at))}).catch(function(ke){Bt||(Bt=!0,Mt(Ye,0,{}))}),Dt&&!Bt&&(Bt=!0,Mt(Ye,200,{})),!Bt&&ve.timeout>0&&xt.set(function(){Bt||(Bt=!0,Mt(Ye,500,{}))},ve.timeout)}a(Tn,"_fetchSendPost");function xn(ve,Ye,tt){var nt=ve.urlString;function gt(ke,xe,at){if(!ke[at]&&xe&&xe.getResponseHeader){var Et=xe.getResponseHeader(at);Et&&(ke[at]=(0,Te.nd)(Et))}return ke}a(gt,"_appendHeader");function Dt(ke){var xe={};return ke.getAllResponseHeaders?xe=fi(ke.getAllResponseHeaders()):(xe=gt(xe,ke,Lt),xe=gt(xe,ke,kn),xe=gt(xe,ke,it)),xe}a(Dt,"_getAllResponseHeaders");function Bt(ke,xe){Mt(Ye,ke.status,Dt(ke),xe)}a(Bt,"xhrComplete"),tt&&ve.disableXhrSync&&(tt=!1);var ge=(0,be.ot)(Ee,nt,ct,!0,tt,ve.timeout);(0,Te.rW)(ve.headers,function(ke,xe){ge.setRequestHeader(ke,xe)}),ge.onload=function(){var ke=$n(ge);Bt(ge,ke),$r(ke)},ge.onerror=function(){Bt(ge)},ge.ontimeout=function(){Bt(ge)},ge.send(ve.data)}a(xn,"_xhrSendPost");function Mt(ve,Ye,tt,nt){try{ve(Ye,tt,nt)}catch(gt){(0,De.kP)(Wn,2,518,(0,oe.eU)(gt))}}a(Mt,"_doOnComplete");function Or(ve,Ye,tt){var nt=ve,gt=200,Dt=nt._thePayload,Bt=ve.urlString+(nn?Mr:Je);try{var ge=(0,oe.jW)();if(!ge.sendBeacon(Bt,ve.data))if(Dt){var ke=[];(0,Te.tO)(Dt.batches,function(xe){if(ke&&xe&&xe.count()>0){for(var at=xe.events(),Et=0;Et<at.length;Et++)if(!ge.sendBeacon(Bt,re.getEventBlob(at[Et]))){ke.push(xe.split(Et));break}}else ke.push(xe.split(0))}),er(ke,8003,Dt.sendType,!0)}else gt=0}catch(xe){(0,De.jV)(Wn,"Failed to send telemetry using sendBeacon API. Ex:"+(0,oe.eU)(xe)),gt=0}finally{Mt(Ye,gt,{},Je)}}a(Or,"_beaconSendPost");function lr(ve){return ve===2||ve===3}a(lr,"_isBeaconPayload");function gn(ve){return yt&&lr(ve)&&(ve=2),ve}a(gn,"_adjustSendType"),bt.addQueryStringParameter=function(ve,Ye){for(var tt=0;tt<qt.length;tt++)if(qt[tt].name===ve){qt[tt].value=Ye;return}qt.push({name:ve,value:Ye})},bt.addHeader=function(ve,Ye){en[ve]=Ye},bt.canSendRequest=function(){return Br()&&tn.allowRequestSending()},bt.sendQueuedRequests=function(ve,Ye){(0,Te.o8)(ve)&&(ve=0),yt&&(ve=gn(ve),Ye=2),br(N,ve,0)&&zr(Nr(),0,!1,ve,Ye||0)},bt.isCompletelyIdle=function(){return!Ot&&Hn===0&&N.length===0},bt.setUnloading=function(ve){yt=ve},bt.addBatch=function(ve){if(ve&&ve.count()>0){if($t.isTenantKilled(ve.iKey()))return!1;N.push(ve)}return!0},bt.teardown=function(){N.length>0&&zr(Nr(),0,!0,2,2)},bt.pause=function(){Ot=!0},bt.resume=function(){Ot=!1,bt.sendQueuedRequests(0,4)},bt.sendSynchronousBatch=function(ve,Ye,tt){ve&&ve.count()>0&&((0,Te.le)(Ye)&&(Ye=1),yt&&(Ye=gn(Ye),tt=2),zr([ve],0,!1,Ye,tt||0))};function Br(){return!Ot&&Hn<st}a(Br,"_hasIdleConnection");function Nr(){var ve=N;return N=[],ve}a(Nr,"_clearQueue");function br(ve,Ye,tt){var nt=!1;return ve&&ve.length>0&&!Ot&&Dn[Ye]&&re&&(nt=Ye!==0||Br()&&(tt>0||tn.allowRequestSending())),nt}a(br,"_canSendPayload");function Jr(ve){var Ye={};return ve&&(0,Te.tO)(ve,function(tt,nt){Ye[nt]={iKey:tt.iKey(),evts:tt.events()}}),Ye}a(Jr,"_createDebugBatches");function zr(ve,Ye,tt,nt,gt){if(!(!ve||ve.length===0)){if(Ot){er(ve,1,nt);return}nt=gn(nt);try{var Dt=ve,Bt=nt!==0;(0,G.Lm)(kt,function(){return"HttpManager:_sendBatches"},function(ge){ge&&(ve=ve.slice(0));for(var ke=[],xe=null,at=(0,be.hK)(),Et=Dn[nt]||(Bt?Dn[1]:Dn[0]),Ut=Et&&Et._transport,pn=Xt&&(yt||lr(nt)||Ut===3||Et._isSync&&Ut===2);br(ve,nt,Ye);){var dn=ve.shift();dn&&dn.count()>0&&($t.isTenantKilled(dn.iKey())?ke.push(dn):(xe=xe||re.createPayload(Ye,tt,Bt,pn,gt,nt),re.appendPayload(xe,dn,Qe)?xe.overflow!==null&&(ve=[xe.overflow].concat(ve),xe.overflow=null,gr(xe,at,(0,be.hK)(),gt),at=(0,be.hK)(),xe=null):(gr(xe,at,(0,be.hK)(),gt),at=(0,be.hK)(),ve=[dn].concat(ve),xe=null)))}xe&&gr(xe,at,(0,be.hK)(),gt),ve.length>0&&(N=ve.concat(N)),er(ke,8004,nt)},function(){return{batches:Jr(Dt),retryCount:Ye,isTeardown:tt,isSynchronous:Bt,sendReason:gt,useSendBeacon:lr(nt),sendType:nt}},!Bt)}catch(ge){(0,De.kP)(Wn,2,48,"Unexpected Exception sending batch: "+(0,oe.eU)(ge))}}}a(zr,"_sendBatches");function Qr(ve,Ye){var tt={url:lt,hdrs:{},useHdrs:!1};Ye?(tt.hdrs=(0,be.l7)(tt.hdrs,en),tt.useHdrs=(0,Te.FY)(tt.hdrs).length>0):(0,Te.rW)(en,function(ge,ke){ti[ge]?an(tt,ti[ge],ke,!1):(tt.hdrs[ge]=ke,tt.useHdrs=!0)}),an(tt,jt,"NO_AUTH",Ye),an(tt,Ht,be.vs,Ye);var nt=Je;(0,Te.tO)(ve.apiKeys,function(ge){nt.length>0&&(nt+=","),nt+=ge}),an(tt,Pn,nt,Ye),an(tt,cn,(0,Te.m6)().toString(),Ye);var gt=Xr(ve);if((0,be.Sn)(gt)&&(tt.url+="&ext.intweb.msfpc="+gt),tn.shouldAddClockSkewHeaders()&&an(tt,Yt,tn.getClockSkewHeaderValue(),Ye),kt.getWParam){var Dt=kt.getWParam();Dt>=0&&(tt.url+="&w="+Dt)}for(var Bt=0;Bt<qt.length;Bt++)tt.url+="&"+qt[Bt].name+"="+qt[Bt].value;return tt}a(Qr,"_buildRequestDetails");function Lr(ve,Ye,tt){ve[Ye]=ve[Ye]||{},ve[Ye][Nn.identifier]=tt}a(Lr,"_setTimingValue");function gr(ve,Ye,tt,nt){if(ve&&ve.payloadBlob&&ve.payloadBlob.length>0){var gt=!!bt.sendHook,Dt=Dn[ve.sendType];!lr(ve.sendType)&&ve.isBeacon&&ve.sendReason===2&&(Dt=Dn[2]||Dn[3]||Dt);var Bt=Ct;(ve.isBeacon||Dt._transport===3)&&(Bt=!1);var ge=Qr(ve,Bt);Bt=Bt||ge.useHdrs;var ke=(0,be.hK)();(0,G.Lm)(kt,function(){return"HttpManager:_doPayloadSend"},function(){for(var xe=0;xe<ve.batches.length;xe++)for(var at=ve.batches[xe],Et=at.events(),Ut=0;Ut<Et.length;Ut++){var pn=Et[Ut];if(we){var dn=pn.timings=pn.timings||{};Lr(dn,"sendEventStart",ke),Lr(dn,"serializationStart",Ye),Lr(dn,"serializationCompleted",tt)}pn[qn]>0?pn[qn]++:pn[qn]=1}er(ve.batches,1e3+(nt||0),ve.sendType,!0);var An={data:ve.payloadBlob,urlString:ge.url,headers:ge.hdrs,_thePayload:ve,_sendReason:nt,timeout:Zt,disableXhrSync:Vt,disableFetchKeepAlive:Wt};Bt&&(mn(An.headers,jn)||(An.headers[jn]=sn),mn(An.headers,nr)||(An.headers[nr]=or));var ai=null;Dt&&(ai=a(function(_i){tn.firstRequestSent();var Ri=a(function(yi,Zr){ii(yi,Zr,ve,nt)},"onComplete"),sr=ve.isTeardown||ve.isSync;try{Dt.sendPOST(_i,Ri,sr),bt.sendListener&&bt.sendListener(An,_i,sr,ve.isBeacon)}catch(yi){(0,De.jV)(Wn,"Unexpected exception sending payload. Ex:"+(0,oe.eU)(yi)),Mt(Ri,0,{})}},"sender")),(0,G.Lm)(kt,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(ai)if(ve.sendType===0&&Hn++,gt&&!ve.isBeacon&&Dt._transport!==3){var _i={data:An.data,urlString:An.urlString,headers:(0,be.l7)({},An.headers),timeout:An.timeout,disableXhrSync:An.disableXhrSync,disableFetchKeepAlive:An.disableFetchKeepAlive},Ri=!1;(0,G.Lm)(kt,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{bt.sendHook(_i,function(sr){Ri=!0,!Ft&&!sr._thePayload&&(sr._thePayload=sr._thePayload||An._thePayload,sr._sendReason=sr._sendReason||An._sendReason),ai(sr)},ve.isSync||ve.isTeardown)}catch(sr){Ri||ai(An)}})}else ai(An)})},function(){return{thePayload:ve,serializationStart:Ye,serializationCompleted:tt,sendReason:nt}},ve.isSync)}ve.sizeExceed&&ve.sizeExceed.length>0&&er(ve.sizeExceed,8003,ve.sendType),ve.failedEvts&&ve.failedEvts.length>0&&er(ve.failedEvts,8002,ve.sendType)}a(gr,"_doPayloadSend");function ri(ve,Ye){we&&(0,Te.tO)(ve,function(tt){var nt=tt.timings=tt.timings||{};Lr(nt,"sendEventCompleted",Ye)})}a(ri,"_addEventCompletedTimings");function ii(ve,Ye,tt,nt){var gt=9e3,Dt=null,Bt=!1,ge=!1;try{var ke=!0;if(typeof ve!==ce.jA){if(Ye){tn.setClockSkew(Ye[Lt]);var xe=Ye[kn]||Ye["kill-duration-seconds"];(0,Te.tO)($t.setKillSwitchTenants(Ye[Qn],xe),function(Et){(0,Te.tO)(tt.batches,function(Ut){if(Ut.iKey()===Et){Dt=Dt||[];var pn=Ut.split(0);tt.numEvents-=pn.count(),Dt.push(pn)}})})}if(ve==200||ve==204){gt=200;return}(!rt(ve)||tt.numEvents<=0)&&(ke=!1),gt=9e3+ve%1e3}if(ke){gt=100;var at=tt.retryCnt;tt.sendType===0&&(at<Ze?(Bt=!0,Kr(function(){tt.sendType===0&&Hn--,zr(tt.batches,at+1,tt.isTeardown,yt?2:tt.sendType,5)},yt,ht(at))):(ge=!0,yt&&(gt=8001)))}}finally{Bt||(tn.setClockSkew(),Fr(tt,gt,nt,ge)),er(Dt,8004,tt.sendType)}}a(ii,"_retryRequestIfNeeded");function Fr(ve,Ye,tt,nt){try{nt&&Nn._backOffTransmission(),Ye===200&&(!nt&&!ve.isSync&&Nn._clearBackOff(),Ur(ve.batches)),er(ve.batches,Ye,ve.sendType,!0)}finally{ve.sendType===0&&(Hn--,tt!==5&&bt.sendQueuedRequests(ve.sendType,tt))}}a(Fr,"_handleRequestFinished");function Ur(ve){if(we){var Ye=(0,be.hK)();(0,Te.tO)(ve,function(tt){tt&&tt.count()>0&&ri(tt.events(),Ye)})}}a(Ur,"_addCompleteTimings");function Kr(ve,Ye,tt){Ye?ve():xt.set(ve,tt)}a(Kr,"_doAction");function fi(ve){var Ye={};if((0,Te.HD)(ve)){var tt=(0,Te.nd)(ve).split(/[\r\n]+/);(0,Te.tO)(tt,function(nt){if(nt){var gt=nt.indexOf(": ");if(gt!==-1){var Dt=(0,Te.nd)(nt.substring(0,gt)).toLowerCase(),Bt=(0,Te.nd)(nt.substring(gt+1));Ye[Dt]=Bt}else Ye[(0,Te.nd)(nt)]=1}})}return Ye}a(fi,"_convertAllHeadersToMap");function Xr(ve){for(var Ye=0;Ye<ve.batches.length;Ye++){var tt=ve.batches[Ye].Msfpc();if(tt)return encodeURIComponent(tt)}return Je}a(Xr,"_getMsfpc");function $r(ve){var Ye=bt._responseHandlers;try{for(var tt=0;tt<Ye.length;tt++)try{Ye[tt](ve)}catch(gt){(0,De.kP)(Wn,1,519,"Response handler failed: "+gt)}if(ve){var nt=JSON.parse(ve);(0,be.Sn)(nt.webResult)&&(0,be.Sn)(nt.webResult[ir])&&et.set("MSFPC",nt.webResult[ir],365*86400)}}catch(gt){}}a($r,"_handleCollectorResponse");function er(ve,Ye,tt,nt){if(ve&&ve.length>0&&_t){var gt=_t[jr(Ye)];if(gt){var Dt=tt!==0;(0,G.Lm)(kt,function(){return"HttpManager:_sendBatchesNotification"},function(){Kr(function(){try{gt.call(_t,ve,Ye,Dt,tt)}catch(Bt){(0,De.kP)(Wn,1,74,"send request notification failed: "+Bt)}},nt||Dt,0)},function(){return{batches:Jr(ve),reason:Ye,isSync:Dt,sendSync:nt,sendType:tt}},!Dt)}}}a(er,"_sendBatchesNotification");function jr(ve){var Ye=Pr[ve];return(0,be.Sn)(Ye)||(Ye=ln,ve>=9e3&&ve<=9999?Ye=wn:ve>=8e3&&ve<=8999?Ye=Q:ve>=1e3&&ve<=1999&&(Ye=Ke)),Ye}a(jr,"_getNotificationAction")})}return a(Pe,"HttpManager"),Pe.__ieDyn=1,Pe}();function Sr(Pe,Qe){for(var st=[],Ze=2;Ze<arguments.length;Ze++)st[Ze-2]=arguments[Ze];return setTimeout(Pe,Qe,st)}a(Sr,"defaultSetTimeout");function kr(Pe){clearTimeout(Pe)}a(kr,"defaultClearTimeout");function ui(Pe,Qe){return{set:Pe||Sr,clear:Qe||kr}}a(ui,"createTimeoutWrapper");var li=.25,pi=500,Ni=20,Ti=6,qe=2,bi=4,mi=2,vr=1,Tr="eventsDiscarded",Wr="overrideInstrumentationKey",xr="maxEventRetryAttempts",Ai="maxUnloadEventRetryAttempts",ni="addUnloadCb",Vr=function(Pe){(0,w.ne)(Qe,Pe);function Qe(){var st=Pe.call(this)||this;st.identifier="PostChannel",st.priority=1011,st.version="3.2.10";var Ze,_t=!1,xt=[],lt=null,$t=!1,Ot=0,tn=500,hn=0,Hn=1e4,Nn={},Wn=Ae,Dn=null,kt=null,Ft=0,qt=0,en,N,re={},we,et,yt=-1,Ct,Zt=!0,Vt=!1,Wt=Ti,Xt=qe,nn,bt;return U(Qe,st,function(ct,En){Br(),ct._getDbgPlgTargets=function(){return[N]},ct.initialize=function(ge,ke,xe){(0,G.Lm)(ke,function(){return"PostChannel:initialize"},function(){var at=ke;En.initialize(ge,ke,xe);try{var Et=!!ke[ni];nn=(0,q.jU)((0,fe.J)(ct.identifier),ke.evtNamespace&&ke.evtNamespace());var Ut=ct._getTelCtx();ge.extensionConfig[ct.identifier]=ge.extensionConfig[ct.identifier]||{},Ze=Ut.getExtCfg(ct.identifier),bt=ui(Ze.setTimeoutOverride,Ze.clearTimeoutOverride),Zt=!Ze.disableOptimizeObj&&(0,be.mJ)(),vn(at),Ze.eventsLimitInMem>0&&(Hn=Ze.eventsLimitInMem),Ze.immediateEventLimit>0&&(tn=Ze.immediateEventLimit),Ze.autoFlushEventsLimit>0&&(we=Ze.autoFlushEventsLimit),(0,Te.hj)(Ze[xr])&&(Wt=Ze[xr]),(0,Te.hj)(Ze[Ai])&&(Xt=Ze[Ai]),Bt(),Ze.httpXHROverride&&Ze.httpXHROverride.sendPOST&&(en=Ze.httpXHROverride),(0,be.Sn)(ge.anonCookieName)&&N.addQueryStringParameter("anoncknm",ge.anonCookieName),N.sendHook=Ze.payloadPreprocessor,N.sendListener=Ze.payloadListener;var pn=Ze.overrideEndpointUrl?Ze.overrideEndpointUrl:ge.endpointUrl;ct._notificationManager=ke.getNotifyMgr(),N.initialize(pn,ct.core,ct,en,Ze);var dn=ge.disablePageUnloadEvents||[];(0,q.c9)(Tn,dn,nn),(0,q.TJ)(Tn,dn,nn),(0,q.nD)(xn,ge.disablePageShowEvents,nn)}catch(An){throw ct.setInitialized(!1),An}},function(){return{coreConfig:ge,core:ke,extensions:xe}})},ct.processTelemetry=function(ge,ke){(0,be.if)(ge,ct.identifier),ke=ct._getTelCtx(ke);var xe=ke.getExtCfg(ct.identifier),at=!!Ze.disableTelemetry;xe&&(at=at||!!xe.disableTelemetry);var Et=ge;!at&&!_t&&(Ze[Wr]&&(Et.iKey=Ze[Wr]),xe&&xe[Wr]&&(Et.iKey=xe[Wr]),Mt(Et,!0),Vt?Jr(2,2):gn()),ct.processNext(Et,ke)},ct._doTeardown=function(ge,ke){Jr(2,2),_t=!0,N.teardown(),(0,q.JA)(null,nn),(0,q.C9)(null,nn),(0,q.Yl)(null,nn),Br()};function vn(ge){var ke=ge.getWParam;ge.getWParam=function(){var xe=0;return Ze.ignoreMc1Ms0CookieProcessing&&(xe=xe|2),xe|ke()}}a(vn,"_hookWParam");function Tn(ge){var ke=ge||(0,oe.Jj)().event;ke.type!=="beforeunload"&&(Vt=!0,N.setUnloading(Vt)),Jr(2,2)}a(Tn,"_handleUnloadEvents");function xn(ge){Vt=!1,N.setUnloading(Vt)}a(xn,"_handleShowEvents");function Mt(ge,ke){if(ge.sendAttempt||(ge.sendAttempt=0),ge.latency||(ge.latency=1),ge.ext&&ge.ext[Ir]&&delete ge.ext[Ir],ge.ext&&ge.ext[Dr]&&ge.ext[Dr].id&&delete ge.ext[Dr].id,Zt&&(be.if,ge.ext=(0,Te.Ax)(ge.ext),ge.baseData&&(ge.baseData=(0,Te.Ax)(ge.baseData)),ge.data&&(ge.data=(0,Te.Ax)(ge.data))),ge.sync){if(Ft||$t)ge.latency=3,ge.sync=!1;else if(N){Zt&&(ge=(0,Te.Ax)(ge)),N.sendSynchronousBatch(dr.create(ge.iKey,[ge]),ge.sync===!0?1:ge.sync,3);return}}var xe=ge.latency,at=hn,Et=Hn;xe===4&&(at=Ot,Et=tn);var Ut=!1;if(at<Et)Ut=!gr(ge,ke);else{var pn=1,dn=Ni;xe===4&&(pn=4,dn=1),Ut=!0,ri(ge.iKey,ge.latency,pn,dn)&&(Ut=!gr(ge,ke))}Ut&&jr(Tr,[ge],ye.h.QueueFull)}a(Mt,"_addEventToQueues"),ct.setEventQueueLimits=function(ge,ke){Hn=ge>0?ge:1e4,we=ke>0?ke:0,Bt();var xe=hn>ge;if(!xe&&et>0)for(var at=1;!xe&&at<=3;at++){var Et=re[at];Et&&Et.batches&&(0,Te.tO)(Et.batches,function(Ut){Ut&&Ut.count()>=et&&(xe=!0)})}Lr(!0,xe)},ct.pause=function(){br(),$t=!0,N.pause()},ct.resume=function(){$t=!1,N.resume(),gn()},ct.addResponseHandler=function(ge){N._responseHandlers.push(ge)},ct._loadTransmitProfiles=function(ge){fi(),(0,Te.rW)(ge,function(ke,xe){var at=xe.length;if(at>=2){var Et=at>2?xe[2]:0;if(xe.splice(0,at-2),xe[1]<0&&(xe[0]=-1),xe[1]>0&&xe[0]>0){var Ut=xe[0]/xe[1];xe[0]=Math.ceil(Ut)*xe[1]}Et>=0&&xe[1]>=0&&Et>xe[1]&&(Et=xe[1]),xe.push(Et),Nn[ke]=xe}})},ct.flush=function(ge,ke,xe){if(ge===void 0&&(ge=!0),!$t)if(xe=xe||1,ge)lt==null?(br(),Fr(1,0,xe),lt=Nr(function(){lt=null,Ur(ke,xe)},0)):xt.push(ke);else{var at=br();Or(1,1,xe),ke!=null&&ke(),at&&gn()}},ct.setMsaAuthTicket=function(ge){N.addHeader(Xn,ge)},ct.hasEvents=lr,ct._setTransmitProfile=function(ge){Wn!==ge&&Nn[ge]!==void 0&&(br(),Wn=ge,gn())};function Or(ge,ke,xe){var at=Fr(ge,ke,xe);return N.sendQueuedRequests(ke,xe),at}a(Or,"_sendEventsForLatencyAndAbove");function lr(){return hn>0}a(lr,"_hasEvents");function gn(){if(yt>=0&&Fr(yt,0,Ct)&&N.sendQueuedRequests(0,Ct),Ot>0&&!kt&&!$t){var ge=Nn[Wn][2];ge>=0&&(kt=Nr(function(){kt=null,Or(4,0,1),gn()},ge))}var ke=Nn[Wn][1];!Dn&&!lt&&ke>=0&&!$t&&(lr()?Dn=Nr(function(){Dn=null,Or(qt===0?3:1,0,1),qt++,qt%=2,gn()},ke):qt=0)}a(gn,"_scheduleTimer"),ct._backOffTransmission=function(){Ft<bi&&(Ft++,br(),gn())},ct._clearBackOff=function(){Ft&&(Ft=0,br(),gn())};function Br(){Ze=null,_t=!1,xt=[],lt=null,$t=!1,Ot=0,tn=500,hn=0,Hn=1e4,Nn={},Wn=Ae,Dn=null,kt=null,Ft=0,qt=0,en=null,re={},we=void 0,et=0,yt=-1,Ct=null,Zt=!0,Vt=!1,Wt=Ti,Xt=qe,nn=null,bt=ui(),N=new Vn(pi,mi,vr,{requeue:$r,send:Ye,sent:tt,drop:nt,rspFail:gt,oth:Dt},bt),Xr(),zr(),Bt()}a(Br,"_initDefaults");function Nr(ge,ke){ke===0&&Ft&&(ke=1);var xe=1e3;return Ft&&(xe=ht(Ft-1)),bt.set(ge,ke*xe)}a(Nr,"_createTimer");function br(){return Dn!==null?(bt.clear(Dn),Dn=null,qt=0,!0):!1}a(br,"_clearScheduledTimer");function Jr(ge,ke){br(),lt&&(bt.clear(lt),lt=null),$t||Or(1,ge,ke)}a(Jr,"_releaseAllQueues");function zr(){re[4]={batches:[],iKeyMap:{}},re[3]={batches:[],iKeyMap:{}},re[2]={batches:[],iKeyMap:{}},re[1]={batches:[],iKeyMap:{}}}a(zr,"_clearQueues");function Qr(ge,ke,xe){var at=re[ke];at||(ke=1,at=re[ke]);var Et=at.iKeyMap[ge];return!Et&&xe&&(Et=dr.create(ge),at.batches.push(Et),at.iKeyMap[ge]=Et),Et}a(Qr,"_getEventBatch");function Lr(ge,ke){N.canSendRequest()&&!Ft&&(we>0&&hn>we&&(ke=!0),ke&&lt==null&&ct.flush(ge,null,20))}a(Lr,"_performAutoFlush");function gr(ge,ke){Zt&&(ge=(0,Te.Ax)(ge));var xe=ge.latency,at=Qr(ge.iKey,xe,!0);return at.addEvent(ge)?(xe!==4?(hn++,ke&&ge.sendAttempt===0&&Lr(!ge.sync,et>0&&at.count()>=et)):Ot++,!0):!1}a(gr,"_addEventToProperQueue");function ri(ge,ke,xe,at){for(;xe<=ke;){var Et=Qr(ge,ke,!0);if(Et&&Et.count()>0){var Ut=Et.split(0,at),pn=Ut.count();if(pn>0)return xe===4?Ot-=pn:hn-=pn,ve(Tr,[Ut],ye.h.QueueFull),!0}xe++}return ii(),!1}a(ri,"_dropEventWithLatencyOrLess");function ii(){for(var ge=0,ke=0,xe=a(function(Et){var Ut=re[Et];Ut&&Ut.batches&&(0,Te.tO)(Ut.batches,function(pn){Et===4?ge+=pn.count():ke+=pn.count()})},"_loop_1"),at=1;at<=4;at++)xe(at);hn=ke,Ot=ge}a(ii,"_resetQueueCounts");function Fr(ge,ke,xe){var at=!1,Et=ke===0;return!Et||N.canSendRequest()?(0,G.Lm)(ct.core,function(){return"PostChannel._queueBatches"},function(){for(var Ut=[],pn=4;pn>=ge;){var dn=re[pn];dn&&dn.batches&&dn.batches.length>0&&((0,Te.tO)(dn.batches,function(An){N.addBatch(An)?at=at||An&&An.count()>0:Ut=Ut.concat(An.events()),pn===4?Ot-=An.count():hn-=An.count()}),dn.batches=[],dn.iKeyMap={}),pn--}Ut.length>0&&jr(Tr,Ut,ye.h.KillSwitch),at&&yt>=ge&&(yt=-1,Ct=0)},function(){return{latency:ge,sendType:ke,sendReason:xe}},!Et):(yt=yt>=0?Math.min(yt,ge):ge,Ct=Math.max(Ct,xe)),at}a(Fr,"_queueBatches");function Ur(ge,ke){Or(1,0,ke),ii(),Kr(function(){ge&&ge(),xt.length>0?lt=Nr(function(){lt=null,Ur(xt.shift(),ke)},0):(lt=null,gn())})}a(Ur,"_flushImpl");function Kr(ge){N.isCompletelyIdle()?ge():lt=Nr(function(){lt=null,Kr(ge)},li)}a(Kr,"_waitForIdleManager");function fi(){br(),Xr(),Wn=Ae,gn()}a(fi,"_resetTransmitProfiles");function Xr(){Nn={},Nn[Ae]=[2,1,0],Nn[Ie]=[6,3,0],Nn[ze]=[18,9,0]}a(Xr,"_initializeProfiles");function $r(ge,ke){var xe=[],at=Wt;Vt&&(at=Xt),(0,Te.tO)(ge,function(Et){Et&&Et.count()>0&&(0,Te.tO)(Et.events(),function(Ut){Ut&&(Ut.sync&&(Ut.latency=4,Ut.sync=!1),Ut.sendAttempt<at?((0,be.if)(Ut,ct.identifier),Mt(Ut,!1)):xe.push(Ut))})}),xe.length>0&&jr(Tr,xe,ye.h.NonRetryableStatus),Vt&&Jr(2,2)}a($r,"_requeueEvents");function er(ge,ke){var xe=ct._notificationManager||{},at=xe[ge];if(at)try{at.apply(xe,ke)}catch(Et){(0,De.kP)(ct.diagLog(),1,74,ge+" notification failed: "+Et)}}a(er,"_callNotification");function jr(ge,ke){for(var xe=[],at=2;at<arguments.length;at++)xe[at-2]=arguments[at];ke&&ke.length>0&&er(ge,[ke].concat(xe))}a(jr,"_notifyEvents");function ve(ge,ke){for(var xe=[],at=2;at<arguments.length;at++)xe[at-2]=arguments[at];ke&&ke.length>0&&(0,Te.tO)(ke,function(Et){Et&&Et.count()>0&&er(ge,[Et.events()].concat(xe))})}a(ve,"_notifyBatchEvents");function Ye(ge,ke,xe){ge&&ge.length>0&&er("eventsSendRequest",[ke>=1e3&&ke<=1999?ke-1e3:0,xe!==!0])}a(Ye,"_sendingEvent");function tt(ge,ke){ve("eventsSent",ge,ke),gn()}a(tt,"_eventsSentEvent");function nt(ge,ke){ve(Tr,ge,ke>=8e3&&ke<=8999?ke-8e3:ye.h.Unknown)}a(nt,"_eventsDropped");function gt(ge){ve(Tr,ge,ye.h.NonRetryableStatus),gn()}a(gt,"_eventsResponseFail");function Dt(ge,ke){ve(Tr,ge,ye.h.Unknown),gn()}a(Dt,"_otherEvent");function Bt(){!Ze||!Ze.disableAutoBatchFlushLimit?et=Math.max(pi*(mi+1),Hn/6):et=0}a(Bt,"_setAutoLimits"),(0,Te.l_)(ct,"_setTimeoutOverride",function(){return bt.set},function(ge){bt=ui(ge,bt.clear)}),(0,Te.l_)(ct,"_clearTimeoutOverride",function(){return bt.clear},function(ge){bt=ui(bt.set,ge)})}),st}return a(Qe,"PostChannel"),Qe.__ieDyn=1,Qe}(Be.i);const Li=Vr},4873:(Ve,h,y)=>{"use strict";y.d(h,{By:()=>d,cc:()=>p});var w=y(6708);function d(k){var x={};return(0,w.rW)(k,function(v,m){x[v]=m,x[m]=v}),(0,w._A)(x)}a(d,"createEnumStyle");function A(k){var x={};return objForEachKey(k,function(v,m){x[v]=v,x[m]=v}),deepFreeze(x)}a(A,"createEnumMap");function p(k){var x={};return(0,w.rW)(k,function(v,m){x[v]=m[1],x[m[0]]=m[1]}),(0,w._A)(x)}a(p,"createValueMap")},5928:(Ve,h,y)=>{"use strict";y.d(h,{h:()=>d});var w=y(4873),d=(0,w.By)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})},7310:(Ve,h,y)=>{"use strict";y.d(h,{X:()=>F,v:()=>R});var w=y(4873),d,A="Failed",p=A+"MonitorAjax",k="Track",x="Start",v="Stop",m="Event",B="AuthContext",$="Exception",P="Local",j="Session",L="Storage",X="Browser",z="Cannot",ue="Buffer",b="InstrumentationKey",F=(0,w.By)({CRITICAL:1,WARNING:2}),R=(0,w.By)((d={},d[X+"DoesNotSupport"+P+L]=0,d[X+z+"Read"+P+L]=1,d[X+z+"Read"+j+L]=2,d[X+z+"Write"+P+L]=3,d[X+z+"Write"+j+L]=4,d[X+A+"RemovalFrom"+P+L]=5,d[X+A+"RemovalFrom"+j+L]=6,d[z+"SendEmptyTelemetry"]=7,d.ClientPerformanceMathError=8,d["ErrorParsingAI"+j+"Cookie"]=9,d.ErrorPVCalc=10,d[$+"WhileLoggingError"]=11,d[A+"AddingTelemetryTo"+ue]=12,d[p+"Abort"]=13,d[p+"Dur"]=14,d[p+"Open"]=15,d[p+"RSC"]=16,d[p+"Send"]=17,d[p+"GetCorrelationHeader"]=18,d[A+"ToAddHandlerForOnBeforeUnload"]=19,d[A+"ToSendQueuedTelemetry"]=20,d[A+"ToReportDataLoss"]=21,d["Flush"+A]=22,d.MessageLimitPerPVExceeded=23,d.MissingRequiredFieldSpecification=24,d.NavigationTimingNotSupported=25,d.OnError=26,d[j+"RenewalDateIsZero"]=27,d.SenderNotInitialized=28,d[x+k+m+A]=29,d[v+k+m+A]=30,d[x+k+A]=31,d[v+k+A]=32,d.TelemetrySampledAndNotSent=33,d[k+m+A]=34,d[k+$+A]=35,d[k+"Metric"+A]=36,d[k+"PV"+A]=37,d[k+"PV"+A+"Calc"]=38,d[k+"Trace"+A]=39,d["Transmission"+A]=40,d[A+"ToSet"+L+ue]=41,d[A+"ToRestore"+L+ue]=42,d.InvalidBackendResponse=43,d[A+"ToFixDepricatedValues"]=44,d.InvalidDurationValue=45,d.TelemetryEnvelopeInvalid=46,d.CreateEnvelopeError=47,d[z+"SerializeObject"]=48,d[z+"SerializeObjectNonSerializable"]=49,d.CircularReferenceDetected=50,d["Clear"+B+A]=51,d[$+"Truncated"]=52,d.IllegalCharsInName=53,d.ItemNotInArray=54,d.MaxAjaxPerPVExceeded=55,d.MessageTruncated=56,d.NameTooLong=57,d.SampleRateOutOfRange=58,d["Set"+B+A]=59,d["Set"+B+A+"AccountName"]=60,d.StringValueTooLong=61,d.StartCalledMoreThanOnce=62,d.StopCalledWithoutStart=63,d["TelemetryInitializer"+A]=64,d.TrackArgumentsNotSpecified=65,d.UrlTooLong=66,d[j+L+ue+"Full"]=67,d[z+"AccessCookie"]=68,d.IdTooLong=69,d.InvalidEvent=70,d[p+"SetRequestHeader"]=71,d["Send"+X+"InfoOnUserInit"]=72,d["Plugin"+$]=73,d["Notification"+$]=74,d.SnippetScriptLoadFailure=99,d["Invalid"+b]=100,d[z+"ParseAiBlobValue"]=101,d.InvalidContentBlob=102,d[k+"PageAction"+m+A]=103,d[A+"AddingCustomDefinedRequestContext"]=104,d["InMemory"+L+ue+"Full"]=105,d[b+"Deprecation"]=106,d))},5121:(Ve,h,y)=>{"use strict";y.d(h,{F:()=>$});var w=y(1088),d=y(1679),A=y(8096),p=y(6900),k=y(5018),x=y(6708),v=y(6041),m=y(1880),B=y(9288),$=function(P){(0,w.ne)(j,P);function j(){var L=P.call(this)||this;return(0,d.Z)(j,L,function(X,z){X[A.VL]=function(F,R,g,T){z[A.VL](F,R,g||new k.AQ(F),T||new m.f(F))},X.track=function(F){(0,B.Lm)(X[v.kl](),function(){return"AppInsightsCore:track"},function(){F===null&&(b(F),(0,x._y)("Invalid telemetry item")),ue(F),z.track(F)},function(){return{item:F}},!F.sync)};function ue(F){(0,x.le)(F[A.I])&&(b(F),(0,x._y)("telemetry name required"))}a(ue,"_validateTelemetryItem");function b(F){var R=X[A.tb]();R&&R[v.$F]([F],2)}a(b,"_notifyInvalidEvent")}),L}return a(j,"AppInsightsCore"),j.__ieDyn=1,j}(p.A)},6900:(Ve,h,y)=>{"use strict";y.d(h,{A:()=>de});var w=y(1088),d=y(1679),A=y(2091),p=y(8096),k=y(6708),x=y(6041),v=y(1589),m=y(3833),B=500,$="Channel has invalid priority - ";function P(ae,W,te){W&&(0,k.kJ)(W)&&W[p.R5]>0&&(W=W.sort(function(me,Oe){return me[x.yi]-Oe[x.yi]}),(0,k.tO)(W,function(me){me[x.yi]<B&&(0,k._y)($+me[p.pZ])}),ae[p.MW]({queue:(0,k.FL)(W),chain:(0,v.jV)(W,te[p.TC],te)}))}a(P,"_addChannelQueue");function j(ae,W){function te(){return(0,v.CD)(null,W[p.TC],W,null)}a(te,"_getTelCtx");function me(U,G,q,fe){var be=U?U[p.R5]+1:1;function Te(){be--,be===0&&(fe&&fe(),fe=null)}a(Te,"_runChainOnComplete"),be>0&&(0,k.tO)(U,function(oe){if(oe&&oe.queue[p.R5]>0){var ye=oe.chain,De=G[p.zV](ye);De[p.Fc](Te),q(De)}else be--}),Te()}a(me,"_processChannelQueue");function Oe(U,G){var q=G||{reason:0};return me(ae,U,function(fe){fe[p.uL](q)},function(){U[p.uL](q)}),!0}a(Oe,"_doUpdate");function ee(U,G){var q=G||{reason:0,isAsync:!1};return me(ae,U,function(fe){fe[p.uL](q)},function(){U[p.uL](q),He=!1}),!0}a(ee,"_doTeardown");function Me(U){var G=null;return ae&&ae[p.R5]>0&&(0,k.tO)(ae,function(q){if(q&&q.queue[p.R5]>0&&((0,k.tO)(q.queue,function(fe){if(fe[p.pZ]===U)return G=fe,-1}),G))return-1}),G}a(Me,"_getChannel");var He=!1,Xe={identifier:"ChannelControllerPlugin",priority:B,initialize:function(U,G,q,fe){He=!0,(0,k.tO)(ae,function(be){be&&be.queue[p.R5]>0&&(0,m.bP)((0,v.CD)(be.chain,U,G),q)})},isInitialized:function(){return He},processTelemetry:function(U,G){me(ae,G||te(),function(q){q[p.uL](U)},function(){G[p.uL](U)})},update:Oe,pause:function(){me(ae,te(),function(U){U.iterate(function(G){G.pause&&G.pause()})},null)},resume:function(){me(ae,te(),function(U){U.iterate(function(G){G.resume&&G.resume()})},null)},teardown:ee,getChannel:Me,flush:function(U,G,q,fe){var be=1,Te=!1,oe=null;fe=fe||5e3;function ye(){be--,Te&&be===0&&(oe&&(clearTimeout(oe),oe=null),G&&G(Te),G=null)}return a(ye,"doCallback"),me(ae,te(),function(De){De.iterate(function(Be){if(Be[p.kL]){be++;var Ae=!1;Be[p.kL](U,function(){Ae=!0,ye()},q)||Ae||(U&&oe==null?oe=setTimeout(function(){oe=null,ye()},fe):ye())}})},function(){Te=!0,ye()}),!0},_setQueue:function(U){ae=U}};return Xe}a(j,"createChannelControllerPlugin");function L(ae,W,te){var me=[];if(ae&&(0,k.tO)(ae,function(ee){return P(me,ee,te)}),W){var Oe=[];(0,k.tO)(W,function(ee){ee[x.yi]>B&&Oe[p.MW](ee)}),P(me,Oe,te)}return me}a(L,"createChannelQueues");var X=y(3242),z=y(5883),ue=y(7158),b=y(5018),F=y(9288),R=y(4063),g=y(7630),T=function(ae){(0,w.ne)(W,ae);function W(){var te=ae.call(this)||this;te.identifier="TelemetryInitializerPlugin",te.priority=199;var me,Oe;ee(),(0,d.Z)(W,te,function(Me,He){Me.addTelemetryInitializer=function(Xe){var U={id:me++,fn:Xe};Oe[p.MW](U);var G={remove:function(){(0,k.tO)(Oe,function(q,fe){if(q.id===U.id)return Oe[p.cb](fe,1),-1})}};return G},Me[x.hL]=function(Xe,U){for(var G=!1,q=Oe[p.R5],fe=0;fe<q;++fe){var be=Oe[fe];if(be)try{if(be.fn[p.ZV](null,[Xe])===!1){G=!0;break}}catch(Te){(0,b.kP)(U[p.mc](),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,k.jj)(Te),{exception:(0,g.eU)(Te)},!0)}}G||Me[p.uL](Xe,U)},Me[p.F3]=function(){ee()}});function ee(){me=0,Oe=[]}return a(ee,"_initDefaults"),te}return a(W,"TelemetryInitializerPlugin"),W.__ieDyn=1,W}(R.i),D=y(310),J="Plugins must provide initialize method",Y="_notificationManager",V="SDK is still unloading...",ie="SDK is not initialized",he={loggingLevelConsole:1};function Z(ae,W){return new F.Jk(W)}a(Z,"_createPerfManager");function le(ae,W,te){var me,Oe=[],ee={};return(0,k.tO)(te,function(Me){((0,k.le)(Me)||(0,k.le)(Me[p.VL]))&&(0,k._y)(J);var He=Me[x.yi],Xe=Me[p.pZ];Me&&He&&((0,k.le)(ee[He])?ee[He]=Xe:(0,b.jV)(ae,"Two extensions have same priority #"+He+" - "+ee[He]+", "+Xe)),(!He||He<W)&&Oe[p.MW](Me)}),me={all:te},me[x.oV]=Oe,me}a(le,"_validateExtensions");function O(ae,W){var te=!1;return(0,k.tO)(W,function(me){if(me===ae)return te=!0,-1}),te}a(O,"_isPluginPresent");function Ue(){var ae;return(0,A.pu)((ae={},ae[p.g]=function(W){},ae[p.n7]=function(W){},ae[x.uC]=function(W){},ae[x.$F]=function(W,te){},ae[x.f_]=function(W,te){},ae))}a(Ue,"_createDummyNotificationManager");var de=function(){function ae(){var W,te,me,Oe,ee,Me,He,Xe,U,G,q,fe,be,Te,oe,ye,De,Be,Ae,Ie,ze=0;(0,d.Z)(ae,this,function(Je){Ee(),Je[p.yl]=function(){return te},Je[p.VL]=function(it,Lt,Ht,jt){Te&&(0,k._y)(V),Je[p.yl]()&&(0,k._y)("Core should not be initialized more than once"),W=it||{},Je[p.TC]=W,(0,k.le)(it[p.p$])&&(0,k._y)("Please provide instrumentation key"),Oe=jt,Je[Y]=jt,or(),jn(),nr(),Ht&&(Je[p.eZ]=Ht);var Yt=(0,k.qK)(W,x.js,[]);U=[],U[p.MW].apply(U,(0,w.$h)((0,w.$h)([],Lt,!1),Yt,!1)),fe=(0,k.qK)(W,x.Z,[]),Q(null),(!be||be[p.R5]===0)&&(0,k._y)("No "+x.Z+" available"),te=!0,Je.releaseQueue()},Je.getTransmissionControls=function(){var it=[];return be&&(0,k.tO)(be,function(Lt){it[p.MW](Lt.queue)}),(0,k.FL)(it)},Je.track=function(it){it.iKey=it.iKey||W[p.p$],it[p.Z_]=it[p.Z_]||(0,k.Y6)(new Date),it.ver=it.ver||"4.0",!Te&&Je[p.yl]()?K()[p.uL](it):me[p.MW](it)},Je[p.SD]=K,Je[p.tb]=function(){return Oe||(Oe=Ue(),Je[Y]=Oe),Oe},Je[p.g]=function(it){Oe&&Oe[p.g](it)},Je[p.n7]=function(it){Oe&&Oe[p.n7](it)},Je.getCookieMgr=function(){return He||(He=(0,X.Nz)(W,Je[p.eZ])),He},Je.setCookieMgr=function(it){He=it},Je[x.kl]=function(){if(!ee&&!Me&&(0,k.v4)(W.enablePerfMgr)){var it=(0,k.v4)(W[x.DN]);(0,k.mf)(it)&&(Me=it(Je,Je[p.tb]()))}return ee||Me||(0,F.j5)()},Je.setPerfMgr=function(it){ee=it},Je.eventCnt=function(){return me[p.R5]},Je.releaseQueue=function(){if(te&&me[p.R5]>0){var it=me;me=[],(0,k.tO)(it,function(Lt){K()[p.uL](Lt)})}},Je.pollInternalLogs=function(it){ye=it||null;var Lt=(0,k.v4)(W.diagnosticLogInterval);return(!Lt||!(Lt>0))&&(Lt=1e4),ze&&clearInterval(ze),ze=setInterval(function(){ln()},Lt),ze},Je[p.LS]=function(){ze&&(clearInterval(ze),ze=0,ln())},(0,k.Vb)(Je,function(){return oe},["addTelemetryInitializer"]),Je.unload=function(it,Lt,Ht){var jt;it===void 0&&(it=!0),te||(0,k._y)(ie),Te&&(0,k._y)(V);var Yt=(jt={reason:50},jt[p.d]=it,jt.flushComplete=!1,jt),cn=(0,v.Bt)(At(),Je);cn[p.Fc](function(){Ee(),Lt&&Lt(Yt)},Je);function Pn(Xn){Yt.flushComplete=Xn,Te=!0,Be.run(cn,Yt),Je[p.LS](),cn[p.uL](Yt)}a(Pn,"_doUnload"),sn(it,Pn,6,Ht)||Pn(!1)},Je[p.TO]=Ke,Je.addPlugin=function(it,Lt,Ht,jt){if(!it){jt&&jt(!1),kn(J);return}var Yt=Ke(it[p.pZ]);if(Yt&&!Lt){jt&&jt(!1),kn("Plugin ["+it[p.pZ]+"] is already loaded!");return}var cn={reason:16};function Pn(rr){U[p.MW](it),cn.added=[it],Q(cn),jt&&jt(!0)}if(a(Pn,"_addPlugin"),Yt){var Xn=[Yt.plugin],ur={reason:2,isAsync:!!Ht};wn(Xn,ur,function(rr){rr?(cn.removed=Xn,cn.reason|=32,Pn(!0)):jt&&jt(!1)})}else Pn(!1)},Je.evtNamespace=function(){return De},Je[p.kL]=sn,Je.getTraceCtx=function(it){return Ie||(Ie=(0,m.Yn)()),Ie},Je.setTraceCtx=function(it){Ie=it||null},(0,k.Oi)(Je,"addUnloadCb",function(){return Be},"add");function Ee(){te=!1,W=(0,k.mm)(!0,{},he),Je[p.TC]=W,Je[p.eZ]=new b.AQ(W),Je[p.iC]=[],oe=new T,me=[],Oe=null,ee=null,Me=null,He=null,Xe=null,G=null,U=[],q=null,fe=null,be=null,Te=!1,ye=null,De=(0,z.J)("AIBaseCore",!0),Be=(0,D.Y)(),Ie=null}a(Ee,"_initDefaults");function K(){return(0,v.CD)(At(),W,Je)}a(K,"_createTelCtx");function Q(it){var Lt=le(Je[p.eZ],B,U);G=Lt[x.oV],Xe=null;var Ht=Lt.all;if(be=(0,k.FL)(L(fe,Ht,Je)),q){var jt=(0,k.UA)(Ht,q);jt!==-1&&Ht[p.cb](jt,1),jt=(0,k.UA)(G,q),jt!==-1&&G[p.cb](jt,1),q._setQueue(be)}else q=j(be,Je);Ht[p.MW](q),G[p.MW](q),Je[p.iC]=(0,m.AA)(Ht),q[p.VL](W,Je,Ht),(0,m.bP)(K(),Ht),Je[p.iC]=(0,k.FL)((0,m.AA)(G||[])).slice(),it&&Qn(it)}a(Q,"_initPluginChain");function Ke(it){var Lt,Ht=null,jt=null;return(0,k.tO)(Je[p.iC],function(Yt){if(Yt[p.pZ]===it&&Yt!==q&&Yt!==oe)return jt=Yt,-1}),!jt&&q&&(jt=q.getChannel(it)),jt&&(Ht=(Lt={plugin:jt},Lt[p.$h]=function(Yt){(0,m.OY)(jt)[x.mE]=!Yt},Lt.isEnabled=function(){var Yt=(0,m.OY)(jt);return!Yt[p.fi]&&!Yt[x.mE]},Lt.remove=function(Yt,cn){var Pn;Yt===void 0&&(Yt=!0);var Xn=[jt],ur=(Pn={reason:1},Pn[p.d]=Yt,Pn);wn(Xn,ur,function(rr){rr&&Q({reason:32,removed:Xn}),cn&&cn(rr)})},Lt)),Ht}a(Ke,"_getPlugin");function At(){if(!Xe){var it=(G||[]).slice();(0,k.UA)(it,oe)===-1&&it[p.MW](oe),Xe=(0,v.jV)((0,m.AA)(it),W,Je)}return Xe}a(At,"_getPluginChain");function wn(it,Lt,Ht){if(it&&it[p.R5]>0){var jt=(0,v.jV)(it,W,Je),Yt=(0,v.Bt)(jt,Je);Yt[p.Fc](function(){var cn=!1,Pn=[];(0,k.tO)(U,function(ur,rr){O(ur,it)?cn=!0:Pn[p.MW](ur)}),U=Pn;var Xn=[];fe&&((0,k.tO)(fe,function(ur,rr){var Yn=[];(0,k.tO)(ur,function(ir){O(ir,it)?cn=!0:Yn[p.MW](ir)}),Xn[p.MW](Yn)}),fe=Xn),Ht&&Ht(cn)}),Yt[p.uL](Lt)}else Ht(!1)}a(wn,"_removePlugins");function ln(){var it=Je[p.eZ]?Je[p.eZ].queue:[];it&&((0,k.tO)(it,function(Lt){var Ht,jt=(Ht={},Ht[p.I]=ye||"InternalMessageId: "+Lt[p.Gc],Ht.iKey=(0,k.v4)(W[p.p$]),Ht.time=(0,k.Y6)(new Date),Ht.baseType=b.lQ.dataType,Ht.baseData={message:Lt[p.gU]},Ht);Je.track(jt)}),it[p.R5]=0)}a(ln,"_flushInternalLogs");function sn(it,Lt,Ht,jt){return q?q[p.kL](it,Lt,Ht||6,jt):(Lt&&Lt(!1),!0)}a(sn,"_flushChannels");function or(){var it=(0,k.v4)(W.disableDbgExt);it===!0&&Ae&&(Oe[p.n7](Ae),Ae=null),Oe&&!Ae&&it!==!0&&(Ae=(0,ue.p)(W),Oe[p.g](Ae))}a(or,"_initDebugListener");function jn(){var it=(0,k.v4)(W.enablePerfMgr);!it&&Me&&(Me=null),it&&(0,k.qK)(W,x.DN,Z)}a(jn,"_initPerfManager");function nr(){var it=(0,k.qK)(W,x.Zh,{});it.NotificationManager=Oe}a(nr,"_initExtConfig");function Qn(it){var Lt=(0,v.xy)(At(),Je);(!Je._updateHook||Je._updateHook(Lt,it)!==!0)&&Lt[p.uL](it)}a(Qn,"_doUpdate");function kn(it){var Lt=Je[p.eZ];Lt?(0,b.kP)(Lt,2,73,it):(0,k._y)(it)}a(kn,"_logOrThrowError")})}return a(ae,"BaseCore"),ae.__ieDyn=1,ae}()},4063:(Ve,h,y)=>{"use strict";y.d(h,{i:()=>m});var w=y(1679),d=y(8096),A=y(6708),p=y(6041),k=y(1589),x=y(310),v="getPlugin",m=function(){function B(){var $=this,P,j,L,X,z;F(),(0,w.Z)(B,$,function(R){R[d.VL]=function(g,T,D,J){b(g,T,J),P=!0},R[d.fi]=function(g,T){var D,J=R[p.oV];if(!J||g&&J!==g[p.oV]())return;var Y,V=!1,ie=g||(0,k.Bt)(null,J,L&&L[v]?L[v]():L),he=T||(D={reason:0},D[d.d]=!1,D);function Z(){if(!V){V=!0,X.run(ie,T);var le=z;z=[],(0,A.tO)(le,function(O){O.rm()}),Y===!0&&ie[d.uL](he),F()}}return a(Z,"_unloadCallback"),!R[d.F3]||R[d.F3](ie,he,Z)!==!0?Z():Y=!0,Y},R[d.Tu]=function(g,T){var D=R[p.oV];if(!D||g&&D!==g[p.oV]())return;var J,Y=!1,V=g||(0,k.xy)(null,D,L&&L[v]?L[v]():L),ie=T||{reason:0};function he(){Y||(Y=!0,b(V.getCfg(),V.core(),V[d.W2]()))}return a(he,"_updateCallback"),!R._doUpdate||R._doUpdate(V,ie,he)!==!0?he():J=!0,J},R._addHook=function(g){g&&((0,A.kJ)(g)?z=z.concat(g):z[d.MW](g))},(0,A.Oi)(R,"_addUnloadCb",function(){return X},"add")}),$[d.mc]=function(R){return ue(R)[d.mc]()},$[d.yl]=function(){return P},$.setInitialized=function(R){P=R},$[d.Jd]=function(R){L=R},$[d.uL]=function(R,g){g?g[d.uL](R):L&&(0,A.mf)(L[p.hL])&&L[p.hL](R,null)},$._getTelCtx=ue;function ue(R){R===void 0&&(R=null);var g=R;if(!g){var T=j||(0,k.CD)(null,{},$[p.oV]);L&&L[v]?g=T[d.zV](null,L[v]):g=T[d.zV](null,L)}return g}a(ue,"_getTelCtx");function b(R,g,T){R&&(0,A.sO)(R,p.Zh,[],null,A.le),!T&&g&&(T=g[d.SD]()[d.W2]());var D=L;L&&L[v]&&(D=L[v]()),$[p.oV]=g,j=(0,k.CD)(T,R,g,D)}a(b,"_setDefaults");function F(){P=!1,$[p.oV]=null,j=null,L=null,z=[],X=(0,x.Y)()}a(F,"_initDefaults")}return a(B,"BaseTelemetryPlugin"),B.__ieDyn=1,B}()},3242:(Ve,h,y)=>{"use strict";y.d(h,{kj:()=>g,JP:()=>V,Nz:()=>ie,p7:()=>he,UY:()=>ae});var w=y(8096),d=y(5018),A=y(7630),p=y(6708),k=y(6041),x="toGMTString",v="toUTCString",m="cookie",B="expires",$="enabled",P="isCookieUseDisabled",j="disableCookiesUsage",L="_ckMgr",X=null,z=null,ue=null,b=(0,A.Me)(),F={},R={};function g(W,te){var me=ie[L]||R[L];return me||(me=ie[L]=ie(W,te),R[L]=me),me}a(g,"_gblCookieMgr");function T(W){return W?W.isEnabled():!0}a(T,"_isMgrEnabled");function D(W){var te=W[w.Lk]=W[w.Lk]||{};if((0,p.sO)(te,"domain",W.cookieDomain,p.BX,p.le),(0,p.sO)(te,"path",W.cookiePath||"/",null,p.le),(0,p.le)(te[$])){var me=void 0;(0,p.o8)(W[P])||(me=!W[P]),(0,p.o8)(W[j])||(me=!W[j]),te[$]=me}return te}a(D,"_createCookieMgrConfig");function J(W,te){return te&&W&&(0,p.kJ)(W.ignoreCookies)?W.ignoreCookies[w.ou](te)!==-1:!1}a(J,"_isIgnoredCookie");function Y(W,te){return te&&W&&(0,p.kJ)(W.blockedCookies)&&W.blockedCookies[w.ou](te)!==-1?!0:J(W,te)}a(Y,"_isBlockedCookie");function V(W,te){var me;if(W)me=W.getCookieMgr();else if(te){var Oe=te[w.Lk];Oe[L]?me=Oe[L]:me=ie(te)}return me||(me=g(te,(W||{})[w.eZ])),me}a(V,"safeGetCookieMgr");function ie(W,te){var me,Oe=D(W||R),ee=Oe.path||"/",Me=Oe.domain,He=Oe[$]!==!1,Xe=(me={isEnabled:function(){var U=He&&he(te),G=R[L];return U&&G&&Xe!==G&&(U=T(G)),U}},me[w.$h]=function(U){He=U!==!1},me.set=function(U,G,q,fe,be){var Te=!1;if(T(Xe)&&!Y(Oe,U)){var oe={},ye=(0,p.nd)(G||k.qS),De=ye[w.ou](";");if(De!==-1&&(ye=(0,p.nd)(G[w.zc](0,De)),oe=Z(G[w.zc](De+1))),(0,p.sO)(oe,"domain",fe||Me,p.fQ,p.o8),!(0,p.le)(q)){var Be=(0,A.w1)();if((0,p.o8)(oe[B])){var Ae=(0,p.m6)(),Ie=Ae+q*1e3;if(Ie>0){var ze=new Date;ze.setTime(Ie),(0,p.sO)(oe,B,le(ze,Be?x:v)||le(ze,Be?x:v)||k.qS,p.fQ)}}Be||(0,p.sO)(oe,"max-age",k.qS+q,null,p.o8)}var Je=(0,A.k$)();Je&&Je.protocol==="https:"&&((0,p.sO)(oe,"secure",null,null,p.o8),z===null&&(z=!ae(((0,A.jW)()||{})[w.qV])),z&&(0,p.sO)(oe,"SameSite","None",null,p.o8)),(0,p.sO)(oe,"path",be||ee,null,p.o8);var Ee=Oe.setCookie||de;Ee(U,O(ye,oe)),Te=!0}return Te},me.get=function(U){var G=k.qS;return T(Xe)&&!J(Oe,U)&&(G=(Oe.getCookie||Ue)(U)),G},me.del=function(U,G){var q=!1;return T(Xe)&&(q=Xe.purge(U,G)),q},me.purge=function(U,G){var q,fe=!1;if(he(te)){var be=(q={},q.path=G||"/",q[B]="Thu, 01 Jan 1970 00:00:01 GMT",q);(0,A.w1)()||(be["max-age"]="0");var Te=Oe.delCookie||de;Te(U,O(k.qS,be)),fe=!0}return fe},me);return Xe[L]=Xe,Xe}a(ie,"createCookieMgr");function he(W){if(X===null){X=!1;try{var te=b||{};X=te[m]!==void 0}catch(me){(0,d.kP)(W,2,68,"Cannot access document.cookie - "+(0,p.jj)(me),{exception:(0,A.eU)(me)})}}return X}a(he,"areCookiesSupported");function Z(W){var te={};if(W&&W[w.R5]){var me=(0,p.nd)(W)[w.w6](";");(0,p.tO)(me,function(Oe){if(Oe=(0,p.nd)(Oe||k.qS),Oe){var ee=Oe[w.ou]("=");ee===-1?te[Oe]=null:te[(0,p.nd)(Oe[w.zc](0,ee))]=(0,p.nd)(Oe[w.zc](ee+1))}})}return te}a(Z,"_extractParts");function le(W,te){return(0,p.mf)(W[te])?W[te]():null}a(le,"_formatDate");function O(W,te){var me=W||k.qS;return(0,p.rW)(te,function(Oe,ee){me+="; "+Oe+((0,p.le)(ee)?k.qS:"="+ee)}),me}a(O,"_formatCookieValue");function Ue(W){var te=k.qS;if(b){var me=b[m]||k.qS;ue!==me&&(F=Z(me),ue=me),te=(0,p.nd)(F[W]||k.qS)}return te}a(Ue,"_getCookieValue");function de(W,te){b&&(b[m]=W+"="+te)}a(de,"_setCookieValue");function ae(W){return(0,p.HD)(W)?!!((0,p._Q)(W,"CPU iPhone OS 12")||(0,p._Q)(W,"iPad; CPU OS 12")||(0,p._Q)(W,"Macintosh; Intel Mac OS X 10_14")&&(0,p._Q)(W,"Version/")&&(0,p._Q)(W,"Safari")||(0,p._Q)(W,"Macintosh; Intel Mac OS X 10_14")&&(0,p.Id)(W,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||(0,p._Q)(W,"Chrome/5")||(0,p._Q)(W,"Chrome/6")||(0,p._Q)(W,"UnrealEngine")&&!(0,p._Q)(W,"Chrome")||(0,p._Q)(W,"UCBrowser/12")||(0,p._Q)(W,"UCBrowser/11")):!1}a(ae,"uaDisallowsSameSiteNone")},5843:(Ve,h,y)=>{"use strict";y.d(h,{GW:()=>j,Jj:()=>L,DO:()=>z,Tr:()=>ue,zB:()=>F,oF:()=>g,vn:()=>T,ej:()=>D,d8:()=>J,kT:()=>Y});var w=y(2091),d=y(8096),A=y(3242),p=y(7630),k=y(4869),x=y(6708),v=y(6041),m=y(4878),B=null,$,P=null;function j(){var V=z();return V[d.zc](0,8)+"-"+V[d.zc](8,12)+"-"+V[d.zc](12,16)+"-"+V[d.zc](16,20)+"-"+V[d.zc](20)}a(j,"newGuid");function L(){var V=(0,p.r)();return V&&V.now?V.now():(0,x.m6)()}a(L,"perfNow");function X(V,ie){if(V&&ie){var he=V[_DYN_LENGTH],Z=he-ie[_DYN_LENGTH];return V[_DYN_SUBSTRING](Z>=0?Z:0,he)===ie}return!1}a(X,"strEndsWith");function z(){for(var V=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],ie=v.qS,he,Z=0;Z<4;Z++)he=(0,m._l)(),ie+=V[he&15]+V[he>>4&15]+V[he>>8&15]+V[he>>12&15]+V[he>>16&15]+V[he>>20&15]+V[he>>24&15]+V[he>>28&15];var le=V[8+((0,m._l)()&3)|0];return ie[d.Jn](0,8)+ie[d.Jn](9,4)+"4"+ie[d.Jn](13,3)+le+ie[d.Jn](16,3)+ie[d.Jn](19,12)}a(z,"generateW3CId");var ue={_canUseCookies:void 0,isTypeof:x.Ym,isUndefined:x.o8,isNullOrUndefined:x.le,hasOwnProperty:x.nr,isFunction:x.mf,isObject:x.Kn,isDate:x.J_,isArray:x.kJ,isError:x.VZ,isString:x.HD,isNumber:x.hj,isBoolean:x.jn,toISOString:x.Y6,arrForEach:x.tO,arrIndexOf:x.UA,arrMap:x.Mr,arrReduce:x.Xz,strTrim:x.nd,objCreate:w.pu,objKeys:x.FY,objDefineAccessors:x.l_,addEventHandler:k.Ib,dateNow:x.m6,isIE:p.w1,disableCookies:g,newGuid:j,perfNow:L,newId:m.pZ,randomValue:m.az,random32:m._l,mwcRandomSeed:m.CN,mwcRandom32:m.F6,generateW3CId:z},b=/[xy]/g,F={Attach:k.pZ,AttachEvent:k.pZ,Detach:k.pD,DetachEvent:k.pD};function R(V,ie){var he=(0,A.kj)(V,ie),Z=ue._canUseCookies;return B===null&&(B=[],$=Z,(0,x.l_)(ue,"_canUseCookies",function(){return $},function(le){$=le,(0,x.tO)(B,function(O){O[d.$h](le)})})),(0,x.UA)(B,he)===-1&&B[d.MW](he),(0,x.jn)(Z)&&he[d.$h](Z),(0,x.jn)($)&&he[d.$h]($),he}a(R,"_legacyCookieMgr");function g(){R()[d.$h](!1)}a(g,"disableCookies");function T(V){return R(null,V).isEnabled()}a(T,"canUseCookies");function D(V,ie){return R(null,V).get(ie)}a(D,"getCookie");function J(V,ie,he,Z){R(null,V).set(ie,he,null,Z)}a(J,"setCookie");function Y(V,ie){return R(null,V).del(ie)}a(Y,"deleteCookie")},5883:(Ve,h,y)=>{"use strict";y.d(h,{J:()=>L,K:()=>X});var w=y(4392),d=y(8096),A=y(6708),p=y(6041),k=y(4878),x=w.RJ,v="2.8.12",m="."+(0,k.pZ)(6),B=0;function $(z,ue,b){if(x)try{return x(z,ue,{value:b,enumerable:!1,configurable:!0}),!0}catch(F){}return!1}a($,"_createAccessor");function P(z){return z[d.xv]===1||z[d.xv]===9||!+z[d.xv]}a(P,"_canAcceptData");function j(z,ue){var b=ue[z.id];if(!b){b={};try{P(ue)&&($(ue,z.id,b)||(ue[z.id]=b))}catch(F){}}return b}a(j,"_getCache");function L(z,ue){return ue===void 0&&(ue=!1),(0,A.Gf)(z+B+++(ue?"."+v:p.qS)+m)}a(L,"createUniqueNamespace");function X(z){var ue={id:L("_aiData-"+(z||p.qS)+"."+v),accept:function(b){return P(b)},get:function(b,F,R,g){var T=b[ue.id];return T?T[(0,A.Gf)(F)]:(g&&(T=j(ue,b),T[(0,A.Gf)(F)]=R),R)},kill:function(b,F){if(b&&b[F])try{delete b[F]}catch(R){}}};return ue}a(X,"createElmNodeData")},7158:(Ve,h,y)=>{"use strict";y.d(h,{j:()=>m,p:()=>B});var w=y(8096),d=y(7630),A=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],p=null,k;function x($,P){return function(){var j=arguments,L=m(P);if(L){var X=L.listener;X&&X[$]&&X[$][w.ZV](X,j)}}}a(x,"_listenerProxyFunc");function v(){var $=(0,d.a8)("Microsoft");return $&&(p=$.ApplicationInsights),p}a(v,"_getExtensionNamespace");function m($){var P=p;return!P&&$.disableDbgExt!==!0&&(P=p||v()),P?P.ChromeDbgExt:null}a(m,"getDebugExt");function B($){if(!k){k={};for(var P=0;P<A[w.R5];P++)k[A[P]]=x(A[P],$)}return k}a(B,"getDebugListener")},5018:(Ve,h,y)=>{"use strict";y.d(h,{lQ:()=>j,vH:()=>L,AQ:()=>X,kP:()=>ue,jV:()=>b,L4:()=>F});var w=y(1679),d=y(8096),A=y(7158),p=y(7630),k=y(6708),x=y(6041),v="AI (Internal): ",m="AI: ",B="AITR_";function $(R){return R?'"'+R[d.i7](/\"/g,x.qS)+'"':x.qS}a($,"_sanitizeDiagnosticText");function P(R,g){var T=(0,p.dr)();if(T){var D="log";T[R]&&(D=R),(0,k.mf)(T[D])&&T[D](g)}}a(P,"_logToConsole");var j=function(){function R(g,T,D,J){D===void 0&&(D=!1);var Y=this;Y[d.Gc]=g,Y[d.gU]=(D?m:v)+g;var V=x.qS;(0,p.nS)()&&(V=(0,p.xA)().stringify(J));var ie=(T?" message:"+$(T):x.qS)+(J?" props:"+$(V):x.qS);Y[d.gU]+=ie}return a(R,"_InternalLogMessage"),R.dataType="MessageData",R}();function L(R,g){return(R||{})[d.eZ]||new X(g)}a(L,"safeGetLogger");var X=function(){function R(g){this.identifier="DiagnosticLogger",this.queue=[];var T=0,D={},J,Y,V,ie;(0,w.Z)(R,this,function(he){le(g||{}),he.consoleLoggingLevel=function(){return J},he.telemetryLoggingLevel=function(){return Y},he.maxInternalMessageLimit=function(){return V},he[d.Fr]=function(){return ie},he.throwInternal=function(de,ae,W,te,me){me===void 0&&(me=!1);var Oe=new j(ae,W,me,te);if(ie)throw(0,p.eU)(Oe);var ee=de===1?x.ys:x.cL;if((0,k.o8)(Oe[d.gU]))Ue("throw"+(de===1?"Critical":"Warning"),Oe);else{if(me){var Me=+Oe[d.Gc];!D[Me]&&J>=de&&(he[ee](Oe[d.gU]),D[Me]=!0)}else J>=de&&he[ee](Oe[d.gU]);Z(de,Oe)}},he[x.cL]=function(de){P("warn",de),Ue("warning",de)},he[x.ys]=function(de){P("error",de),Ue("error",de)},he.resetInternalMessageCount=function(){T=0,D={}},he[d.jk]=Z;function Z(de,ae){if(!O()){var W=!0,te=B+ae[d.Gc];if(D[te]?W=!1:D[te]=!0,W&&(de<=Y&&(he.queue[d.MW](ae),T++,Ue(de===1?"error":"warn",ae)),T===V)){var me="Internal events throttle limit per PageView reached for this app.",Oe=new j(23,me,!1);he.queue[d.MW](Oe),de===1?he[x.ys](me):he[x.cL](me)}}}a(Z,"_logInternalMessage");function le(de){J=(0,k.v4)(de.loggingLevelConsole,0),Y=(0,k.v4)(de.loggingLevelTelemetry,1),V=(0,k.v4)(de.maxMessageLimit,25),ie=(0,k.v4)(de.enableDebug,(0,k.v4)(de[d.Fr],!1))}a(le,"_setDefaultsFromConfig");function O(){return T>=V}a(O,"_areInternalMessagesThrottled");function Ue(de,ae){var W=(0,A.j)(g||{});W&&W[d.mc]&&W[d.mc](de,ae)}a(Ue,"_debugExtMsg")})}return a(R,"DiagnosticLogger"),R.__ieDyn=1,R}();function z(R){return R||new X}a(z,"_getLogger");function ue(R,g,T,D,J,Y){Y===void 0&&(Y=!1),z(R).throwInternal(g,T,D,J,Y)}a(ue,"_throwInternal");function b(R,g){z(R)[x.cL](g)}a(b,"_warnToConsole");function F(R,g,T){z(R)[d.jk](g,T)}a(F,"_logInternalMessage")},7630:(Ve,h,y)=>{"use strict";y.d(h,{dI:()=>he,a8:()=>Z,Ym:()=>le,Jj:()=>O,Nv:()=>Ue,Me:()=>de,d6:()=>ae,jW:()=>W,fE:()=>te,s1:()=>me,k$:()=>Oe,dr:()=>ee,r:()=>Me,nS:()=>He,xA:()=>Xe,MX:()=>U,gz:()=>G,b$:()=>q,w1:()=>fe,sA:()=>be,eU:()=>Te,MF:()=>ye,JO:()=>De,cp:()=>Be,Z3:()=>Ae,ed:()=>ze,pI:()=>Je});var w=y(4392),d=y(2091),A=y(8096),p=y(6708),k=y(6041),x="window",v="document",m="documentMode",B="navigator",$="history",P="location",j="console",L="performance",X="JSON",z="crypto",ue="msCrypto",b="ReactNative",F="msie",R="trident/",g="XMLHttpRequest",T=null,D=null,J=!1,Y=null,V=null;function ie(Ee,K){var Q=!1;if(Ee){try{if(Q=K in Ee,!Q){var Ke=Ee[w.hB];Ke&&(Q=K in Ke)}}catch(wn){}if(!Q)try{var At=new Ee;Q=!(0,p.o8)(At[K])}catch(wn){}}return Q}a(ie,"_hasProperty");function he(Ee){J=Ee}a(he,"setEnableEnvMocks");function Z(Ee){var K=(0,d.Rd)();return K&&K[Ee]?K[Ee]:Ee===x&&le()?window:null}a(Z,"getGlobalInst");function le(){return Boolean(typeof window===w.fK&&window)}a(le,"hasWindow");function O(){return le()?window:Z(x)}a(O,"getWindow");function Ue(){return Boolean(typeof document===w.fK&&document)}a(Ue,"hasDocument");function de(){return Ue()?document:Z(v)}a(de,"getDocument");function ae(){return Boolean(typeof navigator===w.fK&&navigator)}a(ae,"hasNavigator");function W(){return ae()?navigator:Z(B)}a(W,"getNavigator");function te(){return Boolean(typeof history===w.fK&&history)}a(te,"hasHistory");function me(){return te()?history:Z($)}a(me,"getHistory");function Oe(Ee){if(Ee&&J){var K=Z("__mockLocation");if(K)return K}return typeof location===w.fK&&location?location:Z(P)}a(Oe,"getLocation");function ee(){return typeof console!==w.jA?console:Z(j)}a(ee,"getConsole");function Me(){return Z(L)}a(Me,"getPerformance");function He(){return Boolean(typeof JSON===w.fK&&JSON||Z(X)!==null)}a(He,"hasJSON");function Xe(){return He()?JSON||Z(X):null}a(Xe,"getJSON");function U(){return Z(z)}a(U,"getCrypto");function G(){return Z(ue)}a(G,"getMsCrypto");function q(){var Ee=W();return Ee&&Ee.product?Ee.product===b:!1}a(q,"isReactNative");function fe(){var Ee=W();if(Ee&&(Ee[A.qV]!==D||T===null)){D=Ee[A.qV];var K=(D||k.qS)[A.T1]();T=(0,p._Q)(K,F)||(0,p._Q)(K,R)}return T}a(fe,"isIE");function be(Ee){if(Ee===void 0&&(Ee=null),!Ee){var K=W()||{};Ee=K?(K[A.qV]||k.qS)[A.T1]():k.qS}var Q=(Ee||k.qS)[A.T1]();if((0,p._Q)(Q,F)){var Ke=de()||{};return Math.max(parseInt(Q[A.w6](F)[1]),Ke[m]||0)}else if((0,p._Q)(Q,R)){var At=parseInt(Q[A.w6](R)[1]);if(At)return At+4}return null}a(be,"getIEVersion");function Te(Ee){var K=Object[w.hB].toString[A._S](Ee),Q=k.qS;return K==="[object Error]"?Q="{ stack: '"+Ee.stack+"', message: '"+Ee.message+"', name: '"+Ee[A.I]+"'":He()&&(Q=Xe().stringify(Ee)),K+Q}a(Te,"dumpObj");function oe(Ee){if(!Ee||!isString(Ee)){var K=W()||{};Ee=K?(K[_DYN_USER_AGENT]||STR_EMPTY)[_DYN_TO_LOWER_CASE]():STR_EMPTY}var Q=(Ee||STR_EMPTY)[_DYN_TO_LOWER_CASE]();return Q[_DYN_INDEX_OF]("safari")>=0}a(oe,"isSafari");function ye(){return V===null&&(V=ae()&&Boolean(W().sendBeacon)),V}a(ye,"isBeaconsSupported");function De(Ee){var K=!1;try{K=!!Z("fetch");var Q=Z("Request");K&&Ee&&Q&&(K=ie(Q,"keepalive"))}catch(Ke){}return K}a(De,"isFetchSupported");function Be(){return Y===null&&(Y=typeof XDomainRequest!==w.jA,Y&&Ae()&&(Y=Y&&!ie(Z(g),"withCredentials"))),Y}a(Be,"useXDomainRequest");function Ae(){var Ee=!1;try{var K=Z(g);Ee=!!K}catch(Q){}return Ee}a(Ae,"isXhrSupported");function Ie(Ee,K){if(Ee)for(var Q=0;Q<Ee[A.R5];Q++){var Ke=Ee[Q];if(Ke[A.I]&&Ke[A.I]===K)return Ke}return{}}a(Ie,"_getNamedValue");function ze(Ee){var K=de();return K&&Ee?Ie(K.querySelectorAll("meta"),Ee).content:null}a(ze,"findMetaTag");function Je(Ee){var K,Q=Me();if(Q){var Ke=Q.getEntriesByType("navigation")||[];K=Ie((Ke[A.R5]>0?Ke[0]:{}).serverTiming,Ee).description}return K}a(Je,"findNamedServerTiming")},4869:(Ve,h,y)=>{"use strict";y.d(h,{um:()=>ie,jU:()=>de,XO:()=>ae,QY:()=>W,pZ:()=>te,pD:()=>me,Ib:()=>Oe,C1:()=>ee,yw:()=>He,nJ:()=>Xe,c9:()=>U,JA:()=>G,TJ:()=>q,C9:()=>fe,nD:()=>be,Yl:()=>Te});var w=y(8096),d=y(5883),A=y(7630),p=y(6708),k=y(6041),x="on",v="attachEvent",m="addEventListener",B="detachEvent",$="removeEventListener",P="events",j="visibilitychange",L="pagehide",X="pageshow",z="unload",ue="beforeunload",b=(0,d.J)("aiEvtPageHide"),F=(0,d.J)("aiEvtPageShow"),R=/\.[\.]+/g,g=/[\.]+$/,T=1,D=(0,d.K)("events"),J=/^([^.]*)(?:\.(.+)|)/;function Y(oe){return oe&&oe[w.i7]?oe[w.i7](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,k.qS):oe}a(Y,"_normalizeNamespace");function V(oe,ye){var De;if(ye){var Be=k.qS;(0,p.kJ)(ye)?(Be=k.qS,(0,p.tO)(ye,function(Ie){Ie=Y(Ie),Ie&&(Ie[0]!=="."&&(Ie="."+Ie),Be+=Ie)})):Be=Y(ye),Be&&(Be[0]!=="."&&(Be="."+Be),oe=(oe||k.qS)+Be)}var Ae=J.exec(oe||k.qS)||[];return De={},De[w.P6]=Ae[1],De.ns=(Ae[2]||k.qS).replace(R,".").replace(g,k.qS)[w.w6](".").sort().join("."),De}a(V,"_getEvtNamespace");function ie(oe,ye,De){var Be=[],Ae=D.get(oe,P,{},!1),Ie=V(ye,De);return(0,p.rW)(Ae,function(ze,Je){(0,p.tO)(Je,function(Ee){var K;(!Ie[w.P6]||Ie[w.P6]===Ee.evtName[w.P6])&&(!Ie.ns||Ie.ns===Ie.ns)&&Be[w.MW]((K={},K[w.I]=Ee.evtName[w.P6]+(Ee.evtName.ns?"."+Ee.evtName.ns:k.qS),K.handler=Ee[w.Kn],K))})}),Be}a(ie,"__getRegisteredEvents");function he(oe,ye,De){De===void 0&&(De=!0);var Be=D.get(oe,P,{},De),Ae=Be[ye];return Ae||(Ae=Be[ye]=[]),Ae}a(he,"_getRegisteredEvents");function Z(oe,ye,De,Be){oe&&ye&&ye[w.P6]&&(oe[$]?oe[$](ye[w.P6],De,Be):oe[B]&&oe[B](x+ye[w.P6],De))}a(Z,"_doDetach");function le(oe,ye,De,Be){var Ae=!1;return oe&&ye&&ye[w.P6]&&De&&(oe[m]?(oe[m](ye[w.P6],De,Be),Ae=!0):oe[v]&&(oe[v](x+ye[w.P6],De),Ae=!0)),Ae}a(le,"_doAttach");function O(oe,ye,De,Be){for(var Ae=ye[w.R5];Ae--;){var Ie=ye[Ae];Ie&&(!De.ns||De.ns===Ie.evtName.ns)&&(!Be||Be(Ie))&&(Z(oe,Ie.evtName,Ie[w.Kn],Ie.capture),ye[w.cb](Ae,1))}}a(O,"_doUnregister");function Ue(oe,ye,De){if(ye[w.P6])O(oe,he(oe,ye[w.P6]),ye,De);else{var Be=D.get(oe,P,{});(0,p.rW)(Be,function(Ae,Ie){O(oe,Ie,ye,De)}),(0,p.FY)(Be)[w.R5]===0&&D.kill(oe,P)}}a(Ue,"_unregisterEvents");function de(oe,ye){var De;return ye?((0,p.kJ)(ye)?De=[oe].concat(ye):De=[oe,ye],De=V("xx",De).ns[w.w6](".")):De=oe,De}a(de,"mergeEvtNamespace");function ae(oe,ye,De,Be,Ae){var Ie;Ae===void 0&&(Ae=!1);var ze=!1;if(oe)try{var Je=V(ye,Be);if(ze=le(oe,Je,De,Ae),ze&&D.accept(oe)){var Ee=(Ie={guid:T++,evtName:Je},Ie[w.Kn]=De,Ie.capture=Ae,Ie);he(oe,Je.type)[w.MW](Ee)}}catch(K){}return ze}a(ae,"eventOn");function W(oe,ye,De,Be,Ae){if(Ae===void 0&&(Ae=!1),oe)try{var Ie=V(ye,Be),ze=!1;Ue(oe,Ie,function(Je){return Ie.ns&&!De||Je[w.Kn]===De?(ze=!0,!0):!1}),ze||Z(oe,Ie,De,Ae)}catch(Je){}}a(W,"eventOff");function te(oe,ye,De,Be){return Be===void 0&&(Be=!1),ae(oe,ye,De,null,Be)}a(te,"attachEvent");function me(oe,ye,De,Be){Be===void 0&&(Be=!1),W(oe,ye,De,null,Be)}a(me,"detachEvent");function Oe(oe,ye,De){var Be=!1,Ae=(0,A.Jj)();Ae&&(Be=ae(Ae,oe,ye,De),Be=ae(Ae.body,oe,ye,De)||Be);var Ie=(0,A.Me)();return Ie&&(Be=ae(Ie,oe,ye,De)||Be),Be}a(Oe,"addEventHandler");function ee(oe,ye,De){var Be=(0,A.Jj)();Be&&(W(Be,oe,ye,De),W(Be.body,oe,ye,De));var Ae=(0,A.Me)();Ae&&W(Ae,oe,ye,De)}a(ee,"removeEventHandler");function Me(oe,ye,De,Be){var Ae=!1;return ye&&oe&&oe[w.R5]>0&&(0,p.tO)(oe,function(Ie){Ie&&(!De||(0,p.UA)(De,Ie)===-1)&&(Ae=Oe(Ie,ye,Be)||Ae)}),Ae}a(Me,"_addEventListeners");function He(oe,ye,De,Be){var Ae=!1;return ye&&oe&&(0,p.kJ)(oe)&&(Ae=Me(oe,ye,De,Be),!Ae&&De&&De[w.R5]>0&&(Ae=Me(oe,ye,null,Be))),Ae}a(He,"addEventListeners");function Xe(oe,ye,De){oe&&(0,p.kJ)(oe)&&(0,p.tO)(oe,function(Be){Be&&ee(Be,ye,De)})}a(Xe,"removeEventListeners");function U(oe,ye,De){return He([ue,z,L],oe,ye,De)}a(U,"addPageUnloadEventListener");function G(oe,ye){Xe([ue,z,L],oe,ye)}a(G,"removePageUnloadEventListener");function q(oe,ye,De){function Be(ze){var Je=(0,A.Me)();oe&&Je&&Je.visibilityState==="hidden"&&oe(ze)}a(Be,"_handlePageVisibility");var Ae=de(b,De),Ie=Me([L],oe,ye,Ae);return(!ye||(0,p.UA)(ye,j)===-1)&&(Ie=Me([j],Be,ye,Ae)||Ie),!Ie&&ye&&(Ie=q(oe,null,De)),Ie}a(q,"addPageHideEventListener");function fe(oe,ye){var De=de(b,ye);Xe([L],oe,De),Xe([j],null,De)}a(fe,"removePageHideEventListener");function be(oe,ye,De){function Be(ze){var Je=(0,A.Me)();oe&&Je&&Je.visibilityState==="visible"&&oe(ze)}a(Be,"_handlePageVisibility");var Ae=de(F,De),Ie=Me([X],oe,ye,Ae);return Ie=Me([j],Be,ye,Ae)||Ie,!Ie&&ye&&(Ie=be(oe,null,De)),Ie}a(be,"addPageShowEventListener");function Te(oe,ye){var De=de(F,ye);Xe([X],oe,De),Xe([j],null,De)}a(Te,"removePageShowEventListener")},6708:(Ve,h,y)=>{"use strict";y.d(h,{Ym:()=>te,o8:()=>me,le:()=>ee,BX:()=>Me,nr:()=>He,Kn:()=>Xe,mf:()=>U,Gf:()=>q,rW:()=>fe,Id:()=>be,xe:()=>oe,_Q:()=>De,J_:()=>Be,kJ:()=>Ae,VZ:()=>ze,HD:()=>Je,hj:()=>Ee,jn:()=>K,Y6:()=>At,tO:()=>ln,UA:()=>sn,Mr:()=>or,Xz:()=>jn,nd:()=>nr,FY:()=>it,l_:()=>Lt,_A:()=>jt,FL:()=>Yt,Xi:()=>cn,m6:()=>Pn,jj:()=>Xn,sO:()=>ur,qK:()=>rr,v4:()=>Yn,F:()=>ir,fQ:()=>Ir,_y:()=>Dr,cf:()=>Bn,Oi:()=>dr,Vb:()=>hr,hl:()=>ei,Ax:()=>Hr,mm:()=>Zn});var w=y(4392),d=y(2091),A=y(8096),p=y(6041),k="toISOString",x="endsWith",v="startsWith",m="indexOf",B="map",$="reduce",P="trim",j="toString",L="__proto__",X="constructor",z=w.RJ,ue=w.Pw.freeze,b=w.Pw.seal,F=w.Pw.keys,R=String[w.hB],g=R[P],T=R[x],D=R[v],J=Date[w.hB],Y=J[k],V=Array.isArray,ie=w.V4[j],he=w.CY[j],Z=he[A._S](w.Pw),le=/-([a-z])/g,O=/([^\w\d_$])/g,Ue=/^(\d+[\w\d_$])/,de=Object.getPrototypeOf;function ae(I){if(I){if(de)return de(I);var ce=I[L]||I[w.hB]||I[X];if(ce)return ce}return null}a(ae,"_getObjProto");function W(I){return ie[_DYN_CALL](I)}a(W,"objToString");function te(I,ce){return typeof I===ce}a(te,"isTypeof");function me(I){return I===void 0||typeof I===w.jA}a(me,"isUndefined");function Oe(I){return!me(I)}a(Oe,"isNotUndefined");function ee(I){return I===null||me(I)}a(ee,"isNullOrUndefined");function Me(I){return!ee(I)}a(Me,"isNotNullOrUndefined");function He(I,ce){return!!(I&&w.CY[A._S](I,ce))}a(He,"hasOwnProperty");function Xe(I){return!!(I&&typeof I===w.fK)}a(Xe,"isObject");function U(I){return!!(I&&typeof I===w.cb)}a(U,"isFunction");function G(I){return I&&U(I.then)}a(G,"isPromiseLike");function q(I){var ce=I;return ce&&Je(ce)&&(ce=ce[A.i7](le,function(Se,Ne){return Ne.toUpperCase()}),ce=ce[A.i7](O,"_"),ce=ce[A.i7](Ue,function(Se,Ne){return"_"+Ne})),ce}a(q,"normalizeJsName");function fe(I,ce){if(I)for(var Se in I)w.CY[A._S](I,Se)&&ce[A._S](I,Se,I[Se])}a(fe,"objForEachKey");function be(I,ce){var Se=!1;return I&&ce&&!(Se=I===ce)&&(Se=T?I[x](ce):Te(I,ce)),Se}a(be,"strEndsWith");function Te(I,ce){var Se=!1,Ne=ce?ce[A.R5]:0,Ge=I?I[A.R5]:0;if(Ne&&Ge&&Ge>=Ne&&!(Se=I===ce)){for(var je=Ge-1,rt=Ne-1;rt>=0;rt--){if(I[je]!=ce[rt])return!1;je--}Se=!0}return Se}a(Te,"_strEndsWithPoly");function oe(I,ce){var Se=!1;return I&&ce&&!(Se=I===ce)&&(Se=D?I[v](ce):ye(I,ce)),Se}a(oe,"strStartsWith");function ye(I,ce){var Se=!1,Ne=ce?ce[A.R5]:0;if(I&&Ne&&I[A.R5]>=Ne&&!(Se=I===ce)){for(var Ge=0;Ge<Ne;Ge++)if(I[Ge]!==ce[Ge])return!1;Se=!0}return Se}a(ye,"_strStartsWithPoly");function De(I,ce){return I&&ce?I[A.ou](ce)!==-1:!1}a(De,"strContains");function Be(I){return!!(I&&ie[A._S](I)==="[object Date]")}a(Be,"isDate");var Ae=V||Ie;function Ie(I){return!!(I&&ie[A._S](I)==="[object Array]")}a(Ie,"_isArrayPoly");function ze(I){return!!(I&&ie[A._S](I)==="[object Error]")}a(ze,"isError");function Je(I){return typeof I=="string"}a(Je,"isString");function Ee(I){return typeof I=="number"}a(Ee,"isNumber");function K(I){return typeof I=="boolean"}a(K,"isBoolean");function Q(I){return typeof I=="symbol"}a(Q,"isSymbol");function Ke(I){var ce=!1;if(I&&typeof I=="object"){var Se=de?de(I):ae(I);Se?(Se[X]&&w.CY[A._S](Se,X)&&(Se=Se[X]),ce=typeof Se===w.cb&&he[A._S](Se)===Z):ce=!0}return ce}a(Ke,"isPlainObject");function At(I){if(I)return Y?I[k]():wn(I)}a(At,"toISOString");function wn(I){if(I&&I.getUTCFullYear){var ce=a(function(Se){var Ne=String(Se);return Ne[A.R5]===1&&(Ne="0"+Ne),Ne},"pad");return I.getUTCFullYear()+"-"+ce(I.getUTCMonth()+1)+"-"+ce(I.getUTCDate())+"T"+ce(I.getUTCHours())+":"+ce(I.getUTCMinutes())+":"+ce(I.getUTCSeconds())+"."+String((I.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}a(wn,"_toISOStringPoly");function ln(I,ce,Se){var Ne=I[A.R5];try{for(var Ge=0;Ge<Ne&&!(Ge in I&&ce[A._S](Se||I,I[Ge],Ge,I)===-1);Ge++);}catch(je){}}a(ln,"arrForEach");function sn(I,ce,Se){if(I){if(I[m])return I[m](ce,Se);var Ne=I[A.R5],Ge=Se||0;try{for(var je=Math.max(Ge>=0?Ge:Ne-Math.abs(Ge),0);je<Ne;je++)if(je in I&&I[je]===ce)return je}catch(rt){}}return-1}a(sn,"arrIndexOf");function or(I,ce,Se){var Ne;if(I){if(I[B])return I[B](ce,Se);var Ge=I[A.R5],je=Se||I;Ne=new Array(Ge);try{for(var rt=0;rt<Ge;rt++)rt in I&&(Ne[rt]=ce[A._S](je,I[rt],I))}catch(ht){}}return Ne}a(or,"arrMap");function jn(I,ce,Se){var Ne;if(I){if(I[$])return I[$](ce,Se);var Ge=I[A.R5],je=0;if(arguments[A.R5]>=3)Ne=arguments[2];else{for(;je<Ge&&!(je in I);)je++;Ne=I[je++]}for(;je<Ge;)je in I&&(Ne=ce(Ne,I[je],je,I)),je++}return Ne}a(jn,"arrReduce");function nr(I){return I&&(I=g&&I[P]?I[P]():I[A.i7]?I[A.i7](/^\s+|(?=\s)\s+$/g,p.qS):I),I}a(nr,"strTrim");var Qn=!{toString:null}.propertyIsEnumerable("toString"),kn=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function it(I){var ce=typeof I;if(ce!==w.cb&&(ce!==w.fK||I===null)&&(0,d.ZU)("objKeys called on non-object"),!Qn&&F)return F(I);var Se=[];for(var Ne in I)I&&w.CY[A._S](I,Ne)&&Se[A.MW](Ne);if(Qn)for(var Ge=kn[A.R5],je=0;je<Ge;je++)I&&w.CY[A._S](I,kn[je])&&Se[A.MW](kn[je]);return Se}a(it,"objKeys");function Lt(I,ce,Se,Ne){if(z)try{var Ge={enumerable:!0,configurable:!0};return Se&&(Ge.get=Se),Ne&&(Ge.set=Ne),z(I,ce,Ge),!0}catch(je){}return!1}a(Lt,"objDefineAccessors");function Ht(I){return I}a(Ht,"_doNothing");function jt(I){return ue&&fe(I,function(ce,Se){(Ae(Se)||Xe(Se))&&ue(Se)}),Yt(I)}a(jt,"deepFreeze");var Yt=ue||Ht,cn=b||Ht;function Pn(){var I=Date;return I.now?I.now():new I().getTime()}a(Pn,"dateNow");function Xn(I){return ze(I)?I[A.I]:p.qS}a(Xn,"getExceptionName");function ur(I,ce,Se,Ne,Ge){var je=Se;return I&&(je=I[ce],je!==Se&&(!Ge||Ge(je))&&(!Ne||Ne(Se))&&(je=Se,I[ce]=je)),je}a(ur,"setValue");function rr(I,ce,Se){var Ne;return I?(Ne=I[ce],!Ne&&ee(Ne)&&(Ne=me(Se)?{}:Se,I[ce]=Ne)):Ne=me(Se)?{}:Se,Ne}a(rr,"getSetValue");function Yn(I,ce){return ee(I)?ce:I}a(Yn,"getCfgValue");function ir(I){return!I}a(ir,"isNotTruthy");function Ir(I){return!!I}a(Ir,"isTruthy");function Dr(I){throw new Error(I)}a(Dr,"throwError");function fn(I,ce){var Se=null,Ne=null;return U(I)?Se=I:Ne=I,function(){var Ge=arguments;if(Se&&(Ne=Se()),Ne)return Ne[ce][A.ZV](Ne,Ge)}}a(fn,"_createProxyFunction");function Bn(I,ce,Se){if(I&&ce&&Xe(I)&&Xe(ce)){var Ne=a(function(je){if(Je(je)){var rt=ce[je];U(rt)?(!Se||Se(je,!0,ce,I))&&(I[je]=fn(ce,je)):(!Se||Se(je,!1,ce,I))&&(He(I,je)&&delete I[je],Lt(I,je,function(){return ce[je]},function(ht){ce[je]=ht})||(I[je]=rt))}},"_loop_1");for(var Ge in ce)Ne(Ge)}return I}a(Bn,"proxyAssign");function dr(I,ce,Se,Ne,Ge){I&&ce&&Se&&(Ge!==!1||me(I[ce]))&&(I[ce]=fn(Se,Ne))}a(dr,"proxyFunctionAs");function hr(I,ce,Se,Ne){return I&&ce&&Xe(I)&&Ae(Se)&&ln(Se,function(Ge){Je(Ge)&&dr(I,Ge,ce,Ge,Ne)}),I}a(hr,"proxyFunctions");function ei(I){return function(){function ce(){var Se=this;I&&fe(I,function(Ne,Ge){Se[Ne]=Ge})}return a(ce,"class_1"),ce}()}a(ei,"createClassFromInterface");function Hr(I){return I&&w.rl&&(I=(0,w.Pw)((0,w.rl)({},I))),I}a(Hr,"optimizeObject");function Zn(I,ce,Se,Ne,Ge,je){var rt=arguments,ht=rt[0]||{},wt=rt[A.R5],zt=!1,ot=1;for(wt>0&&K(ht)&&(zt=ht,ht=rt[ot]||{},ot++),Xe(ht)||(ht={});ot<wt;ot++){var Rt=rt[ot],It=Ae(Rt),Pt=Xe(Rt);for(var mt in Rt){var yn=It&&mt in Rt||Pt&&w.CY[A._S](Rt,mt);if(!!yn){var rn=Rt[mt],ar=void 0;if(zt&&rn&&((ar=Ae(rn))||Ke(rn))){var Gn=ht[mt];ar?Ae(Gn)||(Gn=[]):Ke(Gn)||(Gn={}),rn=Zn(zt,Gn,rn)}rn!==void 0&&(ht[mt]=rn)}}}return ht}a(Zn,"objExtend")},6041:(Ve,h,y)=>{"use strict";y.d(h,{qS:()=>w,Z:()=>d,oV:()=>A,DN:()=>p,mE:()=>k,Zh:()=>x,js:()=>v,hL:()=>m,yi:()=>B,uC:()=>$,$F:()=>P,f_:()=>j,C$:()=>L,ys:()=>X,cL:()=>z,kl:()=>ue});var w="",d="channels",A="core",p="createPerfMgr",k="disabled",x="extensionConfig",v="extensions",m="processTelemetry",B="priority",$="eventsSent",P="eventsDiscarded",j="eventsSendRequest",L="perfEvent",X="errorToConsole",z="warnToConsole",ue="getPerfMgr"},1880:(Ve,h,y)=>{"use strict";y.d(h,{f:()=>x});var w=y(1679),d=y(8096),A=y(6708),p=y(6041);function k(v,m,B,$){(0,A.tO)(v,function(P){if(P&&P[m])if(B)setTimeout(function(){return $(P)},0);else try{$(P)}catch(j){}})}a(k,"_runListeners");var x=function(){function v(m){this.listeners=[];var B=!!(m||{}).perfEvtsSendAll;(0,w.Z)(v,this,function($){$[d.g]=function(P){$.listeners[d.MW](P)},$[d.n7]=function(P){for(var j=(0,A.UA)($[d.dE],P);j>-1;)$.listeners[d.cb](j,1),j=(0,A.UA)($[d.dE],P)},$[p.uC]=function(P){k($[d.dE],p.uC,!0,function(j){j[p.uC](P)})},$[p.$F]=function(P,j){k($[d.dE],p.$F,!0,function(L){L[p.$F](P,j)})},$[p.f_]=function(P,j){k($[d.dE],p.f_,j,function(L){L[p.f_](P,j)})},$[p.C$]=function(P){P&&(B||!P[d.PL]())&&k($[d.dE],p.C$,!1,function(j){P[d.d]?setTimeout(function(){return j[p.C$](P)},0):j[p.C$](P)})}})}return a(v,"NotificationManager"),v.__ieDyn=1,v}()},9288:(Ve,h,y)=>{"use strict";y.d(h,{zn:()=>B,Jk:()=>$,Lm:()=>j,j5:()=>X});var w=y(1679),d=y(8096),A=y(6708),p=y(6041),k="ctx",x="ParentContextKey",v="ChildrenContextKey",m=null,B=function(){function z(ue,b,F){var R=this,g=!1;if(R.start=(0,A.m6)(),R[d.I]=ue,R[d.d]=F,R[d.PL]=function(){return!1},(0,A.mf)(b)){var T;g=(0,A.l_)(R,"payload",function(){return!T&&(0,A.mf)(b)&&(T=b(),b=null),T})}R[d.T]=function(D){return D?D===z[x]||D===z[v]?R[D]:(R[k]||{})[D]:null},R[d.wu]=function(D,J){if(D)if(D===z[x])R[D]||(R[d.PL]=function(){return!0}),R[D]=J;else if(D===z[v])R[D]=J;else{var Y=R[k]=R[k]||{};Y[D]=J}},R[d.Km]=function(){var D=0,J=R[d.T](z[v]);if((0,A.kJ)(J))for(var Y=0;Y<J[d.R5];Y++){var V=J[Y];V&&(D+=V[d.Z_])}R[d.Z_]=(0,A.m6)()-R.start,R.exTime=R[d.Z_]-D,R[d.Km]=function(){},!g&&(0,A.mf)(b)&&(R.payload=b())}}return a(z,"PerfEvent"),z.ParentContextKey="parent",z.ChildrenContextKey="childEvts",z}(),$=function(){function z(ue){this.ctx={},(0,w.Z)(z,this,function(b){b.create=function(F,R,g){return new B(F,R,g)},b.fire=function(F){F&&(F[d.Km](),ue&&(0,A.mf)(ue[p.C$])&&ue[p.C$](F))},b[d.wu]=function(F,R){if(F){var g=b[k]=b[k]||{};g[F]=R}},b[d.T]=function(F){return(b[k]||{})[F]}})}return a(z,"PerfManager"),z.__ieDyn=1,z}(),P="CoreUtils.doPerf";function j(z,ue,b,F,R){if(z){var g=z;if(g[p.kl]&&(g=g[p.kl]()),g){var T=void 0,D=g[d.T](P);try{if(T=g.create(ue(),F,R),T){if(D&&T[d.wu]&&(T[d.wu](B[x],D),D[d.T]&&D[d.wu])){var J=D[d.T](B[v]);J||(J=[],D[d.wu](B[v],J)),J[d.MW](T)}return g[d.wu](P,T),b(T)}}catch(Y){T&&T[d.wu]&&T[d.wu]("exception",Y)}finally{T&&g.fire(T),g[d.wu](P,D)}}}return b()}a(j,"doPerf");function L(z){m=z}a(L,"setGblPerfMgr");function X(){return m}a(X,"getGblPerfMgr")},1589:(Ve,h,y)=>{"use strict";y.d(h,{CD:()=>X,Bt:()=>z,xy:()=>ue,jV:()=>b,Vi:()=>R});var w=y(8096),d=y(5018),A=y(7630),p=y(6708),k=y(6041),x=y(9288),v=y(3833),m="TelemetryPluginChain",B="_hasRun",$="_getTelCtx",P=0;function j(g,T,D){for(;g;){if(g[w.TO]()===D)return g;g=g[w.W2]()}return b([D],T[w.TC]||{},T)}a(j,"_getNextProxyStart");function L(g,T,D,J){var Y=null,V=[];J!==null&&(Y=J?j(g,D,J):g);var ie={_next:Z,ctx:{core:function(){return D},diagLog:function(){return(0,d.vH)(D,T)},getCfg:function(){return T},getExtCfg:le,getConfig:O,hasNext:function(){return!!Y},getNext:function(){return Y},setNext:function(de){Y=de},iterate:Ue,onComplete:he}};function he(de,ae){for(var W=[],te=2;te<arguments.length;te++)W[te-2]=arguments[te];de&&V[w.MW]({func:de,self:(0,p.o8)(ae)?ie.ctx:ae,args:W})}a(he,"_addOnComplete");function Z(){var de=Y;if(Y=de?de[w.W2]():null,!de){var ae=V;ae&&ae[w.R5]>0&&((0,p.tO)(ae,function(W){try{W.func[w._S](W.self,W.args)}catch(te){(0,d.kP)(D[w.eZ],2,73,"Unexpected Exception during onComplete - "+(0,A.eU)(te))}}),V=[])}return de}a(Z,"_moveNext");function le(de,ae,W){ae===void 0&&(ae={}),W===void 0&&(W=0);var te;if(T){var me=T[k.Zh];me&&de&&(te=me[de])}if(!te)te=ae;else if((0,p.Kn)(ae)&&W!==0){var Oe=(0,p.mm)(!0,ae,te);T&&W===2&&(0,p.rW)(ae,function(ee){if((0,p.le)(Oe[ee])){var Me=T[ee];(0,p.le)(Me)||(Oe[ee]=Me)}}),te=Oe}return te}a(le,"_getExtCfg");function O(de,ae,W){W===void 0&&(W=!1);var te,me=le(de,null);return me&&!(0,p.le)(me[ae])?te=me[ae]:T&&!(0,p.le)(T[ae])&&(te=T[ae]),(0,p.le)(te)?W:te}a(O,"_getConfig");function Ue(de){for(var ae;ae=ie._next();){var W=ae[w.TO]();W&&de(W)}}return a(Ue,"_iterateChain"),ie}a(L,"_createInternalContext");function X(g,T,D,J){var Y=L(g,T,D,J),V=Y.ctx;function ie(Z){var le=Y._next();return le&&le[k.hL](Z,V),!le}a(ie,"_processNext");function he(Z,le){return Z===void 0&&(Z=null),(0,p.kJ)(Z)&&(Z=b(Z,T,D,le)),X(Z||V[w.W2](),T,D,le)}return a(he,"_createNew"),V[w.uL]=ie,V[w.zV]=he,V}a(X,"createProcessTelemetryContext");function z(g,T,D){var J=T[w.TC]||{},Y=L(g,J,T,D),V=Y.ctx;function ie(Z){var le=Y._next();return le&&le.unload(V,Z),!le}a(ie,"_processNext");function he(Z,le){return Z===void 0&&(Z=null),(0,p.kJ)(Z)&&(Z=b(Z,J,T,le)),z(Z||V[w.W2](),T,le)}return a(he,"_createNew"),V[w.uL]=ie,V[w.zV]=he,V}a(z,"createProcessTelemetryUnloadContext");function ue(g,T,D){var J=T[w.TC]||{},Y=L(g,J,T,D),V=Y.ctx;function ie(Z){return V.iterate(function(le){(0,p.mf)(le[w.Tu])&&le[w.Tu](V,Z)})}a(ie,"_processNext");function he(Z,le){return Z===void 0&&(Z=null),(0,p.kJ)(Z)&&(Z=b(Z,J,T,le)),ue(Z||V[w.W2](),T,le)}return a(he,"_createNew"),V[w.uL]=ie,V[w.zV]=he,V}a(ue,"createProcessTelemetryUpdateContext");function b(g,T,D,J){var Y=null,V=!J;if((0,p.kJ)(g)&&g[w.R5]>0){var ie=null;(0,p.tO)(g,function(he){if(!V&&J===he&&(V=!0),V&&he&&(0,p.mf)(he[k.hL])){var Z=F(he,T,D);Y||(Y=Z),ie&&ie._setNext(Z),ie=Z}})}return J&&!Y?b([J],T,D):Y}a(b,"createTelemetryProxyChain");function F(g,T,D){var J=null,Y=(0,p.mf)(g[k.hL]),V=(0,p.mf)(g[w.Jd]),ie;g?ie=g[w.pZ]+"-"+g[k.yi]+"-"+P++:ie="Unknown-0-"+P++;var he={getPlugin:function(){return g},getNext:function(){return J},processTelemetry:O,unload:Ue,update:de,_id:ie,_setNext:function(ae){J=ae}};function Z(){var ae;return g&&(0,p.mf)(g[$])&&(ae=g[$]()),ae||(ae=X(he,T,D)),ae}a(Z,"_getTelCtx");function le(ae,W,te,me,Oe){var ee=!1,Me=g?g[w.pZ]:m,He=ae[B];return He||(He=ae[B]={}),ae.setNext(J),g&&(0,x.Lm)(ae[k.oV](),function(){return Me+":"+te},function(){He[ie]=!0;try{var Xe=J?J._id:k.qS;Xe&&(He[Xe]=!1),ee=W(ae)}catch(G){var U=J?He[J._id]:!0;U&&(ee=!0),(!J||!U)&&(0,d.kP)(ae[w.mc](),1,73,"Plugin ["+Me+"] failed during "+te+" - "+(0,A.eU)(G)+", run flags: "+(0,A.eU)(He))}},me,Oe),ee}a(le,"_processChain");function O(ae,W){W=W||Z();function te(me){if(!g||!Y)return!1;var Oe=(0,v.OY)(g);return Oe[w.fi]||Oe[k.mE]?!1:(V&&g[w.Jd](J),g[k.hL](ae,me),!0)}a(te,"_callProcessTelemetry"),le(W,te,"processTelemetry",function(){return{item:ae}},!ae.sync)||W[w.uL](ae)}a(O,"_processTelemetry");function Ue(ae,W){function te(){var me=!1;if(g){var Oe=(0,v.OY)(g),ee=g[k.oV]||Oe[k.oV];g&&(!ee||ee===ae.core())&&!Oe[w.fi]&&(Oe[k.oV]=null,Oe[w.fi]=!0,Oe[w.yl]=!1,g[w.fi]&&g[w.fi](ae,W)===!0&&(me=!0))}return me}a(te,"_callTeardown"),le(ae,te,"unload",function(){},W[w.d])||ae[w.uL](W)}a(Ue,"_unloadPlugin");function de(ae,W){function te(){var me=!1;if(g){var Oe=(0,v.OY)(g),ee=g[k.oV]||Oe[k.oV];g&&(!ee||ee===ae.core())&&!Oe[w.fi]&&g[w.Tu]&&g[w.Tu](ae,W)===!0&&(me=!0)}return me}a(te,"_callUpdate"),le(ae,te,"update",function(){},!1)||ae[w.uL](W)}return a(de,"_updatePlugin"),(0,p.FL)(he)}a(F,"createTelemetryPluginProxy");var R=function(){function g(T,D,J,Y){var V=this,ie=X(T,D,J,Y);(0,p.Vb)(V,ie,(0,p.FY)(ie))}return a(g,"ProcessTelemetryContext"),g}()},4878:(Ve,h,y)=>{"use strict";y.d(h,{az:()=>j,_l:()=>L,CN:()=>X,F6:()=>z,pZ:()=>ue});var w=y(8096),d=y(7630),A=y(6708),p=y(6041),k=4294967296,x=4294967295,v=!1,m=123456789,B=987654321;function $(b){b<0&&(b>>>=0),m=123456789+b&x,B=987654321-b&x,v=!0}a($,"_mwcSeed");function P(){try{var b=(0,A.m6)()&2147483647;$((Math.random()*k^b)+b)}catch(F){}}a(P,"_autoSeedMwc");function j(b){return b>0?Math.floor(L()/x*(b+1))>>>0:0}a(j,"randomValue");function L(b){var F=0,R=(0,d.MX)()||(0,d.gz)();return R&&R.getRandomValues&&(F=R.getRandomValues(new Uint32Array(1))[0]&x),F===0&&(0,d.w1)()&&(v||P(),F=z()&x),F===0&&(F=Math.floor(k*Math.random()|0)),b||(F>>>=0),F}a(L,"random32");function X(b){b?$(b):P()}a(X,"mwcRandomSeed");function z(b){B=36969*(B&65535)+(B>>16)&x,m=18e3*(m&65535)+(m>>16)&x;var F=(B<<16)+(m&65535)>>>0&x|0;return b||(F>>>=0),F}a(z,"mwcRandom32");function ue(b){b===void 0&&(b=22);for(var F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=L()>>>0,g=0,T=p.qS;T[w.R5]<b;)g++,T+=F.charAt(R&63),R>>>=6,g===5&&(R=(L()<<2&4294967295|R&3)>>>0,g=0);return T}a(ue,"newId")},3833:(Ve,h,y)=>{"use strict";y.d(h,{OY:()=>v,bP:()=>m,AA:()=>B,Yn:()=>P});var w=y(8096),d=y(5883),A=y(6708),p=y(6041),k=y(4206),x=(0,d.K)("plugin");function v(j){return x.get(j,"state",{},!0)}a(v,"_getPluginState");function m(j,L){for(var X=[],z=null,ue=j[w.W2](),b;ue;){var F=ue[w.TO]();if(F){z&&(0,A.mf)(z[w.Jd])&&(0,A.mf)(F[p.hL])&&z[w.Jd](F);var R=!1;(0,A.mf)(F[w.yl])?R=F[w.yl]():(b=v(F),R=b[w.yl]),R||X[w.MW](F),z=F,ue=ue[w.W2]()}}(0,A.tO)(X,function(g){var T=j[p.oV]();g[w.VL](j.getCfg(),T,L,j[w.W2]()),b=v(g),!g[p.oV]&&!b[p.oV]&&(b[p.oV]=T),b[w.yl]=!0,delete b[w.fi]})}a(m,"initializePlugins");function B(j){return j.sort(function(L,X){var z=0;if(X){var ue=(0,A.mf)(X[p.hL]);(0,A.mf)(L[p.hL])?z=ue?L[p.yi]-X[p.yi]:1:ue&&(z=-1)}else z=L?1:-1;return z})}a(B,"sortPlugins");function $(j,L,X,z){var ue=0;function b(){for(;ue<j[_DYN_LENGTH];){var F=j[ue++];if(F){var R=F._doUnload||F[_DYN__DO_TEARDOWN];if(isFunction(R)&&R[_DYN_CALL](F,L,X,b)===!0)return!0}}}return a(b,"_doUnload"),b()}a($,"unloadComponents");function P(j){var L={};return{getName:function(){return L[w.I]},setName:function(X){j&&j.setName(X),L[w.I]=X},getTraceId:function(){return L[w.nY]},setTraceId:function(X){j&&j.setTraceId(X),(0,k.jN)(X)&&(L[w.nY]=X)},getSpanId:function(){return L[w._d]},setSpanId:function(X){j&&j.setSpanId(X),(0,k.Lc)(X)&&(L[w._d]=X)},getTraceFlags:function(){return L[w.T0]},setTraceFlags:function(X){j&&j.setTraceFlags(X),L[w.T0]=X}}}a(P,"createDistributedTraceContext")},310:(Ve,h,y)=>{"use strict";y.d(h,{Y:()=>k});var w=y(8096),d=y(5018),A=y(7630),p=y(6708);function k(){var x=[];function v(B){B&&x[w.MW](B)}a(v,"_addHandler");function m(B,$){(0,p.tO)(x,function(P){try{P(B,$)}catch(j){(0,d.kP)(B[w.mc](),2,73,"Unexpected error calling unload handler - "+(0,A.eU)(j))}}),x=[]}return a(m,"_runHandlers"),{add:v,run:m}}a(k,"createUnloadHandlerContainer")},4206:(Ve,h,y)=>{"use strict";y.d(h,{SU:()=>X,j_:()=>z,jN:()=>ue,Lc:()=>b,J6:()=>F,Pn:()=>R,aR:()=>g,lq:()=>T});var w=y(8096),d=y(5843),A=y(7630),p=y(6708),k=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,x="00",v="ff",m="00000000000000000000000000000000",B="0000000000000000",$=1;function P(D,J,Y){return D&&D[w.R5]===J&&D!==Y?!!D.match(/^[\da-f]*$/):!1}a(P,"_isValid");function j(D,J,Y){return P(D,J)?D:Y}a(j,"_formatValue");function L(D){(isNaN(D)||D<0||D>255)&&(D=1);for(var J=D.toString(16);J[w.R5]<2;)J="0"+J;return J}a(L,"_formatFlags");function X(D,J,Y,V){var ie;return ie={},ie[w.PA]=P(V,2,v)?V:x,ie[w.nY]=ue(D)?D:(0,d.DO)(),ie.spanId=b(J)?J:(0,d.DO)()[w.Jn](0,16),ie.traceFlags=Y>=0&&Y<=255?Y:1,ie}a(X,"createTraceParent");function z(D){var J;if(!D||((0,p.kJ)(D)&&(D=D[0]||""),!D||!(0,p.HD)(D)||D[w.R5]>8192))return null;var Y=k.exec((0,p.nd)(D));return!Y||Y[1]===v||Y[2]===m||Y[3]===B?null:(J={},J[w.PA]=Y[1],J[w.nY]=Y[2],J[w._d]=Y[3],J[w.T0]=parseInt(Y[4],16),J)}a(z,"parseTraceParent");function ue(D){return P(D,32,m)}a(ue,"isValidTraceId");function b(D){return P(D,16,B)}a(b,"isValidSpanId");function F(D){return!(!D||!P(D[w.PA],2,v)||!P(D[w.nY],32,m)||!P(D[w._d],16,B)||!P(L(D[w.T0]),2))}a(F,"isValidTraceParent");function R(D){return F(D)?(D[w.T0]&$)===$:!1}a(R,"isSampledFlag");function g(D){if(D){var J=L(D[w.T0]);P(J,2)||(J="01");var Y=D[w.PA]||x;return Y!=="00"&&Y!=="ff"&&(Y=x),"".concat(Y,"-").concat(j(D.traceId,32,m),"-").concat(j(D.spanId,16,B),"-").concat(J)}return""}a(g,"formatTraceParent");function T(){var D="traceparent",J=z((0,A.ed)(D));return J||(J=z((0,A.pI)(D))),J}a(T,"findW3cTraceParent")},8096:(Ve,h,y)=>{"use strict";y.d(h,{VL:()=>w,I:()=>d,tb:()=>A,pZ:()=>p,MW:()=>k,yl:()=>x,TC:()=>v,p$:()=>m,eZ:()=>B,R5:()=>$,Z_:()=>P,uL:()=>j,SD:()=>L,g:()=>X,n7:()=>z,LS:()=>ue,Fc:()=>b,TO:()=>F,kL:()=>R,iC:()=>g,cb:()=>T,fi:()=>D,Gc:()=>J,gU:()=>Y,d:()=>V,F3:()=>ie,Tu:()=>he,W2:()=>Z,mc:()=>le,Jd:()=>O,zV:()=>Ue,Lk:()=>de,ou:()=>ae,zc:()=>W,qV:()=>te,w6:()=>me,$h:()=>Oe,Jn:()=>ee,xv:()=>Me,ZV:()=>He,i7:()=>Xe,Fr:()=>U,jk:()=>G,T1:()=>q,_S:()=>fe,P6:()=>be,Kn:()=>Te,dE:()=>oe,PL:()=>ye,T:()=>De,wu:()=>Be,Km:()=>Ae,nY:()=>Ie,_d:()=>ze,T0:()=>Je,PA:()=>Ee});var w="initialize",d="name",A="getNotifyMgr",p="identifier",k="push",x="isInitialized",v="config",m="instrumentationKey",B="logger",$="length",P="time",j="processNext",L="getProcessTelContext",X="addNotificationListener",z="removeNotificationListener",ue="stopPollingInternalLogs",b="onComplete",F="getPlugin",R="flush",g="_extensions",T="splice",D="teardown",J="messageId",Y="message",V="isAsync",ie="_doTeardown",he="update",Z="getNext",le="diagLog",O="setNextPlugin",Ue="createNew",de="cookieCfg",ae="indexOf",W="substring",te="userAgent",me="split",Oe="setEnabled",ee="substr",Me="nodeType",He="apply",Xe="replace",U="enableDebugExceptions",G="logInternalMessage",q="toLowerCase",fe="call",be="type",Te="handler",oe="listeners",ye="isChildEvt",De="getCtx",Be="setCtx",Ae="complete",Ie="traceId",ze="spanId",Je="traceFlags",Ee="version"},4392:(Ve,h,y)=>{"use strict";y.d(h,{cb:()=>w,fK:()=>d,jA:()=>A,hB:()=>p,bO:()=>k,Pw:()=>v,V4:()=>m,rl:()=>B,yu:()=>$,RJ:()=>P,CY:()=>j});var w="function",d="object",A="undefined",p="prototype",k="hasOwnProperty",x="default",v=Object,m=v[p],B=v.assign,$=v.create,P=v.defineProperty,j=m[k]},2091:(Ve,h,y)=>{"use strict";y.d(h,{Rd:()=>A,ZU:()=>p,pu:()=>k});var w=y(4392),d=null;function A(x){x===void 0&&(x=!0);var v=x===!1?null:d;return v||(typeof globalThis!==w.jA&&(v=globalThis),!v&&typeof self!==w.jA&&(v=self),!v&&typeof window!==w.jA&&(v=window),!v&&typeof y.g!==w.jA&&(v=y.g),d=v),v}a(A,"getGlobal");function p(x){throw new TypeError(x)}a(p,"throwTypeError");function k(x){var v=w.yu;if(v)return v(x);if(x==null)return{};var m=typeof x;m!==w.fK&&m!==w.cb&&p("Object prototype may only be an Object:"+x);function B(){}return a(B,"tmpFunc"),B[w.hB]=x,new B}a(k,"objCreateFn")},1088:(Ve,h,y)=>{"use strict";y.d(h,{uc:()=>j,ne:()=>X,$h:()=>Y});var w=y(4392),d=y(2091),A=((0,d.Rd)()||{}).Symbol,p=((0,d.Rd)()||{}).Reflect,k=!!A,x=!!p,v="decorate",m="metadata",B="getOwnPropertySymbols",$="iterator",P=a(function(Z){for(var le,O=1,Ue=arguments.length;O<Ue;O++){le=arguments[O];for(var de in le)w.V4[w.bO].call(le,de)&&(Z[de]=le[de])}return Z},"__objAssignFnImpl"),j=w.rl||P,L=a(function(Z,le){return L=w.Pw.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,Ue){O.__proto__=Ue}||function(O,Ue){for(var de in Ue)Ue[w.bO](de)&&(O[de]=Ue[de])},L(Z,le)},"extendStaticsFn");function X(Z,le){typeof le!==w.cb&&le!==null&&(0,d.ZU)("Class extends value "+String(le)+" is not a constructor or null"),L(Z,le);function O(){this.constructor=Z}a(O,"__"),Z[w.hB]=le===null?(0,d.pu)(le):(O[w.hB]=le[w.hB],new O)}a(X,"__extendsFn");function z(Z,le){var O={};for(var Ue in Z)ObjHasOwnProperty.call(Z,Ue)&&le.indexOf(Ue)<0&&(O[Ue]=Z[Ue]);if(Z!=null&&typeof ObjClass[B]===strShimFunction)for(var de=0,ae=ObjClass[B](Z);de<ae.length;de++)le.indexOf(ae[de])<0&&ObjProto.propertyIsEnumerable.call(Z,ae[de])&&(O[ae[de]]=Z[ae[de]]);return O}a(z,"__restFn");function ue(Z,le,O,Ue){var de=arguments.length,ae=de<3?le:Ue===null?Ue=ObjClass.getOwnPropertyDescriptor(le,O):Ue,W;if(x&&typeof p[v]===strShimFunction)ae=p[v](Z,le,O,Ue);else for(var te=Z.length-1;te>=0;te--)(W=Z[te])&&(ae=(de<3?W(ae):de>3?W(le,O,ae):W(le,O))||ae);return de>3&&ae&&ObjDefineProperty(le,O,ae),ae}a(ue,"__decorateFn");function b(Z,le){return function(O,Ue){le(O,Ue,Z)}}a(b,"__paramFn");function F(Z,le){if(x&&p[m]===strShimFunction)return p[m](Z,le)}a(F,"__metadataFn");function R(Z,le){for(var O in Z)O!==strDefault&&!ObjHasOwnProperty.call(le,O)&&g(le,Z,O)}a(R,"__exportStarFn");function g(Z,le,O,Ue){Ue===void 0&&(Ue=O),ObjCreate?ObjDefineProperty(Z,Ue,{enumerable:!0,get:function(){return le[O]}}):Z[Ue]=le[O]}a(g,"__createBindingFn");function T(Z){var le=typeof A===strShimFunction&&A[$],O=le&&Z[le],Ue=0;if(O)return O.call(Z);if(Z&&typeof Z.length=="number")return{next:function(){return Z&&Ue>=Z.length&&(Z=void 0),{value:Z&&Z[Ue++],done:!Z}}};throwTypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}a(T,"__valuesFn");function D(Z,le){var O=typeof A===strShimFunction&&Z[A[$]];if(!O)return Z;var Ue=O.call(Z),de,ae=[],W;try{for(;(le===void 0||le-- >0)&&!(de=Ue.next()).done;)ae.push(de.value)}catch(te){W={error:te}}finally{try{de&&!de.done&&(O=Ue.return)&&O.call(Ue)}finally{if(W)throw W.error}}return ae}a(D,"__readFn");function J(){for(var Z=arguments,le=0,O=0,Ue=Z.length;O<Ue;O++)le+=Z[O].length;for(var de=Array(le),ae=0,O=0;O<Ue;O++)for(var W=Z[O],te=0,me=W.length;te<me;te++,ae++)de[ae]=W[te];return de}a(J,"__spreadArraysFn");function Y(Z,le){for(var O=0,Ue=le.length,de=Z.length;O<Ue;O++,de++)Z[de]=le[O];return Z}a(Y,"__spreadArrayFn");function V(Z,le){return ObjDefineProperty?ObjDefineProperty(Z,"raw",{value:le}):Z.raw=le,Z}a(V,"__makeTemplateObjectFn");function ie(Z){if(Z&&Z.__esModule)return Z;var le={};if(Z!=null)for(var O in Z)O!==strDefault&&Object.prototype.hasOwnProperty.call(Z,O)&&g(le,Z,O);return ObjCreate?ObjDefineProperty(le,strDefault,{enumerable:!0,value:Z}):le[strDefault]=Z,le}a(ie,"__importStarFn");function he(Z){return Z&&Z.__esModule?Z:{strDefault:Z}}a(he,"__importDefaultFn")},3268:(Ve,h,y)=>{"use strict";y.r(h),y.d(h,{AppInsightsCore:()=>Ca.F,ApplicationInsights:()=>oi,CoreUtils:()=>rn.Tr,Sender:()=>Zi,SeverityLevel:()=>Ta,_InternalMessageId:()=>Da.v,arrForEach:()=>K.tO,isNullOrUndefined:()=>K.le,proxyFunctions:()=>K.Vb,throwError:()=>K._y});var w=y(1679),d=y(1088),A="AppInsightsPropertiesPlugin",p="AppInsightsChannelPlugin",k="ApplicationInsightsAnalytics",x="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",v="sampleRate",m="ProcessLegacy",B="http.method",$="https://dc.services.visualstudio.com",P="/v2/track",j="not_specified",L="iKey",X="split",z="length",ue="toLowerCase",b="ingestionendpoint",F="toString",R="removeItem",g="name",T="message",D="count",J="preTriggerDate",Y="disabled",V="interval",ie="daysOfMonth",he="date",Z="getUTCDate",le="stringify",O="pathname",Ue="correlationHeaderExcludePatterns",de="indexOf",ae="extensionConfig",W="exceptions",te="parsedStack",me="properties",Oe="measurements",ee="sizeInBytes",Me="typeName",He="severityLevel",Xe="problemGroup",U="isManual",G="CreateFromInterface",q="assembly",fe="hasFullStack",be="level",Te="method",oe="fileName",ye="line",De="duration",Be="receivedResponse",Ae="substring",Ie="sanitizeKeyAndAddUniqueness",ze="sanitizeException",Je="sanitizeProperties",Ee="sanitizeMeasurements",K=y(6708),Q=y(5018),Ke=y(7630),At;function wn(E,f,S){var M=f[z],se=ln(E,f);if(se[z]!==M){for(var _e=0,Fe=se;S[Fe]!==void 0;)_e++,Fe=se[Ae](0,150-3)+Ht(_e);se=Fe}return se}a(wn,"dataSanitizeKeyAndAddUniqueness");function ln(E,f){var S;return f&&(f=(0,K.nd)(f[F]()),f[z]>150&&(S=f[Ae](0,150),(0,Q.kP)(E,2,57,"name is too long.  It has been truncated to "+150+" characters.",{name:f},!0))),S||f}a(ln,"dataSanitizeKey");function sn(E,f,S){S===void 0&&(S=1024);var M;return f&&(S=S||1024,f=(0,K.nd)(f),f.toString()[z]>S&&(M=f[F]()[Ae](0,S),(0,Q.kP)(E,2,61,"string value is too long. It has been truncated to "+S+" characters.",{value:f},!0))),M||f}a(sn,"dataSanitizeString");function or(E,f){return Lt(E,f,2048,66)}a(or,"dataSanitizeUrl");function jn(E,f){var S;return f&&f[z]>32768&&(S=f[Ae](0,32768),(0,Q.kP)(E,2,56,"message is too long, it has been truncated to "+32768+" characters.",{message:f},!0)),S||f}a(jn,"dataSanitizeMessage");function nr(E,f){var S;if(f){var M=""+f;M[z]>32768&&(S=M[Ae](0,32768),(0,Q.kP)(E,2,52,"exception is too long, it has been truncated to "+32768+" characters.",{exception:f},!0))}return S||f}a(nr,"dataSanitizeException");function Qn(E,f){if(f){var S={};(0,K.rW)(f,function(M,se){if((0,K.Kn)(se)&&(0,Ke.nS)())try{se=(0,Ke.xA)()[le](se)}catch(_e){(0,Q.kP)(E,2,49,"custom property is not valid",{exception:_e},!0)}se=sn(E,se,8192),M=wn(E,M,S),S[M]=se}),f=S}return f}a(Qn,"dataSanitizeProperties");function kn(E,f){if(f){var S={};(0,K.rW)(f,function(M,se){M=wn(E,M,S),S[M]=se}),f=S}return f}a(kn,"dataSanitizeMeasurements");function it(E,f){return f&&Lt(E,f,128,69)[F]()}a(it,"dataSanitizeId");function Lt(E,f,S,M){var se;return f&&(f=(0,K.nd)(f),f[z]>S&&(se=f[Ae](0,S),(0,Q.kP)(E,2,M,"input is too long, it has been truncated to "+S+" characters.",{data:f},!0))),se||f}a(Lt,"dataSanitizeInput");function Ht(E){var f="00"+E;return f.substr(f[z]-3)}a(Ht,"dsPadNumber");var jt=(At={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768},At[Ie]=wn,At.sanitizeKey=ln,At.sanitizeString=sn,At.sanitizeUrl=or,At.sanitizeMessage=jn,At[ze]=nr,At[Je]=Qn,At[Ee]=kn,At.sanitizeId=it,At.sanitizeInput=Lt,At.padNumber=Ht,At.trim=K.nd,At),Yt=function(){function E(f,S,M,se){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var _e=this;_e.ver=2,_e[g]=sn(f,S)||j,_e[me]=Qn(f,M),_e[Oe]=kn(f,se)}return a(E,"Event"),E.envelopeType="Microsoft.ApplicationInsights.{0}.Event",E.dataType="EventData",E}(),cn=function(){function E(f,S,M,se,_e){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var Fe=this;Fe.ver=2,S=S||j,Fe[T]=jn(f,S),Fe[me]=Qn(f,se),Fe[Oe]=kn(f,_e),M&&(Fe[He]=M)}return a(E,"Trace"),E.envelopeType="Microsoft.ApplicationInsights.{0}.Message",E.dataType="MessageData",E}(),Pn="";function Xn(E,f){return f===void 0&&(f=!1),E==null?f:E.toString()[ue]()==="true"}a(Xn,"stringToBoolOrDefault");function ur(E){(isNaN(E)||E<0)&&(E=0),E=Math.round(E);var f=Pn+E%1e3,S=Pn+Math.floor(E/1e3)%60,M=Pn+Math.floor(E/(1e3*60))%60,se=Pn+Math.floor(E/(1e3*60*60))%24,_e=Math.floor(E/(1e3*60*60*24));return f=f[z]===1?"00"+f:f[z]===2?"0"+f:f,S=S[z]<2?"0"+S:S,M=M[z]<2?"0"+M:M,se=se[z]<2?"0"+se:se,(_e>0?_e+".":Pn)+se+":"+M+":"+S+"."+f}a(ur,"msToTimeSpan");function rr(E,f){var S=null;return(0,K.tO)(E,function(M){if(M.identifier===f)return S=M,-1}),S}a(rr,"getExtensionByName");function Yn(E,f,S,M,se){return!se&&(0,K.HD)(E)&&(E==="Script error."||E==="Script error")}a(Yn,"isCrossOriginError");var ir=function(){function E(f,S,M,se,_e,Fe,$e){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var ft=this;ft.ver=2,ft.id=it(f,$e),ft.url=or(f,M),ft[g]=sn(f,S)||j,isNaN(se)||(ft[De]=ur(se)),ft[me]=Qn(f,_e),ft[Oe]=kn(f,Fe)}return a(E,"PageView"),E.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",E.dataType="PageviewData",E}(),Ir=function(){function E(f,S,M,se,_e,Fe,$e){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var ft=this;ft.ver=2,ft.url=or(f,M),ft[g]=sn(f,S)||j,ft[me]=Qn(f,_e),ft[Oe]=kn(f,Fe),$e&&(ft.domProcessing=$e.domProcessing,ft[De]=$e[De],ft.networkConnect=$e.networkConnect,ft.perfTotal=$e.perfTotal,ft[Be]=$e[Be],ft.sentRequest=$e.sentRequest)}return a(E,"PageViewPerformance"),E.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",E.dataType="PageviewPerformanceData",E}(),Dr="<no_method>",fn="error",Bn="stack",dr="stackDetails",hr="errorSrc",ei="message",Hr="description";function Zn(E,f){var S=E;return S&&!(0,K.HD)(S)&&(JSON&&JSON[le]?(S=JSON[le](E),f&&(!S||S==="{}")&&((0,K.mf)(E[F])?S=E[F]():S=""+E)):S=""+E+" - (Missing JSON.stringify)"),S||""}a(Zn,"_stringify");function I(E,f){var S=E;return E&&(S&&!(0,K.HD)(S)&&(S=E[ei]||E[Hr]||S),S&&!(0,K.HD)(S)&&(S=Zn(S,!0)),E.filename&&(S=S+" @"+(E.filename||"")+":"+(E.lineno||"?")+":"+(E.colno||"?"))),f&&f!=="String"&&f!=="Object"&&f!=="Error"&&(S||"")[de](f)===-1&&(S=f+": "+S),S||""}a(I,"_formatMessage");function ce(E){try{if((0,K.Kn)(E))return"hasFullStack"in E&&"typeName"in E}catch(f){}return!1}a(ce,"_isExceptionDetailsInternal");function Se(E){try{if((0,K.Kn)(E))return"ver"in E&&"exceptions"in E&&"properties"in E}catch(f){}return!1}a(Se,"_isExceptionInternal");function Ne(E){return E&&E.src&&(0,K.HD)(E.src)&&E.obj&&(0,K.kJ)(E.obj)}a(Ne,"_isStackDetails");function Ge(E){var f=E||"";(0,K.HD)(f)||((0,K.HD)(f[Bn])?f=f[Bn]:f=""+f);var S=f[X](`
`);return{src:f,obj:S}}a(Ge,"_convertStackObj");function je(E){for(var f=[],S=E[X](`
`),M=0;M<S[z];M++){var se=S[M];S[M+1]&&(se+="@"+S[M+1],M++),f.push(se)}return{src:E,obj:f}}a(je,"_getOperaStack");function rt(E){var f=null;if(E)try{if(E[Bn])f=Ge(E[Bn]);else if(E[fn]&&E[fn][Bn])f=Ge(E[fn][Bn]);else if(E.exception&&E.exception[Bn])f=Ge(E.exception[Bn]);else if(Ne(E))f=E;else if(Ne(E[dr]))f=E[dr];else if(window&&window.opera&&E[ei])f=je(E[T]);else if(E.reason&&E.reason[Bn])f=Ge(E.reason[Bn]);else if((0,K.HD)(E))f=Ge(E);else{var S=E[ei]||E[Hr]||"";(0,K.HD)(E[hr])&&(S&&(S+=`
`),S+=" from "+E[hr]),S&&(f=Ge(S))}}catch(M){f=Ge(M)}return f||{src:"",obj:null}}a(rt,"_getStackFromErrorObj");function ht(E){var f="";return E&&(E.obj?(0,K.tO)(E.obj,function(S){f+=S+`
`}):f=E.src||""),f}a(ht,"_formatStackTrace");function wt(E){var f,S=E.obj;if(S&&S[z]>0){f=[];var M=0,se=0;(0,K.tO)(S,function(Sn){var pr=Sn[F]();if(Pt.regex.test(pr)){var Le=new Pt(pr,M++);se+=Le[ee],f.push(Le)}});var _e=32*1024;if(se>_e)for(var Fe=0,$e=f[z]-1,ft=0,ut=Fe,Tt=$e;Fe<$e;){var Jt=f[Fe][ee],Un=f[$e][ee];if(ft+=Jt+Un,ft>_e){var Gt=Tt-ut+1;f.splice(ut,Gt);break}ut=Fe,Tt=$e,Fe++,$e--}}return f}a(wt,"_parseStack");function zt(E){var f="";if(E&&(f=E.typeName||E[g]||"",!f))try{var S=/function (.{1,200})\(/,M=S.exec(E.constructor[F]());f=M&&M[z]>1?M[1]:""}catch(se){}return f}a(zt,"_getErrorType");function ot(E){if(E)try{if(!(0,K.HD)(E)){var f=zt(E),S=Zn(E,!1);return(!S||S==="{}")&&(E[fn]&&(E=E[fn],f=zt(E)),S=Zn(E,!0)),S[de](f)!==0&&f!=="String"?f+":"+S:S}}catch(M){}return""+(E||"")}a(ot,"_formatErrorCode");var Rt=function(){function E(f,S,M,se,_e,Fe){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var $e=this;$e.ver=2,Se(S)?($e[W]=S[W]||[],$e[me]=S[me],$e[Oe]=S[Oe],S[He]&&($e[He]=S[He]),S.id&&($e.id=S.id),S[Xe]&&($e[Xe]=S[Xe]),(0,K.le)(S[U])||($e[U]=S[U])):(M||(M={}),$e[W]=[new It(f,S,M)],$e[me]=Qn(f,M),$e[Oe]=kn(f,se),_e&&($e[He]=_e),Fe&&($e.id=Fe))}return a(E,"Exception"),E.CreateAutoException=function(f,S,M,se,_e,Fe,$e,ft){var ut,Tt=zt(_e||Fe||f);return ut={},ut[T]=I(f,Tt),ut.url=S,ut.lineNumber=M,ut.columnNumber=se,ut.error=ot(_e||Fe||f),ut.evt=ot(Fe||f),ut[Me]=Tt,ut.stackDetails=rt($e||_e||Fe),ut.errorSrc=ft,ut},E.CreateFromInterface=function(f,S,M,se){var _e=S[W]&&(0,K.Mr)(S[W],function($e){return It[G](f,$e)}),Fe=new E(f,(0,d.uc)((0,d.uc)({},S),{exceptions:_e}),M,se);return Fe},E.prototype.toInterface=function(){var f,S=this,M=S.exceptions,se=S.properties,_e=S.measurements,Fe=S.severityLevel,$e=S.problemGroup,ft=S.id,ut=S.isManual,Tt=M instanceof Array&&(0,K.Mr)(M,function(Jt){return Jt.toInterface()})||void 0;return f={ver:"4.0"},f[W]=Tt,f.severityLevel=Fe,f.properties=se,f.measurements=_e,f.problemGroup=$e,f.id=ft,f.isManual=ut,f},E.CreateSimpleException=function(f,S,M,se,_e,Fe){var $e;return{exceptions:[($e={},$e[fe]=!0,$e.message=f,$e.stack=_e,$e.typeName=S,$e)]}},E.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",E.dataType="ExceptionData",E.formatError=ot,E}(),It=function(){function E(f,S,M){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var se=this;if(ce(S))se[Me]=S[Me],se[T]=S[T],se[Bn]=S[Bn],se[te]=S[te]||[],se[fe]=S[fe];else{var _e=S,Fe=_e&&_e.evt;(0,K.VZ)(_e)||(_e=_e[fn]||Fe||_e),se[Me]=sn(f,zt(_e))||j,se[T]=jn(f,I(S||_e,se[Me]))||j;var $e=S[dr]||rt(S);se[te]=wt($e),(0,K.kJ)(se[te])&&(0,K.Mr)(se[te],function(ft){return ft[q]=sn(f,ft[q])}),se[Bn]=nr(f,ht($e)),se.hasFullStack=(0,K.kJ)(se.parsedStack)&&se.parsedStack[z]>0,M&&(M[Me]=M[Me]||se[Me])}}return a(E,"_ExceptionDetails"),E.prototype.toInterface=function(){var f,S=this,M=S[te]instanceof Array&&(0,K.Mr)(S[te],function(_e){return _e.toInterface()}),se=(f={id:S.id,outerId:S.outerId,typeName:S[Me],message:S[T],hasFullStack:S[fe],stack:S[Bn]},f[te]=M||void 0,f);return se},E.CreateFromInterface=function(f,S){var M=S[te]instanceof Array&&(0,K.Mr)(S[te],function(_e){return Pt[G](_e)})||S[te],se=new E(f,(0,d.uc)((0,d.uc)({},S),{parsedStack:M}));return se},E}(),Pt=function(){function E(f,S){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var M=this;if(M[ee]=0,typeof f=="string"){var se=f;M[be]=S,M[Te]=Dr,M[q]=(0,K.nd)(se),M[oe]="",M[ye]=0;var _e=se.match(E.regex);_e&&_e[z]>=5&&(M[Te]=(0,K.nd)(_e[2])||M[Te],M[oe]=(0,K.nd)(_e[4]),M[ye]=parseInt(_e[5])||0)}else M[be]=f[be],M[Te]=f[Te],M[q]=f[q],M[oe]=f[oe],M[ye]=f[ye],M[ee]=0;M.sizeInBytes+=M.method[z],M.sizeInBytes+=M.fileName[z],M.sizeInBytes+=M.assembly[z],M[ee]+=E.baseSize,M.sizeInBytes+=M.level.toString()[z],M.sizeInBytes+=M.line.toString()[z]}return a(E,"_StackFrame"),E.CreateFromInterface=function(f){return new E(f,null)},E.prototype.toInterface=function(){var f=this;return{level:f[be],method:f[Te],assembly:f[q],fileName:f[oe],line:f[ye]}},E.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,E.baseSize=58,E}(),mt=function(){function E(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return a(E,"DataPoint"),E}(),yn=function(){function E(f,S,M,se,_e,Fe,$e,ft,ut){this.aiDataContract={ver:1,metrics:1,properties:0};var Tt=this;Tt.ver=2;var Jt=new mt;Jt[D]=se>0?se:void 0,Jt.max=isNaN(Fe)||Fe===null?void 0:Fe,Jt.min=isNaN(_e)||_e===null?void 0:_e,Jt[g]=sn(f,S)||j,Jt.value=M,Jt.stdDev=isNaN($e)||$e===null?void 0:$e,Tt.metrics=[Jt],Tt[me]=Qn(f,ft),Tt[Oe]=kn(f,ut)}return a(E,"Metric"),E.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",E.dataType="MetricData",E}(),rn=y(5843),ar=y(3242),Gn=y(4878),qn=y(4869);function Mr(E){var f=null;if((0,K.mf)(Event))f=new Event(E);else{var S=(0,Ke.Me)();S&&S.createEvent&&(f=S.createEvent("Event"),f.initEvent(E,!0,!0))}return f}a(Mr,"createDomEvent");var Pr=y(4873),On=(0,Pr.cc)({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),ti=y(2091),Nt=(0,Pr.By)({LocalStorage:0,SessionStorage:1}),$n=(0,Pr.By)({AI:0,AI_AND_W3C:1,W3C:2}),mn=void 0,an=void 0;function Cn(){return li()?Vn(Nt.LocalStorage):null}a(Cn,"_getLocalStorageObject");function Vn(E){try{if((0,K.le)((0,ti.Rd)()))return null;var f=new Date()[F](),S=(0,Ke.a8)(E===Nt.LocalStorage?"localStorage":"sessionStorage");S.setItem(f,f);var M=S.getItem(f)!==f;if(S[R](f),!M)return S}catch(se){}return null}a(Vn,"_getVerifiedStorageObject");function Sr(){return qe()?Vn(Nt.SessionStorage):null}a(Sr,"_getSessionStorageObject");function kr(){mn=!1,an=!1}a(kr,"utlDisableStorage");function ui(){mn=li(!0),an=qe(!0)}a(ui,"utlEnableStorage");function li(E){return(E||mn===void 0)&&(mn=!!Vn(Nt.LocalStorage)),mn}a(li,"utlCanUseLocalStorage");function pi(E,f){var S=Cn();if(S!==null)try{return S.getItem(f)}catch(M){mn=!1,(0,Q.kP)(E,2,1,"Browser failed read of local storage. "+(0,K.jj)(M),{exception:(0,Ke.eU)(M)})}return null}a(pi,"utlGetLocalStorage");function Ni(E,f,S){var M=Cn();if(M!==null)try{return M.setItem(f,S),!0}catch(se){mn=!1,(0,Q.kP)(E,2,3,"Browser failed write to local storage. "+(0,K.jj)(se),{exception:(0,Ke.eU)(se)})}return!1}a(Ni,"utlSetLocalStorage");function Ti(E,f){var S=Cn();if(S!==null)try{return S[R](f),!0}catch(M){mn=!1,(0,Q.kP)(E,2,5,"Browser failed removal of local storage item. "+(0,K.jj)(M),{exception:(0,Ke.eU)(M)})}return!1}a(Ti,"utlRemoveStorage");function qe(E){return(E||an===void 0)&&(an=!!Vn(Nt.SessionStorage)),an}a(qe,"utlCanUseSessionStorage");function bi(){var E=[];return qe()&&(0,K.rW)((0,Ke.a8)("sessionStorage"),function(f){E.push(f)}),E}a(bi,"utlGetSessionStorageKeys");function mi(E,f){var S=Sr();if(S!==null)try{return S.getItem(f)}catch(M){an=!1,(0,Q.kP)(E,2,2,"Browser failed read of session storage. "+(0,K.jj)(M),{exception:(0,Ke.eU)(M)})}return null}a(mi,"utlGetSessionStorage");function vr(E,f,S){var M=Sr();if(M!==null)try{return M.setItem(f,S),!0}catch(se){an=!1,(0,Q.kP)(E,2,4,"Browser failed write to session storage. "+(0,K.jj)(se),{exception:(0,Ke.eU)(se)})}return!1}a(vr,"utlSetSessionStorage");function Tr(E,f){var S=Sr();if(S!==null)try{return S[R](f),!0}catch(M){an=!1,(0,Q.kP)(E,2,6,"Browser failed removal of session storage item. "+(0,K.jj)(M),{exception:(0,Ke.eU)(M)})}return!1}a(Tr,"utlRemoveSessionStorage");var Wr=(0,Ke.Me)()||{},xr=0,Ai=[null,null,null,null,null];function ni(E){var f=xr,S=Ai,M=S[f];return Wr.createElement?S[f]||(M=S[f]=Wr.createElement("a")):M={host:Qe(E,!0)},M.href=E,f++,f>=S[z]&&(f=0),xr=f,M}a(ni,"urlParseUrl");function Vr(E){var f,S=ni(E);return S&&(f=S.href),f}a(Vr,"urlGetAbsoluteUrl");function Li(E){var f,S=ni(E);return S&&(f=S[O]),f}a(Li,"urlGetPathName");function Pe(E,f){return E?E.toUpperCase()+" "+f:f}a(Pe,"urlGetCompleteUrl");function Qe(E,f){var S=st(E,f)||"";if(S){var M=S.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(M!=null&&M[z]>3&&(0,K.HD)(M[2])&&M[2][z]>0)return M[2]+(M[3]||"")}return S}a(Qe,"urlParseHost");function st(E,f){var S=null;if(E){var M=E.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(M!=null&&M[z]>2&&(0,K.HD)(M[2])&&M[2][z]>0&&(S=M[2]||"",f&&M[z]>2)){var se=(M[1]||"")[ue](),_e=M[3]||"";(se==="http"&&_e===":80"||se==="https"&&_e===":443")&&(_e=""),S+=_e}}return S}a(st,"urlParseFullHost");var Ze=[$+P,"https://breeze.aimon.applicationinsights.io"+P,"https://dc-int.services.visualstudio.com"+P];function _t(E){return(0,K.UA)(Ze,E[ue]())!==-1}a(_t,"isInternalApplicationInsightsEndpoint");var xt={NotSpecified:j,createDomEvent:Mr,disableStorage:kr,isInternalApplicationInsightsEndpoint:_t,canUseLocalStorage:li,getStorage:pi,setStorage:Ni,removeStorage:Ti,canUseSessionStorage:qe,getSessionStorageKeys:bi,getSessionStorage:mi,setSessionStorage:vr,removeSessionStorage:Tr,disableCookies:rn.oF,canUseCookies:rn.vn,disallowsSameSiteNone:ar.UY,setCookie:rn.d8,stringToBoolOrDefault:Xn,getCookie:rn.ej,deleteCookie:rn.kT,trim:K.nd,newId:Gn.pZ,random32:function(){return(0,Gn._l)(!0)},generateW3CId:rn.DO,isArray:K.kJ,isError:K.VZ,isDate:K.J_,toISOStringForIE8:K.Y6,getIEVersion:Ke.sA,msToTimeSpan:ur,isCrossOriginError:Yn,dump:Ke.eU,getExceptionName:K.jj,addEventHandler:qn.pZ,IsBeaconApiSupported:Ke.MF,getExtension:rr},lt={parseUrl:ni,getAbsoluteUrl:Vr,getPathName:Li,getCompleteUrl:Pe,parseHost:Qe,parseFullHost:st},$t={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(E,f,S){if(!f||E&&E.disableCorrelationHeaders)return!1;if(E&&E[Ue]){for(var M=0;M<E.correlationHeaderExcludePatterns[z];M++)if(E[Ue][M].test(f))return!1}var se=ni(f).host[ue]();if(se&&(se[de](":443")!==-1||se[de](":80")!==-1)&&(se=(st(f,!0)||"")[ue]()),(!E||!E.enableCorsCorrelation)&&se&&se!==S)return!1;var _e=E&&E.correlationHeaderDomains;if(_e){var Fe;if((0,K.tO)(_e,function(ut){var Tt=new RegExp(ut.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));Fe=Fe||Tt.test(se)}),!Fe)return!1}var $e=E&&E.correlationHeaderExcludedDomains;if(!$e||$e[z]===0)return!0;for(var M=0;M<$e[z];M++){var ft=new RegExp($e[M].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(ft.test(se))return!1}return se&&se[z]>0},getCorrelationContext:function(E){if(E){var f=$t.getCorrelationContextValue(E,On[1]);if(f&&f!==$t.correlationIdPrefix)return f}},getCorrelationContextValue:function(E,f){if(E)for(var S=E[X](","),M=0;M<S[z];++M){var se=S[M][X]("=");if(se[z]===2&&se[0]===f)return se[1]}}};function Ot(E,f,S,M){var se,_e=M,Fe=M;if(f&&f[z]>0){var $e=ni(f);if(se=$e.host,!_e)if($e[O]!=null){var ft=$e.pathname[z]===0?"/":$e[O];ft.charAt(0)!=="/"&&(ft="/"+ft),Fe=$e[O],_e=sn(E,S?S+" "+ft:ft)}else _e=sn(E,f)}else se=M,_e=M;return{target:se,name:_e,data:Fe}}a(Ot,"AjaxHelperParseDependencyPath");function tn(){var E=(0,Ke.r)();if(E&&E.now&&E.timing){var f=E.now()+E.timing.navigationStart;if(f>0)return f}return(0,K.m6)()}a(tn,"dateTimeUtilsNow");function hn(E,f){var S=null;return E!==0&&f!==0&&!(0,K.le)(E)&&!(0,K.le)(f)&&(S=f-E),S}a(hn,"dateTimeUtilsDuration");var Hn={Now:tn,GetDuration:hn};function Nn(E,f){var S=E||{};return{getName:function(){return S[_DYN_NAME]},setName:function(M){f&&f.setName(M),S[_DYN_NAME]=M},getTraceId:function(){return S.traceID},setTraceId:function(M){f&&f.setTraceId(M),isValidTraceId(M)&&(S.traceID=M)},getSpanId:function(){return S.parentID},setSpanId:function(M){f&&f.setSpanId(M),isValidSpanId(M)&&(S.parentID=M)},getTraceFlags:function(){return S.traceFlags},setTraceFlags:function(M){f&&f.setTraceFlags(M),S.traceFlags=M}}}a(Nn,"createDistributedTraceContextFromTrace");var Wn=function(){function E(f,S,M,se,_e,Fe,$e,ft,ut,Tt,Jt,Un){ut===void 0&&(ut="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Gt=this;Gt.ver=2,Gt.id=S,Gt[De]=ur(_e),Gt.success=Fe,Gt.resultCode=$e+"",Gt.type=sn(f,ut);var Sn=Ot(f,M,ft,se);Gt.data=or(f,se)||Sn.data,Gt.target=sn(f,Sn.target),Tt&&(Gt.target="".concat(Gt.target," | ").concat(Tt)),Gt[g]=sn(f,Sn[g]),Gt[me]=Qn(f,Jt),Gt[Oe]=kn(f,Un)}return a(E,"RemoteDependencyData"),E.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",E.dataType="RemoteDependencyData",E}(),Dn=y(5883),kt=y(4063);function Ft(E){var f="ai."+E+".";return function(S){return f+S}}a(Ft,"_aiNameFunc");var qt=Ft("application"),en=Ft("device"),N=Ft("location"),re=Ft("operation"),we=Ft("session"),et=Ft("user"),yt=Ft("cloud"),Ct=Ft("internal"),Zt=function(E){(0,d.ne)(f,E);function f(){return E.call(this)||this}return a(f,"ContextTagKeys"),f}((0,K.hl)({applicationVersion:qt("ver"),applicationBuild:qt("build"),applicationTypeId:qt("typeId"),applicationId:qt("applicationId"),applicationLayer:qt("layer"),deviceId:en("id"),deviceIp:en("ip"),deviceLanguage:en("language"),deviceLocale:en("locale"),deviceModel:en("model"),deviceFriendlyName:en("friendlyName"),deviceNetwork:en("network"),deviceNetworkName:en("networkName"),deviceOEMName:en("oemName"),deviceOS:en("os"),deviceOSVersion:en("osVersion"),deviceRoleInstance:en("roleInstance"),deviceRoleName:en("roleName"),deviceScreenResolution:en("screenResolution"),deviceType:en("type"),deviceMachineName:en("machineName"),deviceVMName:en("vmName"),deviceBrowser:en("browser"),deviceBrowserVersion:en("browserVersion"),locationIp:N("ip"),locationCountry:N("country"),locationProvince:N("province"),locationCity:N("city"),operationId:re("id"),operationName:re("name"),operationParentId:re("parentId"),operationRootId:re("rootId"),operationSyntheticSource:re("syntheticSource"),operationCorrelationVector:re("correlationVector"),sessionId:we("id"),sessionIsFirst:we("isFirst"),sessionIsNew:we("isNew"),userAccountAcquisitionDate:et("accountAcquisitionDate"),userAccountId:et("accountId"),userAgent:et("userAgent"),userId:et("id"),userStoreRegion:et("storeRegion"),userAuthUserId:et("authUserId"),userAnonymousUserAcquisitionDate:et("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:et("authUserAcquisitionDate"),cloudName:yt("name"),cloudRole:yt("role"),cloudRoleVer:yt("roleVer"),cloudRoleInstance:yt("roleInstance"),cloudEnvironment:yt("environment"),cloudLocation:yt("location"),cloudDeploymentUnit:yt("deploymentUnit"),internalNodeName:Ct("nodeName"),internalSdkVersion:Ct("sdkVersion"),internalAgentVersion:Ct("agentVersion"),internalSnippet:Ct("snippet"),internalSdkSrc:Ct("sdkSrc")})),Vt={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Wt=new Zt,Xt=function(){function E(f,S,M){var se=this,_e=this;_e.ver=1,_e.sampleRate=100,_e.tags={},_e[g]=sn(f,M)||j,_e.data=S,_e.time=(0,K.Y6)(new Date),_e.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return se.sampleRate===100?4:1},tags:1,data:1}}return a(E,"Envelope"),E}(),nn=function(){function E(f,S){this.aiDataContract={baseType:1,baseData:1},this.baseType=f,this.baseData=S}return a(E,"Data"),E}(),bt="duration",ct="tags",En="deviceType",vn="data",Tn="name",xn="traceID",Mt="length",Or="stringify",lr="measurements",gn="dataType",Br="envelopeType",Nr="toString",br="onLine",Jr="isOnline",zr="enqueue",Qr="count",Lr="push",gr="emitLineDelimitedJson",ri="clear",ii="batchPayloads",Fr="markAsSent",Ur="clearSent",Kr="bufferOverride",fi="BUFFER_KEY",Xr="SENT_BUFFER_KEY",$r="MAX_BUFFER_SIZE",er="namePrefix",jr="maxBatchSizeInBytes",ve="triggerSend",Ye="diagLog",tt="onunloadDisableBeacon",nt="isBeaconApiDisabled",gt="_sender",Dt="_senderConfig",Bt="enableSessionStorageBuffer",ge="_buffer",ke="samplingPercentage",xe="instrumentationKey",at="endpointUrl",Et="customHeaders",Ut="disableXhr",pn="onunloadDisableFetch",dn="disableTelemetry",An="baseType",ai="sampleRate",_i="convertUndefined",Ri="_xhrReadyStateChange",sr="_onError",yi="_onPartialSuccess",Zr="_onSuccess",Ii="itemsAccepted",da="itemsReceived",ki="isRetryDisabled",ji="setRequestHeader",Fa="maxBatchInterval",Ei="eventsSendRequest",ha="disableInstrumentationKeyValidation",Yi="getSamplingScore",Ma="getHashCodeScore",Gi="baseType",zn="baseData",yr="properties",va="true";function Ln(E,f,S){return(0,K.sO)(E,f,S,K.fQ)}a(Ln,"_setValueIf");function si(E,f,S){var M=S[ct]=S[ct]||{},se=f.ext=f.ext||{},_e=f[ct]=f[ct]||[],Fe=se.user;Fe&&(Ln(M,Wt.userAuthUserId,Fe.authId),Ln(M,Wt.userId,Fe.id||Fe.localId));var $e=se.app;$e&&Ln(M,Wt.sessionId,$e.sesId);var ft=se.device;ft&&(Ln(M,Wt.deviceId,ft.id||ft.localId),Ln(M,Wt[En],ft.deviceClass),Ln(M,Wt.deviceIp,ft.ip),Ln(M,Wt.deviceModel,ft.model),Ln(M,Wt[En],ft[En]));var ut=f.ext.web;if(ut){Ln(M,Wt.deviceLanguage,ut.browserLang),Ln(M,Wt.deviceBrowserVersion,ut.browserVer),Ln(M,Wt.deviceBrowser,ut.browser);var Tt=S[vn]=S[vn]||{},Jt=Tt[zn]=Tt[zn]||{},Un=Jt[yr]=Jt[yr]||{};Ln(Un,"domain",ut.domain),Ln(Un,"isManual",ut.isManual?va:null),Ln(Un,"screenRes",ut.screenRes),Ln(Un,"userConsent",ut.userConsent?va:null)}var Gt=se.os;Gt&&Ln(M,Wt.deviceOS,Gt[Tn]);var Sn=se.trace;Sn&&(Ln(M,Wt.operationParentId,Sn.parentID),Ln(M,Wt.operationName,sn(E,Sn[Tn])),Ln(M,Wt.operationId,Sn[xn]));for(var pr={},Le=_e[Mt]-1;Le>=0;Le--){var tr=_e[Le];(0,K.rW)(tr,function(mr,cr){pr[mr]=cr}),_e.splice(Le,1)}(0,K.rW)(_e,function(mr,cr){pr[mr]=cr});var Fn=(0,d.uc)((0,d.uc)({},M),pr);Fn[Wt.internalSdkVersion]||(Fn[Wt.internalSdkVersion]="javascript:".concat(xa.Version)),S[ct]=(0,K.Ax)(Fn)}a(si,"_extractPartAExtensions");function di(E,f,S){(0,K.le)(E)||(0,K.rW)(E,function(M,se){(0,K.hj)(se)?S[M]=se:(0,K.HD)(se)?f[M]=se:(0,Ke.nS)()&&(f[M]=(0,Ke.xA)()[Or](se))})}a(di,"_extractPropsAndMeasurements");function Pi(E,f){(0,K.le)(E)||(0,K.rW)(E,function(S,M){E[S]=M||f})}a(Pi,"_convertPropsUndefinedToCustomDefinedValue");function Oi(E,f,S,M){var se=new Xt(E,M,f);Ln(se,"sampleRate",S[v]),(S[zn]||{}).startTime&&(se.time=(0,K.Y6)(S[zn].startTime)),se.iKey=S.iKey;var _e=S.iKey.replace(/-/g,"");return se[Tn]=se[Tn].replace("{0}",_e),si(E,S,se),S[ct]=S[ct]||[],(0,K.Ax)(se)}a(Oi,"_createEnvelope");function hi(E,f){(0,K.le)(f[zn])&&(0,Q.kP)(E,1,46,"telemetryItem.baseData cannot be null.")}a(hi,"EnvelopeCreatorInit");var xa={Version:"2.8.12"};function Ua(E,f,S){hi(E,f);var M=f[zn][lr]||{},se=f[zn][yr]||{};di(f[vn],se,M),(0,K.le)(S)||Pi(se,S);var _e=f[zn];if((0,K.le)(_e))return(0,Q.jV)(E,"Invalid input for dependency data"),null;var Fe=_e[yr]&&_e[yr][B]?_e[yr][B]:"GET",$e=new Wn(E,_e.id,_e.target,_e[Tn],_e[bt],_e.success,_e.responseCode,Fe,_e.type,_e.correlationContext,se,M),ft=new nn(Wn[gn],$e);return Oi(E,Wn[Br],f,ft)}a(Ua,"DependencyEnvelopeCreator");function ga(E,f,S){hi(E,f);var M={},se={};f[Gi]!==Yt[gn]&&(M.baseTypeSource=f[Gi]),f[Gi]===Yt[gn]?(M=f[zn][yr]||{},se=f[zn][lr]||{}):f[zn]&&di(f[zn],M,se),di(f[vn],M,se),(0,K.le)(S)||Pi(M,S);var _e=f[zn][Tn],Fe=new Yt(E,_e,M,se),$e=new nn(Yt[gn],Fe);return Oi(E,Yt[Br],f,$e)}a(ga,"EventEnvelopeCreator");function vi(E,f,S){hi(E,f);var M=f[zn][lr]||{},se=f[zn][yr]||{};di(f[vn],se,M),(0,K.le)(S)||Pi(se,S);var _e=f[zn],Fe=Rt.CreateFromInterface(E,_e,se,M),$e=new nn(Rt[gn],Fe);return Oi(E,Rt[Br],f,$e)}a(vi,"ExceptionEnvelopeCreator");function Vi(E,f,S){hi(E,f);var M=f[zn],se=M[yr]||{},_e=M[lr]||{};di(f[vn],se,_e),(0,K.le)(S)||Pi(se,S);var Fe=new yn(E,M[Tn],M.average,M.sampleCount,M.min,M.max,M.stdDev,se,_e),$e=new nn(yn[gn],Fe);return Oi(E,yn[Br],f,$e)}a(Vi,"MetricEnvelopeCreator");function Ji(E,f,S){hi(E,f);var M,se=f[zn];!(0,K.le)(se)&&!(0,K.le)(se[yr])&&!(0,K.le)(se[yr][bt])?(M=se[yr][bt],delete se[yr][bt]):!(0,K.le)(f[vn])&&!(0,K.le)(f[vn][bt])&&(M=f[vn][bt],delete f[vn][bt]);var _e=f[zn],Fe;((f.ext||{}).trace||{})[xn]&&(Fe=f.ext.trace[xn]);var $e=_e.id||Fe,ft=_e[Tn],ut=_e.uri,Tt=_e[yr]||{},Jt=_e[lr]||{};if((0,K.le)(_e.refUri)||(Tt.refUri=_e.refUri),(0,K.le)(_e.pageType)||(Tt.pageType=_e.pageType),(0,K.le)(_e.isLoggedIn)||(Tt.isLoggedIn=_e.isLoggedIn[Nr]()),!(0,K.le)(_e[yr])){var Un=_e[yr];(0,K.rW)(Un,function(pr,Le){Tt[pr]=Le})}di(f[vn],Tt,Jt),(0,K.le)(S)||Pi(Tt,S);var Gt=new ir(E,ft,ut,M,Tt,Jt,$e),Sn=new nn(ir[gn],Gt);return Oi(E,ir[Br],f,Sn)}a(Ji,"PageViewEnvelopeCreator");function Qi(E,f,S){hi(E,f);var M=f[zn],se=M[Tn],_e=M.uri||M.url,Fe=M[yr]||{},$e=M[lr]||{};di(f[vn],Fe,$e),(0,K.le)(S)||Pi(Fe,S);var ft=new Ir(E,se,_e,void 0,Fe,$e,M),ut=new nn(Ir[gn],ft);return Oi(E,Ir[Br],f,ut)}a(Qi,"PageViewPerformanceEnvelopeCreator");function ka(E,f,S){hi(E,f);var M=f[zn].message,se=f[zn].severityLevel,_e=f[zn][yr]||{},Fe=f[zn][lr]||{};di(f[vn],_e,Fe),(0,K.le)(S)||Pi(_e,S);var $e=new cn(E,M,se,_e,Fe),ft=new nn(cn[gn],$e);return Oi(E,cn[Br],f,ft)}a(ka,"TraceEnvelopeCreator");function Fi(E,f){(0,qn.QY)(E,null,null,f)}a(Fi,"_disableEvents");function pa(E){var f,S=(0,Ke.Me)(),M=(0,Ke.jW)(),se=!1,_e=!0,Fe=(0,qn.jU)((0,Dn.J)("OfflineListener"),E);try{if(ft((0,Ke.Jj)())&&(se=!0),S){var $e=S.body||S;$e.ononline&&ft($e)&&(se=!0)}se&&M&&!(0,K.le)(M[br])&&(_e=M[br])}catch(Gt){se=!1}function ft(Gt){var Sn=!1;return Gt&&(Sn=(0,qn.XO)(Gt,"online",ut,Fe),Sn&&(0,qn.XO)(Gt,"offline",Tt,Fe)),Sn}a(ft,"_enableEvents");function ut(){_e=!0}a(ut,"_setOnline");function Tt(){_e=!1}a(Tt,"_setOffline");function Jt(){var Gt=!0;return se?Gt=_e:M&&!(0,K.le)(M[br])&&(Gt=M[br]),Gt}a(Jt,"_isOnline");function Un(){var Gt=(0,Ke.Jj)();if(Gt&&se){if(Fi(Gt,Fe),S){var Sn=S.body||S;(0,K.o8)(Sn.ononline)||Fi(Sn,Fe)}se=!1}}return a(Un,"_unload"),f={},f[Jr]=Jt,f.isListening=function(){return se},f.unload=Un,f}a(pa,"createOfflineListener");var wr=function(){function E(f,S){var M=[],se=!1;this._get=function(){return M},this._set=function(_e){return M=_e,M},(0,w.Z)(E,this,function(_e){_e[zr]=function(Fe){if(_e[Qr]()>=S.eventsLimitInMem()){se||((0,Q.kP)(f,2,105,"Maximum in-memory buffer size reached: "+_e[Qr](),!0),se=!0);return}M[Lr](Fe)},_e[Qr]=function(){return M[Mt]},_e.size=function(){for(var Fe=M[Mt],$e=0;$e<M[Mt];$e++)Fe+=M[$e][Mt];return S[gr]()||(Fe+=2),Fe},_e[ri]=function(){M=[],se=!1},_e.getItems=function(){return M.slice(0)},_e[ii]=function(Fe){if(Fe&&Fe[Mt]>0){var $e=S[gr]()?Fe.join(`
`):"["+Fe.join(",")+"]";return $e}return null}})}return a(E,"BaseSendBuffer"),E.__ieDyn=1,E}(),ma=function(E){(0,d.ne)(f,E);function f(S,M){var se=E.call(this,S,M)||this;return(0,w.Z)(f,se,function(_e,Fe){_e[Fr]=function($e){Fe[ri]()},_e[Ur]=function($e){}}),se}return a(f,"ArraySendBuffer"),f.__ieDyn=1,f}(wr),_a=function(E){(0,d.ne)(f,E);function f(S,M){var se=E.call(this,S,M)||this,_e=!1,Fe=M[Kr]()||{getItem:mi,setItem:vr},$e=Fe.getItem,ft=Fe.setItem;return(0,w.Z)(f,se,function(ut,Tt){var Jt=pr(f[fi]),Un=pr(f[Xr]),Gt=ut._set(Jt.concat(Un));Gt[Mt]>f[$r]&&(Gt[Mt]=f[$r]),Le(f[Xr],[]),Le(f[fi],Gt),ut[zr]=function(tr){if(ut[Qr]()>=f[$r]){_e||((0,Q.kP)(S,2,67,"Maximum buffer size reached: "+ut[Qr](),!0),_e=!0);return}Tt[zr](tr),Le(f[fi],ut._get())},ut[ri]=function(){Tt[ri](),Le(f[fi],ut._get()),Le(f[Xr],[]),_e=!1},ut[Fr]=function(tr){Le(f[fi],ut._set(Sn(tr,ut._get())));var Fn=pr(f[Xr]);Fn instanceof Array&&tr instanceof Array&&(Fn=Fn.concat(tr),Fn[Mt]>f[$r]&&((0,Q.kP)(S,1,67,"Sent buffer reached its maximum size: "+Fn[Mt],!0),Fn[Mt]=f[$r]),Le(f[Xr],Fn))},ut[Ur]=function(tr){var Fn=pr(f[Xr]);Fn=Sn(tr,Fn),Le(f[Xr],Fn)};function Sn(tr,Fn){var mr=[];return(0,K.tO)(Fn,function(cr){!(0,K.mf)(cr)&&(0,K.UA)(tr,cr)===-1&&mr[Lr](cr)}),mr}a(Sn,"_removePayloadsFromBuffer");function pr(tr){var Fn=tr;try{Fn=M[er]&&M[er]()?M[er]()+"_"+Fn:Fn;var mr=$e(S,Fn);if(mr){var cr=(0,Ke.xA)().parse(mr);if((0,K.HD)(cr)&&(cr=(0,Ke.xA)().parse(cr)),cr&&(0,K.kJ)(cr))return cr}}catch(ci){(0,Q.kP)(S,1,42," storage key: "+Fn+", "+(0,K.jj)(ci),{exception:(0,Ke.eU)(ci)})}return[]}a(pr,"_getBuffer");function Le(tr,Fn){var mr=tr;try{mr=M[er]&&M[er]()?M[er]()+"_"+mr:mr;var cr=JSON[Or](Fn);ft(S,mr,cr)}catch(ci){ft(S,mr,JSON[Or]([])),(0,Q.kP)(S,2,41," storage key: "+mr+", "+(0,K.jj)(ci)+". Buffer cleared",{exception:(0,Ke.eU)(ci)})}}a(Le,"_setBuffer")}),se}return a(f,"SessionStorageSendBuffer"),f.BUFFER_KEY="AI_buffer",f.SENT_BUFFER_KEY="AI_sentBuffer",f.MAX_BUFFER_SIZE=2e3,f}(wr),Ba=function(){function E(f){(0,w.Z)(E,this,function(S){S.serialize=function(Fe){var $e=M(Fe,"root");try{return(0,Ke.xA)()[Or]($e)}catch(ft){(0,Q.kP)(f,1,48,ft&&(0,K.mf)(ft[Nr])?ft[Nr]():"Error serializing object",null,!0)}};function M(Fe,$e){var ft="__aiCircularRefCheck",ut={};if(!Fe)return(0,Q.kP)(f,1,48,"cannot serialize object because it is null or undefined",{name:$e},!0),ut;if(Fe[ft])return(0,Q.kP)(f,2,50,"Circular reference detected while serializing object",{name:$e},!0),ut;if(!Fe.aiDataContract){if($e==="measurements")ut=_e(Fe,"number",$e);else if($e==="properties")ut=_e(Fe,"string",$e);else if($e==="tags")ut=_e(Fe,"string",$e);else if((0,K.kJ)(Fe))ut=se(Fe,$e);else{(0,Q.kP)(f,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:$e},!0);try{(0,Ke.xA)()[Or](Fe),ut=Fe}catch(Tt){(0,Q.kP)(f,1,48,Tt&&(0,K.mf)(Tt[Nr])?Tt[Nr]():"Error serializing object",null,!0)}}return ut}return Fe[ft]=!0,(0,K.rW)(Fe.aiDataContract,function(Tt,Jt){var Un=(0,K.mf)(Jt)?Jt()&1:Jt&1,Gt=(0,K.mf)(Jt)?Jt()&4:Jt&4,Sn=Jt&2,pr=Fe[Tt]!==void 0,Le=(0,K.Kn)(Fe[Tt])&&Fe[Tt]!==null;if(Un&&!pr&&!Sn)(0,Q.kP)(f,1,24,"Missing required field specification. The field is required but not present on source",{field:Tt,name:$e});else if(!Gt){var tr=void 0;Le?Sn?tr=se(Fe[Tt],Tt):tr=M(Fe[Tt],Tt):tr=Fe[Tt],tr!==void 0&&(ut[Tt]=tr)}}),delete Fe[ft],ut}a(M,"_serializeObject");function se(Fe,$e){var ft;if(Fe)if(!(0,K.kJ)(Fe))(0,Q.kP)(f,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:$e},!0);else{ft=[];for(var ut=0;ut<Fe[Mt];ut++){var Tt=Fe[ut],Jt=M(Tt,$e+"["+ut+"]");ft[Lr](Jt)}}return ft}a(se,"_serializeArray");function _e(Fe,$e,ft){var ut;return Fe&&(ut={},(0,K.rW)(Fe,function(Tt,Jt){if($e==="string")Jt===void 0?ut[Tt]="undefined":Jt===null?ut[Tt]="null":Jt[Nr]?ut[Tt]=Jt[Nr]():ut[Tt]="invalid field: toString() is not defined.";else if($e==="number")if(Jt===void 0)ut[Tt]="undefined";else if(Jt===null)ut[Tt]="null";else{var Un=parseFloat(Jt);isNaN(Un)?ut[Tt]="NaN":ut[Tt]=Un}else ut[Tt]="invalid field: "+ft+" is of unknown type.",(0,Q.kP)(f,1,ut[Tt],null,!0)})),ut}a(_e,"_serializeStringMap")})}return a(E,"Serializer"),E.__ieDyn=1,E}(),$a=8,Ha=function(){function E(){}return a(E,"HashCodeScoreGenerator"),E.prototype.getHashCodeScore=function(f){var S=this.getHashCode(f)/E.INT_MAX_VALUE;return S*100},E.prototype.getHashCode=function(f){if(f==="")return 0;for(;f[Mt]<$a;)f=f.concat(f);for(var S=5381,M=0;M<f[Mt];++M)S=(S<<5)+S+f.charCodeAt(M),S=S&S;return Math.abs(S)},E.INT_MAX_VALUE=2147483647,E}(),Xi=function(){function E(){var f=this,S=new Ha,M=new Zt;f[Yi]=function(se){var _e=0;return se[ct]&&se[ct][M.userId]?_e=S.getHashCodeScore(se[ct][M.userId]):se.ext&&se.ext.user&&se.ext.user.id?_e=S[Ma](se.ext.user.id):se[ct]&&se[ct][M.operationId]?_e=S.getHashCodeScore(se[ct][M.operationId]):se.ext&&se.ext.telemetryTrace&&se.ext.telemetryTrace[xn]?_e=S.getHashCodeScore(se.ext.telemetryTrace[xn]):_e=Math.random()*100,_e}}return a(E,"SamplingScoreGenerator"),E}(),Va=function(){function E(f,S){this.INT_MAX_VALUE=2147483647;var M=S||(0,Q.vH)(null);(f>100||f<0)&&(M.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:f},!0),f=100),this[ai]=f,this.samplingScoreGenerator=new Xi}return a(E,"Sample"),E.prototype.isSampledIn=function(f){var S=this[ai],M=!1;return S==null||S>=100||f.baseType===yn[gn]?!0:(M=this.samplingScoreGenerator[Yi](f)<S,M)},E}(),Yr,ya=65e3;function Si(E){try{return E.responseText}catch(f){}return null}a(Si,"_getResponseText");function Mi(){var E,f,S;return E={endpointUrl:function(){return $+P}},E[gr]=function(){return!1},E[Fa]=function(){return 15e3},E[jr]=function(){return 102400},E[dn]=function(){return!1},E[Bt]=function(){return!0},E[Kr]=function(){return!1},E[ki]=function(){return!1},E[nt]=function(){return!0},E[Ut]=function(){return!1},E[pn]=function(){return!1},E[tt]=function(){return!1},E[xe]=function(){return f},E[er]=function(){return f},E[ke]=function(){return 100},E[Et]=function(){return S},E[_i]=function(){return f},E.eventsLimitInMem=function(){return 1e4},E}a(Mi,"_getDefaultAppInsightsChannelConfig");var Ja=(Yr={},Yr[Yt.dataType]=ga,Yr[cn.dataType]=ka,Yr[ir.dataType]=Ji,Yr[Ir.dataType]=Qi,Yr[Rt.dataType]=vi,Yr[yn.dataType]=Vi,Yr[Wn.dataType]=Ua,Yr),Zi=function(E){(0,d.ne)(f,E);function f(){var S=E.call(this)||this;S.priority=1001,S.identifier=p,S._senderConfig=Mi();var M,se,_e,Fe,$e,ft,ut,Tt,Jt=0,Un,Gt,Sn,pr;return(0,w.Z)(f,S,function(Le,tr){zi(),Le.pause=function(){oa(),Fe=!0},Le.resume=function(){Fe&&(Fe=!1,se=null,Le._buffer.size()>Le._senderConfig[jr]()&&Le[ve](!0,null,10),sa())},Le.flush=function(Re,dt,pt){if(Re===void 0&&(Re=!0),!Fe){oa();try{Le[ve](Re,null,pt||1)}catch(Kt){(0,Q.kP)(Le[Ye](),1,22,"flush failed, telemetry will not be collected: "+(0,K.jj)(Kt),{exception:(0,Ke.eU)(Kt)})}}},Le.onunloadFlush=function(){if(!Fe)if((Le._senderConfig[tt]()===!1||Le[Dt][nt]()===!1)&&(0,Ke.MF)())try{Le[ve](!0,ci,2)}catch(Re){(0,Q.kP)(Le[Ye](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+(0,K.jj)(Re),{exception:(0,Ke.eU)(Re)})}else Le.flush()},Le.addHeader=function(Re,dt){Tt[Re]=dt},Le.initialize=function(Re,dt,pt,Kt){Le.isInitialized()&&(0,Q.kP)(Le[Ye](),1,28,"Sender is already initialized"),tr.initialize(Re,dt,pt,Kt);var _n=Le._getTelCtx(),Rn=Le.identifier;ft=new Ba(dt.logger),M=0,se=null,_e=0,Le[gt]=null,ut=0;var In=Le[Ye]();pr=(0,qn.jU)((0,Dn.J)("Sender"),dt.evtNamespace&&dt.evtNamespace()),Sn=pa(pr);var Ar=Mi();(0,K.rW)(Ar,function(Gr,_r){Le[Dt][Gr]=function(){var Ci=_n.getConfig(Rn,Gr,_r());return!Ci&&Gr==="endpointUrl"&&(Ci=_r()),Ci}});var qr=Le[Dt][Bt]()&&!!(Le._senderConfig[Kr]()||qe());Le[ge]=qr?new _a(In,Le[Dt]):new ma(In,Le[Dt]),Le._sample=new Va(Le[Dt][ke](),In),Pa(Re)||(0,Q.kP)(In,1,100,"Invalid Instrumentation key "+Re[xe]),!_t(Le._senderConfig.endpointUrl())&&Le._senderConfig.customHeaders()&&Le._senderConfig.customHeaders()[Mt]>0&&(0,K.tO)(Le[Dt][Et](),function(Gr){S.addHeader(Gr.header,Gr.value)});var Er=Le[Dt],Cr=null;!Er[Ut]()&&(0,Ke.cp)()?Cr=Ra:!Er[Ut]()&&(0,Ke.Z3)()&&(Cr=Hi),!Cr&&(0,Ke.JO)()&&(Cr=ta),Un=Cr||Hi,!Er[nt]()&&(0,Ke.MF)()&&(Cr=$i),Le[gt]=Cr||Hi,!Er[pn]()&&(0,Ke.JO)(!0)?Gt=Wa:(0,Ke.MF)()?Gt=$i:!Er[Ut]()&&(0,Ke.cp)()?Gt=Ra:!Er[Ut]()&&(0,Ke.Z3)()?Gt=Hi:Gt=Un},Le.processTelemetry=function(Re,dt){dt=Le._getTelCtx(dt);var pt=dt[Ye]();try{if(Le[Dt][dn]())return;if(!Re){(0,Q.kP)(pt,1,7,"Cannot send empty telemetry");return}if(Re.baseData&&!Re[An]){(0,Q.kP)(pt,1,70,"Cannot send telemetry without baseData and baseType");return}if(Re[An]||(Re[An]="EventData"),!Le[gt]){(0,Q.kP)(pt,1,28,"Sender was not initialized");return}if(Fn(Re))Re[v]=Le._sample[ai];else{(0,Q.kP)(pt,2,33,"Telemetry item was sampled out and not sent",{SampleRate:Le._sample[ai]});return}var Kt=Le[Dt][_i]()||void 0,_n=Re.iKey||Le[Dt][xe](),Rn=f.constructEnvelope(Re,_n,pt,Kt);if(!Rn){(0,Q.kP)(pt,1,47,"Unable to create an AppInsights envelope");return}var In=!1;if(Re[ct]&&Re[ct][m]&&((0,K.tO)(Re[ct][m],function(Cr){try{Cr&&Cr(Rn)===!1&&(In=!0,(0,Q.jV)(pt,"Telemetry processor check returns false"))}catch(Gr){(0,Q.kP)(pt,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,K.jj)(Gr),{exception:(0,Ke.eU)(Gr)},!0)}}),delete Re[ct][m]),In)return;var Ar=ft.serialize(Rn),qr=Le[ge],Er=qr.size();Er+Ar[Mt]>Le[Dt][jr]()&&(!Sn||Sn[Jr]())&&Le[ve](!0,null,10),qr[zr](Ar),sa()}catch(Cr){(0,Q.kP)(pt,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+(0,K.jj)(Cr),{exception:(0,Ke.eU)(Cr)})}Le.processNext(Re,dt)},Le[Ri]=function(Re,dt,pt){Re.readyState===4&&mr(Re.status,dt,Re.responseURL,pt,wi(Re),Si(Re)||Re.response)},Le[ve]=function(Re,dt,pt){if(Re===void 0&&(Re=!0),!Fe)try{var Kt=Le[ge];if(Le[Dt][dn]())Kt[ri]();else{if(Kt[Qr]()>0){var _n=Kt.getItems();Ia(pt||0,Re),dt?dt.call(S,_n,Re):Le[gt](_n,Re)}_e=+new Date}oa()}catch(In){var Rn=(0,Ke.sA)();(!Rn||Rn>9)&&(0,Q.kP)(Le[Ye](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+(0,K.jj)(In),{exception:(0,Ke.eU)(In)})}},Le._doTeardown=function(Re,dt){Le.onunloadFlush(),Sn.unload(),zi()},Le[sr]=function(Re,dt,pt){(0,Q.kP)(Le[Ye](),2,26,"Failed to send telemetry.",{message:dt}),Le._buffer[Ur](Re)},Le[yi]=function(Re,dt){for(var pt=[],Kt=[],_n=dt.errors.reverse(),Rn=0,In=_n;Rn<In.length;Rn++){var Ar=In[Rn],qr=Re.splice(Ar.index,1)[0];Aa(Ar.statusCode)?Kt[Lr](qr):pt[Lr](qr)}Re[Mt]>0&&Le[Zr](Re,dt[Ii]),pt[Mt]>0&&Le[sr](pt,wi(null,["partial success",dt[Ii],"of",dt.itemsReceived].join(" "))),Kt[Mt]>0&&(ia(Kt),(0,Q.kP)(Le[Ye](),2,40,"Partial success. Delivered: "+Re[Mt]+", Failed: "+pt[Mt]+". Will retry to send "+Kt[Mt]+" our of "+dt[da]+" items"))},Le[Zr]=function(Re,dt){Le._buffer[Ur](Re)},Le._xdrOnLoad=function(Re,dt){var pt=Si(Re);if(Re&&(pt+""=="200"||pt===""))M=0,Le[Zr](dt,0);else{var Kt=ra(pt);Kt&&Kt.itemsReceived&&Kt.itemsReceived>Kt[Ii]&&!Le[Dt][ki]()?Le[yi](dt,Kt):Le[sr](dt,ua(Re))}};function Fn(Re){return Le._sample.isSampledIn(Re)}a(Fn,"_isSampledIn");function mr(Re,dt,pt,Kt,_n,Rn){var In=null;if(Le._appId||(In=ra(Rn),In&&In.appId&&(Le._appId=In.appId)),(Re<200||Re>=300)&&Re!==0){if((Re===301||Re===307||Re===308)&&!cr(pt)){Le[sr](dt,_n);return}!Le[Dt][ki]()&&Aa(Re)?(ia(dt),(0,Q.kP)(Le[Ye](),2,40,". Response code "+Re+". Will retry to send "+dt[Mt]+" items.")):Le[sr](dt,_n)}else if(Sn&&!Sn[Jr]()){if(!Le[Dt][ki]()){var Ar=10;ia(dt,Ar),(0,Q.kP)(Le[Ye](),2,40,". Offline - Response Code: ".concat(Re,". Offline status: ").concat(!Sn.isOnline(),". Will retry to send ").concat(dt.length," items."))}}else cr(pt),Re===206?(In||(In=ra(Rn)),In&&!Le[Dt][ki]()?Le[yi](dt,In):Le[sr](dt,_n)):(M=0,Le[Zr](dt,Kt))}a(mr,"_checkResponsStatus");function cr(Re){return ut>=10?!1:!(0,K.le)(Re)&&Re!==""&&Re!==Le[Dt][at]()?(Le[Dt][at]=function(){return Re},++ut,!0):!1}a(cr,"_checkAndUpdateEndPointUrl");function ci(Re,dt){Gt?Gt(Re,!1):$i(Re,dt)}a(ci,"_doUnloadSend");function ba(Re){var dt=(0,Ke.jW)(),pt=Le[ge],Kt=Le[Dt][at](),_n=Le._buffer[ii](Re),Rn=new Blob([_n],{type:"text/plain;charset=UTF-8"}),In=dt.sendBeacon(Kt,Rn);return In&&(pt[Fr](Re),Le._onSuccess(Re,Re[Mt])),In}a(ba,"_doBeaconSend");function $i(Re,dt){if((0,K.kJ)(Re)&&Re[Mt]>0&&!ba(Re)){for(var pt=[],Kt=0;Kt<Re[Mt];Kt++){var _n=Re[Kt];ba([_n])||pt[Lr](_n)}pt[Mt]>0&&(Un&&Un(pt,!0),(0,Q.kP)(Le[Ye](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}a($i,"_beaconSender");function Hi(Re,dt){var pt=new XMLHttpRequest,Kt=Le[Dt][at]();try{pt[x]=!0}catch(Rn){}pt.open("POST",Kt,dt),pt[ji]("Content-type","application/json"),_t(Kt)&&pt[ji](On[6],On[7]),(0,K.tO)((0,K.FY)(Tt),function(Rn){pt[ji](Rn,Tt[Rn])}),pt.onreadystatechange=function(){return Le._xhrReadyStateChange(pt,Re,Re[Mt])},pt.onerror=function(Rn){return Le[sr](Re,wi(pt),Rn)};var _n=Le._buffer[ii](Re);pt.send(_n),Le._buffer[Fr](Re)}a(Hi,"_xhrSender");function Wa(Re,dt){if((0,K.kJ)(Re)){for(var pt=Re[Mt],Kt=0;Kt<Re[Mt];Kt++)pt+=Re[Kt][Mt];Jt+pt<=ya?na(Re,!1):(0,Ke.MF)()?$i(Re,dt):(Un&&Un(Re,!0),(0,Q.kP)(Le[Ye](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}a(Wa,"_fetchKeepAliveSender");function ta(Re,dt){na(Re,!0)}a(ta,"_fetchSender");function na(Re,dt){var pt,Kt=Le[Dt][at](),_n=Le._buffer[ii](Re),Rn=new Blob([_n],{type:"application/json"}),In=new Headers,Ar=_n[Mt],qr=!1,Er=!1;_t(Kt)&&In.append(On[6],On[7]),(0,K.tO)((0,K.FY)(Tt),function(_r){In.append(_r,Tt[_r])});var Cr=(pt={method:"POST",headers:In,body:Rn},pt[x]=!0,pt);dt||(Cr.keepalive=!0,qr=!0,Jt+=Ar);var Gr=new Request(Kt,Cr);try{Gr[x]=!0}catch(_r){}Le._buffer[Fr](Re);try{fetch(Gr).then(function(_r){dt||(Jt-=Ar,Ar=0),Er||(Er=!0,_r.ok?_r.text().then(function(Ci){mr(_r.status,Re,_r.url,Re[Mt],_r.statusText,Ci)}):Le[sr](Re,_r.statusText))}).catch(function(_r){dt||(Jt-=Ar,Ar=0),Er||(Er=!0,Le[sr](Re,_r.message))})}catch(_r){Er||Le[sr](Re,(0,Ke.eU)(_r))}qr&&!Er&&(Er=!0,Le._onSuccess(Re,Re[Mt]))}a(na,"_doFetchSender");function ra(Re){try{if(Re&&Re!==""){var dt=(0,Ke.xA)().parse(Re);if(dt&&dt.itemsReceived&&dt.itemsReceived>=dt[Ii]&&dt.itemsReceived-dt.itemsAccepted===dt.errors[Mt])return dt}}catch(pt){(0,Q.kP)(Le[Ye](),1,43,"Cannot parse the response. "+(0,K.jj)(pt),{response:Re})}return null}a(ra,"_parseResponse");function ia(Re,dt){if(dt===void 0&&(dt=1),!(!Re||Re[Mt]===0)){var pt=Le[ge];pt[Ur](Re),M++;for(var Kt=0,_n=Re;Kt<_n.length;Kt++){var Rn=_n[Kt];pt[zr](Rn)}aa(dt),sa()}}a(ia,"_resendPayload");function aa(Re){var dt=10,pt;if(M<=1)pt=dt;else{var Kt=(Math.pow(2,M)-1)/2,_n=Math.floor(Math.random()*Kt*dt)+1;_n=Re*_n,pt=Math.max(Math.min(_n,3600),dt)}var Rn=(0,K.m6)()+pt*1e3;se=Rn}a(aa,"_setRetryTime");function sa(){if(!$e&&!Fe){var Re=se?Math.max(0,se-(0,K.m6)()):0,dt=Math.max(Le[Dt][Fa](),Re);$e=setTimeout(function(){$e=null,Le[ve](!0,null,1)},dt)}}a(sa,"_setupTimer");function oa(){clearTimeout($e),$e=null,se=null}a(oa,"_clearScheduledTimer");function Aa(Re){return Re===401||Re===403||Re===408||Re===429||Re===500||Re===502||Re===503||Re===504}a(Aa,"_isRetriable");function wi(Re,dt){return Re?"XMLHttpRequest,Status:"+Re.status+",Response:"+Si(Re)||0||0:dt}a(wi,"_formatErrorMessageXhr");function Ra(Re,dt){var pt=Le[ge],Kt=(0,Ke.Jj)(),_n=new XDomainRequest;_n.onload=function(){return Le._xdrOnLoad(_n,Re)},_n.onerror=function(qr){return Le[sr](Re,ua(_n),qr)};var Rn=Kt&&Kt.location&&Kt.location.protocol||"";if(Le[Dt][at]().lastIndexOf(Rn,0)!==0){(0,Q.kP)(Le[Ye](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),pt[ri]();return}var In=Le[Dt][at]().replace(/^(https?:)/,"");_n.open("POST",In);var Ar=pt[ii](Re);_n.send(Ar),pt[Fr](Re)}a(Ra,"_xdrSender");function ua(Re,dt){return Re?"XDomainRequest,Response:"+Si(Re)||0:dt}a(ua,"_formatErrorMessageXdr");function Wi(){var Re="getNotifyMgr";return Le.core[Re]?Le.core[Re]():Le.core._notificationManager}a(Wi,"_getNotifyMgr");function Ia(Re,dt){var pt=Wi();if(pt&&pt[Ei])try{pt[Ei](Re,dt)}catch(Kt){(0,Q.kP)(Le[Ye](),1,74,"send request notification failed: "+(0,K.jj)(Kt),{exception:(0,Ke.eU)(Kt)})}}a(Ia,"_notifySendRequest");function Pa(Re){var dt=(0,K.le)(Re[ha])?!1:Re[ha];if(dt)return!0;var pt="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",Kt=new RegExp(pt);return Kt.test(Re[xe])}a(Pa,"_validateInstrumentationKey");function zi(){Le[gt]=null,Le[ge]=null,Le._appId=null,Le._sample=null,Tt={},Sn=null,M=0,se=null,_e=null,Fe=!1,$e=null,ft=null,ut=0,Jt=0,Un=null,Gt=null,pr=null}a(zi,"_initDefaults")}),S}return a(f,"Sender"),f.constructEnvelope=function(S,M,se,_e){var Fe;M!==S.iKey&&!(0,K.le)(M)?Fe=(0,d.uc)((0,d.uc)({},S),{iKey:M}):Fe=S;var $e=Ja[Fe.baseType]||ga;return $e(se,Fe,_e)},f}(kt.i),Ea=";",Sa="=";function wa(E){if(!E)return{};var f=E[X](Ea),S=(0,K.Xz)(f,function(se,_e){var Fe=_e[X](Sa);if(Fe[z]===2){var $e=Fe[0][ue](),ft=Fe[1];se[$e]=ft}return se},{});if((0,K.FY)(S)[z]>0){if(S.endpointsuffix){var M=S.location?S.location+".":"";S[b]=S[b]||"https://"+M+"dc."+S.endpointsuffix}S[b]=S[b]||$}return S}a(wa,"parseConnectionString");var Qa={parse:wa},Ca=y(5121),qi="instrumentationKey",ea="connectionString",Bi="diagnosticLogInterval",Da=y(7310),Ta=(0,Pr.By)({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),oi=function(){function E(f){var S=new Ca.F;((0,K.le)(f)||(0,K.le)(f[qi])&&(0,K.le)(f[ea]))&&(0,K._y)("Invalid input configuration"),(0,w.Z)(E,this,function(M){if(f[ea]){var se=wa(f[ea]),_e=se.ingestionendpoint;f.endpointUrl=_e?_e+P:f.endpointUrl,f[qi]=se.instrumentationkey||f[qi]}M.config=f,Fe(),M.initialize=Fe,M.getSKUDefaults=function(){M.config[Bi]=M.config[Bi]&&M.config[Bi]>0?M.config[Bi]:1e4},M.getSKUDefaults(),(0,K.Vb)(M,S,["track","flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb"]);function Fe(){S.initialize(M.config,[new Zi]),S.pollInternalLogs()}a(Fe,"_initialize")})}return a(E,"ApplicationInsights"),E.__ieDyn=1,E}()},1679:(Ve,h,y)=>{"use strict";y.d(h,{Z:()=>Xe});/*!
 * Microsoft Dynamic Proto Utility, 1.1.9
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var w,d="undefined",A="constructor",p="prototype",k="function",x="_dynInstFuncs",v="_isDynProxy",m="_dynClass",B="_dynCls$",$="_dynInstChk",P=$,j="_dfOpts",L="_unknown_",X="__proto__",z="_dyn"+X,ue="__dynProto$Gbl",b="_dynInstProto",F="useBaseInst",R="setInstFuncs",g=Object,T=g.getPrototypeOf,D=g.getOwnPropertyNames;function J(){var U;return typeof globalThis!==d&&(U=globalThis),!U&&typeof self!==d&&(U=self),!U&&typeof window!==d&&(U=window),!U&&typeof y.g!==d&&(U=y.g),U||{}}a(J,"_getGlobal");var Y=J(),V=Y[ue]||(Y[ue]={o:(w={},w[R]=!0,w[F]=!0,w),n:1e3});function ie(U,G){return U&&g[p].hasOwnProperty.call(U,G)}a(ie,"_hasOwnProperty");function he(U){return U&&(U===g[p]||U===Array[p])}a(he,"_isObjectOrArrayPrototype");function Z(U){return he(U)||U===Function[p]}a(Z,"_isObjectArrayOrFunctionPrototype");function le(U){var G;if(U){if(T)return T(U);var q=U[X]||U[p]||(U[A]?U[A][p]:null);G=U[z]||q,ie(U,z)||(delete U[b],G=U[z]=U[b]||U[z],U[b]=q)}return G}a(le,"_getObjProto");function O(U,G){var q=[];if(D)q=D(U);else for(var fe in U)typeof fe=="string"&&ie(U,fe)&&q.push(fe);if(q&&q.length>0)for(var be=0;be<q.length;be++)G(q[be])}a(O,"_forEachProp");function Ue(U,G,q){return G!==A&&typeof U[G]===k&&(q||ie(U,G))}a(Ue,"_isDynamicCandidate");function de(U){throw new TypeError("DynamicProto: "+U)}a(de,"_throwTypeError");function ae(U){var G={};return O(U,function(q){!G[q]&&Ue(U,q,!1)&&(G[q]=U[q])}),G}a(ae,"_getInstanceFuncs");function W(U,G){for(var q=U.length-1;q>=0;q--)if(U[q]===G)return!0;return!1}a(W,"_hasVisited");function te(U,G,q,fe){function be(De,Be,Ae){var Ie=Be[Ae];if(Ie[v]&&fe){var ze=De[x]||{};ze[P]!==!1&&(Ie=(ze[Be[m]]||{})[Ae]||Ie)}return function(){return Ie.apply(De,arguments)}}a(be,"_instFuncProxy");var Te={};O(q,function(De){Te[De]=be(G,q,De)});for(var oe=le(U),ye=[];oe&&!Z(oe)&&!W(ye,oe);)O(oe,function(De){!Te[De]&&Ue(oe,De,!T)&&(Te[De]=be(G,oe,De))}),ye.push(oe),oe=le(oe);return Te}a(te,"_getBaseFuncs");function me(U,G,q,fe){var be=null;if(U&&ie(q,m)){var Te=U[x]||{};if(be=(Te[q[m]]||{})[G],be||de("Missing ["+G+"] "+k),!be[$]&&Te[P]!==!1){for(var oe=!ie(U,G),ye=le(U),De=[];oe&&ye&&!Z(ye)&&!W(De,ye);){var Be=ye[G];if(Be){oe=Be===fe;break}De.push(ye),ye=le(ye)}try{oe&&(U[G]=be),be[$]=1}catch(Ae){Te[P]=!1}}}return be}a(me,"_getInstFunc");function Oe(U,G,q){var fe=G[U];return fe===q&&(fe=le(G)[U]),typeof fe!==k&&de("["+U+"] is not a "+k),fe}a(Oe,"_getProtoFunc");function ee(U,G,q,fe,be){function Te(De,Be){var Ae=a(function(){var Ie=me(this,Be,De,Ae)||Oe(Be,De,Ae);return Ie.apply(this,arguments)},"dynProtoProxy");return Ae[v]=1,Ae}if(a(Te,"_createDynamicPrototype"),!he(U)){var oe=q[x]=q[x]||{},ye=oe[G]=oe[G]||{};oe[P]!==!1&&(oe[P]=!!be),O(q,function(De){Ue(q,De,!1)&&q[De]!==fe[De]&&(ye[De]=q[De],delete q[De],(!ie(U,De)||U[De]&&!U[De][v])&&(U[De]=Te(U,De)))})}}a(ee,"_populatePrototype");function Me(U,G){if(T){for(var q=[],fe=le(G);fe&&!Z(fe)&&!W(q,fe);){if(fe===U)return!0;q.push(fe),fe=le(fe)}return!1}return!0}a(Me,"_checkPrototype");function He(U,G){return ie(U,p)?U.name||G||L:((U||{})[A]||{}).name||G||L}a(He,"_getObjName");function Xe(U,G,q,fe){ie(U,p)||de("theClass is an invalid class definition.");var be=U[p];Me(be,G)||de("["+He(U)+"] not in hierarchy of ["+He(G)+"]");var Te=null;ie(be,m)?Te=be[m]:(Te=B+He(U,"_")+"$"+V.n,V.n++,be[m]=Te);var oe=Xe[j],ye=!!oe[F];ye&&fe&&fe[F]!==void 0&&(ye=!!fe[F]);var De=ae(G),Be=te(be,G,De,ye);q(G,Be);var Ae=!!T&&!!oe[R];Ae&&fe&&(Ae=!!fe[R]),ee(be,Te,G,De,Ae!==!1)}a(Xe,"dynamicProto"),Xe[j]=V.o},6232:(Ve,h,y)=>{"use strict";const w=y(8641),d=y(8692),A=y(1474),p=y(5870),k=a((x,v={})=>{let m=[];if(Array.isArray(x))for(let B of x){let $=k.create(B,v);Array.isArray($)?m.push(...$):m.push($)}else m=[].concat(k.create(x,v));return v&&v.expand===!0&&v.nodupes===!0&&(m=[...new Set(m)]),m},"braces");k.parse=(x,v={})=>p(x,v),k.stringify=(x,v={})=>w(typeof x=="string"?k.parse(x,v):x,v),k.compile=(x,v={})=>(typeof x=="string"&&(x=k.parse(x,v)),d(x,v)),k.expand=(x,v={})=>{typeof x=="string"&&(x=k.parse(x,v));let m=A(x,v);return v.noempty===!0&&(m=m.filter(Boolean)),v.nodupes===!0&&(m=[...new Set(m)]),m},k.create=(x,v={})=>x===""||x.length<3?[x]:v.expand!==!0?k.compile(x,v):k.expand(x,v),Ve.exports=k},8692:(Ve,h,y)=>{"use strict";const w=y(1516),d=y(3596),A=a((p,k={})=>{let x=a((v,m={})=>{let B=d.isInvalidBrace(m),$=v.invalid===!0&&k.escapeInvalid===!0,P=B===!0||$===!0,j=k.escapeInvalid===!0?"\\":"",L="";if(v.isOpen===!0||v.isClose===!0)return j+v.value;if(v.type==="open")return P?j+v.value:"(";if(v.type==="close")return P?j+v.value:")";if(v.type==="comma")return v.prev.type==="comma"?"":P?v.value:"|";if(v.value)return v.value;if(v.nodes&&v.ranges>0){let X=d.reduce(v.nodes),z=w(...X,{...k,wrap:!1,toRegex:!0});if(z.length!==0)return X.length>1&&z.length>1?`(${z})`:z}if(v.nodes)for(let X of v.nodes)L+=x(X,v);return L},"walk");return x(p)},"compile");Ve.exports=A},7007:Ve=>{"use strict";Ve.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}},1474:(Ve,h,y)=>{"use strict";const w=y(1516),d=y(8641),A=y(3596),p=a((x="",v="",m=!1)=>{let B=[];if(x=[].concat(x),v=[].concat(v),!v.length)return x;if(!x.length)return m?A.flatten(v).map($=>`{${$}}`):v;for(let $ of x)if(Array.isArray($))for(let P of $)B.push(p(P,v,m));else for(let P of v)m===!0&&typeof P=="string"&&(P=`{${P}}`),B.push(Array.isArray(P)?p($,P,m):$+P);return A.flatten(B)},"append"),k=a((x,v={})=>{let m=v.rangeLimit===void 0?1e3:v.rangeLimit,B=a(($,P={})=>{$.queue=[];let j=P,L=P.queue;for(;j.type!=="brace"&&j.type!=="root"&&j.parent;)j=j.parent,L=j.queue;if($.invalid||$.dollar){L.push(p(L.pop(),d($,v)));return}if($.type==="brace"&&$.invalid!==!0&&$.nodes.length===2){L.push(p(L.pop(),["{}"]));return}if($.nodes&&$.ranges>0){let b=A.reduce($.nodes);if(A.exceedsLimit(...b,v.step,m))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let F=w(...b,v);F.length===0&&(F=d($,v)),L.push(p(L.pop(),F)),$.nodes=[];return}let X=A.encloseBrace($),z=$.queue,ue=$;for(;ue.type!=="brace"&&ue.type!=="root"&&ue.parent;)ue=ue.parent,z=ue.queue;for(let b=0;b<$.nodes.length;b++){let F=$.nodes[b];if(F.type==="comma"&&$.type==="brace"){b===1&&z.push(""),z.push("");continue}if(F.type==="close"){L.push(p(L.pop(),z,X));continue}if(F.value&&F.type!=="open"){z.push(p(z.pop(),F.value));continue}F.nodes&&B(F,$)}return z},"walk");return A.flatten(B(x))},"expand");Ve.exports=k},5870:(Ve,h,y)=>{"use strict";const w=y(8641),{MAX_LENGTH:d,CHAR_BACKSLASH:A,CHAR_BACKTICK:p,CHAR_COMMA:k,CHAR_DOT:x,CHAR_LEFT_PARENTHESES:v,CHAR_RIGHT_PARENTHESES:m,CHAR_LEFT_CURLY_BRACE:B,CHAR_RIGHT_CURLY_BRACE:$,CHAR_LEFT_SQUARE_BRACKET:P,CHAR_RIGHT_SQUARE_BRACKET:j,CHAR_DOUBLE_QUOTE:L,CHAR_SINGLE_QUOTE:X,CHAR_NO_BREAK_SPACE:z,CHAR_ZERO_WIDTH_NOBREAK_SPACE:ue}=y(7007),b=a((F,R={})=>{if(typeof F!="string")throw new TypeError("Expected a string");let g=R||{},T=typeof g.maxLength=="number"?Math.min(d,g.maxLength):d;if(F.length>T)throw new SyntaxError(`Input length (${F.length}), exceeds max characters (${T})`);let D={type:"root",input:F,nodes:[]},J=[D],Y=D,V=D,ie=0,he=F.length,Z=0,le=0,O,Ue={};const de=a(()=>F[Z++],"advance"),ae=a(W=>{if(W.type==="text"&&V.type==="dot"&&(V.type="text"),V&&V.type==="text"&&W.type==="text"){V.value+=W.value;return}return Y.nodes.push(W),W.parent=Y,W.prev=V,V=W,W},"push");for(ae({type:"bos"});Z<he;)if(Y=J[J.length-1],O=de(),!(O===ue||O===z)){if(O===A){ae({type:"text",value:(R.keepEscaping?O:"")+de()});continue}if(O===j){ae({type:"text",value:"\\"+O});continue}if(O===P){ie++;let W=!0,te;for(;Z<he&&(te=de());){if(O+=te,te===P){ie++;continue}if(te===A){O+=de();continue}if(te===j&&(ie--,ie===0))break}ae({type:"text",value:O});continue}if(O===v){Y=ae({type:"paren",nodes:[]}),J.push(Y),ae({type:"text",value:O});continue}if(O===m){if(Y.type!=="paren"){ae({type:"text",value:O});continue}Y=J.pop(),ae({type:"text",value:O}),Y=J[J.length-1];continue}if(O===L||O===X||O===p){let W=O,te;for(R.keepQuotes!==!0&&(O="");Z<he&&(te=de());){if(te===A){O+=te+de();continue}if(te===W){R.keepQuotes===!0&&(O+=te);break}O+=te}ae({type:"text",value:O});continue}if(O===B){le++;let W=V.value&&V.value.slice(-1)==="$"||Y.dollar===!0;Y=ae({type:"brace",open:!0,close:!1,dollar:W,depth:le,commas:0,ranges:0,nodes:[]}),J.push(Y),ae({type:"open",value:O});continue}if(O===$){if(Y.type!=="brace"){ae({type:"text",value:O});continue}let W="close";Y=J.pop(),Y.close=!0,ae({type:W,value:O}),le--,Y=J[J.length-1];continue}if(O===k&&le>0){if(Y.ranges>0){Y.ranges=0;let W=Y.nodes.shift();Y.nodes=[W,{type:"text",value:w(Y)}]}ae({type:"comma",value:O}),Y.commas++;continue}if(O===x&&le>0&&Y.commas===0){let W=Y.nodes;if(le===0||W.length===0){ae({type:"text",value:O});continue}if(V.type==="dot"){if(Y.range=[],V.value+=O,V.type="range",Y.nodes.length!==3&&Y.nodes.length!==5){Y.invalid=!0,Y.ranges=0,V.type="text";continue}Y.ranges++,Y.args=[];continue}if(V.type==="range"){W.pop();let te=W[W.length-1];te.value+=V.value+O,V=te,Y.ranges--;continue}ae({type:"dot",value:O});continue}ae({type:"text",value:O})}do if(Y=J.pop(),Y.type!=="root"){Y.nodes.forEach(me=>{me.nodes||(me.type==="open"&&(me.isOpen=!0),me.type==="close"&&(me.isClose=!0),me.nodes||(me.type="text"),me.invalid=!0)});let W=J[J.length-1],te=W.nodes.indexOf(Y);W.nodes.splice(te,1,...Y.nodes)}while(J.length>0);return ae({type:"eos"}),D},"parse");Ve.exports=b},8641:(Ve,h,y)=>{"use strict";const w=y(3596);Ve.exports=(d,A={})=>{let p=a((k,x={})=>{let v=A.escapeInvalid&&w.isInvalidBrace(x),m=k.invalid===!0&&A.escapeInvalid===!0,B="";if(k.value)return(v||m)&&w.isOpenOrClose(k)?"\\"+k.value:k.value;if(k.value)return k.value;if(k.nodes)for(let $ of k.nodes)B+=p($);return B},"stringify");return p(d)}},3596:(Ve,h)=>{"use strict";h.isInteger=y=>typeof y=="number"?Number.isInteger(y):typeof y=="string"&&y.trim()!==""?Number.isInteger(Number(y)):!1,h.find=(y,w)=>y.nodes.find(d=>d.type===w),h.exceedsLimit=(y,w,d=1,A)=>A===!1||!h.isInteger(y)||!h.isInteger(w)?!1:(Number(w)-Number(y))/Number(d)>=A,h.escapeNode=(y,w=0,d)=>{let A=y.nodes[w];!A||(d&&A.type===d||A.type==="open"||A.type==="close")&&A.escaped!==!0&&(A.value="\\"+A.value,A.escaped=!0)},h.encloseBrace=y=>y.type!=="brace"?!1:y.commas>>0+y.ranges>>0==0?(y.invalid=!0,!0):!1,h.isInvalidBrace=y=>y.type!=="brace"?!1:y.invalid===!0||y.dollar?!0:y.commas>>0+y.ranges>>0==0||y.open!==!0||y.close!==!0?(y.invalid=!0,!0):!1,h.isOpenOrClose=y=>y.type==="open"||y.type==="close"?!0:y.open===!0||y.close===!0,h.reduce=y=>y.reduce((w,d)=>(d.type==="text"&&w.push(d.value),d.type==="range"&&(d.type="text"),w),[]),h.flatten=(...y)=>{const w=[],d=a(A=>{for(let p=0;p<A.length;p++){let k=A[p];Array.isArray(k)?d(k,w):k!==void 0&&w.push(k)}return w},"flat");return d(y),w}},1516:(Ve,h,y)=>{"use strict";/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const w=y(6529),d=y(2999),A=a(g=>g!==null&&typeof g=="object"&&!Array.isArray(g),"isObject"),p=a(g=>T=>g===!0?Number(T):String(T),"transform"),k=a(g=>typeof g=="number"||typeof g=="string"&&g!=="","isValidValue"),x=a(g=>Number.isInteger(+g),"isNumber"),v=a(g=>{let T=`${g}`,D=-1;if(T[0]==="-"&&(T=T.slice(1)),T==="0")return!1;for(;T[++D]==="0";);return D>0},"zeros"),m=a((g,T,D)=>typeof g=="string"||typeof T=="string"?!0:D.stringify===!0,"stringify"),B=a((g,T,D)=>{if(T>0){let J=g[0]==="-"?"-":"";J&&(g=g.slice(1)),g=J+g.padStart(J?T-1:T,"0")}return D===!1?String(g):g},"pad"),$=a((g,T)=>{let D=g[0]==="-"?"-":"";for(D&&(g=g.slice(1),T--);g.length<T;)g="0"+g;return D?"-"+g:g},"toMaxLen"),P=a((g,T)=>{g.negatives.sort((ie,he)=>ie<he?-1:ie>he?1:0),g.positives.sort((ie,he)=>ie<he?-1:ie>he?1:0);let D=T.capture?"":"?:",J="",Y="",V;return g.positives.length&&(J=g.positives.join("|")),g.negatives.length&&(Y=`-(${D}${g.negatives.join("|")})`),J&&Y?V=`${J}|${Y}`:V=J||Y,T.wrap?`(${D}${V})`:V},"toSequence"),j=a((g,T,D,J)=>{if(D)return d(g,T,{wrap:!1,...J});let Y=String.fromCharCode(g);if(g===T)return Y;let V=String.fromCharCode(T);return`[${Y}-${V}]`},"toRange"),L=a((g,T,D)=>{if(Array.isArray(g)){let J=D.wrap===!0,Y=D.capture?"":"?:";return J?`(${Y}${g.join("|")})`:g.join("|")}return d(g,T,D)},"toRegex"),X=a((...g)=>new RangeError("Invalid range arguments: "+w.inspect(...g)),"rangeError"),z=a((g,T,D)=>{if(D.strictRanges===!0)throw X([g,T]);return[]},"invalidRange"),ue=a((g,T)=>{if(T.strictRanges===!0)throw new TypeError(`Expected step "${g}" to be a number`);return[]},"invalidStep"),b=a((g,T,D=1,J={})=>{let Y=Number(g),V=Number(T);if(!Number.isInteger(Y)||!Number.isInteger(V)){if(J.strictRanges===!0)throw X([g,T]);return[]}Y===0&&(Y=0),V===0&&(V=0);let ie=Y>V,he=String(g),Z=String(T),le=String(D);D=Math.max(Math.abs(D),1);let O=v(he)||v(Z)||v(le),Ue=O?Math.max(he.length,Z.length,le.length):0,de=O===!1&&m(g,T,J)===!1,ae=J.transform||p(de);if(J.toRegex&&D===1)return j($(g,Ue),$(T,Ue),!0,J);let W={negatives:[],positives:[]},te=a(ee=>W[ee<0?"negatives":"positives"].push(Math.abs(ee)),"push"),me=[],Oe=0;for(;ie?Y>=V:Y<=V;)J.toRegex===!0&&D>1?te(Y):me.push(B(ae(Y,Oe),Ue,de)),Y=ie?Y-D:Y+D,Oe++;return J.toRegex===!0?D>1?P(W,J):L(me,null,{wrap:!1,...J}):me},"fillNumbers"),F=a((g,T,D=1,J={})=>{if(!x(g)&&g.length>1||!x(T)&&T.length>1)return z(g,T,J);let Y=J.transform||(de=>String.fromCharCode(de)),V=`${g}`.charCodeAt(0),ie=`${T}`.charCodeAt(0),he=V>ie,Z=Math.min(V,ie),le=Math.max(V,ie);if(J.toRegex&&D===1)return j(Z,le,!1,J);let O=[],Ue=0;for(;he?V>=ie:V<=ie;)O.push(Y(V,Ue)),V=he?V-D:V+D,Ue++;return J.toRegex===!0?L(O,null,{wrap:!1,options:J}):O},"fillLetters"),R=a((g,T,D,J={})=>{if(T==null&&k(g))return[g];if(!k(g)||!k(T))return z(g,T,J);if(typeof D=="function")return R(g,T,1,{transform:D});if(A(D))return R(g,T,0,D);let Y={...J};return Y.capture===!0&&(Y.wrap=!0),D=D||Y.step||1,x(D)?x(g)&&x(T)?b(g,T,D,Y):F(g,T,Math.max(Math.abs(D),1),Y):D!=null&&!A(D)?ue(D,Y):R(g,T,1,D)},"fill");Ve.exports=R},3338:Ve=>{"use strict";/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */Ve.exports=function(h){return typeof h=="number"?h-h==0:typeof h=="string"&&h.trim()!==""?Number.isFinite?Number.isFinite(+h):isFinite(+h):!1}},5179:(Ve,h,y)=>{Ve=y.nmd(Ve);var w=200,d="__lodash_hash_undefined__",A=1,p=2,k=9007199254740991,x="[object Arguments]",v="[object Array]",m="[object AsyncFunction]",B="[object Boolean]",$="[object Date]",P="[object Error]",j="[object Function]",L="[object GeneratorFunction]",X="[object Map]",z="[object Number]",ue="[object Null]",b="[object Object]",F="[object Promise]",R="[object Proxy]",g="[object RegExp]",T="[object Set]",D="[object String]",J="[object Symbol]",Y="[object Undefined]",V="[object WeakMap]",ie="[object ArrayBuffer]",he="[object DataView]",Z="[object Float32Array]",le="[object Float64Array]",O="[object Int8Array]",Ue="[object Int16Array]",de="[object Int32Array]",ae="[object Uint8Array]",W="[object Uint8ClampedArray]",te="[object Uint16Array]",me="[object Uint32Array]",Oe=/[\\^$.*+?()[\]{}|]/g,ee=/^\[object .+?Constructor\]$/,Me=/^(?:0|[1-9]\d*)$/,He={};He[Z]=He[le]=He[O]=He[Ue]=He[de]=He[ae]=He[W]=He[te]=He[me]=!0,He[x]=He[v]=He[ie]=He[B]=He[he]=He[$]=He[P]=He[j]=He[X]=He[z]=He[b]=He[g]=He[T]=He[D]=He[V]=!1;var Xe=typeof y.g=="object"&&y.g&&y.g.Object===Object&&y.g,U=typeof self=="object"&&self&&self.Object===Object&&self,G=Xe||U||Function("return this")(),q=h&&!h.nodeType&&h,fe=q&&!0&&Ve&&!Ve.nodeType&&Ve,be=fe&&fe.exports===q,Te=be&&Xe.process,oe=function(){try{return Te&&Te.binding&&Te.binding("util")}catch(N){}}(),ye=oe&&oe.isTypedArray;function De(N,re){for(var we=-1,et=N==null?0:N.length,yt=0,Ct=[];++we<et;){var Zt=N[we];re(Zt,we,N)&&(Ct[yt++]=Zt)}return Ct}a(De,"arrayFilter");function Be(N,re){for(var we=-1,et=re.length,yt=N.length;++we<et;)N[yt+we]=re[we];return N}a(Be,"arrayPush");function Ae(N,re){for(var we=-1,et=N==null?0:N.length;++we<et;)if(re(N[we],we,N))return!0;return!1}a(Ae,"arraySome");function Ie(N,re){for(var we=-1,et=Array(N);++we<N;)et[we]=re(we);return et}a(Ie,"baseTimes");function ze(N){return function(re){return N(re)}}a(ze,"baseUnary");function Je(N,re){return N.has(re)}a(Je,"cacheHas");function Ee(N,re){return N==null?void 0:N[re]}a(Ee,"getValue");function K(N){var re=-1,we=Array(N.size);return N.forEach(function(et,yt){we[++re]=[yt,et]}),we}a(K,"mapToArray");function Q(N,re){return function(we){return N(re(we))}}a(Q,"overArg");function Ke(N){var re=-1,we=Array(N.size);return N.forEach(function(et){we[++re]=et}),we}a(Ke,"setToArray");var At=Array.prototype,wn=Function.prototype,ln=Object.prototype,sn=G["__core-js_shared__"],or=wn.toString,jn=ln.hasOwnProperty,nr=function(){var N=/[^.]+$/.exec(sn&&sn.keys&&sn.keys.IE_PROTO||"");return N?"Symbol(src)_1."+N:""}(),Qn=ln.toString,kn=RegExp("^"+or.call(jn).replace(Oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),it=be?G.Buffer:void 0,Lt=G.Symbol,Ht=G.Uint8Array,jt=ln.propertyIsEnumerable,Yt=At.splice,cn=Lt?Lt.toStringTag:void 0,Pn=Object.getOwnPropertySymbols,Xn=it?it.isBuffer:void 0,ur=Q(Object.keys,Object),rr=xr(G,"DataView"),Yn=xr(G,"Map"),ir=xr(G,"Promise"),Ir=xr(G,"Set"),Dr=xr(G,"WeakMap"),fn=xr(Object,"create"),Bn=_t(rr),dr=_t(Yn),hr=_t(ir),ei=_t(Ir),Hr=_t(Dr),Zn=Lt?Lt.prototype:void 0,I=Zn?Zn.valueOf:void 0;function ce(N){var re=-1,we=N==null?0:N.length;for(this.clear();++re<we;){var et=N[re];this.set(et[0],et[1])}}a(ce,"Hash");function Se(){this.__data__=fn?fn(null):{},this.size=0}a(Se,"hashClear");function Ne(N){var re=this.has(N)&&delete this.__data__[N];return this.size-=re?1:0,re}a(Ne,"hashDelete");function Ge(N){var re=this.__data__;if(fn){var we=re[N];return we===d?void 0:we}return jn.call(re,N)?re[N]:void 0}a(Ge,"hashGet");function je(N){var re=this.__data__;return fn?re[N]!==void 0:jn.call(re,N)}a(je,"hashHas");function rt(N,re){var we=this.__data__;return this.size+=this.has(N)?0:1,we[N]=fn&&re===void 0?d:re,this}a(rt,"hashSet"),ce.prototype.clear=Se,ce.prototype.delete=Ne,ce.prototype.get=Ge,ce.prototype.has=je,ce.prototype.set=rt;function ht(N){var re=-1,we=N==null?0:N.length;for(this.clear();++re<we;){var et=N[re];this.set(et[0],et[1])}}a(ht,"ListCache");function wt(){this.__data__=[],this.size=0}a(wt,"listCacheClear");function zt(N){var re=this.__data__,we=Vn(re,N);if(we<0)return!1;var et=re.length-1;return we==et?re.pop():Yt.call(re,we,1),--this.size,!0}a(zt,"listCacheDelete");function ot(N){var re=this.__data__,we=Vn(re,N);return we<0?void 0:re[we][1]}a(ot,"listCacheGet");function Rt(N){return Vn(this.__data__,N)>-1}a(Rt,"listCacheHas");function It(N,re){var we=this.__data__,et=Vn(we,N);return et<0?(++this.size,we.push([N,re])):we[et][1]=re,this}a(It,"listCacheSet"),ht.prototype.clear=wt,ht.prototype.delete=zt,ht.prototype.get=ot,ht.prototype.has=Rt,ht.prototype.set=It;function Pt(N){var re=-1,we=N==null?0:N.length;for(this.clear();++re<we;){var et=N[re];this.set(et[0],et[1])}}a(Pt,"MapCache");function mt(){this.size=0,this.__data__={hash:new ce,map:new(Yn||ht),string:new ce}}a(mt,"mapCacheClear");function yn(N){var re=Wr(this,N).delete(N);return this.size-=re?1:0,re}a(yn,"mapCacheDelete");function rn(N){return Wr(this,N).get(N)}a(rn,"mapCacheGet");function ar(N){return Wr(this,N).has(N)}a(ar,"mapCacheHas");function Gn(N,re){var we=Wr(this,N),et=we.size;return we.set(N,re),this.size+=we.size==et?0:1,this}a(Gn,"mapCacheSet"),Pt.prototype.clear=mt,Pt.prototype.delete=yn,Pt.prototype.get=rn,Pt.prototype.has=ar,Pt.prototype.set=Gn;function qn(N){var re=-1,we=N==null?0:N.length;for(this.__data__=new Pt;++re<we;)this.add(N[re])}a(qn,"SetCache");function Mr(N){return this.__data__.set(N,d),this}a(Mr,"setCacheAdd");function Pr(N){return this.__data__.has(N)}a(Pr,"setCacheHas"),qn.prototype.add=qn.prototype.push=Mr,qn.prototype.has=Pr;function On(N){var re=this.__data__=new ht(N);this.size=re.size}a(On,"Stack");function ti(){this.__data__=new ht,this.size=0}a(ti,"stackClear");function Nt(N){var re=this.__data__,we=re.delete(N);return this.size=re.size,we}a(Nt,"stackDelete");function $n(N){return this.__data__.get(N)}a($n,"stackGet");function mn(N){return this.__data__.has(N)}a(mn,"stackHas");function an(N,re){var we=this.__data__;if(we instanceof ht){var et=we.__data__;if(!Yn||et.length<w-1)return et.push([N,re]),this.size=++we.size,this;we=this.__data__=new Pt(et)}return we.set(N,re),this.size=we.size,this}a(an,"stackSet"),On.prototype.clear=ti,On.prototype.delete=Nt,On.prototype.get=$n,On.prototype.has=mn,On.prototype.set=an;function Cn(N,re){var we=$t(N),et=!we&&lt(N),yt=!we&&!et&&tn(N),Ct=!we&&!et&&!yt&&kt(N),Zt=we||et||yt||Ct,Vt=Zt?Ie(N.length,String):[],Wt=Vt.length;for(var Xt in N)(re||jn.call(N,Xt))&&!(Zt&&(Xt=="length"||yt&&(Xt=="offset"||Xt=="parent")||Ct&&(Xt=="buffer"||Xt=="byteLength"||Xt=="byteOffset")||Li(Xt,Wt)))&&Vt.push(Xt);return Vt}a(Cn,"arrayLikeKeys");function Vn(N,re){for(var we=N.length;we--;)if(xt(N[we][0],re))return we;return-1}a(Vn,"assocIndexOf");function Sr(N,re,we){var et=re(N);return $t(N)?et:Be(et,we(N))}a(Sr,"baseGetAllKeys");function kr(N){return N==null?N===void 0?Y:ue:cn&&cn in Object(N)?Ai(N):Ze(N)}a(kr,"baseGetTag");function ui(N){return Dn(N)&&kr(N)==x}a(ui,"baseIsArguments");function li(N,re,we,et,yt){return N===re?!0:N==null||re==null||!Dn(N)&&!Dn(re)?N!==N&&re!==re:pi(N,re,we,et,li,yt)}a(li,"baseIsEqual");function pi(N,re,we,et,yt,Ct){var Zt=$t(N),Vt=$t(re),Wt=Zt?v:Vr(N),Xt=Vt?v:Vr(re);Wt=Wt==x?b:Wt,Xt=Xt==x?b:Xt;var nn=Wt==b,bt=Xt==b,ct=Wt==Xt;if(ct&&tn(N)){if(!tn(re))return!1;Zt=!0,nn=!1}if(ct&&!nn)return Ct||(Ct=new On),Zt||kt(N)?bi(N,re,we,et,yt,Ct):mi(N,re,Wt,we,et,yt,Ct);if(!(we&A)){var En=nn&&jn.call(N,"__wrapped__"),vn=bt&&jn.call(re,"__wrapped__");if(En||vn){var Tn=En?N.value():N,xn=vn?re.value():re;return Ct||(Ct=new On),yt(Tn,xn,we,et,Ct)}}return ct?(Ct||(Ct=new On),vr(N,re,we,et,yt,Ct)):!1}a(pi,"baseIsEqualDeep");function Ni(N){if(!Wn(N)||Qe(N))return!1;var re=Hn(N)?kn:ee;return re.test(_t(N))}a(Ni,"baseIsNative");function Ti(N){return Dn(N)&&Nn(N.length)&&!!He[kr(N)]}a(Ti,"baseIsTypedArray");function qe(N){if(!st(N))return ur(N);var re=[];for(var we in Object(N))jn.call(N,we)&&we!="constructor"&&re.push(we);return re}a(qe,"baseKeys");function bi(N,re,we,et,yt,Ct){var Zt=we&A,Vt=N.length,Wt=re.length;if(Vt!=Wt&&!(Zt&&Wt>Vt))return!1;var Xt=Ct.get(N);if(Xt&&Ct.get(re))return Xt==re;var nn=-1,bt=!0,ct=we&p?new qn:void 0;for(Ct.set(N,re),Ct.set(re,N);++nn<Vt;){var En=N[nn],vn=re[nn];if(et)var Tn=Zt?et(vn,En,nn,re,N,Ct):et(En,vn,nn,N,re,Ct);if(Tn!==void 0){if(Tn)continue;bt=!1;break}if(ct){if(!Ae(re,function(xn,Mt){if(!Je(ct,Mt)&&(En===xn||yt(En,xn,we,et,Ct)))return ct.push(Mt)})){bt=!1;break}}else if(!(En===vn||yt(En,vn,we,et,Ct))){bt=!1;break}}return Ct.delete(N),Ct.delete(re),bt}a(bi,"equalArrays");function mi(N,re,we,et,yt,Ct,Zt){switch(we){case he:if(N.byteLength!=re.byteLength||N.byteOffset!=re.byteOffset)return!1;N=N.buffer,re=re.buffer;case ie:return!(N.byteLength!=re.byteLength||!Ct(new Ht(N),new Ht(re)));case B:case $:case z:return xt(+N,+re);case P:return N.name==re.name&&N.message==re.message;case g:case D:return N==re+"";case X:var Vt=K;case T:var Wt=et&A;if(Vt||(Vt=Ke),N.size!=re.size&&!Wt)return!1;var Xt=Zt.get(N);if(Xt)return Xt==re;et|=p,Zt.set(N,re);var nn=bi(Vt(N),Vt(re),et,yt,Ct,Zt);return Zt.delete(N),nn;case J:if(I)return I.call(N)==I.call(re)}return!1}a(mi,"equalByTag");function vr(N,re,we,et,yt,Ct){var Zt=we&A,Vt=Tr(N),Wt=Vt.length,Xt=Tr(re),nn=Xt.length;if(Wt!=nn&&!Zt)return!1;for(var bt=Wt;bt--;){var ct=Vt[bt];if(!(Zt?ct in re:jn.call(re,ct)))return!1}var En=Ct.get(N);if(En&&Ct.get(re))return En==re;var vn=!0;Ct.set(N,re),Ct.set(re,N);for(var Tn=Zt;++bt<Wt;){ct=Vt[bt];var xn=N[ct],Mt=re[ct];if(et)var Or=Zt?et(Mt,xn,ct,re,N,Ct):et(xn,Mt,ct,N,re,Ct);if(!(Or===void 0?xn===Mt||yt(xn,Mt,we,et,Ct):Or)){vn=!1;break}Tn||(Tn=ct=="constructor")}if(vn&&!Tn){var lr=N.constructor,gn=re.constructor;lr!=gn&&"constructor"in N&&"constructor"in re&&!(typeof lr=="function"&&lr instanceof lr&&typeof gn=="function"&&gn instanceof gn)&&(vn=!1)}return Ct.delete(N),Ct.delete(re),vn}a(vr,"equalObjects");function Tr(N){return Sr(N,Ft,ni)}a(Tr,"getAllKeys");function Wr(N,re){var we=N.__data__;return Pe(re)?we[typeof re=="string"?"string":"hash"]:we.map}a(Wr,"getMapData");function xr(N,re){var we=Ee(N,re);return Ni(we)?we:void 0}a(xr,"getNative");function Ai(N){var re=jn.call(N,cn),we=N[cn];try{N[cn]=void 0;var et=!0}catch(Ct){}var yt=Qn.call(N);return et&&(re?N[cn]=we:delete N[cn]),yt}a(Ai,"getRawTag");var ni=Pn?function(N){return N==null?[]:(N=Object(N),De(Pn(N),function(re){return jt.call(N,re)}))}:qt,Vr=kr;(rr&&Vr(new rr(new ArrayBuffer(1)))!=he||Yn&&Vr(new Yn)!=X||ir&&Vr(ir.resolve())!=F||Ir&&Vr(new Ir)!=T||Dr&&Vr(new Dr)!=V)&&(Vr=a(function(N){var re=kr(N),we=re==b?N.constructor:void 0,et=we?_t(we):"";if(et)switch(et){case Bn:return he;case dr:return X;case hr:return F;case ei:return T;case Hr:return V}return re},"getTag"));function Li(N,re){return re=re==null?k:re,!!re&&(typeof N=="number"||Me.test(N))&&N>-1&&N%1==0&&N<re}a(Li,"isIndex");function Pe(N){var re=typeof N;return re=="string"||re=="number"||re=="symbol"||re=="boolean"?N!=="__proto__":N===null}a(Pe,"isKeyable");function Qe(N){return!!nr&&nr in N}a(Qe,"isMasked");function st(N){var re=N&&N.constructor,we=typeof re=="function"&&re.prototype||ln;return N===we}a(st,"isPrototype");function Ze(N){return Qn.call(N)}a(Ze,"objectToString");function _t(N){if(N!=null){try{return or.call(N)}catch(re){}try{return N+""}catch(re){}}return""}a(_t,"toSource");function xt(N,re){return N===re||N!==N&&re!==re}a(xt,"eq");var lt=ui(function(){return arguments}())?ui:function(N){return Dn(N)&&jn.call(N,"callee")&&!jt.call(N,"callee")},$t=Array.isArray;function Ot(N){return N!=null&&Nn(N.length)&&!Hn(N)}a(Ot,"isArrayLike");var tn=Xn||en;function hn(N,re){return li(N,re)}a(hn,"isEqual");function Hn(N){if(!Wn(N))return!1;var re=kr(N);return re==j||re==L||re==m||re==R}a(Hn,"isFunction");function Nn(N){return typeof N=="number"&&N>-1&&N%1==0&&N<=k}a(Nn,"isLength");function Wn(N){var re=typeof N;return N!=null&&(re=="object"||re=="function")}a(Wn,"isObject");function Dn(N){return N!=null&&typeof N=="object"}a(Dn,"isObjectLike");var kt=ye?ze(ye):Ti;function Ft(N){return Ot(N)?Cn(N):qe(N)}a(Ft,"keys");function qt(){return[]}a(qt,"stubArray");function en(){return!1}a(en,"stubFalse"),Ve.exports=hn},919:(Ve,h,y)=>{"use strict";const w=y(6391),d=y(6232),A=y(6796),p=y(292),k=a(v=>v===""||v==="./","isEmptyString"),x=a((v,m,B)=>{m=[].concat(m),v=[].concat(v);let $=new Set,P=new Set,j=new Set,L=0,X=a(b=>{j.add(b.output),B&&B.onResult&&B.onResult(b)},"onResult");for(let b=0;b<m.length;b++){let F=A(String(m[b]),{...B,onResult:X},!0),R=F.state.negated||F.state.negatedExtglob;R&&L++;for(let g of v){let T=F(g,!0);!(R?!T.isMatch:T.isMatch)||(R?$.add(T.output):($.delete(T.output),P.add(T.output)))}}let ue=(L===m.length?[...j]:[...P]).filter(b=>!$.has(b));if(B&&ue.length===0){if(B.failglob===!0)throw new Error(`No matches found for "${m.join(", ")}"`);if(B.nonull===!0||B.nullglob===!0)return B.unescape?m.map(b=>b.replace(/\\/g,"")):m}return ue},"micromatch");x.match=x,x.matcher=(v,m)=>A(v,m),x.isMatch=(v,m,B)=>A(m,B)(v),x.any=x.isMatch,x.not=(v,m,B={})=>{m=[].concat(m).map(String);let $=new Set,P=[],j=a(X=>{B.onResult&&B.onResult(X),P.push(X.output)},"onResult"),L=new Set(x(v,m,{...B,onResult:j}));for(let X of P)L.has(X)||$.add(X);return[...$]},x.contains=(v,m,B)=>{if(typeof v!="string")throw new TypeError(`Expected a string: "${w.inspect(v)}"`);if(Array.isArray(m))return m.some($=>x.contains(v,$,B));if(typeof m=="string"){if(k(v)||k(m))return!1;if(v.includes(m)||v.startsWith("./")&&v.slice(2).includes(m))return!0}return x.isMatch(v,m,{...B,contains:!0})},x.matchKeys=(v,m,B)=>{if(!p.isObject(v))throw new TypeError("Expected the first argument to be an object");let $=x(Object.keys(v),m,B),P={};for(let j of $)P[j]=v[j];return P},x.some=(v,m,B)=>{let $=[].concat(v);for(let P of[].concat(m)){let j=A(String(P),B);if($.some(L=>j(L)))return!0}return!1},x.every=(v,m,B)=>{let $=[].concat(v);for(let P of[].concat(m)){let j=A(String(P),B);if(!$.every(L=>j(L)))return!1}return!0},x.all=(v,m,B)=>{if(typeof v!="string")throw new TypeError(`Expected a string: "${w.inspect(v)}"`);return[].concat(m).every($=>A($,B)(v))},x.capture=(v,m,B)=>{let $=p.isWindows(B),j=A.makeRe(String(v),{...B,capture:!0}).exec($?p.toPosixSlashes(m):m);if(j)return j.slice(1).map(L=>L===void 0?"":L)},x.makeRe=(...v)=>A.makeRe(...v),x.scan=(...v)=>A.scan(...v),x.parse=(v,m)=>{let B=[];for(let $ of[].concat(v||[]))for(let P of d(String($),m))B.push(A.parse(P,m));return B},x.braces=(v,m)=>{if(typeof v!="string")throw new TypeError("Expected a string");return m&&m.nobrace===!0||!/\{.*\}/.test(v)?[v]:d(v,m)},x.braceExpand=(v,m)=>{if(typeof v!="string")throw new TypeError("Expected a string");return x.braces(v,{...m,expand:!0})},Ve.exports=x},6796:(Ve,h,y)=>{"use strict";Ve.exports=y(5761)},3889:(Ve,h,y)=>{"use strict";const w=y(6470),d="\\\\/",A=`[^${d}]`,p="\\.",k="\\+",x="\\?",v="\\/",m="(?=.)",B="[^/]",$=`(?:${v}|$)`,P=`(?:^|${v})`,j=`${p}{1,2}${$}`,L=`(?!${p})`,X=`(?!${P}${j})`,z=`(?!${p}{0,1}${$})`,ue=`(?!${j})`,b=`[^.${v}]`,F=`${B}*?`,R={DOT_LITERAL:p,PLUS_LITERAL:k,QMARK_LITERAL:x,SLASH_LITERAL:v,ONE_CHAR:m,QMARK:B,END_ANCHOR:$,DOTS_SLASH:j,NO_DOT:L,NO_DOTS:X,NO_DOT_SLASH:z,NO_DOTS_SLASH:ue,QMARK_NO_DOT:b,STAR:F,START_ANCHOR:P},g={...R,SLASH_LITERAL:`[${d}]`,QMARK:A,STAR:`${A}*?`,DOTS_SLASH:`${p}{1,2}(?:[${d}]|$)`,NO_DOT:`(?!${p})`,NO_DOTS:`(?!(?:^|[${d}])${p}{1,2}(?:[${d}]|$))`,NO_DOT_SLASH:`(?!${p}{0,1}(?:[${d}]|$))`,NO_DOTS_SLASH:`(?!${p}{1,2}(?:[${d}]|$))`,QMARK_NO_DOT:`[^.${d}]`,START_ANCHOR:`(?:^|[${d}])`,END_ANCHOR:`(?:[${d}]|$)`},T={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};Ve.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:T,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:w.sep,extglobChars(D){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${D.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(D){return D===!0?g:R}}},3969:(Ve,h,y)=>{"use strict";const w=y(3889),d=y(292),{MAX_LENGTH:A,POSIX_REGEX_SOURCE:p,REGEX_NON_SPECIAL_CHARS:k,REGEX_SPECIAL_CHARS_BACKREF:x,REPLACEMENTS:v}=w,m=a((P,j)=>{if(typeof j.expandRange=="function")return j.expandRange(...P,j);P.sort();const L=`[${P.join("-")}]`;try{new RegExp(L)}catch(X){return P.map(z=>d.escapeRegex(z)).join("..")}return L},"expandRange"),B=a((P,j)=>`Missing ${P}: "${j}" - use "\\\\${j}" to match literal characters`,"syntaxError"),$=a((P,j)=>{if(typeof P!="string")throw new TypeError("Expected a string");P=v[P]||P;const L={...j},X=typeof L.maxLength=="number"?Math.min(A,L.maxLength):A;let z=P.length;if(z>X)throw new SyntaxError(`Input length: ${z}, exceeds maximum allowed length: ${X}`);const ue={type:"bos",value:"",output:L.prepend||""},b=[ue],F=L.capture?"":"?:",R=d.isWindows(j),g=w.globChars(R),T=w.extglobChars(g),{DOT_LITERAL:D,PLUS_LITERAL:J,SLASH_LITERAL:Y,ONE_CHAR:V,DOTS_SLASH:ie,NO_DOT:he,NO_DOT_SLASH:Z,NO_DOTS_SLASH:le,QMARK:O,QMARK_NO_DOT:Ue,STAR:de,START_ANCHOR:ae}=g,W=a(Ee=>`(${F}(?:(?!${ae}${Ee.dot?ie:D}).)*?)`,"globstar"),te=L.dot?"":he,me=L.dot?O:Ue;let Oe=L.bash===!0?W(L):de;L.capture&&(Oe=`(${Oe})`),typeof L.noext=="boolean"&&(L.noextglob=L.noext);const ee={input:P,index:-1,start:0,dot:L.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:b};P=d.removePrefix(P,ee),z=P.length;const Me=[],He=[],Xe=[];let U=ue,G;const q=a(()=>ee.index===z-1,"eos"),fe=ee.peek=(Ee=1)=>P[ee.index+Ee],be=ee.advance=()=>P[++ee.index]||"",Te=a(()=>P.slice(ee.index+1),"remaining"),oe=a((Ee="",K=0)=>{ee.consumed+=Ee,ee.index+=K},"consume"),ye=a(Ee=>{ee.output+=Ee.output!=null?Ee.output:Ee.value,oe(Ee.value)},"append"),De=a(()=>{let Ee=1;for(;fe()==="!"&&(fe(2)!=="("||fe(3)==="?");)be(),ee.start++,Ee++;return Ee%2==0?!1:(ee.negated=!0,ee.start++,!0)},"negate"),Be=a(Ee=>{ee[Ee]++,Xe.push(Ee)},"increment"),Ae=a(Ee=>{ee[Ee]--,Xe.pop()},"decrement"),Ie=a(Ee=>{if(U.type==="globstar"){const K=ee.braces>0&&(Ee.type==="comma"||Ee.type==="brace"),Q=Ee.extglob===!0||Me.length&&(Ee.type==="pipe"||Ee.type==="paren");Ee.type!=="slash"&&Ee.type!=="paren"&&!K&&!Q&&(ee.output=ee.output.slice(0,-U.output.length),U.type="star",U.value="*",U.output=Oe,ee.output+=U.output)}if(Me.length&&Ee.type!=="paren"&&(Me[Me.length-1].inner+=Ee.value),(Ee.value||Ee.output)&&ye(Ee),U&&U.type==="text"&&Ee.type==="text"){U.value+=Ee.value,U.output=(U.output||"")+Ee.value;return}Ee.prev=U,b.push(Ee),U=Ee},"push"),ze=a((Ee,K)=>{const Q={...T[K],conditions:1,inner:""};Q.prev=U,Q.parens=ee.parens,Q.output=ee.output;const Ke=(L.capture?"(":"")+Q.open;Be("parens"),Ie({type:Ee,value:K,output:ee.output?"":V}),Ie({type:"paren",extglob:!0,value:be(),output:Ke}),Me.push(Q)},"extglobOpen"),Je=a(Ee=>{let K=Ee.close+(L.capture?")":""),Q;if(Ee.type==="negate"){let Ke=Oe;if(Ee.inner&&Ee.inner.length>1&&Ee.inner.includes("/")&&(Ke=W(L)),(Ke!==Oe||q()||/^\)+$/.test(Te()))&&(K=Ee.close=`)$))${Ke}`),Ee.inner.includes("*")&&(Q=Te())&&/^\.[^\\/.]+$/.test(Q)){const At=$(Q,{...j,fastpaths:!1}).output;K=Ee.close=`)${At})${Ke})`}Ee.prev.type==="bos"&&(ee.negatedExtglob=!0)}Ie({type:"paren",extglob:!0,value:G,output:K}),Ae("parens")},"extglobClose");if(L.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(P)){let Ee=!1,K=P.replace(x,(Q,Ke,At,wn,ln,sn)=>wn==="\\"?(Ee=!0,Q):wn==="?"?Ke?Ke+wn+(ln?O.repeat(ln.length):""):sn===0?me+(ln?O.repeat(ln.length):""):O.repeat(At.length):wn==="."?D.repeat(At.length):wn==="*"?Ke?Ke+wn+(ln?Oe:""):Oe:Ke?Q:`\\${Q}`);return Ee===!0&&(L.unescape===!0?K=K.replace(/\\/g,""):K=K.replace(/\\+/g,Q=>Q.length%2==0?"\\\\":Q?"\\":"")),K===P&&L.contains===!0?(ee.output=P,ee):(ee.output=d.wrapOutput(K,ee,j),ee)}for(;!q();){if(G=be(),G==="\0")continue;if(G==="\\"){const Q=fe();if(Q==="/"&&L.bash!==!0||Q==="."||Q===";")continue;if(!Q){G+="\\",Ie({type:"text",value:G});continue}const Ke=/^\\+/.exec(Te());let At=0;if(Ke&&Ke[0].length>2&&(At=Ke[0].length,ee.index+=At,At%2!=0&&(G+="\\")),L.unescape===!0?G=be():G+=be(),ee.brackets===0){Ie({type:"text",value:G});continue}}if(ee.brackets>0&&(G!=="]"||U.value==="["||U.value==="[^")){if(L.posix!==!1&&G===":"){const Q=U.value.slice(1);if(Q.includes("[")&&(U.posix=!0,Q.includes(":"))){const Ke=U.value.lastIndexOf("["),At=U.value.slice(0,Ke),wn=U.value.slice(Ke+2),ln=p[wn];if(ln){U.value=At+ln,ee.backtrack=!0,be(),!ue.output&&b.indexOf(U)===1&&(ue.output=V);continue}}}(G==="["&&fe()!==":"||G==="-"&&fe()==="]")&&(G=`\\${G}`),G==="]"&&(U.value==="["||U.value==="[^")&&(G=`\\${G}`),L.posix===!0&&G==="!"&&U.value==="["&&(G="^"),U.value+=G,ye({value:G});continue}if(ee.quotes===1&&G!=='"'){G=d.escapeRegex(G),U.value+=G,ye({value:G});continue}if(G==='"'){ee.quotes=ee.quotes===1?0:1,L.keepQuotes===!0&&Ie({type:"text",value:G});continue}if(G==="("){Be("parens"),Ie({type:"paren",value:G});continue}if(G===")"){if(ee.parens===0&&L.strictBrackets===!0)throw new SyntaxError(B("opening","("));const Q=Me[Me.length-1];if(Q&&ee.parens===Q.parens+1){Je(Me.pop());continue}Ie({type:"paren",value:G,output:ee.parens?")":"\\)"}),Ae("parens");continue}if(G==="["){if(L.nobracket===!0||!Te().includes("]")){if(L.nobracket!==!0&&L.strictBrackets===!0)throw new SyntaxError(B("closing","]"));G=`\\${G}`}else Be("brackets");Ie({type:"bracket",value:G});continue}if(G==="]"){if(L.nobracket===!0||U&&U.type==="bracket"&&U.value.length===1){Ie({type:"text",value:G,output:`\\${G}`});continue}if(ee.brackets===0){if(L.strictBrackets===!0)throw new SyntaxError(B("opening","["));Ie({type:"text",value:G,output:`\\${G}`});continue}Ae("brackets");const Q=U.value.slice(1);if(U.posix!==!0&&Q[0]==="^"&&!Q.includes("/")&&(G=`/${G}`),U.value+=G,ye({value:G}),L.literalBrackets===!1||d.hasRegexChars(Q))continue;const Ke=d.escapeRegex(U.value);if(ee.output=ee.output.slice(0,-U.value.length),L.literalBrackets===!0){ee.output+=Ke,U.value=Ke;continue}U.value=`(${F}${Ke}|${U.value})`,ee.output+=U.value;continue}if(G==="{"&&L.nobrace!==!0){Be("braces");const Q={type:"brace",value:G,output:"(",outputIndex:ee.output.length,tokensIndex:ee.tokens.length};He.push(Q),Ie(Q);continue}if(G==="}"){const Q=He[He.length-1];if(L.nobrace===!0||!Q){Ie({type:"text",value:G,output:G});continue}let Ke=")";if(Q.dots===!0){const At=b.slice(),wn=[];for(let ln=At.length-1;ln>=0&&(b.pop(),At[ln].type!=="brace");ln--)At[ln].type!=="dots"&&wn.unshift(At[ln].value);Ke=m(wn,L),ee.backtrack=!0}if(Q.comma!==!0&&Q.dots!==!0){const At=ee.output.slice(0,Q.outputIndex),wn=ee.tokens.slice(Q.tokensIndex);Q.value=Q.output="\\{",G=Ke="\\}",ee.output=At;for(const ln of wn)ee.output+=ln.output||ln.value}Ie({type:"brace",value:G,output:Ke}),Ae("braces"),He.pop();continue}if(G==="|"){Me.length>0&&Me[Me.length-1].conditions++,Ie({type:"text",value:G});continue}if(G===","){let Q=G;const Ke=He[He.length-1];Ke&&Xe[Xe.length-1]==="braces"&&(Ke.comma=!0,Q="|"),Ie({type:"comma",value:G,output:Q});continue}if(G==="/"){if(U.type==="dot"&&ee.index===ee.start+1){ee.start=ee.index+1,ee.consumed="",ee.output="",b.pop(),U=ue;continue}Ie({type:"slash",value:G,output:Y});continue}if(G==="."){if(ee.braces>0&&U.type==="dot"){U.value==="."&&(U.output=D);const Q=He[He.length-1];U.type="dots",U.output+=G,U.value+=G,Q.dots=!0;continue}if(ee.braces+ee.parens===0&&U.type!=="bos"&&U.type!=="slash"){Ie({type:"text",value:G,output:D});continue}Ie({type:"dot",value:G,output:D});continue}if(G==="?"){if(!(U&&U.value==="(")&&L.noextglob!==!0&&fe()==="("&&fe(2)!=="?"){ze("qmark",G);continue}if(U&&U.type==="paren"){const Ke=fe();let At=G;if(Ke==="<"&&!d.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(U.value==="("&&!/[!=<:]/.test(Ke)||Ke==="<"&&!/<([!=]|\w+>)/.test(Te()))&&(At=`\\${G}`),Ie({type:"text",value:G,output:At});continue}if(L.dot!==!0&&(U.type==="slash"||U.type==="bos")){Ie({type:"qmark",value:G,output:Ue});continue}Ie({type:"qmark",value:G,output:O});continue}if(G==="!"){if(L.noextglob!==!0&&fe()==="("&&(fe(2)!=="?"||!/[!=<:]/.test(fe(3)))){ze("negate",G);continue}if(L.nonegate!==!0&&ee.index===0){De();continue}}if(G==="+"){if(L.noextglob!==!0&&fe()==="("&&fe(2)!=="?"){ze("plus",G);continue}if(U&&U.value==="("||L.regex===!1){Ie({type:"plus",value:G,output:J});continue}if(U&&(U.type==="bracket"||U.type==="paren"||U.type==="brace")||ee.parens>0){Ie({type:"plus",value:G});continue}Ie({type:"plus",value:J});continue}if(G==="@"){if(L.noextglob!==!0&&fe()==="("&&fe(2)!=="?"){Ie({type:"at",extglob:!0,value:G,output:""});continue}Ie({type:"text",value:G});continue}if(G!=="*"){(G==="$"||G==="^")&&(G=`\\${G}`);const Q=k.exec(Te());Q&&(G+=Q[0],ee.index+=Q[0].length),Ie({type:"text",value:G});continue}if(U&&(U.type==="globstar"||U.star===!0)){U.type="star",U.star=!0,U.value+=G,U.output=Oe,ee.backtrack=!0,ee.globstar=!0,oe(G);continue}let Ee=Te();if(L.noextglob!==!0&&/^\([^?]/.test(Ee)){ze("star",G);continue}if(U.type==="star"){if(L.noglobstar===!0){oe(G);continue}const Q=U.prev,Ke=Q.prev,At=Q.type==="slash"||Q.type==="bos",wn=Ke&&(Ke.type==="star"||Ke.type==="globstar");if(L.bash===!0&&(!At||Ee[0]&&Ee[0]!=="/")){Ie({type:"star",value:G,output:""});continue}const ln=ee.braces>0&&(Q.type==="comma"||Q.type==="brace"),sn=Me.length&&(Q.type==="pipe"||Q.type==="paren");if(!At&&Q.type!=="paren"&&!ln&&!sn){Ie({type:"star",value:G,output:""});continue}for(;Ee.slice(0,3)==="/**";){const or=P[ee.index+4];if(or&&or!=="/")break;Ee=Ee.slice(3),oe("/**",3)}if(Q.type==="bos"&&q()){U.type="globstar",U.value+=G,U.output=W(L),ee.output=U.output,ee.globstar=!0,oe(G);continue}if(Q.type==="slash"&&Q.prev.type!=="bos"&&!wn&&q()){ee.output=ee.output.slice(0,-(Q.output+U.output).length),Q.output=`(?:${Q.output}`,U.type="globstar",U.output=W(L)+(L.strictSlashes?")":"|$)"),U.value+=G,ee.globstar=!0,ee.output+=Q.output+U.output,oe(G);continue}if(Q.type==="slash"&&Q.prev.type!=="bos"&&Ee[0]==="/"){const or=Ee[1]!==void 0?"|$":"";ee.output=ee.output.slice(0,-(Q.output+U.output).length),Q.output=`(?:${Q.output}`,U.type="globstar",U.output=`${W(L)}${Y}|${Y}${or})`,U.value+=G,ee.output+=Q.output+U.output,ee.globstar=!0,oe(G+be()),Ie({type:"slash",value:"/",output:""});continue}if(Q.type==="bos"&&Ee[0]==="/"){U.type="globstar",U.value+=G,U.output=`(?:^|${Y}|${W(L)}${Y})`,ee.output=U.output,ee.globstar=!0,oe(G+be()),Ie({type:"slash",value:"/",output:""});continue}ee.output=ee.output.slice(0,-U.output.length),U.type="globstar",U.output=W(L),U.value+=G,ee.output+=U.output,ee.globstar=!0,oe(G);continue}const K={type:"star",value:G,output:Oe};if(L.bash===!0){K.output=".*?",(U.type==="bos"||U.type==="slash")&&(K.output=te+K.output),Ie(K);continue}if(U&&(U.type==="bracket"||U.type==="paren")&&L.regex===!0){K.output=G,Ie(K);continue}(ee.index===ee.start||U.type==="slash"||U.type==="dot")&&(U.type==="dot"?(ee.output+=Z,U.output+=Z):L.dot===!0?(ee.output+=le,U.output+=le):(ee.output+=te,U.output+=te),fe()!=="*"&&(ee.output+=V,U.output+=V)),Ie(K)}for(;ee.brackets>0;){if(L.strictBrackets===!0)throw new SyntaxError(B("closing","]"));ee.output=d.escapeLast(ee.output,"["),Ae("brackets")}for(;ee.parens>0;){if(L.strictBrackets===!0)throw new SyntaxError(B("closing",")"));ee.output=d.escapeLast(ee.output,"("),Ae("parens")}for(;ee.braces>0;){if(L.strictBrackets===!0)throw new SyntaxError(B("closing","}"));ee.output=d.escapeLast(ee.output,"{"),Ae("braces")}if(L.strictSlashes!==!0&&(U.type==="star"||U.type==="bracket")&&Ie({type:"maybe_slash",value:"",output:`${Y}?`}),ee.backtrack===!0){ee.output="";for(const Ee of ee.tokens)ee.output+=Ee.output!=null?Ee.output:Ee.value,Ee.suffix&&(ee.output+=Ee.suffix)}return ee},"parse");$.fastpaths=(P,j)=>{const L={...j},X=typeof L.maxLength=="number"?Math.min(A,L.maxLength):A,z=P.length;if(z>X)throw new SyntaxError(`Input length: ${z}, exceeds maximum allowed length: ${X}`);P=v[P]||P;const ue=d.isWindows(j),{DOT_LITERAL:b,SLASH_LITERAL:F,ONE_CHAR:R,DOTS_SLASH:g,NO_DOT:T,NO_DOTS:D,NO_DOTS_SLASH:J,STAR:Y,START_ANCHOR:V}=w.globChars(ue),ie=L.dot?D:T,he=L.dot?J:T,Z=L.capture?"":"?:",le={negated:!1,prefix:""};let O=L.bash===!0?".*?":Y;L.capture&&(O=`(${O})`);const Ue=a(te=>te.noglobstar===!0?O:`(${Z}(?:(?!${V}${te.dot?g:b}).)*?)`,"globstar"),de=a(te=>{switch(te){case"*":return`${ie}${R}${O}`;case".*":return`${b}${R}${O}`;case"*.*":return`${ie}${O}${b}${R}${O}`;case"*/*":return`${ie}${O}${F}${R}${he}${O}`;case"**":return ie+Ue(L);case"**/*":return`(?:${ie}${Ue(L)}${F})?${he}${R}${O}`;case"**/*.*":return`(?:${ie}${Ue(L)}${F})?${he}${O}${b}${R}${O}`;case"**/.*":return`(?:${ie}${Ue(L)}${F})?${b}${R}${O}`;default:{const me=/^(.*?)\.(\w+)$/.exec(te);if(!me)return;const Oe=de(me[1]);return Oe?Oe+b+me[2]:void 0}}},"create"),ae=d.removePrefix(P,le);let W=de(ae);return W&&L.strictSlashes!==!0&&(W+=`${F}?`),W},Ve.exports=$},5761:(Ve,h,y)=>{"use strict";const w=y(6470),d=y(9826),A=y(3969),p=y(292),k=y(3889),x=a(m=>m&&typeof m=="object"&&!Array.isArray(m),"isObject"),v=a((m,B,$=!1)=>{if(Array.isArray(m)){const F=m.map(g=>v(g,B,$));return a(g=>{for(const T of F){const D=T(g);if(D)return D}return!1},"arrayMatcher")}const P=x(m)&&m.tokens&&m.input;if(m===""||typeof m!="string"&&!P)throw new TypeError("Expected pattern to be a non-empty string");const j=B||{},L=p.isWindows(B),X=P?v.compileRe(m,B):v.makeRe(m,B,!1,!0),z=X.state;delete X.state;let ue=a(()=>!1,"isIgnored");if(j.ignore){const F={...B,ignore:null,onMatch:null,onResult:null};ue=v(j.ignore,F,$)}const b=a((F,R=!1)=>{const{isMatch:g,match:T,output:D}=v.test(F,X,B,{glob:m,posix:L}),J={glob:m,state:z,regex:X,posix:L,input:F,output:D,match:T,isMatch:g};return typeof j.onResult=="function"&&j.onResult(J),g===!1?(J.isMatch=!1,R?J:!1):ue(F)?(typeof j.onIgnore=="function"&&j.onIgnore(J),J.isMatch=!1,R?J:!1):(typeof j.onMatch=="function"&&j.onMatch(J),R?J:!0)},"matcher");return $&&(b.state=z),b},"picomatch");v.test=(m,B,$,{glob:P,posix:j}={})=>{if(typeof m!="string")throw new TypeError("Expected input to be a string");if(m==="")return{isMatch:!1,output:""};const L=$||{},X=L.format||(j?p.toPosixSlashes:null);let z=m===P,ue=z&&X?X(m):m;return z===!1&&(ue=X?X(m):m,z=ue===P),(z===!1||L.capture===!0)&&(L.matchBase===!0||L.basename===!0?z=v.matchBase(m,B,$,j):z=B.exec(ue)),{isMatch:Boolean(z),match:z,output:ue}},v.matchBase=(m,B,$,P=p.isWindows($))=>(B instanceof RegExp?B:v.makeRe(B,$)).test(w.basename(m)),v.isMatch=(m,B,$)=>v(B,$)(m),v.parse=(m,B)=>Array.isArray(m)?m.map($=>v.parse($,B)):A(m,{...B,fastpaths:!1}),v.scan=(m,B)=>d(m,B),v.compileRe=(m,B,$=!1,P=!1)=>{if($===!0)return m.output;const j=B||{},L=j.contains?"":"^",X=j.contains?"":"$";let z=`${L}(?:${m.output})${X}`;m&&m.negated===!0&&(z=`^(?!${z}).*$`);const ue=v.toRegex(z,B);return P===!0&&(ue.state=m),ue},v.makeRe=(m,B={},$=!1,P=!1)=>{if(!m||typeof m!="string")throw new TypeError("Expected a non-empty string");let j={negated:!1,fastpaths:!0};return B.fastpaths!==!1&&(m[0]==="."||m[0]==="*")&&(j.output=A.fastpaths(m,B)),j.output||(j=A(m,B)),v.compileRe(j,B,$,P)},v.toRegex=(m,B)=>{try{const $=B||{};return new RegExp(m,$.flags||($.nocase?"i":""))}catch($){if(B&&B.debug===!0)throw $;return/$^/}},v.constants=k,Ve.exports=v},9826:(Ve,h,y)=>{"use strict";const w=y(292),{CHAR_ASTERISK:d,CHAR_AT:A,CHAR_BACKWARD_SLASH:p,CHAR_COMMA:k,CHAR_DOT:x,CHAR_EXCLAMATION_MARK:v,CHAR_FORWARD_SLASH:m,CHAR_LEFT_CURLY_BRACE:B,CHAR_LEFT_PARENTHESES:$,CHAR_LEFT_SQUARE_BRACKET:P,CHAR_PLUS:j,CHAR_QUESTION_MARK:L,CHAR_RIGHT_CURLY_BRACE:X,CHAR_RIGHT_PARENTHESES:z,CHAR_RIGHT_SQUARE_BRACKET:ue}=y(3889),b=a(g=>g===m||g===p,"isPathSeparator"),F=a(g=>{g.isPrefix!==!0&&(g.depth=g.isGlobstar?1/0:1)},"depth"),R=a((g,T)=>{const D=T||{},J=g.length-1,Y=D.parts===!0||D.scanToEnd===!0,V=[],ie=[],he=[];let Z=g,le=-1,O=0,Ue=0,de=!1,ae=!1,W=!1,te=!1,me=!1,Oe=!1,ee=!1,Me=!1,He=!1,Xe=!1,U=0,G,q,fe={value:"",depth:0,isGlob:!1};const be=a(()=>le>=J,"eos"),Te=a(()=>Z.charCodeAt(le+1),"peek"),oe=a(()=>(G=q,Z.charCodeAt(++le)),"advance");for(;le<J;){q=oe();let Ie;if(q===p){ee=fe.backslashes=!0,q=oe(),q===B&&(Oe=!0);continue}if(Oe===!0||q===B){for(U++;be()!==!0&&(q=oe());){if(q===p){ee=fe.backslashes=!0,oe();continue}if(q===B){U++;continue}if(Oe!==!0&&q===x&&(q=oe())===x){if(de=fe.isBrace=!0,W=fe.isGlob=!0,Xe=!0,Y===!0)continue;break}if(Oe!==!0&&q===k){if(de=fe.isBrace=!0,W=fe.isGlob=!0,Xe=!0,Y===!0)continue;break}if(q===X&&(U--,U===0)){Oe=!1,de=fe.isBrace=!0,Xe=!0;break}}if(Y===!0)continue;break}if(q===m){if(V.push(le),ie.push(fe),fe={value:"",depth:0,isGlob:!1},Xe===!0)continue;if(G===x&&le===O+1){O+=2;continue}Ue=le+1;continue}if(D.noext!==!0&&(q===j||q===A||q===d||q===L||q===v)===!0&&Te()===$){if(W=fe.isGlob=!0,te=fe.isExtglob=!0,Xe=!0,q===v&&le===O&&(He=!0),Y===!0){for(;be()!==!0&&(q=oe());){if(q===p){ee=fe.backslashes=!0,q=oe();continue}if(q===z){W=fe.isGlob=!0,Xe=!0;break}}continue}break}if(q===d){if(G===d&&(me=fe.isGlobstar=!0),W=fe.isGlob=!0,Xe=!0,Y===!0)continue;break}if(q===L){if(W=fe.isGlob=!0,Xe=!0,Y===!0)continue;break}if(q===P){for(;be()!==!0&&(Ie=oe());){if(Ie===p){ee=fe.backslashes=!0,oe();continue}if(Ie===ue){ae=fe.isBracket=!0,W=fe.isGlob=!0,Xe=!0;break}}if(Y===!0)continue;break}if(D.nonegate!==!0&&q===v&&le===O){Me=fe.negated=!0,O++;continue}if(D.noparen!==!0&&q===$){if(W=fe.isGlob=!0,Y===!0){for(;be()!==!0&&(q=oe());){if(q===$){ee=fe.backslashes=!0,q=oe();continue}if(q===z){Xe=!0;break}}continue}break}if(W===!0){if(Xe=!0,Y===!0)continue;break}}D.noext===!0&&(te=!1,W=!1);let ye=Z,De="",Be="";O>0&&(De=Z.slice(0,O),Z=Z.slice(O),Ue-=O),ye&&W===!0&&Ue>0?(ye=Z.slice(0,Ue),Be=Z.slice(Ue)):W===!0?(ye="",Be=Z):ye=Z,ye&&ye!==""&&ye!=="/"&&ye!==Z&&b(ye.charCodeAt(ye.length-1))&&(ye=ye.slice(0,-1)),D.unescape===!0&&(Be&&(Be=w.removeBackslashes(Be)),ye&&ee===!0&&(ye=w.removeBackslashes(ye)));const Ae={prefix:De,input:g,start:O,base:ye,glob:Be,isBrace:de,isBracket:ae,isGlob:W,isExtglob:te,isGlobstar:me,negated:Me,negatedExtglob:He};if(D.tokens===!0&&(Ae.maxDepth=0,b(q)||ie.push(fe),Ae.tokens=ie),D.parts===!0||D.tokens===!0){let Ie;for(let ze=0;ze<V.length;ze++){const Je=Ie?Ie+1:O,Ee=V[ze],K=g.slice(Je,Ee);D.tokens&&(ze===0&&O!==0?(ie[ze].isPrefix=!0,ie[ze].value=De):ie[ze].value=K,F(ie[ze]),Ae.maxDepth+=ie[ze].depth),(ze!==0||K!=="")&&he.push(K),Ie=Ee}if(Ie&&Ie+1<g.length){const ze=g.slice(Ie+1);he.push(ze),D.tokens&&(ie[ie.length-1].value=ze,F(ie[ie.length-1]),Ae.maxDepth+=ie[ie.length-1].depth)}Ae.slashes=V,Ae.parts=he}return Ae},"scan");Ve.exports=R},292:(Ve,h,y)=>{"use strict";var w=y(6038);const d=y(6470),A=w.platform==="win32",{REGEX_BACKSLASH:p,REGEX_REMOVE_BACKSLASH:k,REGEX_SPECIAL_CHARS:x,REGEX_SPECIAL_CHARS_GLOBAL:v}=y(3889);h.isObject=m=>m!==null&&typeof m=="object"&&!Array.isArray(m),h.hasRegexChars=m=>x.test(m),h.isRegexChar=m=>m.length===1&&h.hasRegexChars(m),h.escapeRegex=m=>m.replace(v,"\\$1"),h.toPosixSlashes=m=>m.replace(p,"/"),h.removeBackslashes=m=>m.replace(k,B=>B==="\\"?"":B),h.supportsLookbehinds=()=>{const m=w.version.slice(1).split(".").map(Number);return m.length===3&&m[0]>=9||m[0]===8&&m[1]>=10},h.isWindows=m=>m&&typeof m.windows=="boolean"?m.windows:A===!0||d.sep==="\\",h.escapeLast=(m,B,$)=>{const P=m.lastIndexOf(B,$);return P===-1?m:m[P-1]==="\\"?h.escapeLast(m,B,P-1):`${m.slice(0,P)}\\${m.slice(P)}`},h.removePrefix=(m,B={})=>{let $=m;return $.startsWith("./")&&($=$.slice(2),B.prefix="./"),$},h.wrapOutput=(m,B={},$={})=>{const P=$.contains?"":"^",j=$.contains?"":"$";let L=`${P}(?:${m})${j}`;return B.negated===!0&&(L=`(?:^(?!${L}).*$)`),L}},6038:Ve=>{var h=Ve.exports={},y,w;function d(){throw new Error("setTimeout has not been defined")}a(d,"defaultSetTimout");function A(){throw new Error("clearTimeout has not been defined")}a(A,"defaultClearTimeout"),function(){try{typeof setTimeout=="function"?y=setTimeout:y=d}catch(X){y=d}try{typeof clearTimeout=="function"?w=clearTimeout:w=A}catch(X){w=A}}();function p(X){if(y===setTimeout)return setTimeout(X,0);if((y===d||!y)&&setTimeout)return y=setTimeout,setTimeout(X,0);try{return y(X,0)}catch(z){try{return y.call(null,X,0)}catch(ue){return y.call(this,X,0)}}}a(p,"runTimeout");function k(X){if(w===clearTimeout)return clearTimeout(X);if((w===A||!w)&&clearTimeout)return w=clearTimeout,clearTimeout(X);try{return w(X)}catch(z){try{return w.call(null,X)}catch(ue){return w.call(this,X)}}}a(k,"runClearTimeout");var x=[],v=!1,m,B=-1;function $(){!v||!m||(v=!1,m.length?x=m.concat(x):B=-1,x.length&&P())}a($,"cleanUpNextTick");function P(){if(!v){var X=p($);v=!0;for(var z=x.length;z;){for(m=x,x=[];++B<z;)m&&m[B].run();B=-1,z=x.length}m=null,v=!1,k(X)}}a(P,"drainQueue"),h.nextTick=function(X){var z=new Array(arguments.length-1);if(arguments.length>1)for(var ue=1;ue<arguments.length;ue++)z[ue-1]=arguments[ue];x.push(new j(X,z)),x.length===1&&!v&&p(P)};function j(X,z){this.fun=X,this.array=z}a(j,"Item"),j.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={};function L(){}a(L,"noop"),h.on=L,h.addListener=L,h.once=L,h.off=L,h.removeListener=L,h.removeAllListeners=L,h.emit=L,h.prependListener=L,h.prependOnceListener=L,h.listeners=function(X){return[]},h.binding=function(X){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(X){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},5431:(Ve,h,y)=>{"use strict";Ve.exports=y(7905)},7905:(Ve,h,y)=>{"use strict";var w=y(1417);function d(){return!0}a(d,"_toTrue");function A(){return!1}a(A,"_toFalse");function p(z){return z.then(d,A)}a(p,"pSuccess");function k(z){return z}a(k,"_pass");function x(z){throw z}a(x,"_throw");function v(z){return z.then(k,x)}a(v,"ensurePromise");function m(z,ue){return{result:z,args:ue,expire_id:0,prefetch_id:0,need_prefetch:!1}}a(m,"createCacheObj");function B(z,ue){!z[ue]||(clearTimeout(z[ue].expire_id),clearTimeout(z[ue].prefetch_id),delete z[ue])}a(B,"destroyCacheObj");function $(z,ue){!z[ue]||(z[ue].need_prefetch=!0)}a($,"askPrefetch");function P(z){var ue=z[0],b=z[1],F=z[2],R=z[3];if(!!b[F]){if(ue){if(!R.maxAge)return;b[F].expire_id=setTimeout(B,R.maxAge,b,F),b[F].prefetch_id=setTimeout($,R.maxAge*.7,b,F),b[F].expire_id.unref&&b[F].expire_id.unref(),b[F].prefetch_id.unref&&b[F].prefetch_id.unref();return}if(!R.maxErrorAge){B(b,F);return}b[F].expire_id=setTimeout(B,R.maxErrorAge,b,F),b[F].expire_id.unref&&b[F].expire_id.unref()}}a(P,"_track_proceed");function j(z,ue,b){var F=z[ue].result.constructor;F.all([p(z[ue].result),z,ue,b]).then(P)}a(j,"trackCacheObj");function L(z){var ue=z[0],b=z[1],F=z[2],R=z[3],g=z[4][0];!b[F]||!ue||(b[F].result=g,clearTimeout(b[F].expire_id),j(b,F,R))}a(L,"_prefetch_proceed");function X(z,ue,b){var F=v(b.fn.apply(null,z[ue].args)),R=F.constructor;z[ue].need_prefetch=!1,R.all([p(F),z,ue,b,[F]]).then(L)}a(X,"doPrefetch"),Ve.exports=a(function(ue,b){var F={},R=b||{},g=w(R.resolve),T={fn:ue,maxAge:R.maxAge||0,maxErrorAge:R.maxErrorAge||0};function D(){for(var J=new Array(arguments.length),Y=0;Y<J.length;Y++)J[Y]=arguments[Y];var V=g(J);return F[V]?F[V].need_prefetch&&X(F,V,T):(F[V]=m(v(T.fn.apply(null,J)),T.maxAge||T.maxErrorAge?J:null),j(F,V,T)),F[V].result}return a(D,"memoizedFn"),D.clear=function(){var J=Object.keys(F);return J.forEach(function(Y){B(F,Y)}),J.length},D},"promiseMemoize")},1417:Ve=>{"use strict";var h={simple:function(w){return w.length?w.join(""):""},json:function(w){if(!w.length)return"";for(var d=[],A=w.length-1;A>=0;A--)d.push(JSON.stringify(w[A]));return d.join("")}};function y(w){return w.forEach(function(d){if(typeof d=="string"&&!h.hasOwnProperty(d))throw new Error('promise-memoize: unknown value "'+d+'" in resolve option')}),function(d){var A=Math.min(w.length,d.length);if(!A)return"";for(var p=[],k=0;k<A;k++)typeof w[k]=="string"?p.push(h[w[k]]([d[k]])):p.push(w[k](d[k]));return p.join("")}}a(y,"createFlexResolver"),Ve.exports=a(function(d){if(typeof d=="undefined")return h.simple;if(typeof d=="string"&&h.hasOwnProperty(d))return h[d];if(Array.isArray(d))return y(d);if(Object.prototype.toString.call(d)==="[object Function]")return d;throw new Error("promise-memoize: invalid resolve option")},"createResolver")},2999:(Ve,h,y)=>{"use strict";/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const w=y(3338),d=a((b,F,R)=>{if(w(b)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(F===void 0||b===F)return String(b);if(w(F)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let g={relaxZeros:!0,...R};typeof g.strictZeros=="boolean"&&(g.relaxZeros=g.strictZeros===!1);let T=String(g.relaxZeros),D=String(g.shorthand),J=String(g.capture),Y=String(g.wrap),V=b+":"+F+"="+T+D+J+Y;if(d.cache.hasOwnProperty(V))return d.cache[V].result;let ie=Math.min(b,F),he=Math.max(b,F);if(Math.abs(ie-he)===1){let de=b+"|"+F;return g.capture?`(${de})`:g.wrap===!1?de:`(?:${de})`}let Z=z(b)||z(F),le={min:b,max:F,a:ie,b:he},O=[],Ue=[];if(Z&&(le.isPadded=Z,le.maxLen=String(le.max).length),ie<0){let de=he<0?Math.abs(he):1;Ue=x(de,Math.abs(ie),le,g),ie=le.a=0}return he>=0&&(O=x(ie,he,le,g)),le.negatives=Ue,le.positives=O,le.result=A(Ue,O,g),g.capture===!0?le.result=`(${le.result})`:g.wrap!==!1&&O.length+Ue.length>1&&(le.result=`(?:${le.result})`),d.cache[V]=le,le.result},"toRegexRange");function A(b,F,R){let g=v(b,F,"-",!1,R)||[],T=v(F,b,"",!1,R)||[],D=v(b,F,"-?",!0,R)||[];return g.concat(D).concat(T).join("|")}a(A,"collatePatterns");function p(b,F){let R=1,g=1,T=P(b,R),D=new Set([F]);for(;b<=T&&T<=F;)D.add(T),R+=1,T=P(b,R);for(T=j(F+1,g)-1;b<T&&T<=F;)D.add(T),g+=1,T=j(F+1,g)-1;return D=[...D],D.sort(B),D}a(p,"splitToRanges");function k(b,F,R){if(b===F)return{pattern:b,count:[],digits:0};let g=m(b,F),T=g.length,D="",J=0;for(let Y=0;Y<T;Y++){let[V,ie]=g[Y];V===ie?D+=V:V!=="0"||ie!=="9"?D+=X(V,ie,R):J++}return J&&(D+=R.shorthand===!0?"\\d":"[0-9]"),{pattern:D,count:[J],digits:T}}a(k,"rangeToPattern");function x(b,F,R,g){let T=p(b,F),D=[],J=b,Y;for(let V=0;V<T.length;V++){let ie=T[V],he=k(String(J),String(ie),g),Z="";if(!R.isPadded&&Y&&Y.pattern===he.pattern){Y.count.length>1&&Y.count.pop(),Y.count.push(he.count[0]),Y.string=Y.pattern+L(Y.count),J=ie+1;continue}R.isPadded&&(Z=ue(ie,R,g)),he.string=Z+he.pattern+L(he.count),D.push(he),J=ie+1,Y=he}return D}a(x,"splitToPatterns");function v(b,F,R,g,T){let D=[];for(let J of b){let{string:Y}=J;!g&&!$(F,"string",Y)&&D.push(R+Y),g&&$(F,"string",Y)&&D.push(R+Y)}return D}a(v,"filterPatterns");function m(b,F){let R=[];for(let g=0;g<b.length;g++)R.push([b[g],F[g]]);return R}a(m,"zip");function B(b,F){return b>F?1:F>b?-1:0}a(B,"compare");function $(b,F,R){return b.some(g=>g[F]===R)}a($,"contains");function P(b,F){return Number(String(b).slice(0,-F)+"9".repeat(F))}a(P,"countNines");function j(b,F){return b-b%Math.pow(10,F)}a(j,"countZeros");function L(b){let[F=0,R=""]=b;return R||F>1?`{${F+(R?","+R:"")}}`:""}a(L,"toQuantifier");function X(b,F,R){return`[${b}${F-b==1?"":"-"}${F}]`}a(X,"toCharacterClass");function z(b){return/^-?(0+)\d/.test(b)}a(z,"hasPadding");function ue(b,F,R){if(!F.isPadded)return b;let g=Math.abs(F.maxLen-String(b).length),T=R.relaxZeros!==!1;switch(g){case 0:return"";case 1:return T?"0?":"0";case 2:return T?"0{0,2}":"00";default:return T?`0{0,${g}}`:`0{${g}}`}}a(ue,"padZeros"),d.cache={},d.clearCache=()=>d.cache={},Ve.exports=d},7360:function(Ve,h){var y,w,d;(function(A,p){w=[],y=p,d=typeof y=="function"?y.apply(h,w):y,d!==void 0&&(Ve.exports=d)})(this,a(function(){function p(b){var F={single:function(R,g,T){if(!R||(X(R)||(R=F.getPreparedSearch(R)),!g))return null;X(g)||(g=F.getPrepared(g));var D=T&&T.allowTypo!==void 0?T.allowTypo:b&&b.allowTypo!==void 0?b.allowTypo:!0,J=D?F.algorithm:F.algorithmNoTypo;return J(R,g,R[0])},go:function(R,g,T){if(!R)return m;R=F.prepareSearch(R);var D=R[0],J=T&&T.threshold||b&&b.threshold||-9007199254740991,Y=T&&T.limit||b&&b.limit||9007199254740991,V=T&&T.allowTypo!==void 0?T.allowTypo:b&&b.allowTypo!==void 0?b.allowTypo:!0,ie=V?F.algorithm:F.algorithmNoTypo,he=0,Z=0,le=g.length;if(T&&T.keys)for(var O=T.scoreFn||j,Ue=T.keys,de=Ue.length,ae=le-1;ae>=0;--ae){for(var W=g[ae],te=new Array(de),me=de-1;me>=0;--me){var Oe=Ue[me],ee=L(W,Oe);if(!ee){te[me]=null;continue}X(ee)||(ee=F.getPrepared(ee)),te[me]=ie(R,ee,D)}te.obj=W;var Me=O(te);Me!==null&&(Me<J||(te.score=Me,he<Y?(ue.add(te),++he):(++Z,Me>ue.peek().score&&ue.replaceTop(te))))}else if(T&&T.key)for(var Oe=T.key,ae=le-1;ae>=0;--ae){var W=g[ae],ee=L(W,Oe);if(!!ee){X(ee)||(ee=F.getPrepared(ee));var He=ie(R,ee,D);He!==null&&(He.score<J||(He={target:He.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:He.score,indexes:He.indexes,obj:W},he<Y?(ue.add(He),++he):(++Z,He.score>ue.peek().score&&ue.replaceTop(He))))}}else for(var ae=le-1;ae>=0;--ae){var ee=g[ae];if(!!ee){X(ee)||(ee=F.getPrepared(ee));var He=ie(R,ee,D);He!==null&&(He.score<J||(he<Y?(ue.add(He),++he):(++Z,He.score>ue.peek().score&&ue.replaceTop(He))))}}if(he===0)return m;for(var Xe=new Array(he),ae=he-1;ae>=0;--ae)Xe[ae]=ue.poll();return Xe.total=he+Z,Xe},goAsync:function(R,g,T){var D=!1,J=new Promise(function(Y,V){if(!R)return Y(m);R=F.prepareSearch(R);var ie=R[0],he=z(),Z=g.length-1,le=T&&T.threshold||b&&b.threshold||-9007199254740991,O=T&&T.limit||b&&b.limit||9007199254740991,Ue=T&&T.allowTypo!==void 0?T.allowTypo:b&&b.allowTypo!==void 0?b.allowTypo:!0,de=Ue?F.algorithm:F.algorithmNoTypo,ae=0,W=0;function te(){if(D)return V("canceled");var me=Date.now();if(T&&T.keys)for(var Oe=T.scoreFn||j,ee=T.keys,Me=ee.length;Z>=0;--Z){for(var He=g[Z],Xe=new Array(Me),U=Me-1;U>=0;--U){var G=ee[U],q=L(He,G);if(!q){Xe[U]=null;continue}X(q)||(q=F.getPrepared(q)),Xe[U]=de(R,q,ie)}Xe.obj=He;var fe=Oe(Xe);if(fe!==null&&!(fe<le)&&(Xe.score=fe,ae<O?(he.add(Xe),++ae):(++W,fe>he.peek().score&&he.replaceTop(Xe)),Z%1e3==0&&Date.now()-me>=10)){k?setImmediate(te):setTimeout(te);return}}else if(T&&T.key)for(var G=T.key;Z>=0;--Z){var He=g[Z],q=L(He,G);if(!!q){X(q)||(q=F.getPrepared(q));var be=de(R,q,ie);if(be!==null&&!(be.score<le)&&(be={target:be.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:be.score,indexes:be.indexes,obj:He},ae<O?(he.add(be),++ae):(++W,be.score>he.peek().score&&he.replaceTop(be)),Z%1e3==0&&Date.now()-me>=10)){k?setImmediate(te):setTimeout(te);return}}}else for(;Z>=0;--Z){var q=g[Z];if(!!q){X(q)||(q=F.getPrepared(q));var be=de(R,q,ie);if(be!==null&&!(be.score<le)&&(ae<O?(he.add(be),++ae):(++W,be.score>he.peek().score&&he.replaceTop(be)),Z%1e3==0&&Date.now()-me>=10)){k?setImmediate(te):setTimeout(te);return}}}if(ae===0)return Y(m);for(var Te=new Array(ae),oe=ae-1;oe>=0;--oe)Te[oe]=he.poll();Te.total=ae+W,Y(Te)}a(te,"step"),k?setImmediate(te):te()});return J.cancel=function(){D=!0},J},highlight:function(R,g,T){if(R===null)return null;g===void 0&&(g="<b>"),T===void 0&&(T="</b>");for(var D="",J=0,Y=!1,V=R.target,ie=V.length,he=R.indexes,Z=0;Z<ie;++Z){var le=V[Z];if(he[J]===Z){if(++J,Y||(Y=!0,D+=g),J===he.length){D+=le+T+V.substr(Z+1);break}}else Y&&(Y=!1,D+=T);D+=le}return D},prepare:function(R){if(!!R)return{target:R,_targetLowerCodes:F.prepareLowerCodes(R),_nextBeginningIndexes:null,score:null,indexes:null,obj:null}},prepareSlow:function(R){if(!!R)return{target:R,_targetLowerCodes:F.prepareLowerCodes(R),_nextBeginningIndexes:F.prepareNextBeginningIndexes(R),score:null,indexes:null,obj:null}},prepareSearch:function(R){if(!!R)return F.prepareLowerCodes(R)},getPrepared:function(R){if(R.length>999)return F.prepare(R);var g=x.get(R);return g!==void 0||(g=F.prepare(R),x.set(R,g)),g},getPreparedSearch:function(R){if(R.length>999)return F.prepareSearch(R);var g=v.get(R);return g!==void 0||(g=F.prepareSearch(R),v.set(R,g)),g},algorithm:function(R,g,T){for(var D=g._targetLowerCodes,J=R.length,Y=D.length,V=0,ie=0,he=0,Z=0;;){var le=T===D[ie];if(le){if(B[Z++]=ie,++V,V===J)break;T=R[he===0?V:he===V?V+1:he===V-1?V-1:V]}if(++ie,ie>=Y)for(;;){if(V<=1)return null;if(he===0){--V;var O=R[V];if(T===O)continue;he=V}else{if(he===1)return null;--he,V=he,T=R[V+1];var O=R[V];if(T===O)continue}Z=V,ie=B[Z-1]+1;break}}var V=0,Ue=0,de=!1,ae=0,W=g._nextBeginningIndexes;W===null&&(W=g._nextBeginningIndexes=F.prepareNextBeginningIndexes(g.target));var te=ie=B[0]===0?0:W[B[0]-1];if(ie!==Y)for(;;)if(ie>=Y){if(V<=0){if(++Ue,Ue>J-2)break;if(R[Ue]===R[Ue+1])continue;ie=te;continue}--V;var me=$[--ae];ie=W[me]}else{var le=R[Ue===0?V:Ue===V?V+1:Ue===V-1?V-1:V]===D[ie];if(le){if($[ae++]=ie,++V,V===J){de=!0;break}++ie}else ie=W[ie]}{if(de)var Oe=$,ee=ae;else var Oe=B,ee=Z;for(var Me=0,He=-1,Xe=0;Xe<J;++Xe){var ie=Oe[Xe];He!==ie-1&&(Me-=ie),He=ie}de?Ue!==0&&(Me+=-20):(Me*=1e3,he!==0&&(Me+=-20)),Me-=Y-J,g.score=Me,g.indexes=new Array(ee);for(var Xe=ee-1;Xe>=0;--Xe)g.indexes[Xe]=Oe[Xe];return g}},algorithmNoTypo:function(R,g,T){for(var D=g._targetLowerCodes,J=R.length,Y=D.length,V=0,ie=0,he=0;;){var Z=T===D[ie];if(Z){if(B[he++]=ie,++V,V===J)break;T=R[V]}if(++ie,ie>=Y)return null}var V=0,le=!1,O=0,Ue=g._nextBeginningIndexes;Ue===null&&(Ue=g._nextBeginningIndexes=F.prepareNextBeginningIndexes(g.target));var de=ie=B[0]===0?0:Ue[B[0]-1];if(ie!==Y)for(;;)if(ie>=Y){if(V<=0)break;--V;var ae=$[--O];ie=Ue[ae]}else{var Z=R[V]===D[ie];if(Z){if($[O++]=ie,++V,V===J){le=!0;break}++ie}else ie=Ue[ie]}{if(le)var W=$,te=O;else var W=B,te=he;for(var me=0,Oe=-1,ee=0;ee<J;++ee){var ie=W[ee];Oe!==ie-1&&(me-=ie),Oe=ie}le||(me*=1e3),me-=Y-J,g.score=me,g.indexes=new Array(te);for(var ee=te-1;ee>=0;--ee)g.indexes[ee]=W[ee];return g}},prepareLowerCodes:function(R){for(var g=R.length,T=[],D=R.toLowerCase(),J=0;J<g;++J)T[J]=D.charCodeAt(J);return T},prepareBeginningIndexes:function(R){for(var g=R.length,T=[],D=0,J=!1,Y=!1,V=0;V<g;++V){var ie=R.charCodeAt(V),he=ie>=65&&ie<=90,Z=he||ie>=97&&ie<=122||ie>=48&&ie<=57,le=he&&!J||!Y||!Z;J=he,Y=Z,le&&(T[D++]=V)}return T},prepareNextBeginningIndexes:function(R){for(var g=R.length,T=F.prepareBeginningIndexes(R),D=[],J=T[0],Y=0,V=0;V<g;++V)J>V?D[V]=J:(J=T[++Y],D[V]=J===void 0?g:J);return D},cleanup:P,new:p};return F}a(p,"fuzzysortNew");var k=typeof window=="undefined",x=new Map,v=new Map,m=[];m.total=0;var B=[],$=[];function P(){x.clear(),v.clear(),B=[],$=[]}a(P,"cleanup");function j(b){for(var F=-9007199254740991,R=b.length-1;R>=0;--R){var g=b[R];if(g!==null){var T=g.score;T>F&&(F=T)}}return F===-9007199254740991?null:F}a(j,"defaultScoreFn");function L(b,F){var R=b[F];if(R!==void 0)return R;var g=F;Array.isArray(F)||(g=F.split("."));for(var T=g.length,D=-1;b&&++D<T;)b=b[g[D]];return b}a(L,"getValue");function X(b){return typeof b=="object"}a(X,"isObj");var z=a(function(){var b=[],F=0,R={};function g(){for(var T=0,D=b[T],J=1;J<F;){var Y=J+1;T=J,Y<F&&b[Y].score<b[J].score&&(T=Y),b[T-1>>1]=b[T],J=1+(T<<1)}for(var V=T-1>>1;T>0&&D.score<b[V].score;V=(T=V)-1>>1)b[T]=b[V];b[T]=D}return a(g,"n"),R.add=function(T){var D=F;b[F++]=T;for(var J=D-1>>1;D>0&&T.score<b[J].score;J=(D=J)-1>>1)b[D]=b[J];b[D]=T},R.poll=function(){if(F!==0){var T=b[0];return b[0]=b[--F],g(),T}},R.peek=function(T){if(F!==0)return b[0]},R.replaceTop=function(T){b[0]=T,g()},R},"fastpriorityqueue"),ue=z();return p()},"UMD"))},6470:(Ve,h,y)=>{"use strict";var w=y(4155);function d(x){if(typeof x!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(x))}a(d,"assertPath");function A(x,v){for(var m="",B=0,$=-1,P=0,j,L=0;L<=x.length;++L){if(L<x.length)j=x.charCodeAt(L);else{if(j===47)break;j=47}if(j===47){if(!($===L-1||P===1))if($!==L-1&&P===2){if(m.length<2||B!==2||m.charCodeAt(m.length-1)!==46||m.charCodeAt(m.length-2)!==46){if(m.length>2){var X=m.lastIndexOf("/");if(X!==m.length-1){X===-1?(m="",B=0):(m=m.slice(0,X),B=m.length-1-m.lastIndexOf("/")),$=L,P=0;continue}}else if(m.length===2||m.length===1){m="",B=0,$=L,P=0;continue}}v&&(m.length>0?m+="/..":m="..",B=2)}else m.length>0?m+="/"+x.slice($+1,L):m=x.slice($+1,L),B=L-$-1;$=L,P=0}else j===46&&P!==-1?++P:P=-1}return m}a(A,"normalizeStringPosix");function p(x,v){var m=v.dir||v.root,B=v.base||(v.name||"")+(v.ext||"");return m?m===v.root?m+B:m+x+B:B}a(p,"_format");var k={resolve:a(function(){for(var v="",m=!1,B,$=arguments.length-1;$>=-1&&!m;$--){var P;$>=0?P=arguments[$]:(B===void 0&&(B=w.cwd()),P=B),d(P),P.length!==0&&(v=P+"/"+v,m=P.charCodeAt(0)===47)}return v=A(v,!m),m?v.length>0?"/"+v:"/":v.length>0?v:"."},"resolve"),normalize:a(function(v){if(d(v),v.length===0)return".";var m=v.charCodeAt(0)===47,B=v.charCodeAt(v.length-1)===47;return v=A(v,!m),v.length===0&&!m&&(v="."),v.length>0&&B&&(v+="/"),m?"/"+v:v},"normalize"),isAbsolute:a(function(v){return d(v),v.length>0&&v.charCodeAt(0)===47},"isAbsolute"),join:a(function(){if(arguments.length===0)return".";for(var v,m=0;m<arguments.length;++m){var B=arguments[m];d(B),B.length>0&&(v===void 0?v=B:v+="/"+B)}return v===void 0?".":k.normalize(v)},"join"),relative:a(function(v,m){if(d(v),d(m),v===m||(v=k.resolve(v),m=k.resolve(m),v===m))return"";for(var B=1;B<v.length&&v.charCodeAt(B)===47;++B);for(var $=v.length,P=$-B,j=1;j<m.length&&m.charCodeAt(j)===47;++j);for(var L=m.length,X=L-j,z=P<X?P:X,ue=-1,b=0;b<=z;++b){if(b===z){if(X>z){if(m.charCodeAt(j+b)===47)return m.slice(j+b+1);if(b===0)return m.slice(j+b)}else P>z&&(v.charCodeAt(B+b)===47?ue=b:b===0&&(ue=0));break}var F=v.charCodeAt(B+b),R=m.charCodeAt(j+b);if(F!==R)break;F===47&&(ue=b)}var g="";for(b=B+ue+1;b<=$;++b)(b===$||v.charCodeAt(b)===47)&&(g.length===0?g+="..":g+="/..");return g.length>0?g+m.slice(j+ue):(j+=ue,m.charCodeAt(j)===47&&++j,m.slice(j))},"relative"),_makeLong:a(function(v){return v},"_makeLong"),dirname:a(function(v){if(d(v),v.length===0)return".";for(var m=v.charCodeAt(0),B=m===47,$=-1,P=!0,j=v.length-1;j>=1;--j)if(m=v.charCodeAt(j),m===47){if(!P){$=j;break}}else P=!1;return $===-1?B?"/":".":B&&$===1?"//":v.slice(0,$)},"dirname"),basename:a(function(v,m){if(m!==void 0&&typeof m!="string")throw new TypeError('"ext" argument must be a string');d(v);var B=0,$=-1,P=!0,j;if(m!==void 0&&m.length>0&&m.length<=v.length){if(m.length===v.length&&m===v)return"";var L=m.length-1,X=-1;for(j=v.length-1;j>=0;--j){var z=v.charCodeAt(j);if(z===47){if(!P){B=j+1;break}}else X===-1&&(P=!1,X=j+1),L>=0&&(z===m.charCodeAt(L)?--L==-1&&($=j):(L=-1,$=X))}return B===$?$=X:$===-1&&($=v.length),v.slice(B,$)}else{for(j=v.length-1;j>=0;--j)if(v.charCodeAt(j)===47){if(!P){B=j+1;break}}else $===-1&&(P=!1,$=j+1);return $===-1?"":v.slice(B,$)}},"basename"),extname:a(function(v){d(v);for(var m=-1,B=0,$=-1,P=!0,j=0,L=v.length-1;L>=0;--L){var X=v.charCodeAt(L);if(X===47){if(!P){B=L+1;break}continue}$===-1&&(P=!1,$=L+1),X===46?m===-1?m=L:j!==1&&(j=1):m!==-1&&(j=-1)}return m===-1||$===-1||j===0||j===1&&m===$-1&&m===B+1?"":v.slice(m,$)},"extname"),format:a(function(v){if(v===null||typeof v!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof v);return p("/",v)},"format"),parse:a(function(v){d(v);var m={root:"",dir:"",base:"",ext:"",name:""};if(v.length===0)return m;var B=v.charCodeAt(0),$=B===47,P;$?(m.root="/",P=1):P=0;for(var j=-1,L=0,X=-1,z=!0,ue=v.length-1,b=0;ue>=P;--ue){if(B=v.charCodeAt(ue),B===47){if(!z){L=ue+1;break}continue}X===-1&&(z=!1,X=ue+1),B===46?j===-1?j=ue:b!==1&&(b=1):j!==-1&&(b=-1)}return j===-1||X===-1||b===0||b===1&&j===X-1&&j===L+1?X!==-1&&(L===0&&$?m.base=m.name=v.slice(1,X):m.base=m.name=v.slice(L,X)):(L===0&&$?(m.name=v.slice(1,j),m.base=v.slice(1,X)):(m.name=v.slice(L,j),m.base=v.slice(L,X)),m.ext=v.slice(j,X)),L>0?m.dir=v.slice(0,L-1):$&&(m.dir="/"),m},"parse"),sep:"/",delimiter:":",win32:null,posix:null};k.posix=k,Ve.exports=k},4155:Ve=>{var h=Ve.exports={},y,w;function d(){throw new Error("setTimeout has not been defined")}a(d,"defaultSetTimout");function A(){throw new Error("clearTimeout has not been defined")}a(A,"defaultClearTimeout"),function(){try{typeof setTimeout=="function"?y=setTimeout:y=d}catch(X){y=d}try{typeof clearTimeout=="function"?w=clearTimeout:w=A}catch(X){w=A}}();function p(X){if(y===setTimeout)return setTimeout(X,0);if((y===d||!y)&&setTimeout)return y=setTimeout,setTimeout(X,0);try{return y(X,0)}catch(z){try{return y.call(null,X,0)}catch(ue){return y.call(this,X,0)}}}a(p,"runTimeout");function k(X){if(w===clearTimeout)return clearTimeout(X);if((w===A||!w)&&clearTimeout)return w=clearTimeout,clearTimeout(X);try{return w(X)}catch(z){try{return w.call(null,X)}catch(ue){return w.call(this,X)}}}a(k,"runClearTimeout");var x=[],v=!1,m,B=-1;function $(){!v||!m||(v=!1,m.length?x=m.concat(x):B=-1,x.length&&P())}a($,"cleanUpNextTick");function P(){if(!v){var X=p($);v=!0;for(var z=x.length;z;){for(m=x,x=[];++B<z;)m&&m[B].run();B=-1,z=x.length}m=null,v=!1,k(X)}}a(P,"drainQueue"),h.nextTick=function(X){var z=new Array(arguments.length-1);if(arguments.length>1)for(var ue=1;ue<arguments.length;ue++)z[ue-1]=arguments[ue];x.push(new j(X,z)),x.length===1&&!v&&p(P)};function j(X,z){this.fun=X,this.array=z}a(j,"Item"),j.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={};function L(){}a(L,"noop"),h.on=L,h.addListener=L,h.once=L,h.off=L,h.removeListener=L,h.removeAllListeners=L,h.emit=L,h.prependListener=L,h.prependOnceListener=L,h.listeners=function(X){return[]},h.binding=function(X){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(X){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},6529:()=>{},6391:()=>{}},fa={};function Mn(Ve){var h=fa[Ve];if(h!==void 0)return h.exports;var y=fa[Ve]={id:Ve,loaded:!1,exports:{}};return Na[Ve].call(y.exports,y,y.exports,Mn),y.loaded=!0,y.exports}a(Mn,"__webpack_require__"),(()=>{Mn.n=Ve=>{var h=Ve&&Ve.__esModule?()=>Ve.default:()=>Ve;return Mn.d(h,{a:h}),h}})(),(()=>{Mn.d=(Ve,h)=>{for(var y in h)Mn.o(h,y)&&!Mn.o(Ve,y)&&Object.defineProperty(Ve,y,{enumerable:!0,get:h[y]})}})(),(()=>{Mn.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(Ve){if(typeof window=="object")return window}}()})(),(()=>{Mn.o=(Ve,h)=>Object.prototype.hasOwnProperty.call(Ve,h)})(),(()=>{Mn.r=Ve=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ve,"__esModule",{value:!0})}})(),(()=>{Mn.nmd=Ve=>(Ve.paths=[],Ve.children||(Ve.children=[]),Ve)})();var La={};(()=>{"use strict";Mn.r(La),Mn.d(La,{activate:()=>ss});var Ve={};Mn.r(Ve),Mn.d(Ve,{max:()=>mi,min:()=>bi});const h=require("vscode"),y=new TextDecoder,w=new TextEncoder,d=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function A(n){const e=w.encode(n),t=new Array(e.length);for(let r=0;r<e.length;++r)t[r]=d[e[r]];return t.join("")}a(A,"encodeUtf8Hex");function p(n){const e=n.match(/(\w{2})/g);if(e===null)return"";const t=new Uint8Array(e.map(r=>parseInt(r,16)));return y.decode(t)}a(p,"decodeUtf8Hex");const k=/^[0-9a-f]{40}$/i;function x(n){return n!==void 0&&k.test(n)}a(x,"isSha");const v=/^[^/](?!.*\/\.)(?!.*\.\.)(?!.*\/\/)(?!.*@\{)[^\000-\037\177 ~^:?*[\\]+[^./]$/;function m(n){return v.test(n)}a(m,"isValidBranchName");function B(n){return n===""||n==="~"||n==="HEAD"?n:n.endsWith("^")?`${n.substr(0,7)}^`:n.substr(0,7)}a(B,"shortenRef");const $=47;function P(n){if(n===void 0)return;const e=n.path.endsWith("/");return!e&&!n.fragment?n.toString():n.with({path:e?n.path.slice(0,-1):n.path,fragment:""}).toString()}a(P,"asKey");function j(n){if(n===void 0)return;const e=n.path.endsWith("/");return!e&&!n.query&&!n.fragment?n.toString():n.with({path:e?n.path.slice(0,-1):n.path,query:"",fragment:""}).toString()}a(j,"asFileKey");function L(n,e){return`${(e==null?void 0:e.excludeScheme)?"":`${n.scheme}-`}${n.authority}${n.path.endsWith("/")?n.path.slice(0,-1):n.path}`}a(L,"asFileStorageKey");function X(n){const e=typeof n=="string"?n:n.path;let t=0,r=-1,i=!0;for(let s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===$){if(!i){t=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":e.slice(t,r)}a(X,"uris_basename");function z(n){const e=n.path;if(e.length===1)return"/";let t,r=-1,i=!0;for(let s=e.length-1;s>=1;--s)if(t=e.charCodeAt(s),t===$){if(!i){r=s;break}}else i=!1;return r===-1?"/":e.slice(0,r)}a(z,"dirname");function ue(n){const e=n.path.lastIndexOf("/");return e===-1?n.with({path:"/"}):n.with({path:n.path.substring(0,e)})}a(ue,"getParent");function b(n,e){const t=typeof e=="string"?e:e.path;return t.startsWith(n.path)?h.Uri.joinPath(n,t.substr(n.path.length)):h.Uri.joinPath(n,t)}a(b,"joinRelativePath");function F(n,e){return typeof e=="string"?(e.startsWith("/")||(e=`/${e}`),R(n,e)&&n.path.substr(e.length+(e.endsWith("/")?0:1)).split("/").length===1):R(n,e)&&n.path.substr(e.path.length+(e.path.endsWith("/")?0:1)).split("/").length===1}a(F,"isChild");function R(n,e){if(typeof n=="string")return e=typeof e=="string"?e:e.path,e.startsWith("/")||(e=`/${e}`),e.length===1||n.startsWith(e.endsWith("/")?e:`${e}/`);if(typeof e=="string"){e.startsWith("/")||(e=`/${e}`);const t=typeof n=="string"?n:n.path;return e.length===1||t.startsWith(e.endsWith("/")?e:`${e}/`)}return e.scheme===n.scheme&&e.authority===n.authority&&(e.path.length===1||n.path.startsWith(e.path.endsWith("/")?e.path:`${e.path}/`))}a(R,"uris_isDescendent");function g(n){return n&&typeof n=="object"&&"scheme"in n}a(g,"isSerializedUri");function T(n){return n.split("/").map(e=>encodeURIComponent(e)).join("/")}a(T,"encodeURIComponentExceptSlashes");var D;(function(n){n.authoritySeparator="+",n.scheme="vscode-vfs",n.baseVirtualWorkspaceUri=h.Uri.parse(`${n.scheme}://`);function e(c){const{authority:_}=c,H=_.indexOf(n.authoritySeparator);return H!==-1?_.substr(0,H):_}a(e,"getProviderId"),n.getProviderId=e;function t(c){return c.scheme!==n.scheme?c:c.with({scheme:e(c)})}a(t,"getProviderUri"),n.getProviderUri=t;function r(c,_){const H=new Map,C=h.workspace.textDocuments;if(C.length===0)return H;for(const ne of C)ne.uri.scheme===c&&_.some(Ce=>R(ne.uri,Ce))&&H.set(P(ne.uri),ne.uri);return H}a(r,"getOpenUris"),n.getOpenUris=r;function i(c){return c.scheme===n.scheme?c:c.with({scheme:n.scheme})}a(i,"getVirtualUri"),n.getVirtualUri=i;function s(c,_){const[H,C]=c.authority.split(n.authoritySeparator);let ne;if(C)try{const Ce=JSON.parse(p(C));ne=_?_(Ce):Ce}catch{}return{scheme:H,metadata:ne}}a(s,"decodeAuthority"),n.decodeAuthority=s;function o(c,_){const H=_?`${n.authoritySeparator}${A(JSON.stringify(_))}`:"";return`${c}${H}`}a(o,"encodeAuthority"),n.encodeAuthority=o;function u(c){return c.authority.indexOf(n.authoritySeparator)===-1}a(u,"isCanonicalUri"),n.isCanonicalUri=u;function l(){var c,_;return(_=(c=h.workspace.workspaceFolders)==null?void 0:c.every(H=>H.uri.scheme===n.scheme))!=null?_:!1}a(l,"isVirtualWorkspace"),n.isVirtualWorkspace=l})(D||(D={}));var J;(function(n){n[n.Admin=100]="Admin",n[n.Maintain=40]="Maintain",n[n.WriteToPullRequest=31]="WriteToPullRequest",n[n.Write=30]="Write",n[n.Triage=20]="Triage",n[n.Read=10]="Read",n[n.None=0]="None"})(J||(J={}));var Y;(function(n){n[n.Branch=0]="Branch",n[n.RemoteBranch=1]="RemoteBranch",n[n.Tag=2]="Tag",n[n.Commit=3]="Commit"})(Y||(Y={}));var V;(function(n){function e(t){return t!==void 0&&t.type===Z.Active}a(e,"isActive"),n.isActive=e})(V||(V={}));var ie;(function(n){function e(t){const r=D.decodeAuthority(t).metadata;if(!(r===void 0||r.idx===void 0)){if(r.idx==="latest")return{type:he.Latest};if(x(r.idx))return{type:he.SHA,sha:r.idx}}}a(e,"decode"),n.decode=e})(ie||(ie={}));var he;(function(n){n[n.Latest=1]="Latest",n[n.SHA=2]="SHA"})(he||(he={}));var Z;(function(n){n[n.NotIndexed=0]="NotIndexed",n[n.Indexed=1]="Indexed",n[n.Match=2]="Match",n[n.Active=3]="Active"})(Z||(Z={})),function(n){function e(t){return t!==void 0&&(t===n.Indexed||t===n.Match||t===n.Active)}a(e,"hasIndex"),n.hasIndex=e}(Z||(Z={}));var le;(function(n){n[n.Open=0]="Open",n[n.Closed=1]="Closed",n[n.Merged=2]="Merged"})(le||(le={}));var O;(function(n){n[n.Changed=1]="Changed",n[n.Created=2]="Created",n[n.Deleted=3]="Deleted"})(O||(O={}));var Ue;(function(n){n.CurrentWindow="currentWindow",n.NewWindow="newWindow",n.AddToWorkspace="addToWorkspace"})(Ue||(Ue={}));var de;(function(n){n[n.Branch=0]="Branch",n[n.Tag=1]="Tag",n[n.Commit=2]="Commit",n[n.PullRequest=3]="PullRequest",n[n.Tree=4]="Tree"})(de||(de={}));var ae;(function(n){n[n.Abort=0]="Abort",n[n.KeepCurrent=1]="KeepCurrent",n[n.DiscardCurrent=2]="DiscardCurrent",n[n.Merge=3]="Merge"})(ae||(ae={}));var W;(function(n){n[n.Repository=0]="Repository",n[n.PullRequest=1]="PullRequest",n[n.Branch=2]="Branch",n[n.Commit=3]="Commit",n[n.File=4]="File",n[n.Tag=5]="Tag"})(W||(W={}));var te;(function(n){n.Branch="branch",n.RemoteBranch="remoteBranch",n.PullRequestBranch="pullRequestBranch",n.PullRequestRemoteBranch="pullRequestRemoteBranch",n.Tag="tag",n.Commit="commit"})(te||(te={}));var me;(function(n){n.None="none",n.Latest="latest",n.Match="match",n.TipPlusLatest="tip+latest"})(me||(me={}));var Oe;(function(n){n.Browse="browse",n.Edit="edit"})(Oe||(Oe={}));var ee;(function(n){n.CommitFailedError="CommitFailedError",n.DetachedHEADError="DetachedHEADError",n.CommitToProtectedBranchError="CommitToProtectedBranchError",n.CommitToArchivedRepositoryError="CommitToArchivedRepositoryError",n.InvalidBranchNameError="InvalidBranchNameError",n.InvalidCredentialsError="InvalidCredentialsError",n.MergeConflictError="MergeConflictError",n.NothingToCommitError="NothingToCommitError",n.SyncConflictsError="SyncConflictsError",n.SyncOrFetchError="SyncOrFetchError",n.UnresolvedConflictsError="UnresolvedConflictsError",n.InvalidRepositoryError="InvalidRepositoryError",n.Unknown="Unknown"})(ee||(ee={}));class Me extends Error{constructor(e,t,r){super(typeof e=="string"?e:e.message);this.messageOrError=e,this.errorCode=t,this.action=r}static CommitFailedError(){return new Me("Failed to create and push commit",ee.CommitFailedError)}static DetachedHEADError(e){return new Me(e,ee.DetachedHEADError)}static CommitToProtectedBranchError(e){return new Me(e,ee.CommitToProtectedBranchError)}static CommitToArchivedRepositoryError(e){return new Me(e,ee.CommitToArchivedRepositoryError)}static InvalidBranchNameError(e,t=!1){const r=t?`Branch '${e}' already exists`:`Invalid branch name '${e}'`;return new Me(r,ee.InvalidBranchNameError)}static InvalidCredentialsError(e,t){return new Me(e,ee.InvalidCredentialsError,t)}static MergeConflictError(e){return new Me(e,ee.MergeConflictError)}static NothingToCommitError(e){return new Me(e,ee.NothingToCommitError)}static SyncOrFetchError(e=!1){const t=e?"Unable to sync the repository":"Unable to fetch the repository";return new Me(t,ee.SyncOrFetchError)}static SyncConflictsError(){const e="Sync operation will result in conflicts";return new Me(e,ee.SyncConflictsError)}static UnresolvedConflictsError(){return new Me("You have unresolved merge conflicts.",ee.UnresolvedConflictsError)}static InvalidRepositoryError(){return new Me("The current repository is invalid",ee.InvalidRepositoryError)}static asVirtualProviderErrorCode(e){return e instanceof Error&&"messageOrError"in e&&"errorCode"in e?e.errorCode:ee.Unknown}}a(Me,"VirtualProviderError");const He=6;var Xe;(function(n){n.Off="off",n.Auto="auto",n.Always="always"})(Xe||(Xe={}));var U;(function(n){n.None="none",n.Latest="latest",n.Match="match",n.TipPlusLatest="tip+latest"})(U||(U={})),function(n){function e(t){return t===n.None||t===n.Latest||t===n.Match||t===n.TipPlusLatest?t:n.None}a(e,"sanitize"),n.sanitize=e}(U||(U={}));var G;(function(n){n.Browse="browse",n.Edit="edit"})(G||(G={})),function(n){function e(r){return r===n.Browse||r===n.Edit?r:n.Edit}a(e,"sanitize"),n.sanitize=e;function t(r){return r===n.Browse?n.Edit:n.Browse}a(t,"toggle"),n.toggle=t}(G||(G={}));var q;(function(n){function e(t,r){return t.display===r.display&&t.index===r.index}a(e,"equals"),n.equals=e})(q||(q={}));var fe;(function(n){const e=new Map([[te.Branch,U.None],[te.RemoteBranch,U.None],[te.PullRequestBranch,U.Match],[te.PullRequestRemoteBranch,U.Match],[te.Commit,U.Match],[te.Tag,U.Match]]),t=new Map([[te.Branch,G.Edit],[te.RemoteBranch,G.Edit],[te.PullRequestBranch,G.Browse],[te.PullRequestRemoteBranch,G.Browse],[te.Commit,G.Browse],[te.Tag,G.Browse]]);function r(s){var o,u;return{display:(o=t.get(s))!=null?o:G.Edit,index:(u=e.get(s))!=null?u:U.None}}a(r,"getDefault"),n.getDefault=r;function i(s){switch(s){case te.Branch:case te.RemoteBranch:return{display:G.Browse,index:U.Latest};case te.PullRequestBranch:case te.PullRequestRemoteBranch:return{display:G.Browse,index:U.Match};case te.Commit:case te.Tag:return{display:G.Browse,index:U.Match};default:return{display:G.Edit,index:U.None}}}a(i,"getIndexDefault"),n.getIndexDefault=i})(fe||(fe={}));const be=null;var Te=Mn(5179),oe=Mn.n(Te);const ye="modes",De="indexMemento";class Be{constructor(){this._onDidChange=new h.EventEmitter,this._onDidChangeAny=new h.EventEmitter,this.memoryState=new Map}static configure(e,t){Ae.configPrefix=e,Ae.state=t.workspaceState,t.subscriptions.push(h.workspace.onDidChangeConfiguration(Ae.onConfigurationChanged,Ae))}get onDidChange(){return this._onDidChange.event}get onDidChangeAny(){return this._onDidChangeAny.event}onConfigurationChanged(e){if(!e.affectsConfiguration(this.configPrefix)){this._onDidChangeAny.fire(e);return}this._onDidChangeAny.fire(e),this._onDidChange.fire(e)}set state(e){if(this._state=e,this.modes=this._state.get(ye),this.modes===void 0&&(this.modes=Object.create(null)),this.memoryState.size!==0){for(const t of this.memoryState.entries())this.modes[t[0]]=t[1];this._state.update(ye,this.modes).then(()=>{this.memoryState.clear()},void 0)}this.indexMemento=this._state.get(De),this.indexMemento===void 0&&(this.indexMemento=Object.create(null))}getEffective(e,t,r){const i=this.inspect(e,t);return i===void 0&&r!==void 0?r:(i==null?void 0:i.workspaceFolderValue)!==void 0?i.workspaceFolderValue:(i==null?void 0:i.workspaceValue)!==void 0?i.workspaceValue:i==null?void 0:i.globalValue}get(e,t,r){return r===void 0?h.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,t).get(e===void 0?this.configPrefix:e):h.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,t).get(e===void 0?this.configPrefix:e,r)}getMode(e,t,r){var i;const s=e.toString();let o=this.modes!==void 0?this.modes[s]:void 0;if(o!==void 0)return{display:G.sanitize(o.display),index:U.sanitize(o.index)};if(o=this.memoryState.get(s),o!==void 0)return o;if(t===te.Branch||t===te.RemoteBranch)switch((i=h.workspace.getConfiguration("remoteHub.richNavigation.indexMode",e))==null?void 0:i.get("branch")){case"none":return{display:G.Edit,index:U.None};case"latest":return{display:G.Browse,index:U.Latest};case"tipPlusLatest":return{display:G.Edit,index:U.TipPlusLatest}}if(!r)return fe.getDefault(t)}setMode(e,t){const r=e.toString();return this._state===void 0||this.modes===void 0?(this.memoryState.set(r,t),Promise.resolve()):(this.modes[r]=t,this._state.update(ye,this.modes))}getIndexMemento(e){if(this.indexMemento!==void 0)return this.indexMemento[e.toString()]}setIndexMemento(e,t){return this.indexMemento===void 0||this._state===void 0?Promise.resolve():(this.indexMemento[e.toString()]=t,this._state.update(De,this.indexMemento))}getAny(e,t,r){return r===void 0?h.workspace.getConfiguration(void 0,t).get(e):h.workspace.getConfiguration(void 0,t).get(e,r)}changed(e,t,r){var i;return(i=e==null?void 0:e.affectsConfiguration(`${this.configPrefix}.${t}`,r))!=null?i:!0}inspect(e,t){return h.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,t).inspect(e===void 0?this.configPrefix:e)}inspectAny(e,t){return h.workspace.getConfiguration(void 0,t).inspect(e)}async migrate(e,t,r){const i=Ae.inspect(e);if(i===void 0)return!1;let s=!1;return i.globalValue!==void 0&&(await this.update(t,r.migrationFn!=null?r.migrationFn(i.globalValue):i.globalValue,h.ConfigurationTarget.Global),s=!0),i.workspaceValue!==void 0&&(await this.update(t,r.migrationFn!=null?r.migrationFn(i.workspaceValue):i.workspaceValue,h.ConfigurationTarget.Workspace),s=!0),i.workspaceFolderValue!==void 0&&(await this.update(t,r.migrationFn!=null?r.migrationFn(i.workspaceFolderValue):i.workspaceFolderValue,h.ConfigurationTarget.WorkspaceFolder),s=!0),!s&&r.fallbackValue!==void 0&&(await this.update(t,r.fallbackValue,h.ConfigurationTarget.Global),s=!0),s}async migrateIfMissing(e,t,r){const i=Ae.inspect(e);if(i===void 0)return;const s=Ae.inspect(t);i.globalValue!==void 0&&(s===void 0||s.globalValue===void 0)&&await this.update(t,r.migrationFn!=null?r.migrationFn(i.globalValue):i.globalValue,h.ConfigurationTarget.Global),i.workspaceValue!==void 0&&(s===void 0||s.workspaceValue===void 0)&&await this.update(t,r.migrationFn!=null?r.migrationFn(i.workspaceValue):i.workspaceValue,h.ConfigurationTarget.Workspace),i.workspaceFolderValue!==void 0&&(s===void 0||s.workspaceFolderValue===void 0)&&await this.update(t,r.migrationFn!=null?r.migrationFn(i.workspaceFolderValue):i.workspaceFolderValue,h.ConfigurationTarget.WorkspaceFolder)}name(e){return e}update(e,t,r){return h.workspace.getConfiguration(this.configPrefix).update(e,t,r)}updateAny(e,t,r,i){return h.workspace.getConfiguration(void 0,r===h.ConfigurationTarget.Global?void 0:i).update(e,t,r)}updateEffective(e,t){const r=Ae.inspect(e);return r.workspaceFolderValue!==void 0?t===r.workspaceFolderValue?Promise.resolve(void 0):Ae.update(e,t,h.ConfigurationTarget.WorkspaceFolder):r.workspaceValue!==void 0?t===r.workspaceValue?Promise.resolve(void 0):Ae.update(e,t,h.ConfigurationTarget.Workspace):r.globalValue===t||r.globalValue===void 0&&t===r.defaultValue?Promise.resolve(void 0):Ae.update(e,oe()(t,r.defaultValue)?void 0:t,h.ConfigurationTarget.Global)}}a(Be,"Configuration");const Ae=new Be,Ie="";var ze;(function(n){n.Off="off",n.Error="error",n.Warn="warn",n.Info="info",n.Debug="debug"})(ze||(ze={}));var Je;(function(n){n[n.Off=0]="Off",n[n.Error=1]="Error",n[n.Warn=2]="Warn",n[n.Info=3]="Info",n[n.Debug=4]="Debug"})(Je||(Je={}));const Ee="[RemoteHub]",K=a(class{static configure(n,e,t){this._isDebugging=n.extensionMode===h.ExtensionMode.Development,this.outputChannelName=e,this.logLevel=t}static enabled(n){return this.level>=this.toOrderedLevel(n)}static get logLevel(){return this._logLevel}static set logLevel(n){var e,t;this._logLevel=n,this.level=this.toOrderedLevel(n),n===ze.Off?((e=this.output)==null||e.dispose(),this.output=void 0):this.output=(t=this.output)!=null?t:h.window.createOutputChannel(this.outputChannelName)}static toOrderedLevel(n){switch(n){case ze.Off:return 0;case ze.Error:return 1;case ze.Warn:return 2;case ze.Info:return 3;case ze.Debug:return 4}}static get isDebugging(){return this._isDebugging}static debug(n,...e){K.isDebugging&&console.log(this.timestamp,Ee,n!=null?n:Ie,...e),!(this.output===void 0||this.level<4)&&this.output.appendLine(`${this.timestamp} ${n!=null?n:Ie}${this.toLoggableParams(!0,e)}`)}static error(n,e,...t){if(!(this.level<1&&!K.isDebugging)){if(e===void 0){const r=n instanceof Error?n.stack:void 0;if(r){const i=/.*\s*?at\s(.+?)\s/.exec(r);i!==null&&(e=i[1])}}K.isDebugging&&console.error(this.timestamp,Ee,e!=null?e:Ie,...t,n),!(this.output===void 0||this.level<1)&&this.output.appendLine(`${this.timestamp} ${e!=null?e:Ie}${this.toLoggableParams(!1,t)}
${String(n)}`)}}static log(n,...e){K.isDebugging&&console.log(this.timestamp,Ee,n!=null?n:Ie,...e),!(this.output===void 0||this.level<3)&&this.output.appendLine(`${this.timestamp} ${n!=null?n:Ie}${this.toLoggableParams(!1,e)}`)}static warn(n,...e){K.isDebugging&&console.warn(this.timestamp,Ee,n!=null?n:Ie,...e),!(this.output===void 0||this.level<2)&&this.output.appendLine(`${this.timestamp} ${n!=null?n:Ie}${this.toLoggableParams(!1,e)}`)}static showOutputChannel(){var n;(n=this.output)==null||n.show()}static toLoggable(n,e){if(typeof n!="object")return String(n);if(n instanceof h.Uri)return`Uri(${n.toString(!0)})`;try{return JSON.stringify(n,e)}catch{return"<error>"}}static toLoggableName(n){var e,t,r;let i;if(typeof n=="function"){if(n.prototype===void 0||n.prototype.constructor===void 0)return n.name;i=(e=n.prototype.constructor.name)!=null?e:Ie}else i=(r=(t=n.constructor)==null?void 0:t.name)!=null?r:Ie;const s=i.indexOf("_");return s===-1?i:i.substr(s+1)}static get timestamp(){const n=new Date;return`[${n.toISOString().replace(/T/," ").replace(/\..+/,Ie)}:${`00${n.getUTCMilliseconds()}`.slice(-3)}]`}static toLoggableParams(n,e){if(e.length===0||n&&this.level<4&&!K.isDebugging)return Ie;const t=e.map(r=>this.toLoggable(r)).join(", ");return t.length!==0?` \u2014 ${t}`:Ie}},"_Logger");let Q=K;Q.level=0,Q._logLevel=ze.Off;class Ke{constructor(e){this.provider=e,this._timeout=0,this._disposable=Ae.onDidChange(this.onConfigurationChanged,this),this.maybeQueueFetch()}dispose(){this._disposable.dispose(),this._timeout&&clearTimeout(this._timeout)}get config(){var e;if(this._config===void 0){const t=Ae.get("autoFetch");this._config={enabled:(e=t.enabled)!=null?e:!0,interval:t.interval*1e3}}return this._config}onConfigurationChanged(e){!Ae.changed(e,"autoFetch")||(this._config=void 0,this.maybeQueueFetch())}async fetchAll(){const e=this.provider.repositories;e.length!==0&&(await h.window.withProgress({location:h.ProgressLocation.SourceControl},async()=>{for(const t of e)try{await this.provider.fetch(t.uri)}catch(r){Q.error(r)}}),this.maybeQueueFetch())}maybeQueueFetch(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),!!this.config.enabled&&(this._timeout=setTimeout(()=>this.fetchAll(),this.config.interval))}}a(Ke,"AutoFetchService");function At(){}a(At,"Diff"),At.prototype={diff:a(function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.callback;typeof r=="function"&&(i=r,r={}),this.options=r;var s=this;function o(pe){return i?(setTimeout(function(){i(void 0,pe)},0),!0):pe}a(o,"done"),e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));var u=t.length,l=e.length,c=1,_=u+l,H=[{newPos:-1,components:[]}],C=this.extractCommon(H[0],t,e,0);if(H[0].newPos+1>=u&&C+1>=l)return o([{value:this.join(t),count:t.length}]);function ne(){for(var pe=-1*c;pe<=c;pe+=2){var We=void 0,vt=H[pe-1],St=H[pe+1],Qt=(St?St.newPos:0)-pe;vt&&(H[pe-1]=void 0);var on=vt&&vt.newPos+1<u,un=St&&0<=Qt&&Qt<l;if(!on&&!un){H[pe]=void 0;continue}if(!on||un&&vt.newPos<St.newPos?(We=ln(St),s.pushComponent(We.components,void 0,!0)):(We=vt,We.newPos++,s.pushComponent(We.components,!0,void 0)),Qt=s.extractCommon(We,t,e,pe),We.newPos+1>=u&&Qt+1>=l)return o(wn(s,We.components,t,e,s.useLongestToken));H[pe]=We}c++}if(a(ne,"execEditLength"),i)a(function pe(){setTimeout(function(){if(c>_)return i();ne()||pe()},0)},"exec")();else for(;c<=_;){var Ce=ne();if(Ce)return Ce}},"diff"),pushComponent:a(function(e,t,r){var i=e[e.length-1];i&&i.added===t&&i.removed===r?e[e.length-1]={count:i.count+1,added:t,removed:r}:e.push({count:1,added:t,removed:r})},"pushComponent"),extractCommon:a(function(e,t,r,i){for(var s=t.length,o=r.length,u=e.newPos,l=u-i,c=0;u+1<s&&l+1<o&&this.equals(t[u+1],r[l+1]);)u++,l++,c++;return c&&e.components.push({count:c}),e.newPos=u,l},"extractCommon"),equals:a(function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},"equals"),removeEmpty:a(function(e){for(var t=[],r=0;r<e.length;r++)e[r]&&t.push(e[r]);return t},"removeEmpty"),castInput:a(function(e){return e},"castInput"),tokenize:a(function(e){return e.split("")},"tokenize"),join:a(function(e){return e.join("")},"join")};function wn(n,e,t,r,i){for(var s=0,o=e.length,u=0,l=0;s<o;s++){var c=e[s];if(c.removed){if(c.value=n.join(r.slice(l,l+c.count)),l+=c.count,s&&e[s-1].added){var H=e[s-1];e[s-1]=e[s],e[s]=H}}else{if(!c.added&&i){var _=t.slice(u,u+c.count);_=_.map(function(ne,Ce){var pe=r[l+Ce];return pe.length>ne.length?pe:ne}),c.value=n.join(_)}else c.value=n.join(t.slice(u,u+c.count));u+=c.count,c.added||(l+=c.count)}}var C=e[o-1];return o>1&&typeof C.value=="string"&&(C.added||C.removed)&&n.equals("",C.value)&&(e[o-2].value+=C.value,e.pop()),e}a(wn,"buildValues");function ln(n){return{newPos:n.newPos,components:n.components.slice(0)}}a(ln,"clonePath");var sn=new At;function or(n,e,t){return sn.diff(n,e,t)}a(or,"diffChars");function jn(n,e){if(typeof n=="function")e.callback=n;else if(n)for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}a(jn,"generateOptions");var nr=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,Qn=/\S/,kn=new At;kn.equals=function(n,e){return this.options.ignoreCase&&(n=n.toLowerCase(),e=e.toLowerCase()),n===e||this.options.ignoreWhitespace&&!Qn.test(n)&&!Qn.test(e)},kn.tokenize=function(n){for(var e=n.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),t=0;t<e.length-1;t++)!e[t+1]&&e[t+2]&&nr.test(e[t])&&nr.test(e[t+2])&&(e[t]+=e[t+2],e.splice(t+1,2),t--);return e};function it(n,e,t){return t=jn(t,{ignoreWhitespace:!0}),kn.diff(n,e,t)}a(it,"diffWords");function Lt(n,e,t){return kn.diff(n,e,t)}a(Lt,"diffWordsWithSpace");var Ht=new At;Ht.tokenize=function(n){var e=[],t=n.split(/(\n|\r\n)/);t[t.length-1]||t.pop();for(var r=0;r<t.length;r++){var i=t[r];r%2&&!this.options.newlineIsToken?e[e.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),e.push(i))}return e};function jt(n,e,t){return Ht.diff(n,e,t)}a(jt,"diffLines");function Yt(n,e,t){var r=jn(t,{ignoreWhitespace:!0});return Ht.diff(n,e,r)}a(Yt,"diffTrimmedLines");var cn=new At;cn.tokenize=function(n){return n.split(/(\S.+?[.!?])(?=\s+|$)/)};function Pn(n,e,t){return cn.diff(n,e,t)}a(Pn,"diffSentences");var Xn=new At;Xn.tokenize=function(n){return n.split(/([{}:;,]|\s+)/)};function ur(n,e,t){return Xn.diff(n,e,t)}a(ur,"diffCss");function rr(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rr=a(function(e){return typeof e},"_typeof"):rr=a(function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},"_typeof"),rr(n)}a(rr,"_typeof");function Yn(n){return ir(n)||Ir(n)||Dr(n)||Bn()}a(Yn,"_toConsumableArray");function ir(n){if(Array.isArray(n))return fn(n)}a(ir,"_arrayWithoutHoles");function Ir(n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(n))return Array.from(n)}a(Ir,"_iterableToArray");function Dr(n,e){if(!!n){if(typeof n=="string")return fn(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return fn(n,e)}}a(Dr,"_unsupportedIterableToArray");function fn(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}a(fn,"_arrayLikeToArray");function Bn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}a(Bn,"_nonIterableSpread");var dr=Object.prototype.toString,hr=new At;hr.useLongestToken=!0,hr.tokenize=Ht.tokenize,hr.castInput=function(n){var e=this.options,t=e.undefinedReplacement,r=e.stringifyReplacer,i=r===void 0?function(s,o){return typeof o=="undefined"?t:o}:r;return typeof n=="string"?n:JSON.stringify(Hr(n,null,null,i),i,"  ")},hr.equals=function(n,e){return At.prototype.equals.call(hr,n.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"))};function ei(n,e,t){return hr.diff(n,e,t)}a(ei,"diffJson");function Hr(n,e,t,r,i){e=e||[],t=t||[],r&&(n=r(i,n));var s;for(s=0;s<e.length;s+=1)if(e[s]===n)return t[s];var o;if(dr.call(n)==="[object Array]"){for(e.push(n),o=new Array(n.length),t.push(o),s=0;s<n.length;s+=1)o[s]=Hr(n[s],e,t,r,i);return e.pop(),t.pop(),o}if(n&&n.toJSON&&(n=n.toJSON()),rr(n)==="object"&&n!==null){e.push(n),o={},t.push(o);var u=[],l;for(l in n)n.hasOwnProperty(l)&&u.push(l);for(u.sort(),s=0;s<u.length;s+=1)l=u[s],o[l]=Hr(n[l],e,t,r,l);e.pop(),t.pop()}else o=n;return o}a(Hr,"canonicalize");var Zn=new At;Zn.tokenize=function(n){return n.slice()},Zn.join=Zn.removeEmpty=function(n){return n};function I(n,e,t){return Zn.diff(n,e,t)}a(I,"diffArrays");function ce(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=n.split(/\r\n|[\n\v\f\r\x85]/),r=n.match(/\r\n|[\n\v\f\r\x85]/g)||[],i=[],s=0;function o(){var c={};for(i.push(c);s<t.length;){var _=t[s];if(/^(\-\-\-|\+\+\+|@@)\s/.test(_))break;var H=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(_);H&&(c.index=H[1]),s++}for(u(c),u(c),c.hunks=[];s<t.length;){var C=t[s];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(C))break;if(/^@@/.test(C))c.hunks.push(l());else{if(C&&e.strict)throw new Error("Unknown line "+(s+1)+" "+JSON.stringify(C));s++}}}a(o,"parseIndex");function u(c){var _=/^(---|\+\+\+)\s+(.*)$/.exec(t[s]);if(_){var H=_[1]==="---"?"old":"new",C=_[2].split("	",2),ne=C[0].replace(/\\\\/g,"\\");/^".*"$/.test(ne)&&(ne=ne.substr(1,ne.length-2)),c[H+"FileName"]=ne,c[H+"Header"]=(C[1]||"").trim(),s++}}a(u,"parseFileHeader");function l(){var c=s,_=t[s++],H=_.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),C={oldStart:+H[1],oldLines:typeof H[2]=="undefined"?1:+H[2],newStart:+H[3],newLines:typeof H[4]=="undefined"?1:+H[4],lines:[],linedelimiters:[]};C.oldLines===0&&(C.oldStart+=1),C.newLines===0&&(C.newStart+=1);for(var ne=0,Ce=0;s<t.length&&!(t[s].indexOf("--- ")===0&&s+2<t.length&&t[s+1].indexOf("+++ ")===0&&t[s+2].indexOf("@@")===0);s++){var pe=t[s].length==0&&s!=t.length-1?" ":t[s][0];if(pe==="+"||pe==="-"||pe===" "||pe==="\\")C.lines.push(t[s]),C.linedelimiters.push(r[s]||`
`),pe==="+"?ne++:pe==="-"?Ce++:pe===" "&&(ne++,Ce++);else break}if(!ne&&C.newLines===1&&(C.newLines=0),!Ce&&C.oldLines===1&&(C.oldLines=0),e.strict){if(ne!==C.newLines)throw new Error("Added line count did not match for hunk at line "+(c+1));if(Ce!==C.oldLines)throw new Error("Removed line count did not match for hunk at line "+(c+1))}return C}for(a(l,"parseHunk");s<t.length;)o();return i}a(ce,"parsePatch");function Se(n,e,t){var r=!0,i=!1,s=!1,o=1;return a(function u(){if(r&&!s){if(i?o++:r=!1,n+o<=t)return o;s=!0}if(!i)return s||(r=!0),e<=n-o?-o++:(i=!0,u())},"iterator")}a(Se,"distanceIterator");function Ne(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string"&&(e=ce(e)),Array.isArray(e)){if(e.length>1)throw new Error("applyPatch only works with a single input.");e=e[0]}var r=n.split(/\r\n|[\n\v\f\r\x85]/),i=n.match(/\r\n|[\n\v\f\r\x85]/g)||[],s=e.hunks,o=t.compareLine||function(Ya,ca,Oa,Ui){return ca===Ui},u=0,l=t.fuzzFactor||0,c=0,_=0,H,C;function ne(Ya,ca){for(var Oa=0;Oa<Ya.lines.length;Oa++){var Ui=Ya.lines[Oa],Ga=Ui.length>0?Ui[0]:" ",os=Ui.length>0?Ui.substr(1):Ui;if(Ga===" "||Ga==="-"){if(!o(ca+1,r[ca],Ga,os)&&(u++,u>l))return!1;ca++}}return!0}a(ne,"hunkFits");for(var Ce=0;Ce<s.length;Ce++){for(var pe=s[Ce],We=r.length-pe.oldLines,vt=0,St=_+pe.oldStart-1,Qt=Se(St,c,We);vt!==void 0;vt=Qt())if(ne(pe,St+vt)){pe.offset=_+=vt;break}if(vt===void 0)return!1;c=pe.offset+pe.oldStart+pe.oldLines}for(var on=0,un=0;un<s.length;un++){var bn=s[un],Jn=bn.oldStart+bn.offset+on-1;on+=bn.newLines-bn.oldLines;for(var Kn=0;Kn<bn.lines.length;Kn++){var fr=bn.lines[Kn],Rr=fr.length>0?fr[0]:" ",gi=fr.length>0?fr.substr(1):fr,Ki=bn.linedelimiters[Kn];if(Rr===" ")Jn++;else if(Rr==="-")r.splice(Jn,1),i.splice(Jn,1);else if(Rr==="+")r.splice(Jn,0,gi),i.splice(Jn,0,Ki),Jn++;else if(Rr==="\\"){var la=bn.lines[Kn-1]?bn.lines[Kn-1][0]:null;la==="+"?H=!0:la==="-"&&(C=!0)}}}if(H)for(;!r[r.length-1];)r.pop(),i.pop();else C&&(r.push(""),i.push(`
`));for(var xi=0;xi<r.length-1;xi++)r[xi]=r[xi]+i[xi];return r.join("")}a(Ne,"applyPatch");function Ge(n,e){typeof n=="string"&&(n=ce(n));var t=0;function r(){var i=n[t++];if(!i)return e.complete();e.loadFile(i,function(s,o){if(s)return e.complete(s);var u=Ne(o,i,e);e.patched(i,u,function(l){if(l)return e.complete(l);r()})})}a(r,"processIndex"),r()}a(Ge,"applyPatches");function je(n,e,t,r,i,s,o){o||(o={}),typeof o.context=="undefined"&&(o.context=4);var u=jt(t,r,o);u.push({value:"",lines:[]});function l(vt){return vt.map(function(St){return" "+St})}a(l,"contextLines");for(var c=[],_=0,H=0,C=[],ne=1,Ce=1,pe=a(function(St){var Qt=u[St],on=Qt.lines||Qt.value.replace(/\n$/,"").split(`
`);if(Qt.lines=on,Qt.added||Qt.removed){var un;if(!_){var bn=u[St-1];_=ne,H=Ce,bn&&(C=o.context>0?l(bn.lines.slice(-o.context)):[],_-=C.length,H-=C.length)}(un=C).push.apply(un,Yn(on.map(function(xi){return(Qt.added?"+":"-")+xi}))),Qt.added?Ce+=on.length:ne+=on.length}else{if(_)if(on.length<=o.context*2&&St<u.length-2){var Jn;(Jn=C).push.apply(Jn,Yn(l(on)))}else{var Kn,fr=Math.min(on.length,o.context);(Kn=C).push.apply(Kn,Yn(l(on.slice(0,fr))));var Rr={oldStart:_,oldLines:ne-_+fr,newStart:H,newLines:Ce-H+fr,lines:C};if(St>=u.length-2&&on.length<=o.context){var gi=/\n$/.test(t),Ki=/\n$/.test(r),la=on.length==0&&C.length>Rr.oldLines;!gi&&la&&t.length>0&&C.splice(Rr.oldLines,0,"\\ No newline at end of file"),(!gi&&!la||!Ki)&&C.push("\\ No newline at end of file")}c.push(Rr),_=0,H=0,C=[]}ne+=on.length,Ce+=on.length}},"_loop"),We=0;We<u.length;We++)pe(We);return{oldFileName:n,newFileName:e,oldHeader:i,newHeader:s,hunks:c}}a(je,"structuredPatch");function rt(n){var e=[];n.oldFileName==n.newFileName&&e.push("Index: "+n.oldFileName),e.push("==================================================================="),e.push("--- "+n.oldFileName+(typeof n.oldHeader=="undefined"?"":"	"+n.oldHeader)),e.push("+++ "+n.newFileName+(typeof n.newHeader=="undefined"?"":"	"+n.newHeader));for(var t=0;t<n.hunks.length;t++){var r=n.hunks[t];r.oldLines===0&&(r.oldStart-=1),r.newLines===0&&(r.newStart-=1),e.push("@@ -"+r.oldStart+","+r.oldLines+" +"+r.newStart+","+r.newLines+" @@"),e.push.apply(e,r.lines)}return e.join(`
`)+`
`}a(rt,"formatPatch");function ht(n,e,t,r,i,s,o){return rt(je(n,e,t,r,i,s,o))}a(ht,"createTwoFilesPatch");function wt(n,e,t,r,i,s){return ht(n,n,e,t,r,i,s)}a(wt,"createPatch");function zt(n,e){return n.length!==e.length?!1:ot(n,e)}a(zt,"arrayEqual");function ot(n,e){if(e.length>n.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}a(ot,"arrayStartsWith");function Rt(n){var e=Cn(n.lines),t=e.oldLines,r=e.newLines;t!==void 0?n.oldLines=t:delete n.oldLines,r!==void 0?n.newLines=r:delete n.newLines}a(Rt,"calcLineCount");function It(n,e,t){n=Pt(n,t),e=Pt(e,t);var r={};(n.index||e.index)&&(r.index=n.index||e.index),(n.newFileName||e.newFileName)&&(mt(n)?mt(e)?(r.oldFileName=yn(r,n.oldFileName,e.oldFileName),r.newFileName=yn(r,n.newFileName,e.newFileName),r.oldHeader=yn(r,n.oldHeader,e.oldHeader),r.newHeader=yn(r,n.newHeader,e.newHeader)):(r.oldFileName=n.oldFileName,r.newFileName=n.newFileName,r.oldHeader=n.oldHeader,r.newHeader=n.newHeader):(r.oldFileName=e.oldFileName||n.oldFileName,r.newFileName=e.newFileName||n.newFileName,r.oldHeader=e.oldHeader||n.oldHeader,r.newHeader=e.newHeader||n.newHeader)),r.hunks=[];for(var i=0,s=0,o=0,u=0;i<n.hunks.length||s<e.hunks.length;){var l=n.hunks[i]||{oldStart:1/0},c=e.hunks[s]||{oldStart:1/0};if(rn(l,c))r.hunks.push(ar(l,o)),i++,u+=l.newLines-l.oldLines;else if(rn(c,l))r.hunks.push(ar(c,u)),s++,o+=c.newLines-c.oldLines;else{var _={oldStart:Math.min(l.oldStart,c.oldStart),oldLines:0,newStart:Math.min(l.newStart+o,c.oldStart+u),newLines:0,lines:[]};Gn(_,l.oldStart,l.lines,c.oldStart,c.lines),s++,i++,r.hunks.push(_)}}return r}a(It,"merge");function Pt(n,e){if(typeof n=="string"){if(/^@@/m.test(n)||/^Index:/m.test(n))return ce(n)[0];if(!e)throw new Error("Must provide a base reference or pass in a patch");return je(void 0,void 0,e,n)}return n}a(Pt,"loadPatch");function mt(n){return n.newFileName&&n.newFileName!==n.oldFileName}a(mt,"fileNameChanged");function yn(n,e,t){return e===t?e:(n.conflict=!0,{mine:e,theirs:t})}a(yn,"selectField");function rn(n,e){return n.oldStart<e.oldStart&&n.oldStart+n.oldLines<e.oldStart}a(rn,"hunkBefore");function ar(n,e){return{oldStart:n.oldStart,oldLines:n.oldLines,newStart:n.newStart+e,newLines:n.newLines,lines:n.lines}}a(ar,"cloneHunk");function Gn(n,e,t,r,i){var s={offset:e,lines:t,index:0},o={offset:r,lines:i,index:0};for(On(n,s,o),On(n,o,s);s.index<s.lines.length&&o.index<o.lines.length;){var u=s.lines[s.index],l=o.lines[o.index];if((u[0]==="-"||u[0]==="+")&&(l[0]==="-"||l[0]==="+"))qn(n,s,o);else if(u[0]==="+"&&l[0]===" "){var c;(c=n.lines).push.apply(c,Yn(Nt(s)))}else if(l[0]==="+"&&u[0]===" "){var _;(_=n.lines).push.apply(_,Yn(Nt(o)))}else u[0]==="-"&&l[0]===" "?Mr(n,s,o):l[0]==="-"&&u[0]===" "?Mr(n,o,s,!0):u===l?(n.lines.push(u),s.index++,o.index++):Pr(n,Nt(s),Nt(o))}ti(n,s),ti(n,o),Rt(n)}a(Gn,"mergeLines");function qn(n,e,t){var r=Nt(e),i=Nt(t);if(mn(r)&&mn(i)){if(ot(r,i)&&an(t,r,r.length-i.length)){var s;(s=n.lines).push.apply(s,Yn(r));return}else if(ot(i,r)&&an(e,i,i.length-r.length)){var o;(o=n.lines).push.apply(o,Yn(i));return}}else if(zt(r,i)){var u;(u=n.lines).push.apply(u,Yn(r));return}Pr(n,r,i)}a(qn,"mutualChange");function Mr(n,e,t,r){var i=Nt(e),s=$n(t,i);if(s.merged){var o;(o=n.lines).push.apply(o,Yn(s.merged))}else Pr(n,r?s:i,r?i:s)}a(Mr,"removal");function Pr(n,e,t){n.conflict=!0,n.lines.push({conflict:!0,mine:e,theirs:t})}a(Pr,"conflict");function On(n,e,t){for(;e.offset<t.offset&&e.index<e.lines.length;){var r=e.lines[e.index++];n.lines.push(r),e.offset++}}a(On,"insertLeading");function ti(n,e){for(;e.index<e.lines.length;){var t=e.lines[e.index++];n.lines.push(t)}}a(ti,"insertTrailing");function Nt(n){for(var e=[],t=n.lines[n.index][0];n.index<n.lines.length;){var r=n.lines[n.index];if(t==="-"&&r[0]==="+"&&(t="+"),t===r[0])e.push(r),n.index++;else break}return e}a(Nt,"collectChange");function $n(n,e){for(var t=[],r=[],i=0,s=!1,o=!1;i<e.length&&n.index<n.lines.length;){var u=n.lines[n.index],l=e[i];if(l[0]==="+")break;if(s=s||u[0]!==" ",r.push(l),i++,u[0]==="+")for(o=!0;u[0]==="+";)t.push(u),u=n.lines[++n.index];l.substr(1)===u.substr(1)?(t.push(u),n.index++):o=!0}if((e[i]||"")[0]==="+"&&s&&(o=!0),o)return t;for(;i<e.length;)r.push(e[i++]);return{merged:r,changes:t}}a($n,"collectContext");function mn(n){return n.reduce(function(e,t){return e&&t[0]==="-"},!0)}a(mn,"allRemoves");function an(n,e,t){for(var r=0;r<t;r++){var i=e[e.length-t+r].substr(1);if(n.lines[n.index+r]!==" "+i)return!1}return n.index+=t,!0}a(an,"skipRemoveSuperset");function Cn(n){var e=0,t=0;return n.forEach(function(r){if(typeof r!="string"){var i=Cn(r.mine),s=Cn(r.theirs);e!==void 0&&(i.oldLines===s.oldLines?e+=i.oldLines:e=void 0),t!==void 0&&(i.newLines===s.newLines?t+=i.newLines:t=void 0)}else t!==void 0&&(r[0]==="+"||r[0]===" ")&&t++,e!==void 0&&(r[0]==="-"||r[0]===" ")&&e++}),{oldLines:e,newLines:t}}a(Cn,"calcOldNewLineCount");function Vn(n){for(var e=[],t,r,i=0;i<n.length;i++)t=n[i],t.added?r=1:t.removed?r=-1:r=0,e.push([r,t.value]);return e}a(Vn,"convertChangesToDMP");function Sr(n){for(var e=[],t=0;t<n.length;t++){var r=n[t];r.added?e.push("<ins>"):r.removed&&e.push("<del>"),e.push(kr(r.value)),r.added?e.push("</ins>"):r.removed&&e.push("</del>")}return e.join("")}a(Sr,"convertChangesToXML");function kr(n){var e=n;return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/"/g,"&quot;"),e}a(kr,"escapeHTML");var ui=/[^a-zA-Z0-9]/,li=/\s/,pi=/[\r\n]/,Ni=/\n\r?\n$/,Ti=/^\r?\n\r?\n/,qe;(function(n){n[n.DIFF_DELETE=-1]="DIFF_DELETE",n[n.DIFF_INSERT=1]="DIFF_INSERT",n[n.DIFF_EQUAL=0]="DIFF_EQUAL"})(qe||(qe={}));function bi(n,e){return n<e?n:e}a(bi,"min");function mi(n,e){return n>e?n:e}a(mi,"max");var vr=Ve,Tr=function(){function n(){this.diffs=[],this.start1=0,this.start2=0,this.length1=0,this.length2=0}return a(n,"PatchObject"),n.prototype.toString=function(){var e,t;this.length1===0?e=this.start1+",0":this.length1===1?e=this.start1+1:e=this.start1+1+","+this.length1,this.length2===0?t=this.start2+",0":this.length2===1?t=this.start2+1:t=this.start2+1+","+this.length2;for(var r=["@@ -"+e+" +"+t+` @@
`],i,s=0;s<this.diffs.length;s++){switch(this.diffs[s][0]){case qe.DIFF_INSERT:i="+";break;case qe.DIFF_DELETE:i="-";break;case qe.DIFF_EQUAL:i=" ";break}r[s+1]=i+encodeURI(this.diffs[s][1])+`
`}return r.join("").replace(/%20/g," ")},n}(),Wr=function(){function n(){this.diffTimeout=1,this.diffEditCost=4,this.matchThreshold=.5,this.matchDistance=1e3,this.patchDeleteThreshold=.5,this.patchMargin=4,this.matchMaxBits=32}return a(n,"DiffMatchPatch"),n.prototype.diff_main=function(e,t,r,i){typeof i=="undefined"&&(this.diffTimeout<=0?i=Number.MAX_VALUE:i=Date.now()+this.diffTimeout*1e3);var s=i;if(e==null||t==null)throw new Error("Null input. (diff_main)");if(e===t)return e?[[qe.DIFF_EQUAL,e]]:[];typeof r=="undefined"&&(r=!0);var o=r,u=this.diff_commonPrefix(e,t),l=e.substring(0,u);e=e.substring(u),t=t.substring(u),u=this.diff_commonSuffix(e,t);var c=e.substring(e.length-u);e=e.substring(0,e.length-u),t=t.substring(0,t.length-u);var _=this.diff_compute_(e,t,o,s);return l&&_.unshift([qe.DIFF_EQUAL,l]),c&&_.push([qe.DIFF_EQUAL,c]),this.diff_cleanupMerge(_),_},n.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var r=0,i=vr.min(e.length,t.length),s=i,o=0;r<s;)e.substring(o,s)===t.substring(o,s)?(r=s,o=r):i=s,s=Math.floor((i-r)/2+r);return s},n.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!==t.charAt(t.length-1))return 0;for(var r=0,i=vr.min(e.length,t.length),s=i,o=0;r<s;)e.substring(e.length-s,e.length-o)===t.substring(t.length-s,t.length-o)?(r=s,o=r):i=s,s=Math.floor((i-r)/2+r);return s},n.prototype.diff_cleanupSemantic=function(e){for(var t=!1,r=[],i=0,s=null,o=0,u=0,l=0,c=0,_=0;o<e.length;)e[o][0]===qe.DIFF_EQUAL?(r[i++]=o,u=c,l=_,c=0,_=0,s=e[o][1]):(e[o][0]===qe.DIFF_INSERT?c+=e[o][1].length:_+=e[o][1].length,s&&s.length<=vr.max(u,l)&&s.length<=vr.max(c,_)&&(e.splice(r[i-1],0,[qe.DIFF_DELETE,s]),e[r[i-1]+1][0]=qe.DIFF_INSERT,i--,i--,o=i>0?r[i-1]:-1,u=0,l=0,c=0,_=0,s=null,t=!0)),o++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),o=1;o<e.length;){if(e[o-1][0]===qe.DIFF_DELETE&&e[o][0]===qe.DIFF_INSERT){var H=e[o-1][1],C=e[o][1],ne=this.diff_commonOverlap_(H,C),Ce=this.diff_commonOverlap_(C,H);ne>=Ce?(ne>=H.length/2||ne>=C.length/2)&&(e.splice(o,0,[qe.DIFF_EQUAL,C.substring(0,ne)]),e[o-1][1]=H.substring(0,H.length-ne),e[o+1][1]=C.substring(ne),o++):(Ce>=H.length/2||Ce>=C.length/2)&&(e.splice(o,0,[qe.DIFF_EQUAL,H.substring(0,Ce)]),e[o-1][0]=qe.DIFF_INSERT,e[o-1][1]=C.substring(0,C.length-Ce),e[o+1][0]=qe.DIFF_DELETE,e[o+1][1]=H.substring(Ce),o++),o++}o++}},n.prototype.diff_cleanupSemanticLossless=function(e){for(var t=1;t<e.length-1;){if(e[t-1][0]===qe.DIFF_EQUAL&&e[t+1][0]===qe.DIFF_EQUAL){var r=e[t-1][1],i=e[t][1],s=e[t+1][1],o=this.diff_commonSuffix(r,i);if(o){var u=i.substring(i.length-o);r=r.substring(0,r.length-o),i=u+i.substring(0,i.length-o),s=u+s}for(var l=r,c=i,_=s,H=this.diff_cleanupSemanticScore_(r,i)+this.diff_cleanupSemanticScore_(i,s);i.charAt(0)===s.charAt(0);){r+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);var C=this.diff_cleanupSemanticScore_(r,i)+this.diff_cleanupSemanticScore_(i,s);C>=H&&(H=C,l=r,c=i,_=s)}e[t-1][1]!==l&&(l?e[t-1][1]=l:(e.splice(t-1,1),t--),e[t][1]=c,_?e[t+1][1]=_:(e.splice(t+1,1),t--))}t++}},n.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,r=[],i=0,s=null,o=0,u=!1,l=!1,c=!1,_=!1;o<e.length;)e[o][0]===qe.DIFF_EQUAL?(e[o][1].length<this.diffEditCost&&(c||_)?(r[i++]=o,u=c,l=_,s=e[o][1]):(i=0,s=null),c=_=!1):(e[o][0]===qe.DIFF_DELETE?_=!0:c=!0,s&&(u&&l&&c&&_||s.length<this.diffEditCost/2&&Number(u)+Number(l)+Number(c)+Number(_)===3)&&(e.splice(r[i-1],0,[qe.DIFF_DELETE,s]),e[r[i-1]+1][0]=qe.DIFF_INSERT,i--,s=null,u&&l?(c=_=!0,i=0):(i--,o=i>0?r[i-1]:-1,c=_=!1),t=!0)),o++;t&&this.diff_cleanupMerge(e)},n.prototype.diff_cleanupMerge=function(e){e.push([qe.DIFF_EQUAL,""]);for(var t=0,r=0,i=0,s="",o="",u;t<e.length;)switch(e[t][0]){case qe.DIFF_INSERT:i++,o+=e[t][1],t++;break;case qe.DIFF_DELETE:r++,s+=e[t][1],t++;break;case qe.DIFF_EQUAL:r+i>1?(r!==0&&i!==0&&(u=this.diff_commonPrefix(o,s),u!==0&&(t-r-i>0&&e[t-r-i-1][0]===qe.DIFF_EQUAL?e[t-r-i-1][1]+=o.substring(0,u):(e.splice(0,0,[qe.DIFF_EQUAL,o.substring(0,u)]),t++),o=o.substring(u),s=s.substring(u)),u=this.diff_commonSuffix(o,s),u!==0&&(e[t][1]=o.substring(o.length-u)+e[t][1],o=o.substring(0,o.length-u),s=s.substring(0,s.length-u))),t-=r+i,e.splice(t,r+i),s.length&&(e.splice(t,0,[qe.DIFF_DELETE,s]),t++),o.length&&(e.splice(t,0,[qe.DIFF_INSERT,o]),t++),t++):t!==0&&e[t-1][0]===qe.DIFF_EQUAL?(e[t-1][1]+=e[t][1],e.splice(t,1)):t++,i=0,r=0,s="",o="";break}e[e.length-1][1]===""&&e.pop();var l=!1;for(t=1;t<e.length-1;)e[t-1][0]===qe.DIFF_EQUAL&&e[t+1][0]===qe.DIFF_EQUAL&&(e[t][1].substring(e[t][1].length-e[t-1][1].length)===e[t-1][1]?(e[t][1]=e[t-1][1]+e[t][1].substring(0,e[t][1].length-e[t-1][1].length),e[t+1][1]=e[t-1][1]+e[t+1][1],e.splice(t-1,1),l=!0):e[t][1].substring(0,e[t+1][1].length)===e[t+1][1]&&(e[t-1][1]+=e[t+1][1],e[t][1]=e[t][1].substring(e[t+1][1].length)+e[t+1][1],e.splice(t+1,1),l=!0)),t++;l&&this.diff_cleanupMerge(e)},n.prototype.diff_xIndex=function(e,t){var r=0,i=0,s=0,o=0,u;for(u=0;u<e.length&&(e[u][0]!==qe.DIFF_INSERT&&(r+=e[u][1].length),e[u][0]!==qe.DIFF_DELETE&&(i+=e[u][1].length),!(r>t));u++)s=r,o=i;return e.length!==u&&e[u][0]===qe.DIFF_DELETE?o:o+(t-s)},n.prototype.diff_prettyHtml=function(e){for(var t=[],r=/&/g,i=/</g,s=/>/g,o=/\n/g,u=0;u<e.length;u++){var l=e[u][0],c=e[u][1],_=c.replace(r,"&amp;").replace(i,"&lt;").replace(s,"&gt;").replace(o,"&para;<br>");switch(l){case qe.DIFF_INSERT:t[u]='<ins style="background:#e6ffe6;">'+_+"</ins>";break;case qe.DIFF_DELETE:t[u]='<del style="background:#ffe6e6;">'+_+"</del>";break;case qe.DIFF_EQUAL:t[u]="<span>"+_+"</span>";break}}return t.join("")},n.prototype.diff_text1=function(e){for(var t=[],r=0;r<e.length;r++)e[r][0]!==qe.DIFF_INSERT&&(t[r]=e[r][1]);return t.join("")},n.prototype.diff_text2=function(e){for(var t=[],r=0;r<e.length;r++)e[r][0]!==qe.DIFF_DELETE&&(t[r]=e[r][1]);return t.join("")},n.prototype.diff_levenshtein=function(e){for(var t=0,r=0,i=0,s=0;s<e.length;s++){var o=e[s][0],u=e[s][1];switch(o){case qe.DIFF_INSERT:r+=u.length;break;case qe.DIFF_DELETE:i+=u.length;break;case qe.DIFF_EQUAL:t+=vr.max(r,i),r=0,i=0;break}}return t+=vr.max(r,i),t},n.prototype.diff_toDelta=function(e){for(var t=[],r=0;r<e.length;r++)switch(e[r][0]){case qe.DIFF_INSERT:t[r]="+"+encodeURI(e[r][1]);break;case qe.DIFF_DELETE:t[r]="-"+e[r][1].length;break;case qe.DIFF_EQUAL:t[r]="="+e[r][1].length;break}return t.join("	").replace(/%20/g," ")},n.prototype.diff_fromDelta=function(e,t){for(var r=[],i=0,s=0,o=t.split(/\t/g),u=0;u<o.length;u++){var l=o[u].substring(1);switch(o[u].charAt(0)){case"+":try{r[i++]=[qe.DIFF_INSERT,decodeURI(l)]}catch(H){throw new Error("Illegal escape in diff_fromDelta: "+l)}break;case"-":case"=":var c=parseInt(l,10);if(isNaN(c)||c<0)throw new Error("Invalid number in diff_fromDelta: "+l);var _=e.substring(s,s+=c);o[u].charAt(0)==="="?r[i++]=[qe.DIFF_EQUAL,_]:r[i++]=[qe.DIFF_DELETE,_];break;default:if(o[u])throw new Error("Invalid diff operation in diff_fromDelta: "+o[u])}}if(s!==e.length)throw new Error("Delta length ("+s+") does not equal source text length ("+e.length+")");return r},n.prototype.diff_linesToChars=function(e,t){var r=[],i={};r[0]="";var s=this.diff_linesToCharsMunge_(e,r,i,4e4),o=this.diff_linesToCharsMunge_(t,r,i,65535);return{chars1:s,chars2:o,lineArray:r}},n.prototype.diff_charsToLines=function(e,t){for(var r=0;r<e.length;r++){for(var i=e[r][1],s=[],o=0;o<i.length;o++)s[o]=t[i.charCodeAt(o)];e[r][1]=s.join("")}},n.prototype.match_main=function(e,t,r){if(e==null||t==null||r==null)throw new Error("Null input. (match_main)");return r=vr.max(0,vr.min(r,e.length)),e===t?0:e.length?e.substring(r,r+t.length)===t?r:this.match_bitap_(e,t,r):-1},n.prototype.patch_make=function(e,t,r){var i,s;if(typeof e=="string"&&typeof t=="string"&&typeof r=="undefined")i=e,s=this.diff_main(i,t,!0),s.length>2&&(this.diff_cleanupSemantic(s),this.diff_cleanupEfficiency(s));else if(e&&typeof e=="object"&&typeof t=="undefined"&&typeof r=="undefined")s=e,i=this.diff_text1(s);else if(typeof e=="string"&&t&&typeof t=="object"&&typeof r=="undefined")i=e,s=t;else if(typeof e=="string"&&typeof t=="string"&&r&&typeof r=="object")i=e,s=r;else throw new Error("Unknown call format to patch_make");if(s.length===0)return[];for(var o=[],u=new Tr,l=0,c=0,_=0,H=i,C=i,ne=0;ne<s.length;ne++){var Ce=s[ne][0],pe=s[ne][1];switch(!l&&Ce!==qe.DIFF_EQUAL&&(u.start1=c,u.start2=_),Ce){case qe.DIFF_INSERT:u.diffs[l++]=s[ne],u.length2+=pe.length,C=C.substring(0,_)+pe+C.substring(_);break;case qe.DIFF_DELETE:u.length1+=pe.length,u.diffs[l++]=s[ne],C=C.substring(0,_)+C.substring(_+pe.length);break;case qe.DIFF_EQUAL:pe.length<=2*this.patchMargin&&l&&s.length!==ne+1?(u.diffs[l++]=s[ne],u.length1+=pe.length,u.length2+=pe.length):pe.length>=2*this.patchMargin&&l&&(this.patch_addContext_(u,H),o.push(u),u=new Tr,l=0,H=C,c=_);break}Ce!==qe.DIFF_INSERT&&(c+=pe.length),Ce!==qe.DIFF_DELETE&&(_+=pe.length)}return l&&(this.patch_addContext_(u,H),o.push(u)),o},n.prototype.patch_deepCopy=function(e){for(var t=[],r=0;r<e.length;r++){for(var i=e[r],s=new Tr,o=0;o<i.diffs.length;o++)s.diffs[o]=[i.diffs[o][0],i.diffs[o][1]];s.start1=i.start1,s.start2=i.start2,s.length1=i.length1,s.length2=i.length2,t[r]=s}return t},n.prototype.patch_apply=function(e,t){if(e.length===0)return[t,[]];e=this.patch_deepCopy(e);var r=this.patch_addPadding(e);t=r+t+r,this.patch_splitMax(e);for(var i=0,s=[],o=0;o<e.length;o++){var u=e[o].start2+i,l=this.diff_text1(e[o].diffs),c=void 0,_=-1;if(l.length>this.matchMaxBits?(c=this.match_main(t,l.substring(0,this.matchMaxBits),u),c!==-1&&(_=this.match_main(t,l.substring(l.length-this.matchMaxBits),u+l.length-this.matchMaxBits),(_===-1||c>=_)&&(c=-1))):c=this.match_main(t,l,u),c===-1)s[o]=!1,i-=e[o].length2-e[o].length1;else{s[o]=!0,i=c-u;var H=void 0;if(_===-1?H=t.substring(c,c+l.length):H=t.substring(c,_+this.matchMaxBits),l===H)t=t.substring(0,c)+this.diff_text2(e[o].diffs)+t.substring(c+l.length);else{var C=this.diff_main(l,H,!1);if(l.length>this.matchMaxBits&&this.diff_levenshtein(C)/l.length>this.patchDeleteThreshold)s[o]=!1;else{this.diff_cleanupSemanticLossless(C);for(var ne=0,Ce=0,pe=0;pe<e[o].diffs.length;pe++){var We=e[o].diffs[pe];We[0]!==qe.DIFF_EQUAL&&(Ce=this.diff_xIndex(C,ne)),We[0]===qe.DIFF_INSERT?t=t.substring(0,c+Ce)+We[1]+t.substring(c+Ce):We[0]===qe.DIFF_DELETE&&(t=t.substring(0,c+Ce)+t.substring(c+this.diff_xIndex(C,ne+We[1].length))),We[0]!==qe.DIFF_DELETE&&(ne+=We[1].length)}}}}}return t=t.substring(r.length,t.length-r.length),[t,s]},n.prototype.patch_addPadding=function(e){for(var t=this.patchMargin,r="",i=1;i<=t;i++)r+=String.fromCharCode(i);for(var i=0;i<e.length;i++)e[i].start1+=t,e[i].start2+=t;var s=e[0],o=s.diffs;if(o.length===0||o[0][0]!==qe.DIFF_EQUAL)o.unshift([qe.DIFF_EQUAL,r]),s.start1-=t,s.start2-=t,s.length1+=t,s.length2+=t;else if(t>o[0][1].length){var u=t-o[0][1].length;o[0][1]=r.substring(o[0][1].length)+o[0][1],s.start1-=u,s.start2-=u,s.length1+=u,s.length2+=u}if(s=e[e.length-1],o=s.diffs,o.length===0||o[o.length-1][0]!==qe.DIFF_EQUAL)o.push([qe.DIFF_EQUAL,r]),s.length1+=t,s.length2+=t;else if(t>o[o.length-1][1].length){var u=t-o[o.length-1][1].length;o[o.length-1][1]+=r.substring(0,u),s.length1+=u,s.length2+=u}return r},n.prototype.patch_splitMax=function(e){for(var t=this.matchMaxBits,r=0;r<e.length;r++)if(!(e[r].length1<=t)){var i=e[r];e.splice(r--,1);for(var s=i.start1,o=i.start2,u="";i.diffs.length!==0;){var l=new Tr,c=!0;for(l.start1=s-u.length,l.start2=o-u.length,u!==""&&(l.length1=l.length2=u.length,l.diffs.push([qe.DIFF_EQUAL,u]));i.diffs.length!==0&&l.length1<t-this.patchMargin;){var _=i.diffs[0][0],H=i.diffs[0][1];_===qe.DIFF_INSERT?(l.length2+=H.length,o+=H.length,l.diffs.push(i.diffs.shift()),c=!1):_===qe.DIFF_DELETE&&l.diffs.length===1&&l.diffs[0][0]===qe.DIFF_EQUAL&&H.length>2*t?(l.length1+=H.length,s+=H.length,c=!1,l.diffs.push([_,H]),i.diffs.shift()):(H=H.substring(0,t-l.length1-this.patchMargin),l.length1+=H.length,s+=H.length,_===qe.DIFF_EQUAL?(l.length2+=H.length,o+=H.length):c=!1,l.diffs.push([_,H]),H===i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(H.length))}u=this.diff_text2(l.diffs),u=u.substring(u.length-this.patchMargin);var C=this.diff_text1(i.diffs).substring(0,this.patchMargin);C!==""&&(l.length1+=C.length,l.length2+=C.length,l.diffs.length!==0&&l.diffs[l.diffs.length-1][0]===qe.DIFF_EQUAL?l.diffs[l.diffs.length-1][1]+=C:l.diffs.push([qe.DIFF_EQUAL,C])),c||e.splice(++r,0,l)}}},n.prototype.patch_toText=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=e[r];return t.join("")},n.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var r=e.split(`
`),i=0,s=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<r.length;){var o=r[i].match(s);if(!o)throw new Error("Invalid patch string: "+r[i]);var u=new Tr;t.push(u),u.start1=parseInt(o[1],10),o[2]===""?(u.start1--,u.length1=1):o[2]==="0"?u.length1=0:(u.start1--,u.length1=parseInt(o[2],10)),u.start2=parseInt(o[3],10),o[4]===""?(u.start2--,u.length2=1):o[4]==="0"?u.length2=0:(u.start2--,u.length2=parseInt(o[4],10)),i++;for(var l=void 0,c=void 0,_=void 0;i<r.length;){l=r[i].charAt(0),_=r[i].substring(1);try{c=decodeURI(_)}catch(H){throw new Error("Illegal escape in patch_fromText: "+_)}if(l==="-")u.diffs.push([qe.DIFF_DELETE,c]);else if(l==="+")u.diffs.push([qe.DIFF_INSERT,c]);else if(l===" ")u.diffs.push([qe.DIFF_EQUAL,c]);else{if(l==="@")break;if(l!=="")throw new Error('Invalid patch mode "'+l+'" in: '+c)}i++}}return t},n.prototype.diff_compute_=function(e,t,r,i){var s;if(!e)return[[qe.DIFF_INSERT,t]];if(!t)return[[qe.DIFF_DELETE,e]];var o=e.length>t.length?e:t,u=e.length>t.length?t:e,l=o.indexOf(u);if(l!==-1)return s=[[qe.DIFF_INSERT,o.substring(0,l)],[qe.DIFF_EQUAL,u],[qe.DIFF_INSERT,o.substring(l+u.length)]],e.length>t.length&&(s[0][0]=qe.DIFF_DELETE,s[2][0]=qe.DIFF_DELETE),s;if(u.length===1)return[[qe.DIFF_DELETE,e],[qe.DIFF_INSERT,t]];var c=this.diff_halfMatch_(e,t);if(c){var _=c[0],H=c[1],C=c[2],ne=c[3],Ce=c[4],pe=this.diff_main(_,C,r,i),We=this.diff_main(H,ne,r,i);return pe.concat([[qe.DIFF_EQUAL,Ce]],We)}return r&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,i):this.diff_bisect_(e,t,i)},n.prototype.diff_lineMode_=function(e,t,r){var i=this.diff_linesToChars(e,t);e=i.chars1,t=i.chars2;var s=i.lineArray,o=this.diff_main(e,t,!1,r);this.diff_charsToLines(o,s),this.diff_cleanupSemantic(o),o.push([qe.DIFF_EQUAL,""]);for(var u=0,l=0,c=0,_="",H="";u<o.length;){switch(o[u][0]){case qe.DIFF_INSERT:c++,H+=o[u][1];break;case qe.DIFF_DELETE:l++,_+=o[u][1];break;case qe.DIFF_EQUAL:if(l>=1&&c>=1){o.splice(u-l-c,l+c),u=u-l-c;for(var C=this.diff_main(_,H,!1,r),ne=C.length-1;ne>=0;ne--)o.splice(u,0,C[ne]);u=u+C.length}c=0,l=0,_="",H="";break}u++}return o.pop(),o},n.prototype.diff_bisect_=function(e,t,r){for(var i=e.length,s=t.length,o=Math.ceil((i+s)/2),u=o,l=2*o,c=new Array(l),_=new Array(l),H=0;H<l;H++)c[H]=-1,_[H]=-1;c[u+1]=0,_[u+1]=0;for(var C=i-s,ne=C%2!=0,Ce=0,pe=0,We=0,vt=0,St=0;St<o&&!(Date.now()>r);St++){for(var Qt=-St+Ce;Qt<=St-pe;Qt+=2){var on=u+Qt,un=void 0;Qt===-St||Qt!==St&&c[on-1]<c[on+1]?un=c[on+1]:un=c[on-1]+1;for(var bn=un-Qt;un<i&&bn<s&&e.charAt(un)===t.charAt(bn);)un++,bn++;if(c[on]=un,un>i)pe+=2;else if(bn>s)Ce+=2;else if(ne){var Jn=u+C-Qt;if(Jn>=0&&Jn<l&&_[Jn]!==-1){var Kn=i-_[Jn];if(un>=Kn)return this.diff_bisectSplit_(e,t,un,bn,r)}}}for(var fr=-St+We;fr<=St-vt;fr+=2){var Jn=u+fr,Kn=void 0;fr===-St||fr!==St&&_[Jn-1]<_[Jn+1]?Kn=_[Jn+1]:Kn=_[Jn-1]+1;for(var Rr=Kn-fr;Kn<i&&Rr<s&&e.charAt(i-Kn-1)===t.charAt(s-Rr-1);)Kn++,Rr++;if(_[Jn]=Kn,Kn>i)vt+=2;else if(Rr>s)We+=2;else if(!ne){var on=u+C-fr;if(on>=0&&on<l&&c[on]!==-1){var un=c[on],bn=u+un-on;if(Kn=i-Kn,un>=Kn)return this.diff_bisectSplit_(e,t,un,bn,r)}}}}return[[qe.DIFF_DELETE,e],[qe.DIFF_INSERT,t]]},n.prototype.diff_bisectSplit_=function(e,t,r,i,s){var o=e.substring(0,r),u=t.substring(0,i),l=e.substring(r),c=t.substring(i),_=this.diff_main(o,u,!1,s),H=this.diff_main(l,c,!1,s);return _.concat(H)},n.prototype.diff_linesToCharsMunge_=function(e,t,r,i){for(var s="",o=0,u=-1,l=t.length;u<e.length-1;){u=e.indexOf(`
`,o),u===-1&&(u=e.length-1);var c=e.substring(o,u+1);(r.hasOwnProperty?r.hasOwnProperty(c):r[c]!==void 0)?s+=String.fromCharCode(r[c]):(l===i&&(c=e.substring(o),u=e.length),s+=String.fromCharCode(l),r[c]=l,t[l++]=c),o=u+1}return s},n.prototype.diff_commonOverlap_=function(e,t){var r=e.length,i=t.length;if(r===0||i===0)return 0;r>i?e=e.substring(r-i):r<i&&(t=t.substring(0,r));var s=vr.min(r,i);if(e===t)return s;for(var o=0,u=1;;){var l=e.substring(s-u),c=t.indexOf(l);if(c===-1)return o;u+=c,(c===0||e.substring(s-u)===t.substring(0,u))&&(o=u,u++)}},n.prototype.diff_halfMatch_=function(e,t){if(this.diffTimeout<=0)return null;var r=e.length>t.length?e:t,i=e.length>t.length?t:e;if(r.length<4||i.length*2<r.length)return null;var s=this.diff_halfMatchI_(r,i,Math.ceil(r.length/4)),o=this.diff_halfMatchI_(r,i,Math.ceil(r.length/2)),u;if(!s&&!o)return null;o?s?u=s[4].length>o[4].length?s:o:u=o:u=s;var l,c,_,H,C=u[4];return e.length>t.length?(l=u[0],c=u[1],_=u[2],H=u[3]):(_=u[0],H=u[1],l=u[2],c=u[3]),[l,c,_,H,C]},n.prototype.diff_halfMatchI_=function(e,t,r){for(var i=e.substring(r,r+Math.floor(e.length/4)),s="",o,u,l,c,_=t.indexOf(i,0);_!==-1;){var H=this.diff_commonPrefix(e.substring(r),t.substring(_)),C=this.diff_commonSuffix(e.substring(0,r),t.substring(0,_));s.length<C+H&&(s=t.substring(_-C,_)+t.substring(_,_+H),o=e.substring(0,r-C),u=e.substring(r+H),l=t.substring(0,_-C),c=t.substring(_+H)),_=t.indexOf(i,_+1)}return s.length*2>=e.length?[o,u,l,c,s]:null},n.prototype.diff_cleanupSemanticScore_=function(e,t){if(!e||!t)return 6;var r=e.charAt(e.length-1),i=t.charAt(0),s=r.match(ui),o=i.match(ui),u=s&&r.match(li),l=o&&i.match(li),c=u&&r.match(pi),_=l&&i.match(pi),H=c&&e.match(Ni),C=_&&t.match(Ti);return H||C?5:c||_?4:s&&!u&&l?3:u||l?2:s||o?1:0},n.prototype.match_bitap_=function(e,t,r){if(t.length>this.matchMaxBits)throw new Error("Pattern too long for this browser");var i=this.match_alphabet_(t),s=this.matchThreshold,o=e.indexOf(t,r);o!==-1&&(s=vr.min(this.match_bitapScore_(0,o,t,r),s),o=e.lastIndexOf(t,r+t.length),o!==-1&&(s=vr.min(this.match_bitapScore_(0,o,t,r),s)));var u=1<<t.length-1;o=-1;for(var l,c,_=t.length+e.length,H,C=0;C<t.length;C++){for(l=0,c=_;l<c;)this.match_bitapScore_(C,r+c,t,r)<=s?l=c:_=c,c=Math.floor((_-l)/2+l);_=c;var ne=vr.max(1,r-c+1),Ce=vr.min(r+c,e.length)+t.length,pe=Array(Ce+2);pe[Ce+1]=(1<<C)-1;for(var We=Ce;We>=ne;We--){var vt=i[e.charAt(We-1)];if(C===0?pe[We]=(pe[We+1]<<1|1)&vt:pe[We]=(pe[We+1]<<1|1)&vt|((H[We+1]|H[We])<<1|1)|H[We+1],pe[We]&u){var St=this.match_bitapScore_(C,We-1,t,r);if(St<=s)if(s=St,o=We-1,o>r)ne=vr.max(1,2*r-o);else break}}if(this.match_bitapScore_(C+1,r,t,r)>s)break;H=pe}return o},n.prototype.match_bitapScore_=function(e,t,r,i){var s=e/r.length,o=Math.abs(i-t);return this.matchDistance?s+o/this.matchDistance:o?1:s},n.prototype.match_alphabet_=function(e){for(var t={},r=0;r<e.length;r++)t[e.charAt(r)]=0;for(var r=0;r<e.length;r++)t[e.charAt(r)]|=1<<e.length-r-1;return t},n.prototype.patch_addContext_=function(e,t){if(t.length!==0){if(e.start2==null)throw Error("patch not initialized");for(var r=t.substring(e.start2,e.start2+e.length1),i=0;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<this.matchMaxBits-this.patchMargin-this.patchMargin;)i+=this.patchMargin,r=t.substring(e.start2-i,e.start2+e.length1+i);i+=this.patchMargin;var s=t.substring(e.start2-i,e.start2);s&&e.diffs.unshift([qe.DIFF_EQUAL,s]);var o=t.substring(e.start2+e.length1,e.start2+e.length1+i);o&&e.diffs.push([qe.DIFF_EQUAL,o]),e.start1-=s.length,e.start2-=s.length,e.length1+=s.length+o.length,e.length2+=s.length+o.length}},n}();function xr(n,e){let t={};for(let s=0;s<e.length;s++){const o=e[s];t[o]?t[o].push(s):t[o]=[s]}let i=[{buffer1index:-1,buffer2index:-1,chain:null}];for(let s=0;s<n.length;s++){const o=n[s],u=t[o]||[];let l=0,c=i[0];for(let _=0;_<u.length;_++){const H=u[_];let C;for(C=l;C<i.length&&!(i[C].buffer2index<H&&(C===i.length-1||i[C+1].buffer2index>H));C++);if(C<i.length){const ne={buffer1index:s,buffer2index:H,chain:i[C]};if(l===i.length?i.push(c):i[l]=c,l=C+1,c=ne,l===i.length)break}}i[l]=c}return i[i.length-1]}a(xr,"LCS");function Ai(n,e){const t=xr(n,e);let r=[],i=n.length,s=e.length,o={common:[]};function u(){o.common.length&&(o.common.reverse(),r.push(o),o={common:[]})}a(u,"processCommon");for(let l=t;l!==null;l=l.chain){let c={buffer1:[],buffer2:[]};for(;--i>l.buffer1index;)c.buffer1.push(n[i]);for(;--s>l.buffer2index;)c.buffer2.push(e[s]);(c.buffer1.length||c.buffer2.length)&&(u(),c.buffer1.reverse(),c.buffer2.reverse(),r.push(c)),i>=0&&o.common.push(n[i])}return u(),r.reverse(),r}a(Ai,"diffComm");function ni(n,e){const t=xr(n,e);let r=[],i=n.length,s=e.length;for(let o=t;o!==null;o=o.chain){const u=i-o.buffer1index-1,l=s-o.buffer2index-1;i=o.buffer1index,s=o.buffer2index,(u||l)&&r.push({buffer1:[i+1,u],buffer1Content:n.slice(i+1,i+1+u),buffer2:[s+1,l],buffer2Content:e.slice(s+1,s+1+l)})}return r.reverse(),r}a(ni,"diffIndices");function Vr(n,e){const t=xr(n,e);let r=[],i=n.length,s=e.length;function o(u,l,c){let _=[];for(let H=0;H<c;H++)_.push(u[l+H]);return{offset:l,length:c,chunk:_}}a(o,"chunkDescription");for(let u=t;u!==null;u=u.chain){const l=i-u.buffer1index-1,c=s-u.buffer2index-1;i=u.buffer1index,s=u.buffer2index,(l||c)&&r.push({buffer1:o(n,u.buffer1index+1,l),buffer2:o(e,u.buffer2index+1,c)})}return r.reverse(),r}a(Vr,"diffPatch");function Li(n,e,t){let r=[];function i(l,c){r.push({ab:c,oStart:l.buffer1[0],oLength:l.buffer1[1],abStart:l.buffer2[0],abLength:l.buffer2[1]})}a(i,"addHunk"),ni(e,n).forEach(l=>i(l,"a")),ni(e,t).forEach(l=>i(l,"b")),r.sort((l,c)=>l.oStart-c.oStart);let s=[],o=0;function u(l){l>o&&(s.push({stable:!0,buffer:"o",bufferStart:o,bufferLength:l-o,bufferContent:e.slice(o,l)}),o=l)}for(a(u,"advanceTo");r.length;){let l=r.shift(),c=l.oStart,_=l.oStart+l.oLength,H=[l];for(u(c);r.length;){const C=r[0],ne=C.oStart;if(ne>_)break;_=Math.max(_,ne+C.oLength),H.push(r.shift())}if(H.length===1){if(l.abLength>0){const C=l.ab==="a"?n:t;s.push({stable:!0,buffer:l.ab,bufferStart:l.abStart,bufferLength:l.abLength,bufferContent:C.slice(l.abStart,l.abStart+l.abLength)})}}else{let C={a:[n.length,-1,e.length,-1],b:[t.length,-1,e.length,-1]};for(;H.length;){l=H.shift();const St=l.oStart,Qt=St+l.oLength,on=l.abStart,un=on+l.abLength;let bn=C[l.ab];bn[0]=Math.min(on,bn[0]),bn[1]=Math.max(un,bn[1]),bn[2]=Math.min(St,bn[2]),bn[3]=Math.max(Qt,bn[3])}const ne=C.a[0]+(c-C.a[2]),Ce=C.a[1]+(_-C.a[3]),pe=C.b[0]+(c-C.b[2]),We=C.b[1]+(_-C.b[3]);let vt={stable:!1,aStart:ne,aLength:Ce-ne,aContent:n.slice(ne,Ce),oStart:c,oLength:_-c,oContent:e.slice(c,_),bStart:pe,bLength:We-pe,bContent:t.slice(pe,We)};s.push(vt)}o=_}return u(e.length),s}a(Li,"diff3MergeRegions");function Pe(n,e,t,r){r=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/},r);const s=typeof n=="string",o=typeof e=="string",u=typeof t=="string";s&&(n=n.split(r.stringSeparator)),o&&(e=e.split(r.stringSeparator)),u&&(t=t.split(r.stringSeparator));let l=[];const c=Li(n,e,t);let _=[];function H(){_.length&&l.push({ok:_}),_=[]}a(H,"flushOk");function C(ne,Ce){if(ne.length!==Ce.length)return!1;for(let pe=0;pe<ne.length;pe++)if(ne[pe]!==Ce[pe])return!1;return!0}return a(C,"isFalseConflict"),c.forEach(ne=>{ne.stable?_.push(...ne.bufferContent):r.excludeFalseConflicts&&C(ne.aContent,ne.bContent)?_.push(...ne.aContent):(H(),l.push({conflict:{a:ne.aContent,aIndex:ne.aStart,o:ne.oContent,oIndex:ne.oStart,b:ne.bContent,bIndex:ne.bStart}}))}),H(),l}a(Pe,"diff3Merge");function Qe(n,e,t,r){r=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/,label:{}},r);const s=Pe(n,e,t,r);let o=!1,u=[];return s.forEach(l=>{l.ok?u=u.concat(l.ok):l.conflict&&(o=!0,u.push(`<<<<<<<${r.label.a?` ${r.label.a}`:""}`),u=u.concat(l.conflict.a),u.push(`|||||||${r.label.o?` ${r.label.o}`:""}`),u=u.concat(l.conflict.o),u.push("======="),u=u.concat(l.conflict.b),u.push(`>>>>>>>${r.label.b?` ${r.label.b}`:""}`))}),{conflict:o,result:u}}a(Qe,"mergeDiff3");function st(n,e,t,r){r=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/},r);const s=Pe(n,e,t,r);let o=!1,u=[];for(let l=0;l<s.length;l++){const c=s[l];c.ok?u=u.concat(c.ok):(o=!0,u=u.concat([`
<<<<<<<<<
`],c.conflict.a,[`
=========
`],c.conflict.b,[`
>>>>>>>>>
`]))}return{conflict:o,result:u}}a(st,"node_diff3_merge");function Ze(n,e,t,r){r=Object.assign({excludeFalseConflicts:!1,stringSeparator:/\s+/},r);const s=Pe(n,e,t,r);let o=!1,u=[];for(let l=0;l<s.length;l++){const c=s[l];if(c.ok)u=u.concat(c.ok);else{const _=Ai(c.conflict.a,c.conflict.b);for(let H=0;H<_.length;H++){let C=_[H];C.common?u=u.concat(C.common):(o=!0,u=u.concat([`
<<<<<<<<<
`],C.buffer1,[`
=========
`],C.buffer2,[`
>>>>>>>>>
`]))}}}return{conflict:o,result:u}}a(Ze,"mergeDigIn");function _t(n,e){let t=[],r=0;function i(s){for(;r<s;)t.push(n[r]),r++}a(i,"advanceTo");for(let s=0;s<e.length;s++){let o=e[s];i(o.buffer1.offset);for(let u=0;u<o.buffer2.chunk.length;u++)t.push(o.buffer2.chunk[u]);r+=o.buffer1.length}return i(n.length),t}a(_t,"patch");function xt(n){return n.map(e=>({buffer1:{offset:e.buffer1.offset,length:e.buffer1.length},buffer2:{chunk:e.buffer2.chunk}}))}a(xt,"stripPatch");function lt(n){return n.map(e=>({buffer1:e.buffer2,buffer2:e.buffer1}))}a(lt,"invertPatch");const $t=new Wr;$t.diffTimeout=0;function Ot(n,e,t){return Ae.get("experimental.useDiffMatchPatch")===!0?$t.patch_toText($t.patch_make(e,t)):wt(n,e,t)}a(Ot,"diffs_createPatch");function tn(n,e,t,r){const i=`diff --git a/${n} b/${n}`;switch(r){case"modify":return Ot(n,e,t);case"add":{let s;!t.endsWith(`
`)&&!t.endsWith(`\r
`)?s=`
\\ No newline at end of file`:s="";const o=/\r?\n/g,u=t.split(o),l=t.match(o)||[],c=u.length,_=[];for(let H=0;H<c;H+=1)(H<u.length-1||H===u.length-1&&u[H]!=="")&&_.push("+"),_.push(u[H]),H<l.length&&_.push(l[H]);return t=_.join(""),`${i}
new file mode 100644
--- /dev/null
+++ b/${n}
@@ -0,0 +1,${c} @@
${t}${s}`}case"delete":{let s=0;return e=e.replace(/\r?\n/g,o=>(s++,`${o}-`)),`${i}
deleted file mode 100644
--- a/${n}
+++ /dev/null
@@ -1,${s} +0,0 @@
-${e}`}}}a(tn,"createPatch2");function hn(n,e,t){return Ne(n,e,t)}a(hn,"diffs_applyPatch");function Hn(n,e){const t=[];for(const r of ce(n,e))t.push({...r,oldFileName:r.newFileName,oldHeader:r.newHeader,newFileName:r.oldFileName,newHeader:r.oldHeader,hunks:r.hunks.map(i=>({...i,oldLines:i.newLines,oldStart:i.newStart,newLines:i.oldLines,newStart:i.oldStart,lines:i.lines.map(s=>s[0]==="-"?`+${s.slice(1)}`:s[0]==="+"?`-${s.slice(1)}`:s)}))}),t.push(r);return t}a(Hn,"reversePatch");function Nn(n,e,t,r){let i=`
`;const s=n.match(/(?:\r?\n)/g);if(s!==null&&s.length!==0){const c=s.filter(_=>_===`\r
`).length;i=c>s.length-c?`\r
`:`
`}const o=st(n,e,t,{excludeFalseConflicts:!0,stringSeparator:/\r?\n/}),u=o.result;let l=o.conflict;for(let c=0;c<u.length;c+=1)u[c]===`
<<<<<<<<<
`?u[c]="<<<<<<< HEAD":u[c]===`
=========
`?u[c]="=======":u[c]===`
>>>>>>>>>
`&&(u[c]=`>>>>>>> ${r}`);return{conflicts:l,mergedContent:u.join(i)}}a(Nn,"diffs_merge");function Wn(n){return n!==void 0&&typeof n.then=="function"}a(Wn,"isPromise");const Dn="";function kt(...n){if(n.length===1){const e=n[0];return e===void 0?Dn:typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"||e instanceof Error?String(e):e instanceof h.Uri?e.toString():JSON.stringify(e)}return JSON.stringify(n)}a(kt,"defaultResolver");function Ft(n){return(e,t,r)=>{let i;if(typeof r.value=="function"?i=r.value:typeof r.get=="function"&&(i=r.get),i===void 0)throw new Error("Not supported");const s=`$gate$${t}`;r.value=function(...o){const u=o.length===0?s:`${s}$${(n!=null?n:kt)(...o)}`;Object.prototype.hasOwnProperty.call(this,u)||Object.defineProperty(this,u,{configurable:!1,enumerable:!1,writable:!0,value:void 0});let l=this[u];if(l===void 0){let c;try{if(c=i.apply(this,o),c==null||!Wn(c))return c;this[u]=l=c.then(_=>(this[u]=void 0,_)).catch(_=>{throw this[u]=void 0,_})}catch(_){throw this[u]=void 0,_}}return l}}}a(Ft,"gate");function qt(n){const e=performance.now()*.001;let t=Math.floor(e),r=Math.floor(e%1*1e9);return n!==void 0&&(t=t-n[0],r=r-n[1],r<0&&(t--,r+=1e9)),[t,r]}a(qt,"hrtime");let en=0;function N(){return en===Number.MAX_SAFE_INTEGER&&(en=0),++en}a(N,"getNextInstanceId");const re=a(class{constructor(n,e,...t){this.context=n,this.instance=`[${N().toString().padStart(5)}] `;var r,i,s,o,u,l;let c;if(typeof(e==null?void 0:e.log)=="boolean"?c=e.log?{}:void 0:c=(r=e==null?void 0:e.log)!=null?r:{},this.logLevel=(i=e==null?void 0:e.logLevel)!=null?i:ze.Info,this.time=qt(),c){if(!Q.enabled(this.logLevel))return;t.length?et(this.logLevel,`${this.instance}${(s=c.prefix)!=null?s:""}${n}${(o=c.message)!=null?o:""}`,...t):et(this.logLevel,`${this.instance}${(u=c.prefix)!=null?u:""}${n}${(l=c.message)!=null?l:""}`)}}log(n){this.logCore(this.context,n,!1)}logStep(n,e){(!n||e)&&this.logCore(this.context,e,!1),this.step=n?{time:qt(),label:n}:void 0}restart(n){this.logCore(this.context,n,!0),this.step=void 0,this.time=qt()}stop(n){this.restart(n)}logCore(n,e,t){var r,i,s,o,u,l,c;if(!Q.enabled(this.logLevel))return;let _="";if(this.step){const[Ce,pe]=qt(this.step.time),We=Ce*1e3+Math.floor(pe/1e6);_=`${this.step.label?`${this.step.label} took `:""}${We} ms`}if(!t){et(this.logLevel,`${this.instance}${(r=e==null?void 0:e.prefix)!=null?r:""}${n}${(i=e==null?void 0:e.message)!=null?i:""}${_?` ${_}`:""}${(s=e==null?void 0:e.suffix)!=null?s:""}`);return}const[H,C]=qt(this.time),ne=H*1e3+Math.floor(C/1e6);et(ne>500?ze.Warn:this.logLevel,`${this.instance}${(o=e==null?void 0:e.prefix)!=null?o:""}${n}${(u=e==null?void 0:e.message)!=null?u:""}${(l=e==null?void 0:e.took)!=null?l:" took "}${ne} ms${_?` (${_})`:""}${(c=e==null?void 0:e.suffix)!=null?c:""}`)}static start(n,e,...t){var r;(r=re.watches.get(n))==null||r.log(),re.watches.set(n,new re(n,e,...t))}static log(n,e){var t;(t=re.watches.get(n))==null||t.log(e)}static stop(n,e){var t;(t=re.watches.get(n))==null||t.stop(e),re.watches.delete(n)}},"_Stopwatch");let we=re;we.watches=new Map;function et(n,e,...t){switch(n){case ze.Warn:Q.warn(e,...t);break;case ze.Info:Q.log(e,...t);break;default:Q.debug(e,...t);break}}a(et,"log");let yt=0;function Ct(){return yt===Number.MAX_SAFE_INTEGER&&(yt=0),String(++yt)}a(Ct,"getNextLockId");class Zt{constructor(){this.id=Ct()}async synchronize(e){let t;const r=this.promise;this.promise=new Promise(i=>t=i),await r;try{return await e()}finally{t()}}}a(Zt,"Lock");class Vt{constructor(e){this.lock=new Zt,this.readers=new Set,this.counter=0,this._id=e!=null?e:this.lock.id}get id(){return this._id}getNextCounter(){return this.counter===Number.MAX_SAFE_INTEGER&&(this.counter=0),++this.counter}async synchronizeRead(e,t){let r;const i=new we(`Reader(${this.getNextCounter()}|${this.id})`,{log:{prefix:"(A) ",message:t?` \u2022 ${t}`:""},logLevel:ze.Debug});let s;await this.lock.synchronize(async()=>{this.writer&&await this.writer,s=new Promise(o=>r=o),this.readers.add(s)}),i.restart({prefix:"(L) ",suffix:t?` \u2022 ${t}`:"",took:" waited for "});try{return await e()}finally{i.stop({prefix:"(U) ",suffix:t?` \u2022 ${t}`:"",took:" locked for "}),s!==void 0&&this.readers.delete(s),r()}}async synchronizeWrite(e,t){let r;const i=new we(`Writer(${this.getNextCounter()}|${this.id})`,{log:{prefix:"(A) ",message:t?` \u2022 ${t}`:""},logLevel:ze.Debug});await this.lock.synchronize(async()=>{if(this.writer&&await this.writer,this.readers.size){const s=[...this.readers];this.readers.clear(),await Promise.all(s)}this.writer=new Promise(s=>r=s)}),i.restart({prefix:"(L) ",suffix:t?` \u2022 ${t}`:"",took:" waited for "});try{return await e()}finally{i.stop({prefix:"(U) ",suffix:t?` \u2022 ${t}`:"",took:" locked for "}),r(),this.writer=void 0}}}a(Vt,"ReaderWriterLock");class Wt{constructor(){this.locks=new Map}async synchronizeRead(e,t,r){let i=this.locks.get(e);return i===void 0&&(i=new Vt(String(e)),this.locks.set(e,i)),i.synchronizeRead(t,r)}async synchronizeWrite(e,t,r){let i=this.locks.get(e);return i===void 0&&(i=new Vt(String(e)),this.locks.set(e,i)),i.synchronizeWrite(t,r)}}a(Wt,"KeyedReaderWriterLock");const Xt=new TextDecoder,nn=new TextEncoder;async function bt(n){const e=typeof n=="string"?nn.encode(n):n;let t;if(globalThis.crypto.subtle)t=await globalThis.crypto.subtle.digest({name:"sha-1"},e);else{const r=new Mt;r.update(e),t=r.digest()}return globalThis.btoa(encodeURIComponent(Xt.decode(t)))}a(bt,"sha1");async function ct(n){const e=await globalThis.crypto.subtle.digest({name:"sha-256"},n);return Array.from(new Uint8Array(e)).map(r=>r.toString(16).padStart(2,"0")).join("")}a(ct,"sha256");var En;(function(n){n[n.BLOCK_SIZE=64]="BLOCK_SIZE"})(En||(En={}));function vn(n,e,t=32){const r=t-e,i=~((1<<r)-1);return(n<<e|(i&n)>>>r)>>>0}a(vn,"leftRotate");function Tn(n,e=0,t=n.byteLength,r=0){for(let i=0;i<t;i++)n[e+i]=r}a(Tn,"fill");const xn=a(class{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._finished=!1}update(n){const e=this._buff;let t=this._buffLen,r=0;const i=n.byteLength;for(;r<i;){const s=Math.min(64-t,i-r);for(let o=0;o<s;o++)e[t++]=n[r++];t>=64&&(this._step(),t-=64,this._totalLen+=64)}this._buffLen=t}digest(){this._finished||(this._finished=!0,this._totalLen+=this._buffLen,this._wrapUp());const n=new ArrayBuffer(20),e=new DataView(n);return e.setUint32(0,this._h0,!1),e.setUint32(4,this._h1,!1),e.setUint32(8,this._h2,!1),e.setUint32(12,this._h3,!1),e.setUint32(16,this._h4,!1),n}_wrapUp(){this._buff[this._buffLen++]=128,Tn(this._buff,this._buffLen),this._buffLen>56&&(this._step(),Tn(this._buff));const n=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(n/4294967296),!1),this._buffDV.setUint32(60,n%4294967296,!1),this._step()}_step(){const n=xn._bigBlock32,e=this._buffDV;for(let _=0;_<64;_+=4)n.setUint32(_,e.getUint32(_,!1),!1);for(let _=64;_<320;_+=4)n.setUint32(_,vn(n.getUint32(_-12,!1)^n.getUint32(_-32,!1)^n.getUint32(_-56,!1)^n.getUint32(_-64,!1),1),!1);let t=this._h0,r=this._h1,i=this._h2,s=this._h3,o=this._h4,u,l,c;for(let _=0;_<80;_++)_<20?(u=r&i|~r&s,l=1518500249):_<40?(u=r^i^s,l=1859775393):_<60?(u=r&i|r&s|i&s,l=2400959708):(u=r^i^s,l=3395469782),c=vn(t,5)+u+o+l+n.getUint32(_*4,!1)&4294967295,o=s,s=i,i=vn(r,30),r=t,t=c;this._h0=this._h0+t&4294967295,this._h1=this._h1+r&4294967295,this._h2=this._h2+i&4294967295,this._h3=this._h3+s&4294967295,this._h4=this._h4+o&4294967295}},"_SHA1Computer");let Mt=xn;Mt._bigBlock32=new DataView(new ArrayBuffer(320));function Or(n){const e=globalThis.atob(n),t=e.length,r=new Uint8Array(t);for(let i=0;i<t;i++)r[i]=e.charCodeAt(i);return r}a(Or,"fromBase64");const{fromCharCode:lr}=String;function gn(n){let e;if(typeof n=="string")e=n;else{e="";for(let t=0,{length:r}=n;t<r;t++)e+=lr(n[t])}return globalThis.btoa(e)}a(gn,"toBase64");function Br(n,e){if(n===e)return-1;let t=0;for(;n[t]===e[t];)t++;return t}a(Br,"indexOfDifference");function Nr(n){return n.replace(/[\\{}*+?|^$.[\]()]/g,"\\$&")}a(Nr,"strings_escapeRegExpCharacters");var br=Object.defineProperty,Jr=Object.getOwnPropertyDescriptor,zr=a((n,e,t,r)=>{for(var i=r>1?void 0:r?Jr(e,t):e,s=n.length-1,o;s>=0;s--)(o=n[s])&&(i=(r?o(e,t,i):o(i))||i);return r&&i&&br(e,t,i),i},"__decorateClass");const Qr=h.FileSystemError.FileNotFound().code,Lr=`===================================================================
`,gr=new TextDecoder,ri=new TextEncoder;function ii(n){return n&&"type"in n&&"uri"in n&&"uri"in n&&"fileType"in n&&"revision"in n&&"timestamp"in n}a(ii,"isOperation");function Fr(n,e,t){return{type:n.type,rootUri:e,uri:t!=null?t:n.uri}}a(Fr,"toEvent");const Ur=a(class{constructor(n,e,t,r,i,s){this.providerService=n,this.storageService=e,this.fileStorageService=t,this.telemetryService=r,this.workspaceId=i,this._onDidChange=new h.EventEmitter,this.cache=new Map,this.lock=new Wt,this.scopedStores=new Map,s===void 0&&(this.disposable=h.Disposable.from(this.providerService.onDidRefresh(()=>this.cache.clear())))}get onDidChange(){return this._onDidChange.event}dispose(){var n;(n=this.disposable)==null||n.dispose()}async exportDebugInfo(n){var e;async function t(r){const i=await h.workspace.openTextDocument({language:"json",content:`ChangeStore Operations for ${r.toString(!0)}

${this.toStorage(await this.getWorkingOperations(r))}`});return void h.window.showTextDocument(i)}if(a(t,"exportCore"),n===void 0)for(const r of(e=h.workspace.workspaceFolders)!=null?e:[])await t.call(this,r.uri);else return t.call(this,n)}async getWorkspacesWithChanges(){var n;const e=new we("ChangeStore.getWorkspacesWithChanges()");try{const t=[];for(const r of(n=h.workspace.workspaceFolders)!=null?n:[])r.uri.scheme===D.scheme&&await this.hasChanges(r.uri)&&t.push(r.uri);return t.length>0?t:void 0}finally{e.stop()}}async acceptAll(n,e){const t=`ChangeStore.acceptAll(${n.toString()}, ${e==null?void 0:e.staged})`;Q.log(t);const r=[];await this.lock.synchronizeWrite(P(n),async()=>{const i=await this.getWorkingOperations(n),s=[];let o=[];const u=(e==null?void 0:e.staged)&&!(e.staged==="auto"&&!i.some(l=>l.staged));for(const l of i){if(u&&!l.staged){o.push(l);continue}l.fileType===h.FileType.File&&await this.discardWorkingContent(n,l.uri);let c;if(l.type===O.Created&&l.fileType===h.FileType.Directory&&(i.some(_=>F(_.uri,l.uri))||(c={type:O.Deleted,rootUri:n,uri:l.uri})),r.push(c!=null?c:Fr(l,n)),l.type===O.Created){let _=l.uri;for(;;){const{parent:H}=this.findParent(_,i,C=>C.type===O.Created);if(H){s.push(H),_=H.uri;continue}break}}}o.length>0&&s.length>0&&(o=o.filter(l=>s.includes(l)?(r.push(Fr(l,n)),!1):!0)),await this.saveWorkingOperations(n,o)},t),r.length!==0&&this._onDidChange.fire(r)}async discard(n){const e=this.providerService.getVirtualWorkspaceUri(n);if(e===void 0)return;const t=`ChangeStore.discard(${n.toString()})`;Q.log(t);const r=[];await this.lock.synchronizeWrite(P(e),async()=>this.discardCore(e,n,r),t),r.length!==0&&this._onDidChange.fire(r)}async discardCore(n,e,t){Q.debug(`ChangeStore.discardCore(${e.toString()})`);let r=await this.getWorkingOperations(n);if(r.length===0)return;const i=j(e),s=r.findIndex(l=>j(l.uri)===i);if(s===-1)return;const[o]=r.splice(s,1);let u;switch(o.type){case O.Created:u=O.Deleted;break;case O.Deleted:u=O.Created;break;default:u=o.type;break}if(t.push({type:u,rootUri:n,uri:e}),o.type===O.Created){let l=o.uri;for(;;){const{parent:c,parentIndex:_}=this.findNewParentWithOnlyChild(l,r);if(c){r.splice(_,1),t.push({type:O.Deleted,rootUri:n,uri:c.uri}),l=c.uri;continue}break}}else if(o.type===O.Deleted){let l=o.uri;const c=this.findDeletedParents(l,r);let _=[...r];c.forEach(({parent:H,parentIndex:C})=>{_[C]=void 0,t.push({type:O.Created,rootUri:n,uri:H.uri})}),r=_.filter(H=>H!==void 0)}await this.saveWorkingOperations(n,r),o.fileType===h.FileType.File&&await this.discardWorkingContent(n,e)}async discardAll(n,e){const t=this.getUriScope(n);if(t)return this.getScopedChangeStore(t).discardAll(n,e);const r=`ChangeStore.discardAll(${n.toString()}, ${e==null?void 0:e.staged})`;Q.log(r);const i=[];await this.lock.synchronizeWrite(P(n),async()=>{const s=await this.getWorkingOperations(n),o=[];let u=[];const l=(e==null?void 0:e.staged)&&!(e.staged==="auto"&&!s.some(c=>c.staged));for(const c of s){if(l&&!c.staged){u.push(c);continue}c.fileType===h.FileType.File&&await this.discardWorkingContent(n,c.uri);let _;switch(c.type){case O.Created:_=O.Deleted;break;case O.Deleted:_=O.Created;break;default:_=c.type;break}if(i.push({type:_,rootUri:n,uri:c.uri}),c.type===O.Created){let H=c.uri;for(;;){const{parent:C}=this.findNewParentWithOnlyChild(H,s);if(C){o.push(C),H=C.uri;continue}break}}}u.length>0&&o.length>0&&(u=u.filter(c=>o.includes(c)?(i.push({type:O.Deleted,rootUri:n,uri:c.uri}),!1):!0)),await this.saveWorkingOperations(n,u)},r),i.length!==0&&this._onDidChange.fire(i)}async stage(n){const e=this.providerService.getVirtualWorkspaceUri(n);if(e===void 0)return;const t=`ChangeStore.stage(${n.toString()})`;Q.log(t);const r=[];await this.lock.synchronizeWrite(P(e),async()=>{const{operation:i,index:s}=await this.getWorkingOperation(n,e);i!==void 0&&await this.stageCore(e,n,i,r,s)},t),r.length!==0&&this._onDidChange.fire(r)}async stageAll(n){const e=`ChangeStore.stageAll(${n.toString()})`;Q.log(e);const t=[];await this.lock.synchronizeWrite(P(n),async()=>{const r=(await this.getWorkingOperations(n)).filter(i=>!i.staged);if(r.length!==0)for(const i of r){const{index:s}=await this.getWorkingOperation(i.uri,n);if(!await this.stageCore(n,i.uri,i,t,s))return}},e),t.length!==0&&this._onDidChange.fire(t)}async stageCore(n,e,t,r,i){if(t.conflicts){if(!t.conflicts.status.includes(O.Deleted)){const o=h.l10n.t("Yes");if(await h.window.showWarningMessage(h.l10n.t("Are you sure you want to stage {0} with merge conflicts?",X(e)),{modal:!0},o)!==o)return!1}const[,s]=t.conflicts.status;switch(s){case O.Changed:switch(t.type){case O.Created:return!1;case O.Changed:return await this.spliceOperation(e,i,{...t,conflicts:void 0,staged:!0,timestamp:Date.now()},r),!0;case O.Deleted:const o=h.l10n.t("Keep Their Version"),u=h.l10n.t("Delete File"),l=await h.window.showInformationMessage(h.l10n.t(`File '{0}' was deleted by us and modified by them.

What would you like to do?`,X(e)),{modal:!0},o,u);return l===o?(await this.discardCore(n,e,r),!0):l===u?(await this.spliceOperation(e,i,{...t,type:O.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:void 0,staged:!0,timestamp:Date.now()},r),!0):!1}case O.Created:switch(t.type){case O.Changed:case O.Deleted:return!1;case O.Created:return await this.spliceOperation(e,i,{...t,type:O.Changed,conflicts:void 0,size:t.size,hash:t.hash,originalHash:t.originalHash,staged:!0,timestamp:Date.now()},r),!0}case O.Deleted:switch(t.type){case O.Created:case O.Changed:{const o=h.l10n.t("Keep Our Version"),u=h.l10n.t("Delete File"),l=await h.window.showInformationMessage(h.l10n.t(`File '{0}' was deleted by them and modified by us.

What would you like to do?`,X(e)),{modal:!0},o,u);return l===o?(await this.spliceOperation(e,i,{...t,type:O.Created,originalHash:void 0,conflicts:void 0,staged:!0,timestamp:Date.now()},r),!0):l===u?(await this.discardCore(n,e,r),!0):!1}case O.Deleted:return await this.discardCore(n,e,r),!0}}}return await this.spliceOperation(e,i,{...t,staged:!0,conflicts:void 0,timestamp:Date.now()},r),!0}async unstage(n){const e=this.providerService.getVirtualWorkspaceUri(n);if(e===void 0)return;const t=`ChangeStore.unstage(${n.toString()})`;Q.log(t);const r=[];await this.lock.synchronizeWrite(P(e),async()=>{const{operation:i,index:s}=await this.getWorkingOperation(n,e);i!==void 0&&await this.spliceOperation(n,s,{...i,staged:!1,timestamp:Date.now()},r)},t),r.length!==0&&this._onDidChange.fire(r)}async unstageAll(n){const e=`ChangeStore.unstageAll(${n.toString()})`;Q.log(e);const t=[];await this.lock.synchronizeWrite(P(n),async()=>{const r=(await this.getWorkingOperations(n)).map(i=>({...i,staged:!1,timestamp:Date.now()}));r.length!==0&&(await this.saveWorkingOperations(n,r),t.push(...r.map(i=>Fr(i,n))))},e),t.length!==0&&this._onDidChange.fire(t)}async hasChanges(n){const e=this.getUriScope(n);if(e)return this.getScopedChangeStore(e).hasChanges(n);const t=P(n),r=this.cache.get(t);return r!==void 0?r.length!==0:this.lock.synchronizeRead(t,async()=>(await this.getWorkingOperations(n)).length!==0,`ChangeStore.hasChanges(${n.toString()})`)}maybeHasChanges(n,e){const t=this.getUriScope(n);if(t)return this.getScopedChangeStore(t).maybeHasChanges(n,e);const r=P(n),i=this.cache.get(r);if(i===void 0)return;if(i.length===0)return!1;if(e===void 0)return!0;const s=j(e);return i.some(o=>j(o.uri)===s)}async hasMergeConflicts(n){return this.lock.synchronizeRead(P(n),async()=>(await this.getWorkingOperations(n)).some(e=>e.conflicts!==void 0),`ChangeStore.hasMergeConflicts(${n.toString()})`)}async hasStagedChanges(n){return this.lock.synchronizeRead(P(n),async()=>(await this.getWorkingOperations(n)).some(e=>e.staged&&e.conflicts===void 0),`ChangeStore.hasStagedChanges(${n.toString()})`)}async hasWorkingChanges(n){return this.lock.synchronizeRead(P(n),async()=>(await this.getWorkingOperations(n)).some(e=>!e.staged&&e.conflicts===void 0),`ChangeStore.hasWorkingChanges(${n.toString()})`)}async getChange(n){const e=this.getUriScope(n);if(e)return this.getScopedChangeStore(e).getChange(n);const t=this.providerService.getVirtualRootUri(n);if(t!==void 0)return this.lock.synchronizeRead(P(t),async()=>{const{operation:r}=await this.getWorkingOperation(n,t);return r},`ChangeStore.getChange(${n.toString()})`)}async getChanges(n,e){const t=this.getUriScope(n);return t?this.getScopedChangeStore(t).getChanges(n,e):this.lock.synchronizeRead(P(n),async()=>{let r=await this.getWorkingOperations(n);if((e==null?void 0:e.excludeConflicts)||(e==null?void 0:e.predicate)){const{excludeConflicts:i,predicate:s}=e;r=r.filter(o=>{var u;return(!i||o.conflicts===void 0)&&((u=s==null?void 0:s(o))!=null?u:!0)})}return r},`ChangeStore.getChanges(${n.toString()})`)}async getGroupedChanges(n,e){const t=this.getUriScope(n);return t?this.getScopedChangeStore(t).getGroupedChanges(n,e):this.lock.synchronizeRead(P(n),async()=>{var r,i;const s=await this.getWorkingOperations(n),o={conflicts:[],staged:[],working:[]};for(const u of s)!((i=(r=e==null?void 0:e.predicate)==null?void 0:r.call(e,u))!=null?i:!0)||(u.conflicts?o.conflicts.push(u):u.staged?o.staged.push(u):o.working.push(u));return o},`ChangeStore.getChangesByType(${n.toString()})`)}async getContent(n){const e=this.providerService.getVirtualRootUri(n);if(e===void 0)throw new Error(`Unable to find content for ${n.toString()}; Repository not found`);const t=P(e),r=this.cache.get(t);if((r==null?void 0:r.length)===0)throw new Error(`Unable to find content for ${n.toString()}`);return this.lock.synchronizeRead(t,async()=>{const i=gr.decode(await this.getWorkingContent(e,n));if(i!==void 0)return i;throw new Error(`Unable to find content for ${n.toString()}`)},`ChangeStore.getContent(${n.toString()}}`)}async getMergeConflicts(n,e){return this.lock.synchronizeRead(P(n),async()=>(await this.getWorkingOperations(n)).filter(r=>{var i,s;return r.conflicts!==void 0&&((s=(i=e==null?void 0:e.predicate)==null?void 0:i.call(e,r))!=null?s:!0)}),`ChangeStore.getMergeConflicts(${n.toString()})`)}async getStagedChanges(n,e){return this.lock.synchronizeRead(P(n),async()=>(await this.getWorkingOperations(n)).filter(r=>{var i,s;return r.staged&&r.conflicts===void 0&&((s=(i=e==null?void 0:e.predicate)==null?void 0:i.call(e,r))!=null?s:!0)}),`ChangeStore.getStagedChanges(${n.toString()})`)}async getWorkingChanges(n,e){return this.lock.synchronizeRead(P(n),async()=>(await this.getWorkingOperations(n)).filter(r=>{var i,s;return!r.staged&&r.conflicts===void 0&&((s=(i=e==null?void 0:e.predicate)==null?void 0:i.call(e,r))!=null?s:!0)}),`ChangeStore.getWorkingChanges(${n.toString()})`)}async applyChangeset(n,e,t,r){var i;let s;ii(t)?s=t:r=r!=null?r:t,Q.log(`ChangeStore.applyChangeset${n.toString()}`,e.workspaceId,e.uri,s==null?void 0:s.uri,r==null?void 0:r.save);const o=this.getScopedChangeStore(e.workspaceId),u=(i=e.patch)!=null?i:await o.createPatch(e.uri,s==null?void 0:s.uri);await this.applyPatchCore(n,u,{...r,getIncomingContent:async l=>{const c=this.getScopedUri(this.providerService.createRelativeVirtualUri(e.uri,l),e.workspaceId);return gr.decode(await h.workspace.fs.readFile(c))},merge:async(l,c,_)=>{try{const H=D.getProviderUri(l),C=gr.decode(await h.workspace.fs.readFile(H)),ne=this.getScopedUri(this.providerService.createRelativeVirtualUri(e.uri,c),e.workspaceId),Ce=gr.decode(await h.workspace.fs.readFile(ne)),pe=await this.providerService.getMetadata(ne);return{...Nn(_,C,Ce,pe.HEAD.sha),baseUri:H,incomingUri:ne}}catch(H){throw new Error(`Unable to apply patch to ${c}: ${String(H)}`)}}})}async applyPatch(n,e,t){if(Q.log(`ChangeStore.applyPatch(${n.toString()})`,t==null?void 0:t.save),!e.startsWith("diff --"))throw new Error("Invalid patch");return this.applyPatchCore(n,e,t)}async applyPatchCore(n,e,t={}){const r=`ChangeStore.applyPatchCore(${n.toString()})`;Q.debug(r,t==null?void 0:t.save);const i=new h.WorkspaceEdit,s=[],o=new Map;async function u(C){var ne;const Ce=P(C),pe=h.workspace.textDocuments.find(We=>P(We.uri)===Ce);return(ne=pe==null?void 0:pe.getText())!=null?ne:gr.decode(await h.workspace.fs.readFile(C))}a(u,"getContent");async function l(C){try{const ne=await h.workspace.fs.stat(C);return Boolean(ne)}catch{return!1}}a(l,"exists");async function c(C,ne,Ce){let pe=hn("",Ce,{fuzzFactor:0});if(pe===!1){if(!t.getIncomingContent)throw new Error(`Unable to apply patch to ${ne}`);pe=await t.getIncomingContent(ne)}i.createFile(C,{overwrite:!0}),i.replace(C,new h.Range(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),pe)}a(c,"applyCreate");async function _(C,ne,Ce,pe){const We=await u(C);let vt=hn(We,Ce,{fuzzFactor:1});if(vt===!1){if(t.merge===void 0)throw new Error(`Unable to apply patch to ${ne}; Resulted in conflicts`);const St={title:h.l10n.t("Merge")},Qt={title:h.l10n.t("Skip File"),isCloseAffordance:!0};if(await h.window.showWarningMessage(h.l10n.t(`Unable to apply changes to '{0}'.

Do you want to retry by merging the files?`,ne),{modal:!0},St,Qt)!==St)return;const un=await t.merge(C,ne,We);vt=un.mergedContent,un.conflicts&&o.set(P(C),{type:pe,baseUri:un.baseUri,incomingUri:un.incomingUri})}i.replace(C,new h.Range(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),vt)}a(_,"applyModification");const H=(t==null?void 0:t.reverse)?Hn(e,{}):ce(e,{});for(const C of H)if(C.oldFileName==="/dev/null"){if(!C.newFileName)continue;const ne=C.newFileName.startsWith("b/")?C.newFileName.substr(2):C.newFileName,Ce=this.providerService.createRelativeVirtualUri(n,ne);s.push(P(Ce)),!await l(Ce)?await c(Ce,ne,C):await _(Ce,ne,C,O.Created)}else if(C.newFileName==="/dev/null"){if(!C.oldFileName)continue;const ne=C.oldFileName.startsWith("a/")?C.oldFileName.substr(2):C.oldFileName,Ce=this.providerService.createRelativeVirtualUri(n,ne);await l(Ce)&&i.deleteFile(Ce)}else if(C.oldFileName===C.newFileName){if(!C.newFileName)continue;const ne=this.providerService.createRelativeVirtualUri(n,C.newFileName);s.push(P(ne)),!await l(ne)?await c(ne,C.newFileName,C):await _(ne,C.newFileName,C,O.Changed)}else throw new Error(`Unable to apply patch to ${C.oldFileName}; Renames aren't currently supported`);if(await h.workspace.applyEdit(i),t.save&&s.length)for(const C of s){const ne=h.workspace.textDocuments.find(Ce=>P(Ce.uri)===C);await(ne==null?void 0:ne.save())}o.size&&setTimeout(async()=>{const C=[];await this.lock.synchronizeWrite(P(n),async()=>{const ne=await this.getWorkingOperations(n);if(ne.length===0)return;let Ce=-1;for(const pe of ne){Ce++;const We=o.get(P(pe.uri));We!==void 0&&await this.spliceOperation(pe.uri,Ce,{...pe,conflicts:{baseUri:We.baseUri,incomingUri:We.incomingUri,status:[pe.type,We.type]},timestamp:Date.now()},C)}},r),C.length!==0&&this._onDidChange.fire(C)},0)}async createChangeset(n){Q.log(`ChangeStore.createChangeset${n.toString()})`);const e=await this.createPatch(n);return e?{workspaceId:this.workspaceId,uri:n,patch:e}:void 0}async createPatch(n,e,t){if(Q.log(`ChangeStore.createPatch${n.toString()})`,e),e===void 0){let s=await this.getWorkingOperations(n);if((t==null?void 0:t.staged)&&(s=s.filter(u=>u.staged)),s.length===0)return"";const o=[];for(const u of s){const l=await this.createPatchCore(n,u);o.push(l)}return o.join("")}const{operation:r}=await this.getWorkingOperation(e,n);if(r===void 0)throw new Error(`Unable to create patch for ${e.toString()}`);return(t==null?void 0:t.staged)&&r.staged?"":await this.createPatchCore(n,r)}async createPatchCore(n,e){if(e.fileType!==h.FileType.File)return"";const t=this.providerService.getRelativeFilePath(n,e.uri),r=`diff --git a/${t} b/${t}`;if(e.type===O.Created){let l=await this.getContent(e.uri);return tn(t,"",l,"add")}if(e.type===O.Deleted){let l=gr.decode(await h.workspace.fs.readFile(D.getProviderUri(e.uri)));return tn(t,l,"","delete")}const i=await this.getContent(e.uri),s=gr.decode(await h.workspace.fs.readFile(D.getProviderUri(e.uri))),o=Ot(t,s,i),u=o.indexOf(Lr);return`${r}
${o.substr(u+Lr.length)}`}async keep(n,e){const t=this.providerService.getVirtualWorkspaceUri(n);if(t===void 0)return;const r=`ChangeStore.keep(${n.toString()})`;Q.log(r,e);const i=[];await this.lock.synchronizeWrite(P(t),async()=>{const{operation:s,index:o}=await this.getWorkingOperation(n,t);if(s===void 0)return;if(e===void 0&&s.conflicts){const[,l]=s.conflicts.status;switch(l){case O.Changed:switch(s.type){case O.Changed:case O.Created:case O.Deleted:await this.spliceOperation(n,o,{...s,conflicts:void 0,timestamp:Date.now()},i);break}break;case O.Created:switch(s.type){case O.Changed:case O.Deleted:await this.spliceOperation(n,o,{...s,conflicts:void 0,timestamp:Date.now()},i);break;case O.Created:await this.spliceOperation(n,o,{...s,type:O.Changed,size:s.size,hash:s.hash,originalHash:s.originalHash,conflicts:void 0,timestamp:Date.now()},i);break}break;case O.Deleted:switch(s.type){case O.Deleted:await this.discardCore(t,n,i);break;case O.Changed:await this.spliceOperation(n,o,{...s,type:O.Created,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);break;case O.Created:await this.spliceOperation(n,o,{...s,conflicts:void 0,timestamp:Date.now()},i);break}break}return}if(e===void 0)return;switch(e.type){case O.Changed:switch(s.type){case O.Deleted:await this.spliceOperation(n,o,{...s,type:O.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);return;case O.Created:break;case O.Changed:break}break;case O.Created:switch(s.type){case O.Changed:case O.Deleted:return;case O.Created:break}break;case O.Deleted:switch(s.type){case O.Deleted:return this.discardCore(t,n,i);case O.Changed:await this.spliceOperation(n,o,{...s,type:O.Created,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);return;case O.Created:return}}const u=e!==void 0?await h.workspace.fs.readFile(e.providerUri):void 0;await this.spliceOperation(n,o,{...s,type:O.Changed,originalHash:u!==void 0?await bt(u):s.originalHash,conflicts:void 0,timestamp:Date.now()},i)},r),i.length!==0&&this._onDidChange.fire(i)}async merge(n,e,t){const r=this.providerService.getVirtualWorkspaceUri(n);if(r===void 0)return;const i=`ChangeStore.merge(${n.toString()})`;Q.log(i,e,t);const s=[];await this.lock.synchronizeWrite(P(r),async()=>{const{operation:o,index:u}=await this.getWorkingOperation(n,r);if(o===void 0)return;switch(e.type){case O.Changed:switch(o.type){case O.Deleted:await this.spliceOperation(n,u,{...o,type:O.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:{baseUri:t.providerUri,incomingUri:e.providerUri,status:[o.type,e.type]},timestamp:Date.now()},s);return;case O.Created:break;case O.Changed:break}break;case O.Created:switch(o.type){case O.Deleted:case O.Changed:return;case O.Created:const ne=await h.workspace.fs.readFile(e.providerUri);await this.spliceOperation(n,u,{...o,originalHash:ne!==void 0?await bt(ne):o.originalHash,conflicts:{baseUri:t.providerUri,incomingUri:e.providerUri,status:[o.type,e.type]},type:O.Changed,timestamp:Date.now()},s);break}break;case O.Deleted:switch(o.type){case O.Deleted:return this.discardCore(r,n,s);case O.Changed:await this.spliceOperation(n,u,{...o,type:O.Created,originalHash:void 0,conflicts:{baseUri:void 0,incomingUri:e.providerUri,status:[o.type,e.type]},timestamp:Date.now()},s);return;case O.Created:return}}const l=await this.providerService.getMetadata(e.providerUri),c=await this.getWorkingContent(r,n),_=o.type===O.Created?new Uint8Array(0):await h.workspace.fs.readFile(t.providerUri),H=await h.workspace.fs.readFile(e.providerUri),C=Nn(gr.decode(c),gr.decode(_),gr.decode(H),l.HEAD.sha);await this.writeFileCore(r,n,s,ri.encode(C.mergedContent),H!=null?H:new Uint8Array(0),C.conflicts?{baseUri:t.providerUri,incomingUri:e.providerUri,status:[o.type,e.type]}:void 0)},i),s.length!==0&&this._onDidChange.fire(s)}async resolveDiffCommand(n,e,t,r){let i;const s=this.providerService.getVirtualRootUri(n);return s!==void 0&&({operation:i}=await this.getWorkingOperation(n,s)),(i==null?void 0:i.type)===O.Deleted?this.resolveOpenCommand(e):((i==null?void 0:i.type)===O.Created&&(e=e.with({query:"~"})),{command:"vscode.diff",title:"Open Changes",arguments:[e,n,t,r]})}resolveOpenCommand(n,e){return{command:"vscode.open",title:"Open File",arguments:[n,e]}}getScopedUri(n,e){const t=typeof e=="string"?e:e.workspaceId;return t===this.workspaceId?n:n.with({fragment:t})}getUriScope(n){return n.fragment||void 0}getScopedChangeStore(n){const e=typeof n=="string"?n:n.workspaceId;Q.log(`ChangeStore.getScopedChangeStore(${e})`);let t=this.scopedStores.get(e);return t===void 0&&(t=e===this.workspaceId?new Ur.ScopedChangeStore(this,e,this.workspaceId):new Ur.ScopedChangeStore(new Ur(this.providerService,this.storageService.with(e),this.fileStorageService.with(e),this.telemetryService,this.workspaceId,e),e,this.workspaceId),this.scopedStores.set(e,t)),t}async stat(n){const e=this.getUriScope(n);if(e)return this.getScopedChangeStore(e).stat(n);const t=this.providerService.getVirtualRootUri(n);if(t===void 0)return;const r=P(t),i=this.cache.get(r);if((i==null?void 0:i.length)!==0)return this.lock.synchronizeRead(r,async()=>{var s;const{operation:o}=await this.getWorkingOperation(n,t);if(o!==void 0){if(o.type===O.Deleted)throw h.FileSystemError.FileNotFound(`The ${o.fileType===h.FileType.Directory?"folder":"file"} has been deleted.`);return{type:o.fileType,size:(s=o.size)!=null?s:0,ctime:0,mtime:o.timestamp}}},`ChangeStore.stat(${n.toString()}`)}async readFile(n){const e=this.getUriScope(n);if(e)return this.getScopedChangeStore(e).readFile(n);const t=new we(`ChangeStore.readFile(${n.toString()})`);try{const r=this.providerService.getVirtualRootUri(n);if(r===void 0)return;const i=P(r),s=this.cache.get(i);return(s==null?void 0:s.length)===0?void 0:await this.lock.synchronizeRead(i,()=>{const o=this.cache.get(i);if((o==null?void 0:o.length)===0){t.log({message:": Not found; no operations"});return}return this.getWorkingContent(r,n)},t.context)}finally{t.stop()}}async createDirectory(n){const e=this.providerService.getVirtualWorkspaceUri(n);if(e===void 0)return;const t=new we(`ChangeStore.createDirectory(${n.toString()})`);try{const r=[];if(await this.lock.synchronizeWrite(P(e),async()=>{const{operation:i,index:s}=await this.getWorkingOperation(n,e),o=await this.providerService.getMetadata(n);await this.spliceOperation(n,s,i===void 0?{type:O.Created,uri:n,fileType:h.FileType.Directory,revision:o.HEAD.sha,timestamp:Date.now(),size:0,hash:"",originalHash:void 0}:{...i,timestamp:Date.now()},r)},t.context),r.length===0)return;this._onDidChange.fire(r)}finally{t.stop()}}async deleteDirectory(n){const e=this.providerService.getVirtualWorkspaceUri(n);if(e===void 0)return;const t=new we(`ChangeStore.deleteDirectory(${n.toString()})`);try{const r=[];if(await this.lock.synchronizeWrite(P(e),async()=>{const{operation:i,index:s}=await this.getWorkingOperation(n,e);if((i==null?void 0:i.type)===O.Created)return this.discardCore(e,n,r);const o=await this.providerService.getMetadata(n);await this.spliceOperation(n,s,{type:O.Deleted,uri:n,fileType:h.FileType.Directory,revision:o.HEAD.sha,timestamp:Date.now(),size:void 0,hash:void 0,originalHash:void 0},r)},t.context),r.length===0)return;this._onDidChange.fire(r)}finally{t.stop()}}async updateDirectoryEntries(n,e){const t=this.providerService.getVirtualWorkspaceUri(n);if(t===void 0)return e;const r=new we(`ChangeStore.updateDirectoryEntries(${n.toString()})`,{},e.length);try{const i=P(t),s=this.cache.get(i);return(s==null?void 0:s.length)===0?e:await this.lock.synchronizeRead(i,async()=>{const{path:o}=b(t,n),u=await this.getWorkingOperations(t);for(const l of u)switch(l.type){case O.Changed:break;case O.Created:{if(F(l.uri,o)){const c=this.providerService.getRelativeFilePath(n,l.uri);e.push([c,l.fileType])}break}case O.Deleted:{if(F(l.uri,o)){const c=this.providerService.getRelativeFilePath(n,l.uri),_=e.findIndex(([H])=>H===c);_!==-1&&e.splice(_,1)}break}}return e},r.context)}finally{r.stop()}}async writeFile(n,e,t,r){const i=this.providerService.getVirtualWorkspaceUri(n);if(i===void 0)return;const s=new we(`ChangeStore.writeFile(${n.toString()})`,{},e.length,r);try{const o=[];if(await this.lock.synchronizeWrite(P(i),async()=>this.writeFileCore(i,n,o,e,t,r),s.context),o.length===0)return;this._onDidChange.fire(o)}finally{s.stop()}}async writeFileCore(n,e,t,r,i,s){const o=new we(`ChangeStore.writeFileCore(${e.toString()})`,{},r.length,s);try{const[{operation:u,index:l},c,_]=await Promise.all([this.getWorkingOperation(e,n),bt(r),bt(i)]);if(c===_&&(!u||(u==null?void 0:u.type)===O.Changed))return this.discardCore(n,e,t);if(c===(u==null?void 0:u.hash)&&_===(u==null?void 0:u.originalHash))return;const[{HEAD:H}]=await Promise.all([this.providerService.getMetadata(e),this.saveWorkingContent(n,e,r)]);await this.spliceOperation(e,l,u===void 0?{type:O.Changed,uri:e,fileType:h.FileType.File,revision:H.sha,timestamp:Date.now(),size:r.byteLength,hash:c,originalHash:_,conflicts:s,staged:!1}:{...u,revision:H.sha,timestamp:Date.now(),size:r.byteLength,hash:c,originalHash:_,conflicts:s,staged:!1},t)}finally{o.stop()}}async createFile(n,e){const t=this.providerService.getVirtualWorkspaceUri(n);if(t===void 0)return;const r=new we(`ChangeStore.createFile(${n.toString()})`,{},e.length);try{const i=[];if(await this.lock.synchronizeWrite(P(t),async()=>{const[{operation:s,index:o},u,l]=await Promise.all([this.getWorkingOperation(n,t),bt(e),this.providerService.getMetadata(n),this.saveWorkingContent(t,n,e)]);await this.spliceOperation(n,o,s===void 0?{type:O.Created,uri:n,fileType:h.FileType.File,revision:l.HEAD.sha,timestamp:Date.now(),size:e.byteLength,hash:u,originalHash:u}:s.type===O.Deleted?{...s,type:O.Changed,revision:l.HEAD.sha,timestamp:Date.now(),size:e.byteLength,hash:u}:{...s,type:O.Created,revision:l.HEAD.sha,timestamp:Date.now(),size:e.byteLength,hash:u},i)},r.context),i.length===0)return;this._onDidChange.fire(i)}finally{r.stop()}}async deleteFile(n){const e=this.providerService.getVirtualWorkspaceUri(n);if(e===void 0)return;const t=new we(`ChangeStore.deleteFile(${n.toString()})`);try{const r=[];if(await this.lock.synchronizeWrite(P(e),async()=>{const{operation:i,index:s}=await this.getWorkingOperation(n,e);if((i==null?void 0:i.type)===O.Created)return this.discardCore(e,n,r);const[o]=await Promise.all([this.providerService.getMetadata(n),this.discardWorkingContent(e,n)]);await this.spliceOperation(n,s,{type:O.Deleted,uri:n,fileType:h.FileType.File,revision:o.HEAD.sha,timestamp:Date.now(),size:void 0,hash:void 0,originalHash:void 0},r)},t.context),r.length===0)return;this._onDidChange.fire(r)}finally{t.stop()}}findParent(n,e,t){const r=ue(n),{operation:i,index:s}=this.findWorkingOperation(r,e);return i!==void 0&&t(i,e)?{parent:i,parentIndex:s}:{parent:void 0,parentIndex:-1}}findNewParentWithOnlyChild(n,e){const t=j(n);return this.findParent(n,e,(r,i)=>r.type===O.Created&&!i.some(s=>F(s.uri,r.uri)&&j(s.uri)!==t))}findDeletedParents(n,e){const t=[];for(let r=0;r<e.length;r+=1){const i=e[r];i.type===O.Deleted&&R(n,i.uri)&&t.push({parent:i,parentIndex:r})}return t}async getWorkingOperation(n,e){return this.findWorkingOperation(n,await this.getWorkingOperations(e))}findWorkingOperation(n,e){if(e.length===0)return{operation:void 0,index:-1};const t=j(n);let r=-1;const i=e.find((s,o)=>j(s.uri)!==t?!1:(r=o,!0));return i===void 0?{operation:void 0,index:-1}:{operation:i,index:r}}async getWorkingOperations(n){const e=P(n);let t=this.cache.get(e);return t===void 0&&(t=this.fromStorage(await this.storageService.get(this.getOperationsStorageKey(e))),this.cache.set(e,t)),t}async saveWorkingOperations(n,e){Q.debug(`ChangeStore.saveWorkingOperations(${n.toString()})`,e.length);const t=P(n);this.cache.set(t,e);try{await this.storageService.store(this.getOperationsStorageKey(t),this.toStorage(e))}catch(r){throw this.cache.delete(t),Q.error(r,`Failed to save repository changes for ${t}`),r}}getOperationsStorageKey(n){return`operations/${n}`}async getWorkingContent(n,e){try{return await this.fileStorageService.get(this.getFileStorageKey(n,e))}catch(t){throw Q.error(t),this.telemetryService.sendException(t),t}}async discardWorkingContent(n,e){Q.debug(`ChangeStore.discardWorkingContent(${e.toString()})`);try{return await this.fileStorageService.delete(this.getFileStorageKey(n,e))}catch(t){if(t instanceof h.FileSystemError&&t.code===Qr)return;throw Q.error(t),this.telemetryService.sendException(t),t}}async saveWorkingContent(n,e,t){Q.debug(`ChangeStore.saveWorkingContent(${e.toString()})`,t.length);try{return await this.fileStorageService.store(this.getFileStorageKey(n,e),t)}catch(r){throw Q.error(r),this.telemetryService.sendException(r),r}}getFileStorageKey(n,e){return`changestore/${L(e)}`}async spliceOperation(n,e,t,r){const i=this.providerService.getVirtualWorkspaceUri(n);if(i===void 0)return;const s=await this.getWorkingOperations(i);e!==-1?s.splice(e,1,t):s.push(t),await this.saveWorkingOperations(i,s),r.push(Fr(t,i,n))}fromStorage(n){if(!n)return[];try{const e=JSON.parse(n,(t,r)=>(t==="uri"||t.endsWith("Uri"))&&g(r)?typeof r=="string"?h.Uri.parse(r):h.Uri.from(r):r);return Array.isArray(e)?e:e.operations}catch(e){throw Q.error(e,"Failed to deserialize ChangeStore operations"),e}}toStorage(n){const e={schemaVersion:Ur.operationsStorageSchemaVersion,operations:n};return JSON.stringify(e)}},"_ChangeStore");let Kr=Ur;Kr.operationsStorageSchemaVersion=1,Kr.ScopedChangeStore=class{constructor(n,e,t){this.changeStore=n,this.scope=e,this.workspaceId=t}createPatch(n,e,t){return this.changeStore.createPatch(this.stripUriScope(n),this.stripUriScope(e),t)}discardAll(n,e){return this.changeStore.discardAll(this.stripUriScope(n),e)}getChange(n){return this.changeStore.getChange(this.stripUriScope(n))}getChanges(n,e){return this.changeStore.getChanges(this.stripUriScope(n),e)}async getGroupedChanges(n,e){return this.changeStore.getGroupedChanges(this.stripUriScope(n),e)}hasChanges(n){return this.changeStore.hasChanges(this.stripUriScope(n))}maybeHasChanges(n,e){return this.changeStore.maybeHasChanges(this.stripUriScope(n),this.stripUriScope(e))}async stat(n){const t=this.changeStore.getUriScope(n)!==this.workspaceId,r=await this.changeStore.stat(this.stripUriScope(n));return r!==void 0&&t&&(r.permissions=h.FilePermission.Readonly),r}readFile(n){return this.changeStore.readFile(this.stripUriScope(n))}resolveDiffCommand(n,e,t,r){return this.changeStore.resolveDiffCommand(this.changeStore.getScopedUri(n,this.scope),this.changeStore.getScopedUri(e,this.scope),t,r)}stripUriScope(n){return n===void 0||!n.fragment?n:n.with({fragment:""})}},zr([Ft()],Kr.prototype,"getWorkingOperations",1);function fi(n){switch(n){case OperationType.Changed:return l10n.t("Modified");case OperationType.Created:return l10n.t("Added");case OperationType.Deleted:return l10n.t("Deleted")}}a(fi,"getStatusText");function Xr(n){const[e,t]=n;switch(e){case OperationType.Changed:switch(t){case OperationType.Changed:case OperationType.Created:return l10n.t("Modified by Both");case OperationType.Deleted:return l10n.t("Deleted by Incoming")}case OperationType.Created:switch(t){case OperationType.Changed:case OperationType.Created:return l10n.t("Added by Both");case OperationType.Deleted:return l10n.t("Deleted by Incoming")}case OperationType.Deleted:switch(t){case OperationType.Changed:case OperationType.Created:return l10n.t("Deleted by Current");case OperationType.Deleted:return l10n.t("Deleted by Both")}}}a(Xr,"getConflictStatusText");const $r=a(class{constructor(n){this.storageService=n,this._onDidChange=new h.EventEmitter,this.cache=new Map}get onDidChange(){return this._onDidChange.event}async delete(n){const e=P(n),t=this.cache.has(e);this.cache.delete(e);try{await this.storageService.delete(this.getStorageKey(e))}catch(r){throw Q.error(r,`Failed to delete repository metadata for ${e}`),r}!t||setTimeout(()=>this._onDidChange.fire({uri:n}),0)}async get(n){this.assertMatchingScheme(n);const e=P(n),t=this.cache.get(e);if(t!==void 0)return t;let r;try{r=this.fromStorage(await this.storageService.get(this.getStorageKey(e)))}catch(i){throw Q.error(i,`Failed to get repository metadata for ${e}`),i}return r?this.cache.set(e,{revision:r}):this.cache.delete(e),{revision:r}}async set(n,e,t,r){this.assertMatchingScheme(n);const i=(await this.get(n)).revision!==e?"revision":void 0,s=P(n);if(t!==void 0&&!this.validate(t))throw new Error(`Metadata validation failed for ${n.toString()}`);const o={revision:e,cachedMetadata:t};this.cache.set(s,o);try{await this.storageService.store(this.getStorageKey(s),this.toStorage(e))}catch(u){throw this.cache.delete(s),Q.error(u,`Failed to save repository metadata for ${s}`),u}(r==null?void 0:r.silent)||setTimeout(()=>this._onDidChange.fire({uri:n,reason:i}),0)}refresh(){this.cache.clear()}validate(n){var e,t,r,i,s,o,u,l;return typeof n.version=="number"&&n.version>=$r.schemaVersion&&typeof n.timestamp=="number"&&typeof((e=n.provider)==null?void 0:e.id)=="string"&&typeof n.provider.name=="string"&&typeof n.name=="string"&&n.repo&&typeof n.accessLevel=="number"&&typeof((t=n.HEAD)==null?void 0:t.type)=="number"&&typeof((r=n.HEAD)==null?void 0:r.name)=="string"&&typeof((i=n.HEAD)==null?void 0:i.sha)=="string"&&(typeof((s=n.HEAD.detached)==null?void 0:s.name)=="string"&&typeof((o=n.HEAD.detached)==null?void 0:o.type)=="number"||typeof((u=n.HEAD.branch)==null?void 0:u.name)=="string")&&typeof((l=n.defaultBranch)==null?void 0:l.name)=="string"&&typeof n.defaultBranch.sha=="string"}assertMatchingScheme(n){if(n.scheme!==D.scheme)throw new Error(`Uri scheme '${n.scheme}' must match configured scheme '${D.scheme}'; uri=${n.toString()}`)}getStorageKey(n){return`metadata/${n}`}fromStorage(n){if(!n)return;const e=JSON.parse(n,(t,r)=>(t==="uri"||t.endsWith("Uri"))&&g(r)?h.Uri.from(r):r);return e==null?void 0:e.revision}toStorage(n){const e={schemaVersion:$r.storageSchemaVersion,revision:n};return JSON.stringify(e)}},"_MetadataStore");let er=$r;er.schemaVersion=He,er.storageSchemaVersion=1;class jr{constructor(e,t){this.memento=e,this.scope=t,this._onDidChange=new h.EventEmitter}get onDidChange(){return this._onDidChange.event}async get(e){const t=this.getScoped(e),r=new we(`MementoStorage.get(${e}): scopedKey=${t}`,{logLevel:ze.Debug});try{return await Promise.resolve(this.memento.get(t))}finally{r.stop()}}async getKeys(e){const t=this.getScoped(e),r=new we(`MementoStorage.getKeys(${e}): scopedPrefix=${t}`,{logLevel:ze.Debug});try{let i=this.getKeysCore(e);if(this.scope!==void 0){const s=this.scope.length+1;i=i.map(o=>o.substr(s))}return await Promise.resolve(i)}finally{r.stop()}}getKeysCore(e){let t=this.memento.keys();return e&&(t=t.filter(r=>r.startsWith(e))),t}async store(e,t){const r=this.getScoped(e),i=new we(`MementoStorage.store(${e}): scopedKey=${r}`,{logLevel:ze.Debug});try{return await this.storeCore(e,r,t)}finally{i.stop()}}async storeCore(e,t,r){await this.memento.update(t,r),this._onDidChange.fire({key:e})}async delete(e){const t=this.getScoped(e),r=new we(`MementoStorage.delete(${e}): scopedKey=${t}`,{logLevel:ze.Debug});try{return await this.storeCore(e,t,void 0)}finally{r.stop()}}async deleteKeys(e){const t=this.getScoped(e),r=new we(`MementoStorage.deleteKeys(${e}): scopedPrefix=${t}`,{logLevel:ze.Debug});try{const i=[],s=this.scope!==void 0?this.scope.length+1:0,o=this.getKeysCore(t);for(const u of o){const l=s!==0?u.substr(s):u;Q.debug(`MementoStorage.deleteKeys(${e}): Deleting key=${l}, scopedKey=${u}`);try{await this.storeCore(l,u,void 0)}catch(c){Q.debug(`MementoStorage.deleteKeys(${e}): Failed to delete key=${l}, scopedKey=${u}`),i.push(l)}}if(i.length)throw new Error(`Failed to delete keys: ${i.join(", ")}`)}finally{r.stop()}}with(e){return new jr(this.memento,e)}getScoped(e){return`${this.scope!==void 0?`${this.scope}/`:""}${e!=null?e:""}`}}a(jr,"MementoStorageService");class ve{constructor(e,t){this.storageUri=e,this.scope=t,this._onDidChange=new h.EventEmitter}get onDidChange(){return this._onDidChange.event}async get(e){const t=this.getScoped(e),r=new we(`ExtFileStorageService.get(${e}): scopedKey=${t}`,{logLevel:ze.Debug});try{return await h.workspace.fs.readFile(h.Uri.joinPath(this.storageUri,t))}catch(i){return}finally{r.stop()}}async store(e,t){const r=this.getScoped(e),i=new we(`ExtFileStorageService.store(${e}): scopedKey=${r}`,{logLevel:ze.Debug});try{return await this.storeCore(e,r,t)}finally{i.stop()}}async storeCore(e,t,r){await h.workspace.fs.writeFile(h.Uri.joinPath(this.storageUri,t),r),this._onDidChange.fire({key:e})}async delete(e){const t=this.getScoped(e),r=new we(`ExtFileStorageService.delete(${e}): scopedKey=${t}`,{logLevel:ze.Debug});try{return await h.workspace.fs.delete(h.Uri.joinPath(this.storageUri,t))}finally{r.stop()}}with(e){return new ve(this.storageUri,e)}getScoped(e){return`${this.scope!==void 0?`${this.scope}/`:""}${e}`}}a(ve,"ExtFileStorageService");const Ye=a(async(n,e,t)=>{const r=await Promise.resolve().then(Mn.bind(Mn,850)),i=await Promise.resolve().then(Mn.bind(Mn,5229)),s=new r.AppInsightsCore,o=new i.PostChannel,u={instrumentationKey:n,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[o]]};if(t){u.extensionConfig={};const _={alwaysUseXhrOverride:!0,httpXHROverride:t};u.extensionConfig[o.identifier]=_}const c=e.workspace.getConfiguration("telemetry").get("internalTesting");return s.initialize(u,[]),s.addTelemetryInitializer(_=>{var H,C;!c||(_.ext=(H=_.ext)!=null?H:{},_.ext.utc=(C=_.ext.utc)!=null?C:{},_.ext.utc.flags=8462029)}),s},"getAICore"),tt=a(async(n,e,t)=>{const r=await Ye(n,e,t);return{logEvent:(s,o)=>{try{r==null||r.track({name:s,baseData:{name:s,properties:o==null?void 0:o.properties,measurements:o==null?void 0:o.measurements}})}catch(u){throw new Error(`Failed to log event to app insights!
`+u.message)}},flush:async()=>{try{r==null||r.unload()}catch(s){throw new Error(`Failed to flush app insights!
`+s.message)}}}},"oneDataSystemClientFactory");var nt;(function(n){n[n.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",n[n.INSTANTIATING=1]="INSTANTIATING",n[n.INSTANTIATED=2]="INSTANTIATED"})(nt||(nt={}));class gt{constructor(e,t){this._instantiationStatus=nt.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}sendEventData(e,t){if(!this._telemetryClient){this._instantiationStatus!==nt.INSTANTIATED&&this._eventQueue.push({eventName:e,data:t});return}this._telemetryClient.logEvent(e,t)}sendErrorData(e,t){if(!this._telemetryClient){this._instantiationStatus!==nt.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:t});return}}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:t})=>this.sendEventData(e,t)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:t})=>this.sendErrorData(e,t)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===nt.NOT_INSTANTIATED&&(this._instantiationStatus=nt.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=nt.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=nt.INSTANTIATED}))}}a(gt,"BaseTelemetrySender");class Dt{constructor(e,t,r){this.telemetrySender=e,this.vscodeAPI=t,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,r),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,t,r,i){i?this.telemetrySender.sendEventData(e,{properties:t,measurements:r}):this.telemetryLogger.logUsage(e,{properties:t,measurements:r})}sendTelemetryEvent(e,t,r){this.internalSendTelemetryEvent(e,t,r,!1)}sendDangerousTelemetryEvent(e,t,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,t,r,!0)}internalSendTelemetryErrorEvent(e,t,r,i){i?this.telemetrySender.sendEventData(e,{properties:t,measurements:r}):this.telemetryLogger.logError(e,{properties:t,measurements:r})}sendTelemetryErrorEvent(e,t,r){this.internalSendTelemetryErrorEvent(e,t,r,!1)}sendDangerousTelemetryErrorEvent(e,t,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,t,r,!0)}internalSendTelemetryException(e,t,r,i){i?this.telemetrySender.sendErrorData(e,{properties:t,measurements:r}):this.telemetryLogger.logError(e,{properties:t,measurements:r})}sendTelemetryException(e,t,r){this.internalSendTelemetryException(e,t,r,!1)}sendDangerousTelemetryException(e,t,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryException(e,t,r,!0)}dispose(){return this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}}a(Dt,"BaseTelemetryReporter");class Bt{static applyReplacements(e,t){for(const r of Object.keys(e))for(const i of t)i.lookup.test(r)&&(i.replacementString!==void 0?e[r]=i.replacementString:delete e[r])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.7.7"}}static getInstance(){return Bt._instance||(Bt._instance=new Bt),Bt._instance}}a(Bt,"TelemetryUtil");const ge=a(async(n,e)=>{let t;try{const i=await Promise.resolve().then(Mn.bind(Mn,3268));t=new i.ApplicationInsights({instrumentationKey:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0})}catch(i){return Promise.reject(i)}return{logEvent:(i,s)=>{const o={...s==null?void 0:s.properties,...s==null?void 0:s.measurements};(e==null?void 0:e.length)&&Bt.applyReplacements(o,e),t==null||t.track({name:i,data:o})},flush:async()=>{t==null||t.flush()}}},"webAppInsightsClientFactory");function ke(n){if(n.userAgentData){const e=n.userAgentData.brands[n.userAgentData.brands.length-1];return`${n.userAgentData.platform} - ${e==null?void 0:e.brand} v${e==null?void 0:e.version}}`}else return n.appVersion}a(ke,"getBrowserRelease");class xe extends Dt{constructor(e,t){let r=a(o=>ge(o,t),"clientFactory");Bt.shouldUseOneDataSystemSDK(e)&&(r=a(o=>tt(o,h),"clientFactory"));const i={release:ke(navigator),platform:"web",architecture:"web"},s=new gt(e,r);if(e&&e.indexOf("AIF")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(s,h,{additionalCommonProperties:Bt.getAdditionalCommonProperties(i)})}}a(xe,"TelemetryReporter");const at="Type of classified event does not match event properties",Et=a(class{constructor(n){this.context=n,this.sharedProperties={},Et._instance=this,this.reporter=new xe(Et.ingestionKey)}static get instance(){return this._instance}dispose(){this.reporter.dispose()}publicLog2(n,e){e!==at&&this.reporter.sendTelemetryEvent(n,{...this.sharedProperties,...e})}sendEvent(n,e,t){this.reporter.sendTelemetryEvent(n,{...this.sharedProperties,...e},t)}sendErrorEvent(n,e,t){this.reporter.sendTelemetryErrorEvent(n,{...this.sharedProperties,...e},t)}sendException(n,e,t){this.reporter.sendTelemetryException(n,{...this.sharedProperties,...e},t)}setSharedProperty(n,e){this.sharedProperties[n]=e}reportWorkbenchLoadResult(n){const e="_codespaces.webeditor.connectWorkspace";h.env.appHost==="github.dev"&&(Q.debug(`Executing ${e}`),n={...n,errorDetail:n.errorDetail instanceof Error?n.errorDetail.name:void 0},h.commands.executeCommand(e,n).then(t=>{},t=>{Q.debug(`Failed to execute ${e}`,t)}))}},"_TelemetryService");let Ut=Et;Ut.ingestionKey="0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255";function pn(n,e){const t=h.l10n.t("Report Issue"),r=h.l10n.t("Reload");h.window.showErrorMessage(h.l10n.t("The {0} extension failed to activate.",n.extension.packageJSON.displayName),{modal:!0,detail:h.l10n.t("Please try reloading the window, or report an issue.")},r,t).then(i=>{i===t?h.commands.executeCommand("workbench.action.openIssueReporter",{extensionId:n.extension.id,issueTitle:"Extension activation failed",issueBody:e instanceof Error?e.toString():void 0}):i===r&&h.commands.executeCommand("workbench.action.reloadWindow")})}a(pn,"handleExtensionActivationError");let dn;var An;(function(n){function e(t){const r=_i(t);return dn=h.env.uiKind===h.UIKind.Web,Q.warn(`Running on the ${dn?"web":"desktop"}${t.extensionRuntime!==h.ExtensionRuntime.Node?" in a webworker":""}; workspaceId=${r}; storageUri=${t.globalStorageUri.toString(!0)}`),r}a(e,"configure"),n.configure=e})(An||(An={}));const ai=/\/workspaceStorage\/(?<id>[^/]+)/i;function _i(n){var e;if(n.storageUri===void 0)return"";const t=ai.exec(n.storageUri.path);let r;if((e=t==null?void 0:t.groups)==null?void 0:e.id)r=t.groups.id;else{r=n.storageUri.path;const i=Br(n.globalStorageUri.path,r),s=`/${n.extension.id}`;r.endsWith(s)?r=r.slice(i,-s.length):r=r.substr(i)}return/-[0-9]$/.test(r)?r.slice(0,-2):r}a(_i,"getWorkspaceId");function Ri(n,e){return n.reduce((r,i)=>{const s=e(i),o=r.get(s);return o===void 0?r.set(s,[i]):o.push(i),r},new Map)}a(Ri,"groupBy");function sr(n){let e=0;for(const t of n){if(t===0)return!0;if(e++,e>8e3)break}return!1}a(sr,"isBinary");function yi(n,e,t=r=>r){return[...n.reduce((i,s)=>{const o=e(s),u=i.get(o);if(u===void 0)i.set(o,s);else{const l=t(u,s);l!==void 0&&i.set(o,l)}return i},new Map).values()]}a(yi,"uniqueBy");const Zr=a(class{constructor(n,e,t,r,i){this.providerService=n,this.storageService=e,this.changeStore=t,this.workspaceId=r,this.context=i,this._onDidChange=new h.EventEmitter,this.cache=new Map,this.lock=new Vt("WorkspaceRepositories"),this.disposable=h.Disposable.from(this.providerService.onDidChangeRepositories(this.onRepositoriesChanged,this),this.providerService.onDidChangeRepository(this.onRepositoryChanged,this),this.changeStore.onDidChange(this.onChangeStoreChanged,this),Ae.onDidChange(this.onConfigurationChanged,this))}get onDidChange(){return this._onDidChange.event}dispose(){this.disposable.dispose()}async exportDebugInfo(){const n=await h.workspace.openTextDocument({language:"json",content:`Remote Repositories

${this.toStorage(await this.getCore())}`});return void h.window.showTextDocument(n)}onConfigurationChanged(n){if(!Ae.changed(n,"experimental.syncRecentList"))return;const e=Ae.get("experimental.syncRecentList")===!0?[Zr.storageKey]:[];this.context.globalState.setKeysForSync(e)}onChangeStoreChanged(n){const e=yi(n.map(t=>t.rootUri),t=>P(t)).map(t=>this.providerService.getRepository(t)).filter(t=>Boolean(t));this.addOrUpdate(e)}onRepositoriesChanged(n){this.addOrUpdate(n.added)}onRepositoryChanged(n){this.addOrUpdate([n.repository])}async get(n){let e=await this.lock.synchronizeRead(async()=>{let t=this.cache.get("workspaceRepositories");return t===void 0&&(t=[...(await this.getCore()).values()].sort((r,i)=>i.timestamp-r.timestamp),this.cache.set("workspaceRepositories",t)),t},"WorkspaceRepositories.get");if(n){const t=P(n);e=e.filter(r=>P(r.canonicalUri)===t)}return e}async getCore(){return this.fromStorage(await this.storageService.get(Zr.storageKey))}async getRecents(n=10){return(await this.get()).slice(0,n)}async getRemoteWorkspaceSourceProvider(n){const e=await this.getRecents();if(e.length!==0)return e.filter(t=>t.provider.id===n)}refresh(){this.cache.clear()}async remove(n){await this.lock.synchronizeWrite(async()=>{const e=await this.getCore(),t=`${n.workspaceId}/${P(n.uri)}`,r=e.get(t);if(r===void 0)return;const i=this.changeStore.getScopedChangeStore(r),s=await i.getChanges(r.uri);if(s.length!==0){const o={title:h.l10n.t("Yes")},u={title:h.l10n.t("No"),isCloseAffordance:!0};if(await h.window.showWarningMessage(s.length===1?h.l10n.t(`This repository contains 1 file with uncommitted changes.

Removing it will cause those changes to be FOREVER LOST.
This is IRREVERSIBLE!

Are you sure you still want to remove it?`):h.l10n.t(`This repository contains {0} files with uncommitted changes.

Removing it will cause those changes to be FOREVER LOST.
This is IRREVERSIBLE!

Are you sure you still want to remove it?`,s.length),{modal:!0},o,u)!==o)return;await i.discardAll(r.uri)}this.cache.clear(),e.delete(t);try{await this.storageService.store(Zr.storageKey,this.toStorage(e))}catch(o){throw Q.error(o,"Failed to save workspace repositories"),o}},"WorkspaceRepositories.remove"),this._onDidChange.fire()}async addOrUpdate(n){await this.lock.synchronizeWrite(async()=>{this.cache.clear();const e=await this.getCore();for(const t of n){const[{HEAD:r,pullRequest:i},s]=await Promise.all([t.getMetadata(),t.getIndexMetadata()]),o=await this.changeStore.getChanges(t.uri);e.set(`${this.workspaceId}/${P(t.uri)}`,{workspaceId:this.workspaceId,uri:t.uri,canonicalUri:t.canonicalUri,name:t.name,provider:t.provider,ref:{type:r.type,name:r.name},idx:(s==null?void 0:s.type)&&Z.hasIndex(s.type)?{type:s.type}:void 0,pullRequest:i?{id:i.id}:void 0,changes:ji(o),timestamp:Date.now()})}try{await this.storageService.store(Zr.storageKey,this.toStorage(e))}catch(t){throw Q.error(t,"Failed to save workspace repositories"),t}},"WorkspaceRepositories.addOrUpdate"),this._onDidChange.fire()}fromStorage(n){if(!n)return new Map;try{const e=JSON.parse(n,(t,r)=>(t==="uri"||t.endsWith("Uri"))&&g(r)?h.Uri.from(r):r);return new Map(e.workspaceRepositories)}catch(e){return Q.error(e,"Failed to deserialize workspace repositories"),new Map}}toStorage(n){const e={schemaVersion:Zr.storageSchemaVersion,workspaceRepositories:[...n]};return JSON.stringify(e)}},"_WorkspaceRepositories");let Ii=Zr;Ii.storageKey="workspaceRepositories",Ii.storageSchemaVersion=1;function da(n){return n!==void 0&&(n.added!==0||n.changed!==0||n.deleted!==0)}a(da,"hasChanges");function ki(n){return da(n.changes)}a(ki,"hasUncommittedChanges");function ji(n){let e=0,t=0,r=0;for(const i of n)switch(i.type){case O.Created:e++;break;case O.Changed:t++;break;case O.Deleted:r++;break}return e||t||r?{added:e,changed:t,deleted:r,timestamp:Date.now()}:void 0}a(ji,"toChangesSummary");function Fa(n,e,{compact:t=!0,preamble:r,separator:i=", ",short:s=!1,single:o=!1}={}){if(!da(e))return n===HeadType.Branch||n===HeadType.RemoteBranch?l10n.t("Everything up to date"):l10n.t("No uncommitted changes");const{added:u,changed:l,deleted:c}=e;if(o){const H=u+l+c;return H===1?l10n.t("{0} change",H):l10n.t("{0} changes",H)}let _=`${r!=null?r:""}`;return(u||!t)&&(_+=s?`+${u}`:u===1?l10n.t("{0} file added",u):l10n.t("{0} files added",u),(l||c||!t)&&(_+=i)),(l||!t)&&(_+=s?`~${l}`:l===1?l10n.t("{0} file changed",l):l10n.t("{0} files changed",l),(c||!t)&&(_+=i)),(c||!t)&&(_+=s?`-${c}`:c===1?l10n.t("{0} file deleted",c):l10n.t("{0} files deleted",c)),_}a(Fa,"formatChangesSummary");const Ei=globalThis.fetch;async function ha(n,e,t){const r=new AbortController;t.onCancellationRequested(()=>r.abort());try{return await globalThis.fetch(n,{...e,signal:r.signal})}catch(i){throw t.isCancellationRequested?new h.CancellationError:i}}a(ha,"fetchWithCancellation");async function Yi(n,e,t,r,i){if(t===0)throw new h.CancellationError;const s=new h.CancellationTokenSource;r.onCancellationRequested(()=>s.cancel());try{const o=await ha(n,e,s.token);if(o.body){const u=[];let l=0;const c=o.body.getReader();let _=3;for(;;){let{done:H,value:C}=await c.read();if(H){const Ce=u.reduce((vt,St)=>vt+St.length,0),pe=new Uint8Array(Ce);let We=0;for(const vt of u)pe.set(vt,We),We+=vt.length;return pe}C&&(u.push(C),l+=C.length);const ne=Math.floor(l/(1024*1024));if(_<ne){_=ne;const Ce={message:ne+" MB"};i.report(Ce)}if(t!==void 0&&l>t)throw c.cancel(),s.cancel(),new Error("LIMIT_HIT")}}}catch(o){throw r.isCancellationRequested?new h.CancellationError:o}throw new h.CancellationError}a(Yi,"fetchUInt8ArrayWithMaxSizeAndCancellation");const Ma="microsoft",Gi=["https://management.azure.com/user_impersonation"];class zn{async getTenants(){if(this._tenants)return this._tenants;try{const e=await h.authentication.getSession(Ma,Gi,{silent:!0}),t={Accept:"application/json",Authorization:`Bearer ${e.accessToken}`},r=[];let i="https://management.azure.com/tenants?api-version=2020-01-01";for(;i;){const o=await(await Ei(i,{method:"GET",headers:t})).json();r.push(...o.value),i=o.nextLink}return this._tenants=r,r}catch{}return[]}}a(zn,"AADClient");var yr=Object.defineProperty,va=Object.getOwnPropertyDescriptor,Ln=a((n,e,t,r)=>{for(var i=r>1?void 0:r?va(e,t):e,s=n.length-1,o;s>=0;s--)(o=n[s])&&(i=(r?o(e,t,i):o(i))||i);return r&&i&&yr(e,t,i),i},"messages_decorateClass");class si{async showStatus401Message(e){if(!e)return void h.window.showErrorMessage(h.l10n.t("The provided credentials are either invalid or expired."),h.l10n.t("OK"));const t=h.l10n.t("Reauthenticate");await h.window.showErrorMessage(h.l10n.t("The provided credentials are either invalid or expired. Would you like to reauthenticate?"),t)===t&&e()}async showStatus403Message(e){if(!e)return void h.window.showErrorMessage(h.l10n.t("The provided credentials do not have the required access."),h.l10n.t("OK"));const t=h.l10n.t("Reauthenticate");await h.window.showErrorMessage(h.l10n.t("The provided credentials do not have the required access. Would you like to reauthenticate to grant additional access?"),t)===t&&e()}async showRepositoryEmptyMessage(e){const t=h.l10n.t("Open Repository");await h.window.showErrorMessage(h.l10n.t("Repository '{0}' is empty and cannot be opened. Would you like to open another repository?",e),t)===t&&h.commands.executeCommand("remoteHub.openRepository")}async showPullRequestNotFoundMessage(e,t){const r=h.l10n.t("Open Pull Request");await h.window.showErrorMessage(h.l10n.t("Unable to find pull request {1} on repository '{0}'. Would you like to open another pull request?",e,t),r)===r&&h.commands.executeCommand("remoteHub.openRepository")}async showPullRequestHeadNotFoundMessage(e,t){const r=h.l10n.t("OK");await h.window.showWarningMessage(h.l10n.t("Unable to find the source branch for pull request {1} on repository '{0}'.",e,t),r)}async showRepositoryForbiddenMessage(e){const t=h.l10n.t("Open Repository");await h.window.showErrorMessage(h.l10n.t("You don't have access to repository '{0}'. Would you like to open another repository?",e),t)===t&&h.commands.executeCommand("remoteHub.openRepository")}async showRepositoryNotFoundMessage(e){const t=h.l10n.t("Open Repository");await h.window.showErrorMessage(h.l10n.t("Unable to find repository '{0}'. Would you like to open another repository?",e),t)===t&&h.commands.executeCommand("remoteHub.openRepository")}async showUnableToOpenRepositoryMessage(e){const t=h.l10n.t("Open Repository");await h.window.showErrorMessage(h.l10n.t("Unable to open repository. {0}. Would you like to open another repository?",String(e)),t)===t&&h.commands.executeCommand("remoteHub.openRepository")}}a(si,"Messages"),Ln([Ft(()=>"")],si.prototype,"showStatus401Message",1),Ln([Ft(()=>"")],si.prototype,"showStatus403Message",1),Ln([Ft()],si.prototype,"showRepositoryEmptyMessage",1),Ln([Ft()],si.prototype,"showPullRequestNotFoundMessage",1),Ln([Ft()],si.prototype,"showPullRequestHeadNotFoundMessage",1),Ln([Ft()],si.prototype,"showRepositoryForbiddenMessage",1),Ln([Ft()],si.prototype,"showRepositoryNotFoundMessage",1),Ln([Ft()],si.prototype,"showUnableToOpenRepositoryMessage",1);const di=new si,Pi="microsoft",Oi=null;class hi{constructor(e){this.authService=e,this.apiVersion="7.0",this.apiPageSize=100}async getAccounts(){var e;try{const t=await this.sendRequest({baseUrl:"https://app.vssps.visualstudio.com/_apis",url:"profile/profiles/me"});if(t===void 0)throw new Error("Profile information could not be read.");const r={memberId:t.publicAlias},i=await this.sendRequest({baseUrl:"https://app.vssps.visualstudio.com/_apis",url:"accounts",query:r});return(e=i==null?void 0:i.value)==null?void 0:e.map(s=>s.accountName).sort((s,o)=>s.localeCompare(o))}catch(t){Q.error(t);return}}async getProjects(e){let t=0,r=0;const i=[],s={};do{s.$top=this.apiPageSize,s.$skip=r*this.apiPageSize;const o=await this.sendRequest({baseUrl:this.getOrganizationBaseUrl(e),url:"projects",query:s});if(!o)break;t=o.value.length,i.push(...o.value),r++}while(t===this.apiPageSize);return i.sort((o,u)=>o.name.localeCompare(u.name))}async createPullRequest(e,t,r,i){const s={supportsIterations:!0};return await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"pullrequests",query:s,method:"POST",body:JSON.stringify(i)})}async createPushes(e,t,r,i){return await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"pushes",method:"POST",body:JSON.stringify(i)})}async getBlob(e,t,r,i){return await this.sendRequestBuffer({baseUrl:this.getGitBaseUrl(e,t,r),url:`blobs/${i}`})}async getBranchStats(e,t,r,i){try{const s={name:i};return await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"stats/branches",query:s})}catch(s){Q.error(s);return}}async getCommit(e,t,r,i){return await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:`commits/${i}`})}async getCommits(e,t,r,i){var s,o,u,l;const c={"searchCriteria.$top":(s=i==null?void 0:i.limit)!=null?s:this.apiPageSize,"searchCriteria.itemPath":(o=i==null?void 0:i.path)!=null?o:"/","searchCriteria.itemVersion.version":(l=(u=i==null?void 0:i.cursor)!=null?u:i==null?void 0:i.ref)!=null?l:"","searchCriteria.itemVersion.versionType":"commit"},_=await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"commits",query:c});return _==null?void 0:_.value}async getDiffs(e,t,r,i,s){var o,u,l;const c={diffCommonCommit:!1,baseVersion:i,baseVersionType:"commit",targetVersion:s,targetVersionType:"commit"};let _=0;const H=[];let C;do{if(c.$top=this.apiPageSize,c.$skip=_*this.apiPageSize,C=await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"diffs/commits",query:c}),C==null)break;H.push(...(o=C.changes)!=null?o:[]),_++}while(!C.allChangesIncluded);return{ahead:(u=C==null?void 0:C.aheadCount)!=null?u:0,behind:(l=C==null?void 0:C.behindCount)!=null?l:0,changes:H}}async getItem(e,t,r,i,s,o){const u={path:o===void 0||o===""?"/":o,recursionLevel:"none","versionDescriptor.version":i,"versionDescriptor.versionType":s};return await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"items",query:u})}async getItems(e,t,r,i,s,o,u){const l={scopePath:u===void 0||u===""?"/":u,recursionLevel:o,"versionDescriptor.version":i,"versionDescriptor.versionType":s},c=await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"items",query:l});return c==null?void 0:c.value}async getPullRequest(e,t,r,i){return await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:`pullrequests/${i}`})}async getRefs(e,t,r,i){var s,o,u;try{const l={filter:i.filter,filterContains:(s=i.filterContains)!=null?s:"",$top:(o=i.top)!=null?o:this.apiPageSize},c=await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"refs",query:l});return(u=c==null?void 0:c.value)!=null?u:[]}catch(l){return Q.error(l),[]}}async getRepositories(e,t){try{const r=await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t)});return r==null?void 0:r.value.filter(i=>i.defaultBranch&&!i.isDisabled).sort((i,s)=>i.name.localeCompare(s.name))}catch(r){Q.error(r);return}}async getRepository(e,t,r){try{const i=await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r)});if(i===void 0)throw new Error(`Repository '${r}' does not exist in Azure DevOps organization/project '${e}/${t}'.`);return i}catch(i){throw Q.error(i),i}}async getTree(e,t,r,i,s){const o={recursive:s};return this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:`trees/${i}`,query:o})}async updateRefs(e,t,r,i){return this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"refs",method:"POST",body:JSON.stringify(i)})}async getSearchableBranches(e,t,r){try{return await this.sendRequest({baseUrl:`https://almsearch.dev.azure.com/${e}/${t}/_apis`,url:`search/status/repositories/${r}`,method:"GET"})}catch(i){Q.error(i);return}}async searchCode(e,t,r,i,s){try{const o={searchText:s,$skip:0,$top:1e3,filters:{Project:[t],Repository:[r],Branch:[i],Path:["/"]},$orderBy:[{field:"filename",sortOrder:"ASC"}],includeSnippet:!0};return await this.sendRequest({baseUrl:`https://almsearch.dev.azure.com/${e}/${t}/_apis`,url:"search/codesearchresults",method:"POST",body:JSON.stringify(o)})}catch(o){Q.error(o);return}}async getGitSecurityNamespace(e){try{const t="2e9eb7ed-3c0a-47d4-87c1-0ffdd275fd87",r=await this.sendRequest({baseUrl:this.getOrganizationBaseUrl(e),url:`securitynamespaces/${t}`,method:"GET"});return(r==null?void 0:r.count)===1?r.value[0]:void 0}catch(t){Q.error(t);return}}async getSecurityPermissionEvaluation(e,t,r){try{const i=t.actions.map(o=>({securityNamespaceId:t.namespaceId,token:r,permissions:o.bit})),s=await this.sendRequest({baseUrl:this.getOrganizationBaseUrl(e),url:"security/permissionevaluationbatch",method:"POST",body:JSON.stringify({alwaysallowadministrators:!1,evaluations:i})});return s==null?void 0:s.evaluations}catch(i){Q.error(i);return}}getGitBaseUrl(e,t,r){return`https://dev.azure.com/${e}/${t}/_apis/git/repositories${r?`/${r}`:""}`}getOrganizationBaseUrl(e){return`https://dev.azure.com/${e}/_apis`}getQueryParameters(e={}){return e={...e,"api-version":this.apiVersion},Object.entries(e).map(([t,r])=>`${t}=${r}`).join("&")}async sendRequest(e){e={...e,headers:{Accept:"application/json","Content-Type":"application/json"}};const t=await this._sendRequest(e);if(t===void 0)return;const r=await t.json();return r!=null?r:void 0}async sendRequestBuffer(e){e={...e,headers:{Accept:"application/octet-stream"}};const t=await this._sendRequest(e);if(t!==void 0)return t.arrayBuffer()}async _sendRequest(e){var t;const r=`${e.baseUrl}${e.url?`/${e.url}`:""}?${this.getQueryParameters(e.query)}`;try{const i=await this.authService.getBase64AuthenticationSessionToken();if(!i)throw Me.InvalidCredentialsError("Unauthenticated",()=>this.authService.reauthenticate(!0));const s={...e.headers,Authorization:`Basic ${i}`},o=await Ei(r,{method:(t=e.method)!=null?t:"GET",body:e.body,headers:s});if(o.status===401)throw Me.InvalidCredentialsError("Unauthenticated",()=>this.authService.reauthenticate(!0));if(o.status===403)throw Me.CommitToProtectedBranchError(o.statusText);return o.status===404?void 0:o}catch(i){throw Q.error(i),Me.asVirtualProviderErrorCode(i)===ee.InvalidCredentialsError&&di.showStatus401Message(i.action),i}}}a(hi,"AdoClient");var xa=Object.defineProperty,Ua=Object.getOwnPropertyDescriptor,ga=a((n,e,t,r)=>{for(var i=r>1?void 0:r?Ua(e,t):e,s=n.length-1,o;s>=0;s--)(o=n[s])&&(i=(r?o(e,t,i):o(i))||i);return r&&i&&xa(e,t,i),i},"authentication_decorateClass");const vi="microsoft",Vi=["499b84ac-1321-427f-aa17-267ca6975798/.default","offline_access"];class Ji{constructor(e){this.aadClient=e}async ensureAuthenticated(e=!1){const t=new we("AzDO.ensureAuthenticated");if(this._session!==void 0)return this._session;try{const r=a(async u=>{try{if(e)return await h.authentication.getSession(vi,u,{forceNewSession:e});const l=await h.authentication.getSession(vi,u,{silent:!0});return l||await h.authentication.getSession(vi,u,{createIfNone:!0})}catch{try{const l=await h.authentication.getSession(vi,u,{createIfNone:!1});if(l!==void 0)return l}catch{}return new Promise(l=>{async function c(){const H=await h.authentication.getSession(vi,u,{createIfNone:!0});H!==void 0&&l(H)}a(c,"getSession");const _=h.authentication.onDidChangeSessions(async H=>{H.provider.id===vi&&(_.dispose(),await c())})})}},"waitUntilAuthenticated");this._session=await r(Vi);const i=await this.getTenantId(),s=i?[...Vi,`VSCODE_TENANT:${i}`]:Vi;i&&(this._session=await r(s));const o=h.authentication.onDidChangeSessions(async u=>{if(this._session===void 0){o.dispose();return}u.provider.id===vi&&(await h.authentication.getSession(vi,s,{silent:!0})||(this.clearAuthenticationSession(),o.dispose()))});return this._session}finally{t.stop()}}getBase64AuthenticationSessionToken(e){if(this._sessionTokenBase64===void 0){if(e===void 0)return this.ensureAuthenticated().then(t=>(this._sessionTokenBase64=gn(`PAT:${t.accessToken}`),this._sessionTokenBase64));this._sessionTokenBase64=gn(`PAT:${e.accessToken}`)}return this._sessionTokenBase64}async reauthenticate(e=!1){this.clearAuthenticationSession(),await this.ensureAuthenticated(e)}clearAuthenticationSession(){this._session=void 0,this._sessionTokenBase64=void 0}async getTenantId(){const e=await this.aadClient.getTenants();if(e.length<=1)return;const t=e[0],r=await h.window.showQuickPick(e.map(i=>({label:i.displayName,description:i.tenantId===t.tenantId?"Default":void 0,detail:`Tenant ID: ${i.tenantId}`,tenantId:i.tenantId})),{placeHolder:"Choose an Azure Active Directory Tenant",title:"Choose an Azure Active Directory Tenant"});return r&&r.tenantId!==t.tenantId?r.tenantId:void 0}}a(Ji,"AdoAuthenticationService"),ga([Ft()],Ji.prototype,"ensureAuthenticated",1);var Qi=Mn(7360),ka=Mn(919),Fi=Mn.n(ka),pa,wr;(function(n){n.None=0,n.First=1,n.AsOld=n.First,n.Last=2,n.AsNew=n.Last})(wr||(wr={}));class ma{constructor(){this[pa]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)==null?void 0:e.value}get last(){var e;return(e=this._tail)==null?void 0:e.value}has(e){return this._map.has(e)}get(e,t=wr.None){const r=this._map.get(e);if(!!r)return t!==wr.None&&this.touch(r,t),r.value}set(e,t,r=wr.None){let i=this._map.get(e);if(i)i.value=t,r!==wr.None&&this.touch(i,r);else{switch(i={key:e,value:t,next:void 0,previous:void 0},r){case wr.None:this.addItemLast(i);break;case wr.First:this.addItemFirst(i);break;case wr.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return Boolean(this.remove(e))}remove(e){const t=this._map.get(e);if(!!t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const r=this._state;let i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){const e=this._state;let t=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const i={value:t.key,done:!1};return t=t.next,i}return{value:void 0,done:!0}}};return r}values(){const e=this._state;let t=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const i={value:t.value,done:!1};return t=t.next,i}return{value:void 0,done:!0}}};return r}entries(){const e=this._state;let t=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const i={value:[t.key,t.value],done:!1};return t=t.next,i}return{value:void 0,done:!0}}};return r}[(pa=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,r=this.size;for(;t&&r>e;)this._map.delete(t.key),t=t.next,r--;this._head=t,this._size=r,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,r=e.previous;if(!t||!r)throw new Error("Invalid list");t.previous=r,r.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==wr.First&&t!==wr.Last)){if(t===wr.First){if(e===this._head)return;const r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===wr.Last){if(e===this._tail)return;const r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){const e=[];return this.forEach((t,r)=>{e.push([r,t])}),e}fromJSON(e){this.clear();for(const[t,r]of e)this.set(t,r)}}a(ma,"LinkedMap");class _a extends ma{constructor(e,t=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=wr.AsNew){return super.get(e,t)}peek(e){return super.get(e,wr.None)}set(e,t){return super.set(e,t,wr.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}a(_a,"LRUCache");function Ba(n,e,t){if(!(e==null?void 0:e.length)&&!(t==null?void 0:t.length))return new Set(n);let r;if(e==null?void 0:e.length){const i=new Set([...e,...e.map(o=>`${o}/**`)]),s=Fi()(n,[...i],{dot:!0,nocase:!0});r=new Set(s)}if(t==null?void 0:t.length){const i=new Set([...t,...t.map(s=>`${s}/**`)]);if(r===void 0){const s=Fi().not(n,[...i],{dot:!0,nocase:!0});r=new Set(s)}else Fi()(n,[...i],{dot:!0,nocase:!0}).forEach(r.delete,r)}return r}a(Ba,"globFilter");function $a(n,e={}){if(!n)return Ta;if(typeof n=="string"||Tt(n)){const t=E(n,e);if(t===oi)return Ta;const r=a(function(i,s){return!!t(i,s)},"resultPattern");return t.allBasenames&&(r.allBasenames=t.allBasenames),t.allPaths&&(r.allPaths=t.allPaths),r}return Sn(n,e)}a($a,"parse");function Ha(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e||n.length!==e.length)return!1;for(let r=0,i=n.length;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}a(Ha,"equals");function Xi(n){return!!n&&typeof n.then=="function"}a(Xi,"isThenable");function Va(){return Object.create(null)}a(Va,"getEmptyExpression");const Yr="**",ya="/",Si="[/\\\\]",Mi="[^/\\\\]",Ja=/\//g;function Zi(n,e){switch(n){case 0:return"";case 1:return`${Mi}*?`;default:return`(?:${Si}|${Mi}+${Si}${e?`|${Si}${Mi}+`:""})*?`}}a(Zi,"starsToRegExp");function Ea(n,e){if(!n)return[];const t=[];let r=!1,i=!1,s="";for(const o of n){switch(o){case e:if(!r&&!i){t.push(s),s="";continue}break;case"{":r=!0;break;case"}":r=!1;break;case"[":i=!0;break;case"]":i=!1;break}s+=o}return s&&t.push(s),t}a(Ea,"splitGlobAware");function Sa(n){if(!n)return"";let e="";const t=Ea(n,ya);if(t.every(r=>r===Yr))e=".*";else{let r=!1;t.forEach((i,s)=>{if(i===Yr){if(r)return;e+=Zi(2,s===t.length-1)}else{let o=!1,u="",l=!1,c="";for(const _ of i){if(_!=="}"&&o){u+=_;continue}if(l&&(_!=="]"||!c)){let H;_==="-"?H=_:(_==="^"||_==="!")&&!c?H="^":_===ya?H="":H=escapeRegExpCharacters(_),c+=H;continue}switch(_){case"{":o=!0;continue;case"[":l=!0;continue;case"}":{e+=`(?:${Ea(u,",").map(ne=>Sa(ne)).join("|")})`,o=!1,u="";break}case"]":{e+="["+c+"]",l=!1,c="";break}case"?":e+=Mi;continue;case"*":e+=Zi(1);continue;default:e+=escapeRegExpCharacters(_)}}s<t.length-1&&(t[s+1]!==Yr||s+2<t.length)&&(e+=Si)}r=i===Yr})}return e}a(Sa,"parseRegExp");const wa=/^\*\*\/\*\.[\w\.-]+$/,Qa=/^\*\*\/([\w\.-]+)\/?$/,Ca=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,qi=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,ea=/^\*\*((\/[\w\.-]+)+)\/?$/,Bi=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,Da=new _a(1e4),Ta=a(function(){return!1},"FALSE"),oi=a(function(){return null},"NULL");function E(n,e){if(!n)return oi;let t;typeof n!="string"?t=n.pattern:t=n,t=t.trim();const r=`${t}_${!!e.trimForExclusions}`;let i=Da.get(r);if(i)return S(i,n);let s;return wa.test(t)?i=se(t.substr(4),t):(s=Qa.exec(M(t,e)))?i=_e(s[1],t):(e.trimForExclusions?qi:Ca).test(t)?i=Fe(t,e):(s=ea.exec(M(t,e)))?i=$e(s[1].substr(1),t,!0):(s=Bi.exec(M(t,e)))?i=$e(s[1],t,!1):i=ft(t),Da.set(r,i),S(i,n)}a(E,"parsePattern");function f(n,e){if(!n||!e)return n;const t=e.length;if(t===0||n.length===0)return n;let r=0;for(;n.indexOf(e,r)===r;)r=r+t;return n.substring(r)}a(f,"ltrim");function S(n,e){if(typeof e=="string")return n;const t=a(function(r,i){return isDescendent(r,e.base)?n(f(r.substr(e.base.length),"/"),i):null},"wrappedPattern");return t.allBasenames=n.allBasenames,t.allPaths=n.allPaths,t.basenames=n.basenames,t.patterns=n.patterns,t}a(S,"wrapRelativePattern");function M(n,e){return e.trimForExclusions&&n.endsWith("/**")?n.substr(0,n.length-2):n}a(M,"trimForExclusions");function se(n,e){return function(t,r){return typeof t=="string"&&t.endsWith(n)?e:null}}a(se,"trivia1");function _e(n,e){const t=`/${n}`,r=`\\${n}`,i=a(function(o,u){return typeof o!="string"?null:u?u===n?e:null:o===n||o.endsWith(t)||o.endsWith(r)?e:null},"parsedPattern"),s=[n];return i.basenames=s,i.patterns=[e],i.allBasenames=s,i}a(_e,"trivia2");function Fe(n,e){const t=Le(n.slice(1,-1).split(",").map(u=>E(u,e)).filter(u=>u!==oi),n),r=t.length;if(!r)return oi;if(r===1)return t[0];const i=a(function(u,l){for(let c=0,_=t.length;c<_;c++)if(t[c](u,l))return n;return null},"parsedPattern"),s=t.find(u=>!!u.allBasenames);s&&(i.allBasenames=s.allBasenames);const o=t.reduce((u,l)=>l.allPaths?u.concat(l.allPaths):u,[]);return o.length&&(i.allPaths=o),i}a(Fe,"trivia3");function $e(n,e,t){const r="/"+n;let i;return t?i=a(function(s,o){return typeof s=="string"&&s.endsWith(r)?e:null},"parsedPattern"):i=a(function(s,o){return null},"parsedPattern"),i.allPaths=[(t?"*/":"./")+n],i}a($e,"trivia4and5");function ft(n){try{const e=new RegExp(`^${Sa(n)}$`);return function(t){return e.lastIndex=0,typeof t=="string"&&e.test(t)?n:null}}catch(e){return oi}}a(ft,"toRegExp");function ut(n,e,t){return!n||typeof e!="string"?!1:$a(n)(e,void 0,t)}a(ut,"match");function Tt(n){const e=n;return e?typeof e.base=="string"&&typeof e.pattern=="string":!1}a(Tt,"isRelativePattern");function Jt(n){return n.allBasenames||[]}a(Jt,"getBasenameTerms");function Un(n){return n.allPaths||[]}a(Un,"getPathTerms");function Gt(n){let e=-1,t=0,r=-1,i=!0,s=0;for(let o=n.length-1;o>=0;--o){const u=n.charCodeAt(o);if(u===47){if(!i){t=o+1;break}continue}r===-1&&(i=!1,r=o+1),u===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||r===-1||s===0||s===1&&e===r-1&&e===t+1?"":n.slice(e,r)}a(Gt,"extname");function Sn(n,e){const t=Le(Object.getOwnPropertyNames(n).map(u=>pr(u,n[u],e)).filter(u=>u!==oi)),r=t.length;if(!r)return oi;if(!t.some(u=>!!u.requiresSiblings)){if(r===1)return t[0];const u=a(function(_,H){let C;for(let ne=0,Ce=t.length;ne<Ce;ne++){const pe=t[ne](_,H);if(typeof pe=="string")return pe;Xi(pe)&&(C||(C=[]),C.push(pe))}return C?(async()=>{for(const ne of C){const Ce=await ne;if(typeof Ce=="string")return Ce}return null})():null},"resultExpression2"),l=t.find(_=>!!_.allBasenames);l&&(u.allBasenames=l.allBasenames);const c=t.reduce((_,H)=>H.allPaths?_.concat(H.allPaths):_,[]);return c.length&&(u.allPaths=c),u}const i=a(function(u,l,c){let _,H;for(let C=0,ne=t.length;C<ne;C++){const Ce=t[C];Ce.requiresSiblings&&c&&(l||(l=basename(u)),_||(_=l.substr(0,l.length-Gt(u).length)));const pe=Ce(u,l,_,c);if(typeof pe=="string")return pe;Xi(pe)&&(H||(H=[]),H.push(pe))}return H?(async()=>{for(const C of H){const ne=await C;if(typeof ne=="string")return ne}return null})():null},"resultExpression"),s=t.find(u=>!!u.allBasenames);s&&(i.allBasenames=s.allBasenames);const o=t.reduce((u,l)=>l.allPaths?u.concat(l.allPaths):u,[]);return o.length&&(i.allPaths=o),i}a(Sn,"parsedExpression");function pr(n,e,t){if(e===!1)return oi;const r=E(n,t);if(r===oi)return oi;if(typeof e=="boolean")return r;if(e){const i=e.when;if(typeof i=="string"){const s=a((o,u,l,c)=>{if(!c||!r(o,u))return null;const _=i.replace("$(basename)",()=>l),H=c(_);return Xi(H)?H.then(C=>C?n:null):H?n:null},"result");return s.requiresSiblings=!0,s}}return r}a(pr,"parseExpressionPattern");function Le(n,e){const t=n.filter(u=>!!u.basenames);if(t.length<2)return n;const r=t.reduce((u,l)=>{const c=l.basenames;return c?u.concat(c):u},[]);let i;if(e){i=[];for(let u=0,l=r.length;u<l;u++)i.push(e)}else i=t.reduce((u,l)=>{const c=l.patterns;return c?u.concat(c):u},[]);const s=a(function(u,l){if(typeof u!="string")return null;if(!l){let _;for(_=u.length;_>0;_--){const H=u.charCodeAt(_-1);if(H===47||H===92)break}l=u.substr(_)}const c=r.indexOf(l);return c!==-1?i[c]:null},"aggregate");s.basenames=r,s.patterns=i,s.allBasenames=r;const o=n.filter(u=>!u.basenames);return o.push(s),o}a(Le,"aggregateBasenameMatches");function tr(n,e){return Ha(n,e,(t,r)=>typeof t=="string"&&typeof r=="string"?t===r:typeof t!="string"&&typeof r!="string"?t.base===r.base&&t.pattern===r.pattern:!1)}a(tr,"patternsEquals");const Fn=new TextDecoder,mr=new TextEncoder;function cr(n){const e=Fn.decode(n).trim().split(`
`);if(e.length!==3)return{oid:void 0,size:void 0,version:void 0};const t={};for(const u of e){const[l,c]=u.split(" ");t[l]=c}if(!("oid"in t)||!("version"in t)||!("size"in t))return{oid:void 0,size:void 0,version:void 0};let{oid:r,size:i,version:s}=t;const o="sha256:";return r.startsWith(o)&&(r=r.substring(o.length)),{oid:r,size:Number(i),version:s}}a(cr,"parseLfsFile");function ci(n,e){const t=n.getAttributesFor(e);return(t==null?void 0:t.filter)==="lfs"}a(ci,"isLfsTrackedFile");function ba(n,e,t="https://git-lfs.github.com/spec/v1"){return gn(mr.encode(`version ${t}
oid sha256:${n}
size ${e.toString()}
`))}a(ba,"createLfsPointerFile");async function $i(n){const e=await ct(n),t=n.byteLength;return{oid:e,size:t}}a($i,"getLfsOperation");const Hi="";function Wa(...n){if(n.length===1){const e=n[0];return e===void 0?Hi:typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"||e instanceof Error?String(e):e instanceof h.Uri?e.toString():JSON.stringify(e)}return JSON.stringify(n)}a(Wa,"serialize_defaultResolver");function ta(n){return(e,t,r)=>{let i;if(typeof r.value=="function"?i=r.value:typeof r.get=="function"&&(i=r.get),i===void 0)throw new Error("Not supported");const s=`$serialize$${t}`;r.value=function(...o){const u=o.length===0?s:`${s}$${(n!=null?n:Wa)(...o)}`;Object.prototype.hasOwnProperty.call(this,u)||Object.defineProperty(this,u,{configurable:!1,enumerable:!1,writable:!0,value:void 0});let l=this[u];const c=a(()=>i.apply(this,o),"run");return l===void 0?l=c():l=l.then(c,c),this[u]=l,l}}}a(ta,"serialize");function na(n){const e=n.path.startsWith("/")?n.path.slice(1):n.path,[t,r,i]=e.split("/");return{organization:t,project:r,name:i}}a(na,"getRepositoryDescriptor");var ra=Object.defineProperty,ia=Object.getOwnPropertyDescriptor,aa=a((n,e,t,r)=>{for(var i=r>1?void 0:r?ia(e,t):e,s=n.length-1,o;s>=0;s--)(o=n[s])&&(i=(r?o(e,t,i):o(i))||i);return r&&i&&ra(e,t,i),i},"fs_decorateClass");const sa=h.FileSystemError.FileNotFound().code,oa=/(\/|\\)/g,Aa=/(\*|\.)/g;class wi{constructor(e,t,r,i){this.providerService=e,this.changeStore=t,this.azdo=r,this.adoClient=i,this._onDidChangeFile=new h.EventEmitter,this.fileSearchCache=new Map,this.pendingUriRequests=new Map,this.pendingUriRequestsEventDelay=10,this.implicitlyWatchedUris=new Map,this.watchedUris=new Map,this.disposable=h.Disposable.from(h.workspace.registerFileSystemProvider(this.scheme,this,{isCaseSensitive:!0,isReadonly:!0}),h.workspace.registerFileSearchProvider(this.scheme,this),h.workspace.registerTextSearchProvider(this.scheme,this),e.onDidChangeRepository(s=>{s.reason==="HEAD"&&this.onRefreshOrRepositoryChanged([s.repository.uri])}),e.onDidRefresh(s=>this.onRefreshOrRepositoryChanged(s)))}get onDidChangeFile(){return this._onDidChangeFile.event}get scheme(){return this.azdo.scheme}dispose(){var e;(e=this.disposable)==null||e.dispose()}onRefreshOrRepositoryChanged(e){if(e=e.filter(t=>D.getProviderId(t)===this.scheme).map(t=>D.getProviderUri(t)),e.length!==0){Q.log(`AzDOFS.onRefreshOrRepositoryChanged(${e.map(t=>t.toString()).join(", ")})`),this.fileSearchCache.clear();for(const[t,r]of[...this.pendingUriRequests])e.some(i=>R(r.uri,i))&&(this.pendingUriRequests.delete(t),r.outdated=!0);this.updateOpenOrWatchedUris(e)}}updateOpenOrWatchedUris(e){const t=D.getOpenUris(this.scheme,e);for(const[i,s]of[...this.watchedUris,...this.implicitlyWatchedUris])e.some(o=>R(s,o))&&(this.implicitlyWatchedUris.delete(i),t.set(i,s));Q.debug(`AzDOFS.updateOpenOrWatchedUris(${e.map(i=>i.toString()).join(", ")}): uris=${t.size}`);for(const i of e)t.set(P(i),i);const r=[...t.values()].map(i=>({type:h.FileChangeType.Changed,uri:i}));setTimeout(()=>{Q.debug(`AzDOFS.updateOpenOrWatchedUris: Firing events=${r.map(i=>i.uri.toString()).join(", ")}`),this._onDidChangeFile.fire(r)},0)}watch(e,t){const r=P(e);return this.watchedUris.set(r,e),{dispose:()=>{this.watchedUris.delete(r)}}}async stat(e){var t;const r=P(e);this.implicitlyWatchedUris.set(r,e);const i=this.azdo.getProviderRootUri(e),{organization:s,project:o,name:u}=na(e),l=this.providerService.getRelativeFilePath(i,e),c={uri:e,outdated:!1};if(this.providerService.isInWorkspace(this.providerService.getVirtualRootUri(e))||s&&o&&u)try{this.pendingUriRequests.set(`stat:${r}`,c);const _=await this.azdo.getFileTree(e),H=await _.get(l);if(H==null?void 0:H.stat){if(H.stat.type===h.FileType.File&&Ae.get("lfs.read.enabled")&&!e.path.endsWith(".gitattributes")&&ci(await this.azdo.getGitAttributes(i),l)){const C=await this.azdo.getFileContent(e),ne=cr(C).size;H.stat.size=ne!=null?ne:H.stat.size}return H.stat}if(this.implicitlyWatchedUris.delete(r),e.query==="~")return{type:h.FileType.File,size:0,ctime:0,mtime:(t=_.timestamp)!=null?t:Date.now(),permissions:h.FilePermission.Readonly};throw h.FileSystemError.FileNotFound(e)}finally{this.pendingUriRequests.delete(`stat:${r}`),(c==null?void 0:c.outdated)&&setTimeout(()=>{Q.log(`AzDOFS.stat(${e.toString()}): Repository changed; firing change event...`),this._onDidChangeFile.fire([{type:h.FileChangeType.Changed,uri:e}])},this.pendingUriRequestsEventDelay)}return{type:h.FileType.Directory,size:0,ctime:0,mtime:Date.now(),permissions:h.FilePermission.Readonly}}async readDirectory(e,t){var r,i,s;this.implicitlyWatchedUris.set(P(e),e);const{organization:o,project:u,name:l}=na(e);if(this.providerService.isInWorkspace(this.providerService.getVirtualRootUri(e))||o&&u&&l){const c=await this.azdo.getFileTree(e),_=this.providerService.getVirtualRootUri(e),H=this.providerService.getRelativeFilePath(_,e),C=(await c.getChildren(H,t)).map(([ne,{stat:{type:Ce}}])=>[ne,Ce]);return H===""&&we.stop("Time to root directory"),C}else if(o){if(o&&!u)return((i=await this.adoClient.getProjects(o))!=null?i:[]).map(c=>[c.name,h.FileType.Directory]);if(o&&u&&!l)return((s=await this.adoClient.getRepositories(o,u))!=null?s:[]).map(c=>[c.name,h.FileType.Directory])}else return((r=await this.adoClient.getAccounts())!=null?r:[]).map(c=>[c,h.FileType.Directory]);throw h.FileSystemError.FileNotFound(e)}createDirectory(e){throw h.FileSystemError.NoPermissions()}async readFile(e){const t=P(e);this.implicitlyWatchedUris.set(t,e);const r={uri:e,outdated:!1};try{this.pendingUriRequests.set(t,r);const i=await this.azdo.getFileContent(e);if(!Ae.get("lfs.read.enabled")||e.path.endsWith(".gitattributes"))return i;const s=this.azdo.getProviderRootUri(e),o=await this.azdo.getGitAttributes(s);return ci(o,e.path)?this.azdo.getLfsContent(s,i):i}catch(i){if(this.implicitlyWatchedUris.delete(t),i instanceof h.FileSystemError&&i.code===sa&&e.query==="~")return new Uint8Array(0);throw i}finally{this.pendingUriRequests.delete(t),(r==null?void 0:r.outdated)&&setTimeout(()=>{Q.log(`AzDOFS.readFile(${e.toString()}): Repository changed; firing change event...`),this._onDidChangeFile.fire([{type:h.FileChangeType.Changed,uri:e}])},this.pendingUriRequestsEventDelay)}}writeFile(e,t,r){throw h.FileSystemError.NoPermissions()}delete(e,t){throw h.FileSystemError.NoPermissions()}rename(e,t,r){throw h.FileSystemError.NoPermissions()}copy(e,t,r){throw h.FileSystemError.NoPermissions()}async provideFileSearchResults(e,{folder:t,maxResults:r,includes:i,excludes:s},o){const u=`${P(t)}|${JSON.stringify({includes:i,excludes:s})}`;let l=this.fileSearchCache.get(u);if(l===void 0){const _=await this.providerService.getMetadata(t),H=await this.azdo.getRepoItems(_,"",!0);let C=[];for(const ne of H)ne.isFolder||C.push(ne.path);if(C.length===0||o.isCancellationRequested)return[];((i==null?void 0:i.length)||(s==null?void 0:s.length))&&(C=[...Ba(C,i,s)]),l=C.map(ne=>Qi.prepareSlow(ne)),this.fileSearchCache.set(u,l)}let c;return e.pattern===""?c=l.map(_=>h.Uri.joinPath(t,_.target)):(c=Qi.go(e.pattern.replace(oa,"/").replace(Aa,""),l,{allowTypo:!0,limit:r}).map(_=>h.Uri.joinPath(t,_.target)),Qi.cleanup()),r!==void 0&&r!==0&&r<c.length&&(c=c.slice(0,r)),c}async provideTextSearchResults(e,t,r,i){const s=[],o=await this.providerService.getMetadata(t.folder);if(o.HEAD.type!==Y.Branch)return s.push({text:h.l10n.t("Code search is only supported on branches. [Learn More]({0})","https://docs.microsoft.com/en-us/azure/devops/project/search/functional-code-search?view=azure-devops#search-git-projects-and-repositories"),type:h.TextSearchCompleteMessageType.Warning,trusted:!0}),{limitHit:!1,message:s};if(!(await this.azdo.getSearchableBranches(o)).includes(o.HEAD.name))return s.push({text:h.l10n.t("The current branch has not been configured for code search. [Learn More]({0})","https://docs.microsoft.com/en-us/azure/devops/project/search/functional-code-search?view=azure-devops#search-git-projects-and-repositories"),type:h.TextSearchCompleteMessageType.Warning,trusted:!0}),{limitHit:!1,message:s};(e.isCaseSensitive||e.isRegExp||e.isWordMatch)&&s.push({text:h.l10n.t("Search flags are not supported."),type:h.TextSearchCompleteMessageType.Warning});const l=await this.azdo.searchCodeQuery(e.pattern,t.folder,{maxResults:t.maxResults,context:{before:t.beforeContext,after:t.afterContext}});if(l.warnings&&l.warnings.forEach(_=>{s.push({text:_,type:h.TextSearchCompleteMessageType.Warning})}),l===void 0)return{limitHit:!0,message:s};let c;for(const _ of l.matches)c=h.Uri.joinPath(t.folder,_.path),r.report({uri:c,ranges:_.ranges,preview:{text:_.preview,matches:_.matches}});return{limitHit:!1,message:s}}}a(wi,"AzDOFS"),aa([ta()],wi.prototype,"stat",1),aa([ta()],wi.prototype,"readDirectory",1),aa([ta()],wi.prototype,"readFile",1);var Ra=Mn(6470),ua;(function(n){n[n.Force=0]="Force",n[n.ForceWithLease=1]="ForceWithLease"})(ua||(ua={}));var Wi;(function(n){n[n.Head=0]="Head",n[n.RemoteHead=1]="RemoteHead",n[n.Tag=2]="Tag"})(Wi||(Wi={}));var Ia;(function(n){n[n.INDEX_MODIFIED=0]="INDEX_MODIFIED",n[n.INDEX_ADDED=1]="INDEX_ADDED",n[n.INDEX_DELETED=2]="INDEX_DELETED",n[n.INDEX_RENAMED=3]="INDEX_RENAMED",n[n.INDEX_COPIED=4]="INDEX_COPIED",n[n.MODIFIED=5]="MODIFIED",n[n.DELETED=6]="DELETED",n[n.UNTRACKED=7]="UNTRACKED",n[n.IGNORED=8]="IGNORED",n[n.INTENT_TO_ADD=9]="INTENT_TO_ADD",n[n.ADDED_BY_US=10]="ADDED_BY_US",n[n.ADDED_BY_THEM=11]="ADDED_BY_THEM",n[n.DELETED_BY_US=12]="DELETED_BY_US",n[n.DELETED_BY_THEM=13]="DELETED_BY_THEM",n[n.BOTH_ADDED=14]="BOTH_ADDED",n[n.BOTH_DELETED=15]="BOTH_DELETED",n[n.BOTH_MODIFIED=16]="BOTH_MODIFIED"})(Ia||(Ia={}));var Pa;(function(n){n.BadConfigFile="BadConfigFile",n.AuthenticationFailed="AuthenticationFailed",n.NoUserNameConfigured="NoUserNameConfigured",n.NoUserEmailConfigured="NoUserEmailConfigured",n.NoRemoteRepositorySpecified="NoRemoteRepositorySpecified",n.NotAGitRepository="NotAGitRepository",n.NotAtRepositoryRoot="NotAtRepositoryRoot",n.Conflict="Conflict",n.StashConflict="StashConflict",n.UnmergedChanges="UnmergedChanges",n.PushRejected="PushRejected",n.RemoteConnectionError="RemoteConnectionError",n.DirtyWorkTree="DirtyWorkTree",n.CantOpenResource="CantOpenResource",n.GitNotFound="GitNotFound",n.CantCreatePipe="CantCreatePipe",n.PermissionDenied="PermissionDenied",n.CantAccessRemote="CantAccessRemote",n.RepositoryNotFound="RepositoryNotFound",n.RepositoryIsLocked="RepositoryIsLocked",n.BranchNotFullyMerged="BranchNotFullyMerged",n.NoRemoteReference="NoRemoteReference",n.InvalidBranchName="InvalidBranchName",n.BranchAlreadyExists="BranchAlreadyExists",n.NoLocalChanges="NoLocalChanges",n.NoStashFound="NoStashFound",n.LocalChangesOverwritten="LocalChangesOverwritten",n.NoUpstreamBranch="NoUpstreamBranch",n.IsInSubmodule="IsInSubmodule",n.WrongCase="WrongCase",n.CantLockRef="CantLockRef",n.CantRebaseMultipleBranches="CantRebaseMultipleBranches",n.PatchDoesNotApply="PatchDoesNotApply",n.NoPathFound="NoPathFound",n.UnknownPath="UnknownPath"})(Pa||(Pa={}));class zi{constructor(e){this.rules=[],this.parse(e)}getAttributesFor(e){var t;const r=this.rulesForPath(typeof e=="string"?e:e.path),i={};for(const s of r){const o=(t=s.attrs)!=null?t:{};for(const u of Object.keys(o))i[u]=o[u]}return i}rulesForPath(e){const t=[];for(;/^(\.\/|\.\\)/.test(e);)e=e.substr(2);/^[\/\\]/.test(e)||(e=`/${e}`);for(const r of this.rules){if(!r.pattern)continue;const i=r.pattern[0]==="/"?`${r.pattern}`:`**/${r.pattern}`;Fi().isMatch(e,i)&&t.push(r)}return t}parse(e,t=!1,r=!1){const i=e.split(/\r\n|\r|\n/g);for(const s of i){const o=this.parseRule(s,t,r);o&&this.rules.push(o)}}parseRule(e,t=!1,r=!1){if(e=e.trim(),!e)return r?{comment:void 0,pattern:void 0,attrs:void 0}:void 0;if(e[0]==="#")return t?{comment:e.substr(1),pattern:void 0,attrs:void 0}:void 0;e[0]==="\\"&&e[1]==="#"&&(e=e.substr(1));let i,s;if(e[0]==='"'){const o=/^"(?:[^"\\]|\\.)*"/.exec(e);if(o){try{i=JSON.parse(o[0])}catch(u){i=i.replace(/\\(.)/g,"\\1")}s=e.substr(o[0].length+1).trim()}else i=o==null?void 0:o[0],s=void 0}else{const o=/\s+/g.exec(e);i=o?e.substr(0,o.index):e,s=o?e.substr(o.index+o[0].length):void 0}return{pattern:i,attrs:s?this.parseAttributes(s):{},comment:void 0}}parseAttributes(e){const t={};for(const r of e.split(/\s+/g)){if(r==="=")continue;let i=r,s;if(r.startsWith("-"))i=r.substr(1),s=!1;else if(r.includes("=")){const o=r.indexOf("=");i=r.substr(0,o),s=r.substr(o+1)}else s=!0;t[i]=s,i==="binary"&&s?t.diff=!1:i==="crlf"&&s===!0?t.text=!0:i==="crlf"&&s===!1?t.text=!1:i==="crlf"&&s==="input"&&(t.eol="lf")}return t}}a(zi,"GitAttributes");function*Re(n,e){for(const t of n)yield*e(t)}a(Re,"flatMap");function*dt(n,e){for(const t of n)e(t)&&(yield t)}a(dt,"filter");function*pt(n,e){for(const t of n){const r=e(t);r!=null&&(yield r)}}a(pt,"filterMap");function Kt(n,e){for(const t of n)if(e(t))return t}a(Kt,"find");function _n(n,e){let t="";const r=n[Symbol.iterator]();let i=r.next();if(i.done)return t;for(;;){const s=i.value.toString();if(i=r.next(),i.done){t+=s;break}t+=s,t+=e}return t}a(_n,"join");function*Rn(n,e){for(const t of n)yield e(t)}a(Rn,"map");function In(n,e){for(const t of n)if(e(t))return!0;return!1}a(In,"some");function*Ar(...n){for(const e of n)for(const t of e)yield t}a(Ar,"union");function*qr(n){const e=new Set;for(const t of n)e.has(t)||(e.add(t),yield t)}a(qr,"unique");class Er{constructor(e,t){this.path=e,this.relativePath=t}}a(Er,"TrieNode");class Cr{constructor(){this.root=new Er("","")}get(e){var t;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let r=this.root;for(const i of e.split("/")){const s=(t=r.children)==null?void 0:t.get(i);if(s===void 0)return;r=s}return r.path===e?r.data:void 0}getChildren(e){var t;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let r=this.root;if(e)for(const i of e.split("/")){const s=(t=r.children)==null?void 0:t.get(i);if(s===void 0)return[];r=s}return r.children===void 0?[]:[...r.children.values()].map(i=>[i.relativePath,i.data])}getDescendants(e){var t;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let r=this.root;const i=[];if(e)for(const s of e.split("/")){const o=(t=r.children)==null?void 0:t.get(s);if(o===void 0)return i;r=o}if(r.children!==void 0){let s=a(function(o,u,l){for(const c of o.values()){const _=`${u?`${u}/`:""}${c.relativePath}`;c.data&&l.push([_,c.data]),c.children!==void 0&&s(c.children,_,l)}},"getDescendantsCore");s(r.children,"",i)}return i}has(e){var t;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let r=this.root;for(const i of e.split("/")){const s=(t=r.children)==null?void 0:t.get(i);if(s===void 0)return!1;r=s}return r.path===e}set(e,t){var r;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let i=this.root,s="";for(const o of e.split("/")){let u=(r=i.children)==null?void 0:r.get(o);s=`${s?`${s}/`:""}${o}`,u===void 0&&(i.children===void 0&&(i.children=new Map),u=new Er(s,o),i.children.set(o,u)),i=u}i.data=t}}a(Cr,"Trie");var Gr=Mn(5431),_r=Mn.n(Gr);class Ci{constructor(e,t,r,i,s){if(this.rootUri=e,this.sha=t,this.timestamp=r,this.provider=i,this.trie=new Cr,this._hasEntireTree=!1,this._isContentCached=!1,i===void 0)return;const o=[i];i.onDidTriggerContentCaching!==void 0&&i.tryCachingContent!==void 0&&o.push(i.onDidTriggerContentCaching(u=>{(!u||P(u.rootUri)===P(this.rootUri)&&u.sha===this.sha)&&!this.loading&&this.hasEntireTree&&!this.isContentCached&&i.tryCachingContent(this.trie.get.bind(this.trie)).then(l=>this._isContentCached=l,()=>this._isContentCached=!0)})),this._loading=this.load(s==null?void 0:s.path,s==null?void 0:s.recursive).then(u=>(this._hasEntireTree=(u==null?void 0:u.success)?u.recursive:!1,this._hasEntireTree&&setTimeout(()=>{var l;return void((l=i.tryCachingContent)==null?void 0:l.call(i,this.trie.get.bind(this.trie)).then(c=>this._isContentCached=c,()=>this._isContentCached=!0))},0),this._loading=void 0,this.preloading=void 0,this.treeSha=(u==null?void 0:u.success)?u.sha:void 0,this.treeSha)),(s==null?void 0:s.preload)&&(this.preloading=new Map([["",this.load("")],[".vscode",this.load(".vscode")]])),this.disposable=h.Disposable.from(...o)}get hasEntireTree(){return this._hasEntireTree}get isContentCached(){return this._isContentCached}get loading(){return this._loading!==void 0}get permissions(){var e;return(e=this.provider)==null?void 0:e.permissions}dispose(){var e;(e=this.disposable)==null||e.dispose()}async get(e){var t;if(e==="")return{mode:"040000",sha:this.treeSha,stat:{type:h.FileType.Directory,size:0,ctime:0,mtime:(t=this.timestamp)!=null?t:Date.now(),permissions:await this.permissions},getContent:void 0};let r=this.trie.get(e);return r!==void 0||(await this.ensureLoaded(e),r=this.trie.get(e)),r}async getChildren(e,t){await this.ensureLoaded(e,!0);const r=(t==null?void 0:t.recursive)?this.trie.getDescendants(e):this.trie.getChildren(e);return(t==null?void 0:t.filter)===void 0?r:r.filter(([,i])=>i.stat.type===t.filter)}async getTreeSha(){return await this.waitUntilLoaded(),this.treeSha}async waitUntilLoaded(){this._loading!==void 0&&await this._loading}async ensureLoaded(e,t=!1){if(this._loading!==void 0){let i;if(this.preloading!==void 0)if(t)i=this.preloading.get(e);else{const s=Kt(this.preloading,([o])=>e.startsWith(o)&&e.lastIndexOf("/")===(o?o.length:-1));i=s==null?void 0:s[1]}await(i!=null?i:this._loading)}if(this.hasEntireTree||e==="")return;let r=this.trie.get(e);if(r)return t&&(r==null?void 0:r.loadChildren)?r.loadChildren():void 0;if(await this.ensureLoaded(e.substr(0,e.lastIndexOf("/")),!0),r=this.trie.get(e),t&&(r==null?void 0:r.loadChildren))return r.loadChildren()}async load(e,t=!1){var r;if(((r=this.provider)==null?void 0:r.getTree)===void 0)return;const i=new we(`FileTree.load(${this.sha}:${e})`);let s;try{i.logStep("Tree query");const o=await this.provider.getTree(e,t);if(o.truncated){Q.warn(`Loading file tree for path=${e} was truncated`),i.logStep("Fixing directories",{message:`: Tree=${o.sha};`,suffix:" \u2022 Fixing directories..."});for(const[l,c]of this.trie.getDescendants(""))c.stat.type===h.FileType.Directory&&(c.loadChildren=_r()(()=>this.load(l).then(()=>c.loadChildren=void 0)));return s=` \u2022 Tree=${o.sha} \u2022 Truncated`,{sha:o.sha,recursive:!1,success:!0}}let u;this.permissions!==void 0&&(i.logStep("Permissions query",{message:`: Tree=${o.sha};`,suffix:" \u2022 Waiting for permissions..."}),u=await this.permissions),i.logStep("Filling trie",{suffix:" \u2022 Filling trie..."});for(let{path:l,item:c}of o.tree)if(l!==void 0){switch(l=e?`${e}/${l}`:l,c.stat.permissions=u,c.stat.type){case h.FileType.File:c.getContent=_r()(()=>this.provider.getContent(c,l));break;case h.FileType.Directory:t||(c.loadChildren=_r()(()=>this.load(l).then(()=>c.loadChildren=void 0)));break}this.trie.set(l,c)}return s=` \u2022 Tree=${o.sha}`,{sha:o.sha,recursive:t,success:!0}}catch(o){return s=`\u2022 Loading for path=${e} failed; ${String(o)}`,{error:o,success:!1}}finally{i.stop(s?{suffix:s}:void 0)}}}a(Ci,"FileTree");const qa=/^https?:\/\/dev\.azure\.com(?:\/defaultcollection)?\/(?<organization>[^/]+)(?:\/(?<project>[^_/][^/]*))?(?:\/_git)?\/(?<repo>[^/?#]+)(?:\/commit\/(?<commit>[0-9a-f]{40})|\/pullrequest\/(?<pull>\d+))?/i,Xa=1,za=Object.freeze({id:"azurerepos",name:"Azure Repos"});function es(n){return(n.query.includes("&")?n.query:decodeURIComponent(n.query)).split("&").reduce((t,r)=>{const i=r.split("=");return t[i[0]]=i[1],t},{})}a(es,"parseQuery");function Di(n){const{scheme:e,metadata:t}=D.decodeAuthority(n),[,r,i,s,...o]=n.path.split("/");return{scheme:e,provider:za,name:`${r}/${i}/${s}`,repo:{organization:r,project:i,name:s},path:o.join("/")||"",ref:t==null?void 0:t.ref,idx:t==null?void 0:t.idx}}a(Di,"getAzDOMetadata");function ts(n,e){const{repo:t}=e!=null?e:Di(n);return n.with({path:`/${t.organization}/${t.project}/${t.name}`,query:"",fragment:""})}a(ts,"getAzDORootUri");function Ka(n,e,t){const{repo:{organization:r,name:i}}=n instanceof h.Uri?Di(n):n;return h.Uri.parse(`azurerepos://${D.encodeAuthority("azurerepos",{v:Xa,ref:{type:de.Commit,id:e}})}/${r}/${i}/${t}`)}a(Ka,"getAzDORevisionUri");function ja(n){var e,t,r,i,s,o;const u=qa.exec(n);if((u==null?void 0:u.groups)===void 0)return;const{organization:l,project:c,repo:_,commit:H,pull:C}=u.groups,ne=es(h.Uri.parse(n)),Ce=/^GB(?<branchName>.+)/i.exec((e=ne.version)!=null?e:""),pe=/^GT(?<tagName>.+)/i.exec((t=ne.version)!=null?t:""),We=/^GC(?<commit>[0-9a-f]{40})/i.exec((r=ne.version)!=null?r:""),vt=ne.path&&ne.path!=="/"?ne.path:void 0;return{organization:l,project:c,repo:_,branch:(i=Ce==null?void 0:Ce.groups)==null?void 0:i.branchName,tag:(s=pe==null?void 0:pe.groups)==null?void 0:s.tagName,commit:H!=null?H:(o=We==null?void 0:We.groups)==null?void 0:o.commit,pull:C,path:vt}}a(ja,"parseAzureReposUrl");const ns=new TextDecoder;class Za{constructor(e,t,r,i){this.providerService=e,this.authService=t,this.metadataStore=r,this.adoClient=i,this.fileTreeCache=new Map,this.gitAttributes=new Map,this.disposable=h.Disposable.from(e.onDidChangeRepository(s=>{s.reason==="HEAD"&&this.onRefreshOrRepositoryChanged([s.repository.uri])}),e.onDidRefresh(s=>this.onRefreshOrRepositoryChanged(s))),dn&&(this.lfsProxyEndpoint=this.getLfsProxyEndpoint())}get scheme(){return"azurerepos"}get repositories(){return[...this.providerService.getRepositories(za.id)]}dispose(){this.disposable.dispose()}canOpenRemoteUrl(e){const t=ja(e);if(t===void 0)return;const{branch:r,tag:i,commit:s,path:o,pull:u}=t;return u?W.PullRequest:o?W.File:r?W.Branch:i?W.Tag:s?W.Commit:W.Repository}async compareCommits(e,t){const r=await this.getMetadata(e),i=await this.getAheadBehindState(e,r,{base:t.base,head:t.compare});return i==null?void 0:i.incomingChanges}async createAndPushCommit(e,t,r,i,s,o){var u,l,c;const _=new we(`AzureRepos.createAndPushCommit(${e.toString()}${o?`, fork=${o.repo.organization}/${o.repo.project}/${o.repo.name}`:""})`);if(r=r.filter(C=>C.fileType===h.FileType.File),r.length===0)throw _.stop({message:"Aborted; No changes to commit"}),Me.NothingToCommitError("No changes to commit");let H;try{const C=await this.getMetadata(e);let ne;if(i!==void 0)ne=i;else{if(C.HEAD.detached&&!C.HEAD.branch)throw Me.DetachedHEADError("Unable to commit; no current branch");ne=C.HEAD.branch.name}const Ce=[],pe=[],We=await this.getGitAttributes(e);for(const Qt of r){const on=is(Qt);if(on===void 0)throw new Error("Unknown commit operation type.");switch(Qt.type){case O.Created:case O.Changed:{try{const un=await Qt.content;if(Ae.get("lfs.write.enabled")&&ci(We,Qt.path)){const bn=await $i(un);pe.push({...bn,path:Qt.path,binaryContent:un})}else Ce.push({changeType:on,item:{path:Qt.path},newContent:{content:gn(un),contentType:"base64Encoded"}})}catch(un){throw Q.error(un),Me.CommitFailedError()}break}case O.Deleted:Ce.push({changeType:on,item:{path:Qt.path}});break}}const vt=await this.uploadLfsFiles(e,pe);Ce.push(...vt);const St=await this.adoClient.createPushes(C.repo.organization,C.repo.project,C.repo.name,{commits:[{changes:Ce,comment:t}],refUpdates:[{name:`refs/heads/${ne}`,oldObjectId:(l=(u=C.HEAD.branch)==null?void 0:u.sha)!=null?l:""}]});if(H=((c=St==null?void 0:St.refUpdates)==null?void 0:c.length)===1?St.refUpdates[0].newObjectId:void 0,H===void 0)throw Me.CommitFailedError();return i===void 0&&!C.HEAD.detached&&H!==void 0&&await this.fastForwardTo(e,H,C),H}catch(C){const{statusCode:ne}=C;throw ne===409?Me.MergeConflictError(C):(Q.error(C),C)}finally{_.stop(H?{message:`: Created and pushed commit ${H}`}:void 0)}}getBatchApiUrl(e){return`${this.getRemoteUri({repo:this.getVirtualUriMetadata(e).repo}).toString()}.git/info/lfs/objects/batch`}async uploadLfsFiles(e,t){var r,i,s,o;const u=this.getBatchApiUrl(e),l=(await this.getAuthentication(e)).session.accessToken,c=[],_=await Ei(u,{method:"POST",headers:{"Content-Type":"application/vnd.git-lfs+json",Accept:"application/vnd.git-lfs+json",Authorization:`Bearer ${l}`},body:JSON.stringify({transfers:["basic"],operation:"upload",objects:t.map(H=>({oid:H.oid,size:H.size}))})});if(_.ok){const H=await _.json();if(H.objects.length!==t.length)throw Me.CommitFailedError();for(let C=0;C<t.length;C++){const ne=H.objects[C],Ce=t[C];if((i=(r=ne.actions)==null?void 0:r.upload)==null?void 0:i.href){const{href:pe,header:We}=ne.actions.upload;if((await Ei(pe,{method:"PUT",body:Ce.binaryContent,headers:{Authorization:`Bearer ${l}`,...We}})).ok&&((o=(s=ne.actions)==null?void 0:s.verify)==null?void 0:o.href)&&!(await Ei(ne.actions.verify.href,{method:"POST",headers:{Authorization:`Bearer ${l}`,...ne.actions.verify.header}})).ok)throw Me.CommitFailedError()}c.push({changeType:"add",item:{path:Ce.path},newContent:{content:ba(Ce.oid,Ce.size),contentType:"base64Encoded"}})}}return c}async createBranch(e,t,r,i){try{const{repo:s}=await this.getMetadata(e);t.startsWith("refs/heads/")||(t=`refs/heads/${t}`);const o=await this.adoClient.updateRefs(s.organization,s.project,s.name,[{name:t,newObjectId:r,oldObjectId:"0000000000000000000000000000000000000000",repositoryId:s.name}]);if(!o||o.value.length!==1)throw new Error("Branch creation has failed. Unknown error.");const u=o.value[0];if(!u.success)throw u.updateStatus==="staleOldObjectId"?Me.InvalidBranchNameError(t.substring(11),!0):Me.InvalidBranchNameError(t.substring(11),!1);return u.name.substring(11)}catch(s){throw Q.error(s),s}}async createMetadata(e,t){var r,i,s,o;const u=new we(`AzDO.createMetadata(${e.toString()}, ${t})`);let l;try{let{provider:c,name:_,repo:{organization:H,project:C,name:ne},ref:Ce}=Di(e);if(!Ce||Ce.type===de.Commit&&/HEAD/i.test(Ce.id))Ce={type:de.Commit,id:"HEAD"};else if((Ce.type===de.Branch||Ce.type===de.Tag)&&(Ce=await this.validateBranchOrTagCasing(H,C,ne,Ce.id,Ce.type),Ce===void 0))throw new Error(`Cannot get metadata for Uri(${e.toString(!0)}); Unable to find the specified branch or tag`);const pe=await this.getRepositoryInfo(H,C,ne,Ce);if(pe===void 0)throw l=" \u2022 Aborted; Unable to get repository info",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get repository info`);let We;if(t)We=t;else if(Ce.type===de.Commit&&Ce.id!=="HEAD")We=Ce.id;else if(We=(i=(r=pe.ref)==null?void 0:r.sha)!=null?i:pe.defaultBranch.sha,We===void 0)throw l=" \u2022 Aborted; Unable to get repository revision",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get repository info`);let vt;((s=pe.ref)==null?void 0:s.prefix)==="refs/heads/"?vt={type:Y.Branch,name:pe.ref.name,sha:We,branch:{name:pe.ref.name,sha:pe.ref.sha}}:((o=pe.ref)==null?void 0:o.prefix)==="refs/tags/"?vt={type:Y.Tag,name:pe.ref.name,sha:We,detached:{type:Y.Tag,name:pe.ref.name}}:vt={type:Y.Commit,name:B(We),sha:We,detached:{type:Y.Commit,name:B(We)}};const St={version:He,timestamp:Date.now(),provider:c,name:_,repo:pe.repo,accessLevel:pe.accessLevel,HEAD:vt,defaultBranch:pe.defaultBranch,pullRequest:pe.pullRequest,cloneUrl:pe.cloneUrl};return l=` \u2022 HEAD=${vt.sha}`,St}finally{u.stop(l?{suffix:l}:void 0)}}async createPullRequest(e,t,r,i,s,o){var u,l;const c=new we(`GitHub.createPullRequest(${e.toString()}, ${t}${o?`, fork=${o.repo.organization}/${o.repo.project}/${o.repo.name}`:""})`);try{const{repo:{organization:_,project:H,name:C},HEAD:{branch:ne},defaultBranch:Ce}=await this.getMetadata(e),pe=await this.adoClient.createPullRequest(_,H,C,{title:r,description:i,sourceRefName:t.startsWith("refs/heads/")?t:`refs/heads/${t}`,targetRefName:`refs/heads/${(u=ne==null?void 0:ne.name)!=null?u:Ce.name}`,isDraft:(l=s==null?void 0:s.draft)!=null?l:!1});if(pe===void 0)throw new Error("Pull request creation failed. Unknown error.");const We=pe.pullRequestId.toString();return{id:We,uri:h.Uri.parse(`${pe.repository.webUrl}/pullrequest/${We}`)}}catch(_){throw Q.error(_),_}finally{c.stop()}}createVirtualUri(e,{repo:t,ref:r,idx:i},s){if((r==null?void 0:r.type)===de.Tree)throw new Error(`Invalid ref type '${r.type}'`);const o=r!==void 0||i!==void 0?{v:Xa}:void 0;return o&&(r&&(o.ref={type:r.type,id:r.id}),i&&(o.idx=i)),e.with({authority:D.encodeAuthority("azurerepos",o),path:`/${t.organization}/${t.project}/${t.name}${(s==null?void 0:s.startsWith("/"))?s:`/${s!=null?s:""}`}`})}getHttpsCloneUri(e){const t=e.toString(),r=ja(t);if(r)return this.getRemoteUri({repo:{organization:r.organization,project:r.project,name:r.repo}})}async createWorkspaceForRemoteUrl(e,t=Ue.CurrentWindow){const r=ja(e);if(r===void 0)return;const{organization:i,project:s,repo:o,branch:u,tag:l,commit:c,path:_,pull:H}=r;let C;u?C={type:de.Branch,id:u}:l?C={type:de.Tag,id:l}:c?C={type:de.Commit,id:c}:H&&(C={type:de.PullRequest,id:H});const ne=this.createVirtualUri(D.baseVirtualWorkspaceUri,{repo:{organization:i,project:s!=null?s:o,name:o},ref:C}),{name:Ce}=Di(D.getVirtualUri(this.getProviderRootUri(ne)));return{name:Ce,uri:ne,location:t,filesToOpen:_?[_]:void 0}}async fetch(e,t){const{fetched:r,metadata:i}=await this.fetchCore(e,!1,t);r&&await this.metadataStore.set(D.getVirtualUri(e),i.HEAD.sha,i)}async getAuthentication(e){const t=await this.authService.ensureAuthenticated();return{provider:za,session:t,getRichNavigationHeaders:()=>({"X-Git-AzureDevOps":`Basic ${this.authService.getBase64AuthenticationSessionToken(t)}`})}}async getBranch(e,t){const{branches:r}=await this.getBranches(e,{query:t,limit:1});return r[0]}async getBranches(e,t){const{repo:{organization:r,project:i,name:s}}=Di(e);return{branches:(await this.adoClient.getRefs(r,i,s,{filter:"heads/",filterContains:t.query,top:t.limit})).map(u=>({type:Wi.Head,name:u.name.substring(11),commit:u.objectId,commitUrl:u.url,locked:u.isLocked}))}}async getCommit(e,t){var r,i;try{const{repo:{organization:s,project:o,name:u}}=await this.getMetadata(e),l=await this.adoClient.getCommit(s,o,u,t);return l===void 0?void 0:{hash:l.commitId,message:(r=l.comment)!=null?r:"",parents:(i=l.parents)!=null?i:[],authorDate:new Date(l.author.date),authorEmail:l.author.email,authorName:l.author.name,commitDate:new Date(l.committer.date)}}catch(s){return}}async getCommits(e,t){var r;try{const{repo:{organization:i,project:s,name:o}}=await this.getMetadata(e),u=(r=t==null?void 0:t.limit)!=null?r:100,l=await this.adoClient.getCommits(i,s,o,{...t,limit:u+1});if(l===void 0)return;const c=l.map((H,C)=>({hash:H.commitId,message:H.comment,parents:l[C+1]?[l[C+1].commitId]:[],authorDate:new Date(H.author.date),authorEmail:H.author.email,authorName:H.author.name,commitDate:new Date(H.committer.date)}));let _;return c.length>u&&(c.splice(c.length-1,1),_={cursor:c[c.length-1].hash,more:!0}),{commits:c,paging:_}}catch(i){return}}async getFileContent(e,t,r){try{let i;const s=this.getProviderRootUri(e);if(t&&r&&!this.hasFileTree(e,t)){r.startsWith("/")&&(r=r.slice(1));let o=(0,Ra.dirname)(r);(o==="."||o==="/")&&(o=""),i=await(await this.getFileTree(s,t,{path:o,cache:!1,recursive:!1})).get(r)}else{const[o,{path:u}]=await Promise.all([this.getFileTree(e,t),r?{path:void 0}:this.providerService.getMetadata(e)]);i=await o.get(r!=null?r:u)}if((i==null?void 0:i.sha)===void 0)throw h.FileSystemError.FileNotFound(e);return await i.getContent()}catch(i){throw Q.logLevel===ze.Debug&&Q.error(i),i}}async getLfsProxyEndpoint(){try{return h.commands.executeCommand("_remotehub.getLfsProxyEndpoint").then(e=>e==null?void 0:e["dev.azure.com"])}catch(e){return}}async getLfsContent(e,t){var r;const{oid:i,size:s}=cr(t),o=this.getBatchApiUrl(e),u=(await this.getAuthentication(e)).session.accessToken;try{const l=await Ei(o,{method:"POST",headers:{"Content-Type":"application/vnd.git-lfs+json",Accept:"application/vnd.git-lfs+json",Authorization:`Bearer ${u}`},body:JSON.stringify({transfers:["basic"],operation:"download",objects:[{oid:i,size:Number(s)}]})});if(l.ok){const _=(r=(await l.json()).objects[0].actions)==null?void 0:r.download,H=_==null?void 0:_.href;if(dn){const C=await this.lfsProxyEndpoint;if(C!==void 0)return h.window.withProgress({location:h.ProgressLocation.Window},(ne,Ce)=>Yi(C,{method:"POST",headers:{"Content-Type":"application/json","x-proxy-authorization":`Bearer ${u}`},body:JSON.stringify({fetchUrl:_.href,header:_.header})},void 0,Ce,ne))}return h.window.withProgress({location:h.ProgressLocation.Window},(C,ne)=>Yi(H,{method:"GET",headers:{Authorization:`Bearer ${u}`,..._.header}},void 0,ne,C))}return t}catch(l){return Q.error(l),t}}async getIncomingChanges(e){var t,r;return(r=(t=(await this.getMetadata(e)).state)==null?void 0:t.incomingChanges)!=null?r:[]}async getModeRefType(e,t){const{HEAD:r,pullRequest:i}=await(t!=null?t:this.getMetadata(e));switch(r.type){case Y.Branch:return i!==void 0?te.PullRequestBranch:te.Branch;case Y.RemoteBranch:return i!==void 0?te.PullRequestRemoteBranch:te.RemoteBranch;case Y.Tag:return te.Tag;case Y.Commit:return te.Commit}}async getGitAttributes(e){const t=e.toString(),r=this.gitAttributes.get(t);if(r)return r;const i=this.providerService.createRelativeUri(e,".gitattributes"),s=this.getFileContent(i).then(o=>new zi(ns.decode(o))).catch(o=>{if(o instanceof h.FileSystemError&&o.code===h.FileSystemError.FileNotFound().code)return new zi("");throw o});return this.gitAttributes.set(t,s),s}getProviderRootUri(e){return e=D.getProviderUri(e),ts(e)}getRelativeFilePath(e,t){let{path:r}=Di(e);const{path:i}=Di(b(e,t));return r.length!==0&&i!==r&&i.startsWith(r)?(r=r.endsWith("/")?r:`${r}/`,i.slice(r.length)):i}getRemoteUri(e){var t,r;const i=`https://dev.azure.com/${e.repo.organization}/${e.repo.project}/_git/${e.repo.name}`,s=e.path?`&path=/${e.path}`:"",o=(t=e==null?void 0:e.item)==null?void 0:t.selection,u=o&&((r=e.item)==null?void 0:r.resourceUri.scheme)!=="vscode-notebook-cell"?`&line=${o.start.line+1}&lineEnd=${o.end.line+1}&lineStartColumn=${o.start.character+1}&lineEndColumn=${o.end.character+1}`:"";return e.pullRequest?h.Uri.parse(`${i}/pullrequest/${e.pullRequest.id}`):e.branch?h.Uri.parse(`${i}?version=GB${e.branch}${s}${u}`):e.tag?h.Uri.parse(`${i}?version=GT${e.tag}${s}${u}`):e.sha?h.Uri.parse(`${i}?version=GC${e.sha}${s}${u}`):h.Uri.parse(i)}getRemoteWorkspaceSourceProviders(){return[{name:"Azure Repos",icon:"$(azure-devops)",label:h.l10n.t("Open Repository from {0}","Azure Repos"),placeholder:h.l10n.t("Choose a repository"),provideOrganization:async()=>{var e;return(e=await this.getOrganizations())==null?void 0:e.label},provideProject:async e=>{var t;return(t=await this.getProjects(e))==null?void 0:t.label},provideSources:async(e,t,r,i)=>{if(r)return;const s=await this.adoClient.getRepositories(e,t);return s==null?void 0:s.map(o=>({providerId:"azurerepos",name:o.name,icon:"$(repo)",detail:void 0,url:o.webUrl}))}}]}async getTags(e,t){const{repo:{organization:r,project:i,name:s}}=Di(e);return{tags:(await this.adoClient.getRefs(r,i,s,{filter:"tags/",filterContains:t.query,top:t.limit})).map(u=>({type:Wi.Tag,name:u.name.substring(10),commit:u.objectId,commitUrl:u.url}))}}getVirtualUriMetadata(e){const{provider:t,name:r,repo:i,ref:s}=Di(e);return{provider:t,name:r,repo:i,ref:s}}async switchTo(e,t,r){const{name:i,repo:s,HEAD:{branch:o}}=await this.getMetadata(e);let u;if(!(t!==void 0&&(typeof t=="string"?t.startsWith("refs/heads/")?u={type:de.Branch,id:t.substr(11)}:t.startsWith("refs/tags/")?u={type:de.Tag,id:t.substr(10)}:u={type:de.Branch,id:t}:u={...t,type:t.type===de.Tree?de.Branch:t.type},(o==null?void 0:o.name)===u.id)))return{name:i,uri:this.createVirtualUri(e,{repo:s,ref:u}),location:(r==null?void 0:r.openInNewWindow)?Ue.NewWindow:Ue.CurrentWindow}}async sync(e,t,r){var i,s,o,u,l,c;const _=new we(`AzDO.sync(${e.toString()}, resolution=${r.conflictResolution}, to=${r.to})`);let H;try{const{metadata:C}=await this.fetchCore(e,!0,{to:r.to});if(C.HEAD.detached){H=" \u2022 Skipped; detached HEAD";return}if(((s=(i=C==null?void 0:C.state)==null?void 0:i.behind)!=null?s:0)>0&&await t.hasChanges(e)){_.logStep("Fetching upstream changes");const ne=[],Ce=(u=(o=C.state)==null?void 0:o.incomingChanges)!=null?u:[];if(Ce.length>0){const pe=await t.getChanges(e);for(const We of pe){const vt=this.getRelativeFilePath(e,We.uri),St=Ce.find(Qt=>Qt.uri.path===We.uri.path);if(St!==void 0){ne.push({path:vt,current:We,incomingType:St.type});break}}}if(ne.length>0)switch(r.conflictResolution){case ae.KeepCurrent:_.logStep("Syncing (keep) upstream changes",{message:`: ${ne.length} conflicts; \u2022`,suffix:" \u2022 Syncing (keep) upstream changes..."});for(const pe of ne)await t.keep(pe.current.uri,{type:pe.incomingType,providerUri:Ka(C,C.HEAD.branch.sha,pe.path)});break;case ae.DiscardCurrent:_.logStep("Syncing (discard) upstream changes",{message:`: ${ne.length} conflicts; \u2022`,suffix:" \u2022 Syncing (discard) upstream changes..."});for(const pe of ne)await t.discard(pe.current.uri);break;case ae.Merge:_.logStep("Syncing (merge) upstream changes",{message:`: ${ne.length} conflicts; \u2022`,suffix:" \u2022 Syncing (merge) upstream changes..."});for(const pe of ne)await t.merge(pe.current.uri,{type:pe.incomingType,providerUri:Ka(C,C.HEAD.branch.sha,pe.path)},{providerUri:Ka(C,C.HEAD.sha,pe.path)});break;case ae.Abort:default:throw _.logStep("Syncing (abort) upstream changes",{message:`: ${ne.length} conflicts; \u2022`,suffix:" \u2022 Syncing (abort) upstream changes..."}),await this.metadataStore.set(D.getVirtualUri(e),C.HEAD.sha,C),Me.SyncOrFetchError()}}H=` \u2022 to=${(l=r.to)!=null?l:C.HEAD.branch.sha}`,await this.fastForwardTo(e,(c=r.to)!=null?c:C.HEAD.branch.sha,C)}finally{_.stop(H?{suffix:H}:void 0)}}async fork(e){throw new Error("Forks are currently not supported")}async getFork(e){throw new Error("Forks are currently not supported")}async getObjectDetails(e,t,r){throw new Error("Not able to get object detail")}async getPullRequest(e,t){throw new Error("PRs are currently not supported")}async getTarGz(e,t,r){throw new Error("Getting zip is currently not supported")}async loadWorkspaceContents(e){return!1}async fastForwardTo(e,t,r){if(r.HEAD.detached)throw Me.DetachedHEADError("Unable to fast-forward; no current branch");if(r.HEAD.sha===t&&r.state===void 0)return;const i=this.asFileTreeKey(e,r.HEAD.sha),s=this.fileTreeCache.get(i);this.fileTreeCache.delete(i),s==null||s.dispose(),Q.log(`Fast forward to ${t}; rootUri=${e.toString()}`),await this.metadataStore.set(D.getVirtualUri(e),t,{...r,HEAD:{...r.HEAD,detached:void 0,sha:t},state:t!==r.HEAD.branch.sha?r.state:void 0,timestamp:Date.now()}),t!==r.HEAD.branch.sha&&r.state===void 0&&await this.fetchCore(e,!1,{to:t})}async fetchCore(e,t,r){var i,s,o,u,l,c,_,H;const{force:C,to:ne}={...r,force:t||(r==null?void 0:r.force)},Ce=new we(`AzDO.fetch(${e.toString()}, force=${C}, to=${ne})`);let pe;try{const We=await this.getMetadata(e);if(We.HEAD.detached)return pe=" \u2022 Skipped; detached HEAD",{fetched:!1,metadata:We};if(We.HEAD.type===Y.RemoteBranch)return pe=" \u2022 Skipped; remote branch",{fetched:!1,metadata:We};const vt=await this.getBranchTips(e);if(!vt)throw pe=" \u2022 Unable to fetch branch tips",Me.SyncOrFetchError(t);if(!C&&!ne&&((i=vt.defaultBranch)==null?void 0:i.sha)!==void 0&&vt.defaultBranch.sha===We.defaultBranch.sha&&((s=vt.branch)==null?void 0:s.sha)!==void 0&&vt.branch.sha===We.HEAD.branch.sha)return pe=" \u2022 No changes detected",{fetched:!1,metadata:We};let St;if(((o=vt.defaultBranch)==null?void 0:o.sha)!==void 0&&vt.defaultBranch.sha!==We.defaultBranch.sha&&(St={defaultBranch:{...We.defaultBranch,sha:vt.defaultBranch.sha}}),((u=vt.branch)==null?void 0:u.sha)===void 0){if(pe=" \u2022 Unable to find branch tip",C)throw Me.SyncOrFetchError(t);return St!==void 0?{fetched:!0,metadata:{...We,...St}}:{fetched:!1,metadata:We}}if(vt.branch.sha!==We.HEAD.branch.sha&&(St={...St,HEAD:{...We.HEAD,branch:{...We.HEAD.branch,sha:vt.branch.sha},detached:void 0}}),vt.branch.sha===We.HEAD.sha)return pe=" \u2022 Up to date",We.state!==void 0||St!==void 0?{fetched:!0,metadata:{...We,...St,state:void 0}}:{fetched:!1,metadata:We};Ce.logStep("Fetching upstream changes");try{const Qt=await this.getAheadBehindState(e,We,{base:(l=r==null?void 0:r.to)!=null?l:We.HEAD.sha,head:(H=(_=(c=St==null?void 0:St.HEAD)==null?void 0:c.branch)==null?void 0:_.sha)!=null?H:We.HEAD.branch.sha});return pe=` \u2022 Changes detected; ${Qt==null?void 0:Qt.behind} commits behind`,{fetched:!0,metadata:{...We,...St,state:Qt?{ahead:Qt.ahead,behind:Qt.behind,incomingChanges:Qt.incomingChanges}:void 0}}}catch(Qt){if(pe=` \u2022 Failed fetching upstream changes; ${String(Qt)}`,C)throw Me.SyncOrFetchError(t);return St!==void 0?{fetched:!0,metadata:{...We,...St}}:{fetched:!1,metadata:We}}}finally{Ce.stop(pe?{suffix:pe}:void 0)}}async getAheadBehindState(e,t,r){var i,s,o,u,l;const{base:c,head:_}={base:t.HEAD.sha,head:(i=t.HEAD.branch)==null?void 0:i.sha,...r},H=new we(`AzureRepos.getAheadBehindState(${e.toString()}, base=${c}, head=${_})`);let C,ne;try{if(!_){C=` \u2022 Skipped; Unsupported HEAD type (${t.HEAD.type})`;return}const Ce=await this.adoClient.getDiffs(t.repo.organization,t.repo.project,t.repo.name,c,_),pe=[];for(const We of(s=Ce==null?void 0:Ce.changes)!=null?s:[])switch(We.changeType){case"add":pe.push({uri:h.Uri.joinPath(e,We.item.path),type:O.Created});break;case"delete":pe.push({uri:h.Uri.joinPath(e,We.item.path),type:O.Deleted});break;case"edit":pe.push({uri:h.Uri.joinPath(e,We.item.path),type:O.Changed});break;case"rename":case"targetRename":pe.push({uri:h.Uri.joinPath(e,We.item.path),type:O.Created});break;case"sourceRename":pe.push({uri:h.Uri.joinPath(e,We.item.path),type:O.Deleted});break;default:Q.warn(`AzureRepos.getAheadBehindState(${e.toString()}, base=${c}, head=${_}): Unknown file status encountered '${We.changeType}'`);break}return ne={ahead:(o=Ce==null?void 0:Ce.ahead)!=null?o:0,behind:(u=Ce==null?void 0:Ce.behind)!=null?u:0,incomingChanges:pe},ne}catch(Ce){throw C=` \u2022 Failed; ${String(Ce)}`,Q.error(Ce),Ce}finally{H.stop({suffix:C!=null?C:` \u2022 ${(l=ne==null?void 0:ne.behind)!=null?l:0} commits behind`})}}async getBranchTips(e,t){try{const{repo:{organization:r,project:i,name:s},HEAD:{branch:o}}=await this.getMetadata(e);t===void 0?t=o?`heads/${o.name}`:"":t.startsWith("refs/")&&(t=t.slice(5));const l=(await this.adoClient.getRefs(r,i,s,{filter:t})).find(ne=>ne.name===`refs/${t}`);if(l===void 0)return;const c=await this.adoClient.getRepository(r,i,s),_=c.defaultBranch.startsWith("refs/")?c.defaultBranch.slice(5):c.defaultBranch,C=(await this.adoClient.getRefs(r,i,s,{filter:_})).find(ne=>ne.name===`refs/${_}`);return C===void 0?void 0:{branch:l.objectId?{sha:l.objectId}:void 0,defaultBranch:C.objectId?{sha:C.objectId}:void 0}}catch(r){return}}async getRepositoryAccessLevel(e,t,r){var i,s,o,u,l,c;const _=await this.adoClient.getGitSecurityNamespace(e);if(_===void 0)return J.None;try{const H=await this.adoClient.getRepository(e,t,r),C=`repoV2/${H.project.id}/${H.id}`,ne=await this.adoClient.getSecurityPermissionEvaluation(e,_,C),Ce=(i=_.actions.find(vt=>vt.name==="Administer"))==null?void 0:i.bit;if(Ce&&((s=ne==null?void 0:ne.find(vt=>vt.permissions===Ce))==null?void 0:s.value))return J.Admin;const pe=(o=_.actions.find(vt=>vt.name==="GenericContribute"))==null?void 0:o.bit;if(pe&&((u=ne==null?void 0:ne.find(vt=>vt.permissions===pe))==null?void 0:u.value))return J.Write;const We=(l=_.actions.find(vt=>vt.name==="GenericRead"))==null?void 0:l.bit;if(We&&((c=ne==null?void 0:ne.find(vt=>vt.permissions===We))==null?void 0:c.value))return J.Read}catch(H){Q.error(H)}return J.None}async getRepositoryInfo(e,t,r,i){var s,o,u;try{const l=await this.adoClient.getRepository(e,t,r);((s=l.defaultBranch)==null?void 0:s.startsWith("refs/heads/"))&&(l.defaultBranch=l.defaultBranch.substring(11));const c=await this.adoClient.getBranchStats(e,t,r,l.defaultBranch);if(c===void 0)throw new Error("Unable to retrieve the details of the default branch.");const _=await this.getRepositoryAccessLevel(e,t,r),H={repo:{organization:e,project:t,name:r},accessLevel:_,defaultBranch:{name:c.name,sha:c.commit.commitId},cloneUrl:{http:l.remoteUrl,ssh:l.sshUrl}};switch(i.type){case de.Branch:case de.Tag:{const C=i.type===de.Branch?"heads":"tags",Ce=(await this.adoClient.getRefs(e,t,r,{filter:`${C}/${i.id}`})).find(pe=>pe.name===`refs/${C}/${i.id}`);return Ce===void 0?void 0:{...H,ref:{name:i.type===de.Branch?Ce.name.substring(11):Ce.name.substring(10),sha:Ce.objectId,prefix:i.type===de.Branch?"refs/heads/":"refs/tags/"}}}case de.Commit:return{...H,ref:{name:i.id==="HEAD"?l.defaultBranch:i.id,sha:x(i.id)?i.id:c.commit.commitId,prefix:x(i.id)?"":"refs/heads/"}};case de.PullRequest:{const C=await this.adoClient.getPullRequest(e,t,r,i.id);return{...H,ref:{name:C.sourceRefName.substring(11),sha:(u=(o=C.lastMergeCommit)==null?void 0:o.commitId)!=null?u:C.lastMergeSourceCommit.commitId,prefix:"refs/heads/"},pullRequest:{id:C.pullRequestId.toString(),state:as(C.status),title:C.title}}}default:return}}catch(l){throw l instanceof Error&&l.message.includes("does not exist")?Me.InvalidRepositoryError():l}}onRefreshOrRepositoryChanged(e){e=e.filter(t=>D.getProviderId(t)===this.scheme),e.length!==0&&(this.fileTreeCache.forEach(t=>t.dispose()),this.fileTreeCache.clear())}async validateBranchOrTagCasing(e,t,r,i,s){const o=s===de.Branch?"heads":"tags",u=`${o}/${i}`,c=(await this.adoClient.getRefs(e,t,r,{filter:u})).find(ne=>ne.name===`refs/${o}/${i}`);if(c)return s===de.Branch?{type:de.Branch,id:c.name.substring(11)}:{type:de.Tag,id:c.name.substring(10)};const _=`${o}/`,C=(await this.adoClient.getRefs(e,t,r,{filter:_,filterContains:i})).find(ne=>{var Ce;return((Ce=ne.name)==null?void 0:Ce.toLowerCase())===`refs/${o}/${i.toLowerCase()}`});if(C)return s===de.Branch?{type:de.Branch,id:C.name.substring(11)}:{type:de.Tag,id:C.name.substring(10)}}async getFileTree(e,t,r){var i,s,o,u,l;const c=this.isInWorkspace(e);let _=(i=r==null?void 0:r.cache)!=null?i:c,H,C,ne;if(_||!t){const vt=(o=(s=r==null?void 0:r.prefetched)==null?void 0:s.metadata)!=null?o:this.getMetadata(e);ne=c?this.getFileTreePermissions(e,vt):void 0;let St;({repo:C,HEAD:{sha:St},timestamp:H}=(u=r==null?void 0:r.prefetched)!=null?u:await vt),t&&St!==t?(_=!1,H=Date.now()):t=St}else({repo:C}=(l=r==null?void 0:r.prefetched)!=null?l:this.getVirtualUriMetadata(e)),H=Date.now();const Ce=this.asFileTreeKey(e,t),pe=this.getProviderRootUri(e),We=new we(`AzureRepos.getFileTree(${Ce}): ${e.toString()}`,{log:!1,logLevel:ze.Debug});try{let vt=a(function(){var Qt;const on=new we(`AzureRepos.createFileTree(${Ce})`);let un;const bn={dispose:()=>un==null?void 0:un.dispose(),permissions:ne,getContent:async Jn=>{const Kn=await this.adoClient.getBlob(C.organization,C.project,C.name,Jn.sha);return new Uint8Array(Kn)},getTree:async(Jn,Kn)=>{const fr=await this.adoClient.getItem(C.organization,C.project,C.name,t,"commit",Jn);if(fr==null)throw new Error(`Git item was not found. CommitId: ${t}`);const Rr=await this.adoClient.getTree(C.organization,C.project,C.name,fr.objectId,Kn);if(Rr==null)throw new Error(`Git tree was not found. ObjectId: ${fr.objectId}`);return{sha:Rr.objectId,truncated:!1,tree:Rr.treeEntries.map(gi=>{var Ki;return{path:gi.relativePath,item:{mode:gi.mode,sha:gi.objectId,stat:{type:rs(gi.gitObjectType),size:(Ki=gi.size)!=null?Ki:0,ctime:0,mtime:H}}}})}},onDidTriggerContentCaching:void 0,tryCachingContent:void 0};try{return new Ci(pe,t,H,bn,{path:r==null?void 0:r.path,recursive:(Qt=r==null?void 0:r.recursive)!=null?Qt:!1,preload:_||(r==null?void 0:r.recursive)})}catch(Jn){return Q.error(Jn),new Ci(pe,t,H,void 0)}finally{on.stop()}},"createFileTree"),St=this.fileTreeCache.get(Ce);return St!==void 0||(St=vt.call(this),_&&this.fileTreeCache.set(Ce,St)),St}finally{We.stop()}}hasFileTree(e,t){return t?this.fileTreeCache.has(this.asFileTreeKey(e,t)):this.getMetadata(e).then(r=>this.fileTreeCache.has(this.asFileTreeKey(e,r.HEAD.sha)))}async getFileTreePermissions(e,t){if(this.providerService.getModeConfig(e,await this.getModeRefType(e,t)).display===G.Edit)return;const i=await this.providerService.getIndexMetadata(e);return V.isActive(i)?h.FilePermission.Readonly:void 0}asFileTreeKey(e,t){return e=D.getProviderUri(e),`${j(this.getProviderRootUri(e))}:${t}`}async getSearchableBranches(e){const t=await this.adoClient.getSearchableBranches(e.repo.organization,e.repo.project,e.repo.name);return t===void 0?(Q.debug("AzDOProvider.getSearchableBranches returned empty result"),[]):t.indexedBranches.map(r=>r.name)}async getRepoItems(e,t,r){const[,,,,...i]=t.split("/");let s;e.HEAD.type===Y.Commit?s={version:e.HEAD.sha,versionType:"commit"}:e.HEAD.type===Y.Branch?s={version:e.HEAD.branch.name,versionType:"branch"}:e.HEAD.type===Y.Tag&&(s={version:e.HEAD.name,versionType:"tag"});const o=await this.adoClient.getItems(e.repo.organization,e.repo.project,e.repo.name,s.version,s.versionType,r?"full":"oneLevel",i.join("/"));return o===void 0?(Q.debug(`AzDOProvider.getRepoItems returned empty result for path ${t}`),[]):o}async searchCodeQuery(e,t,r){var i;const{repo:{organization:s,project:o,name:u},HEAD:l,defaultBranch:c}=await this.getMetadata(t);try{const _=await this.adoClient.searchCode(s,o,u,l.branch?l.branch.name:c.name,e),H=new h.Range(0,0,0,0),C=[];let ne;for(const Ce of(i=_==null?void 0:_.results)!=null?i:[])for(const pe of Ce.matches.content){ne={path:Ce.path,ranges:[],preview:"",matches:[]};const We=Math.max(0,pe.line-1),vt=pe.charOffset,St=vt+pe.length;ne.preview=pe.codeSnippet?pe.codeSnippet:`CharOffset: ${pe.charOffset}, Type: ${pe.type}`,ne.ranges.push(new h.Range(We,vt,We,St)),ne.matches.push(H),C.push(ne)}return{matches:C,limitHit:!1}}catch(_){return Q.error(_),{matches:[],limitHit:!1}}}async getOrganizations(){await this.authService.reauthenticate();const e=a(async()=>{const t=await this.adoClient.getAccounts();return t?t.map(r=>({label:r})):[]},"getQuickPickItems");return h.window.showQuickPick(e(),{placeHolder:"Choose an Azure DevOps Organization",title:"Choose an Azure DevOps Organization"})}async getProjects(e){const t=a(async()=>(await this.adoClient.getProjects(e)).map(i=>({label:i.name,description:i.description})),"getQuickPickItems");return h.window.showQuickPick(t(),{placeholder:"Choose an Azure DevOps project",title:"Choose an Azure DevOps project"})}async getMetadata(e){return this.providerService.getMetadata(e)}isInWorkspace(e){var t;return((t=h.workspace.getWorkspaceFolder(D.getVirtualUri(e)))==null?void 0:t.uri)!==void 0}}a(Za,"AzDORepositoryProvider");function rs(n){switch(n){case"blob":return h.FileType.File;case"tree":return h.FileType.Directory;default:return h.FileType.Unknown}}a(rs,"gitObjectTypeToFileType");function is(n){switch(n.type){case O.Created:return"add";case O.Changed:return"edit";case O.Deleted:return"delete";default:return}}a(is,"operationTypeToVersionControlChangeType");function as(n){switch(n){case"active":return le.Open;case"completed":return le.Merged;case"abandoned":return le.Closed}}a(as,"toPullRequestState");function ss(n){return{registerVirtualProviderService:function(e){Be.configure("azureRepos",n),Q.configure(n,"Azure Repos",Ae.get("logLevel")),we.start("Time to root directory",{log:!1});const t=An.configure(n),r=new Ut(n);try{const i=new jr(n.globalState),s=i.with(t),o=new ve(n.globalStorageUri,t),u=new er(s),l=new Kr(e,s,o,r,t);l.getWorkspacesWithChanges();const c=new Ii(e,i,l,t,n),_=new Ji(new zn),H=new hi(_),C=new Za(e,_,u,H),ne=new wi(e,l,C,H);n.subscriptions.push(Ae.onDidChange(Ce=>{!Ae.changed(Ce,"logLevel")||(Q.logLevel=Ae.get("logLevel"))}),new Ke(C),c,l,C,ne),e.register("azurerepos","Azure Repos",C,ne,i,l,u,c),r.publicLog2("activate")}catch(i){throw Q.error(i),pn(n,i),i}}}}a(ss,"activate")})(),module.exports=La})();
