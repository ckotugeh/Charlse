var nc=Object.defineProperty;var a=(he,l)=>nc(he,"name",{value:l,configurable:!0});(()=>{var __webpack_modules__={850:(he,l,E)=>{"use strict";E.r(l),E.d(l,{AppInsightsCore:()=>rt,BaseCore:()=>Er,BaseTelemetryPlugin:()=>sn.i,CoreUtils:()=>J.Tr,DiagnosticLogger:()=>Me.AQ,ESPromise:()=>V,ESPromiseScheduler:()=>Kr,EventHelper:()=>kn.zB,EventLatency:()=>T,EventPersistence:()=>S,EventPropertyType:()=>h,EventsDiscardedReason:()=>zn.h,FullVersionString:()=>J.vs,InternalAppInsightsCore:()=>st.F,InternalBaseCore:()=>zt.A,LoggingSeverity:()=>_.X,MinChannelPriorty:()=>Sn,NotificationManager:()=>mn.f,PerfEvent:()=>$e.zn,PerfManager:()=>$e.Jk,ProcessTelemetryContext:()=>yn.Vi,TraceLevel:()=>x,Undefined:()=>Dn.jA,Utils:()=>J.cQ,ValueKind:()=>R,ValueSanitizer:()=>fn,Version:()=>J.Gf,_ExtendedInternalMessageId:()=>y,_InternalLogMessage:()=>Me.lQ,_InternalMessageId:()=>_.v,__getRegisteredEvents:()=>Cr.um,_logInternalMessage:()=>Me.L4,_throwInternal:()=>Me.kP,_warnToConsole:()=>Me.jV,addEventHandler:()=>Cr.Ib,addEventListeners:()=>Cr.yw,addPageHideEventListener:()=>Cr.TJ,addPageShowEventListener:()=>Cr.nD,addPageUnloadEventListener:()=>Cr.c9,areCookiesSupported:()=>An.p7,arrForEach:()=>w.tO,arrIndexOf:()=>w.UA,arrMap:()=>w.Mr,arrReduce:()=>w.Xz,attachEvent:()=>Cr.pZ,cookieAvailable:()=>An.p7,createCookieMgr:()=>An.Nz,createEnumStyle:()=>g.By,createGuid:()=>J.cm,createProcessTelemetryContext:()=>yn.CD,createTraceParent:()=>hn.SU,createUniqueNamespace:()=>Ei.J,createUnloadHandlerContainer:()=>ai.Y,dateNow:()=>w.m6,deleteCookie:()=>J.kT,detachEvent:()=>Cr.pD,disableCookies:()=>J.oF,disallowsSameSiteNone:()=>An.UY,doPerf:()=>$e.Lm,dumpObj:()=>tt.eU,eventOff:()=>Cr.QY,eventOn:()=>Cr.XO,extend:()=>J.l7,findW3cTraceParent:()=>hn.lq,formatTraceParent:()=>hn.aR,generateW3CId:()=>kn.DO,getCommonSchemaMetaData:()=>J.Vv,getConsole:()=>tt.dr,getCookie:()=>J.ej,getCookieValue:()=>J.Do,getCrypto:()=>tt.MX,getDocument:()=>tt.Me,getExceptionName:()=>w.jj,getFieldValueType:()=>J.Sy,getGlobal:()=>ve.Rd,getGlobalInst:()=>tt.a8,getHistory:()=>tt.s1,getIEVersion:()=>tt.sA,getISOString:()=>w.Y6,getJSON:()=>tt.xA,getLocation:()=>tt.k$,getMsCrypto:()=>tt.gz,getNavigator:()=>tt.jW,getPerformance:()=>tt.r,getSetValue:()=>w.qK,getTenantId:()=>J.jM,getTime:()=>J.hK,getWindow:()=>tt.Jj,hasDocument:()=>tt.Nv,hasHistory:()=>tt.fE,hasJSON:()=>tt.nS,hasNavigator:()=>tt.d6,hasOwnProperty:()=>w.nr,hasWindow:()=>tt.Ym,isArray:()=>w.kJ,isArrayValid:()=>J.JT,isBeaconsSupported:()=>tt.MF,isBoolean:()=>w.jn,isChromium:()=>J.mJ,isDate:()=>w.J_,isDocumentObjectAvailable:()=>J.x9,isError:()=>w.VZ,isFetchSupported:()=>tt.JO,isFunction:()=>w.mf,isIE:()=>tt.w1,isLatency:()=>J.r7,isNotTruthy:()=>w.F,isNullOrUndefined:()=>w.le,isNumber:()=>w.hj,isObject:()=>w.Kn,isReactNative:()=>tt.b$,isSampledFlag:()=>hn.Pn,isString:()=>w.HD,isTruthy:()=>w.fQ,isTypeof:()=>w.Ym,isUint8ArrayAvailable:()=>J.IZ,isUndefined:()=>w.o8,isValidSpanId:()=>hn.Lc,isValidTraceId:()=>hn.jN,isValidTraceParent:()=>hn.J6,isValueAssigned:()=>J.Sn,isValueKind:()=>J.oS,isWindowObjectAvailable:()=>J.dH,isXhrSupported:()=>tt.Z3,mergeEvtNamespace:()=>Cr.jU,newGuid:()=>kn.GW,newId:()=>Xr.pZ,normalizeJsName:()=>w.Gf,objCreate:()=>ve.pu,objDefineAccessors:()=>w.l_,objForEachKey:()=>w.rW,objFreeze:()=>w.FL,objKeys:()=>w.FY,objSeal:()=>w.Xi,openXhr:()=>J.ot,optimizeObject:()=>w.Ax,parseTraceParent:()=>hn.j_,perfNow:()=>kn.Jj,proxyAssign:()=>w.cf,proxyFunctionAs:()=>w.Oi,proxyFunctions:()=>w.Vb,random32:()=>Xr._l,randomValue:()=>Xr.az,removeEventHandler:()=>Cr.C1,removeEventListeners:()=>Cr.nJ,removePageHideEventListener:()=>Cr.C9,removePageShowEventListener:()=>Cr.Yl,removePageUnloadEventListener:()=>Cr.JA,safeGetCookieMgr:()=>An.JP,safeGetLogger:()=>Me.vH,sanitizeProperty:()=>J.yj,setCookie:()=>J.d8,setEnableEnvMocks:()=>tt.dI,setProcessTelemetryTimings:()=>J.if,setValue:()=>w.sO,strContains:()=>w._Q,strEndsWith:()=>w.Id,strFunction:()=>Dn.cb,strObject:()=>Dn.fK,strPrototype:()=>Dn.hB,strStartsWith:()=>w.xe,strTrim:()=>w.nd,strUndefined:()=>Dn.jA,throwError:()=>w._y,toISOString:()=>w.Y6,useXDomainRequest:()=>tt.cp});var v=E(1088),g=E(4873),w=E(6708),_=E(7310),R=(0,g.By)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),T=(0,g.By)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),h=(0,g.By)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),S=(0,g.By)({Normal:1,Critical:2}),x=(0,g.By)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),y=(0,w.FL)((0,v.uc)((0,v.uc)({},_.v),(0,g.By)({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520})));/*!
 * Microsoft Dynamic Proto Utility, 1.1.7
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var b,B="undefined",F="constructor",q="prototype",j="function",se="_dynInstFuncs",M="_isDynProxy",$="_dynClass",k="_dynCls$",A="_dynInstChk",N=A,U="_dfOpts",te="_unknown_",X="__proto__",re="_dyn"+X,ce="__dynProto$Gbl",Se="_dynInstProto",ie="useBaseInst",ye="setInstFuncs",W=Object,Ye=W.getPrototypeOf,be=W.getOwnPropertyNames;function de(){var H;return typeof globalThis!==B&&(H=globalThis),!H&&typeof self!==B&&(H=self),!H&&typeof window!==B&&(H=window),!H&&typeof E.g!==B&&(H=E.g),H||{}}a(de,"_getGlobal");var Q=de(),oe=Q[ce]||(Q[ce]={o:(b={},b[ye]=!0,b[ie]=!0,b),n:1e3});function Te(H,we){return H&&W[q].hasOwnProperty.call(H,we)}a(Te,"_hasOwnProperty");function Oe(H){return H&&(H===W[q]||H===Array[q])}a(Oe,"_isObjectOrArrayPrototype");function ne(H){return Oe(H)||H===Function[q]}a(ne,"_isObjectArrayOrFunctionPrototype");function Ke(H){var we;if(H){if(Ye)return Ye(H);var Ne=H[X]||H[q]||(H[F]?H[F][q]:null);we=H[re]||Ne,Te(H,re)||(delete H[Se],we=H[re]=H[Se]||H[re],H[Se]=Ne)}return we}a(Ke,"_getObjProto");function Xe(H,we){var Ne=[];if(be)Ne=be(H);else for(var We in H)typeof We=="string"&&Te(H,We)&&Ne.push(We);if(Ne&&Ne.length>0)for(var at=0;at<Ne.length;at++)we(Ne[at])}a(Xe,"_forEachProp");function ot(H,we,Ne){return we!==F&&typeof H[we]===j&&(Ne||Te(H,we))}a(ot,"_isDynamicCandidate");function G(H){throw new TypeError("DynamicProto: "+H)}a(G,"_throwTypeError");function ee(H){var we={};return Xe(H,function(Ne){!we[Ne]&&ot(H,Ne,!1)&&(we[Ne]=H[Ne])}),we}a(ee,"_getInstanceFuncs");function ae(H,we){for(var Ne=H.length-1;Ne>=0;Ne--)if(H[Ne]===we)return!0;return!1}a(ae,"_hasVisited");function _e(H,we,Ne,We){function at(Ut,sr,Ct){var Yt=sr[Ct];if(Yt[M]&&We){var qt=Ut[se]||{};qt[N]!==!1&&(Yt=(qt[sr[$]]||{})[Ct]||Yt)}return function(){return Yt.apply(Ut,arguments)}}a(at,"_instFuncProxy");var nt={};Xe(Ne,function(Ut){nt[Ut]=at(we,Ne,Ut)});for(var yt=Ke(H),It=[];yt&&!ne(yt)&&!ae(It,yt);)Xe(yt,function(Ut){!nt[Ut]&&ot(yt,Ut,!Ye)&&(nt[Ut]=at(we,yt,Ut))}),It.push(yt),yt=Ke(yt);return nt}a(_e,"_getBaseFuncs");function Be(H,we,Ne,We){var at=null;if(H&&Te(Ne,$)){var nt=H[se]||{};if(at=(nt[Ne[$]]||{})[we],at||G("Missing ["+we+"] "+j),!at[A]&&nt[N]!==!1){for(var yt=!Te(H,we),It=Ke(H),Ut=[];yt&&It&&!ne(It)&&!ae(Ut,It);){var sr=It[we];if(sr){yt=sr===We;break}Ut.push(It),It=Ke(It)}try{yt&&(H[we]=at),at[A]=1}catch(Ct){nt[N]=!1}}}return at}a(Be,"_getInstFunc");function Ue(H,we,Ne){var We=we[H];return We===Ne&&(We=Ke(we)[H]),typeof We!==j&&G("["+H+"] is not a "+j),We}a(Ue,"_getProtoFunc");function pe(H,we,Ne,We,at){function nt(Ut,sr){var Ct=a(function(){var Yt=Be(this,sr,Ut,Ct)||Ue(sr,Ut,Ct);return Yt.apply(this,arguments)},"dynProtoProxy");return Ct[M]=1,Ct}if(a(nt,"_createDynamicPrototype"),!Oe(H)){var yt=Ne[se]=Ne[se]||{},It=yt[we]=yt[we]||{};yt[N]!==!1&&(yt[N]=!!at),Xe(Ne,function(Ut){ot(Ne,Ut,!1)&&Ne[Ut]!==We[Ut]&&(It[Ut]=Ne[Ut],delete Ne[Ut],(!Te(H,Ut)||H[Ut]&&!H[Ut][M])&&(H[Ut]=nt(H,Ut)))})}}a(pe,"_populatePrototype");function De(H,we){if(Ye){for(var Ne=[],We=Ke(we);We&&!ne(We)&&!ae(Ne,We);){if(We===H)return!0;Ne.push(We),We=Ke(We)}return!1}return!0}a(De,"_checkPrototype");function Le(H,we){return Te(H,q)?H.name||we||te:((H||{})[F]||{}).name||we||te}a(Le,"_getObjName");function Ve(H,we,Ne,We){Te(H,q)||G("theClass is an invalid class definition.");var at=H[q];De(at,we)||G("["+Le(H)+"] not in hierarchy of ["+Le(we)+"]");var nt=null;Te(at,$)?nt=at[$]:(nt=k+Le(H,"_")+"$"+oe.n,oe.n++,at[$]=nt);var yt=Ve[U],It=!!yt[ie];It&&We&&We[ie]!==void 0&&(It=!!We[ie]);var Ut=ee(we),sr=_e(at,we,Ut,It);Ne(we,sr);var Ct=!!Ye&&!!yt[ye];Ct&&We&&(Ct=!!We[ye]),pe(at,nt,we,Ut,Ct!==!1)}a(Ve,"dynamicProto"),Ve[U]=oe.o;var Me=E(5018),$e=E(9288),tt=E(7630),st=E(5121),Fe=E(7984),J=E(3599),Z=function(H){(0,v.ne)(we,H);function we(){var Ne=H.call(this)||this;return Ne.pluginVersionStringArr=[],Ve(we,Ne,function(We,at){(!We.logger||!We.logger.queue)&&(We.logger=new Me.AQ({loggingLevelConsole:1})),We.initialize=function(nt,yt,It,Ut){(0,$e.Lm)(We,function(){return"AppInsightsCore.initialize"},function(){var sr=We.pluginVersionStringArr;if(nt){nt.endpointUrl||(nt.endpointUrl=Fe.YT);var Ct=nt.propertyStorageOverride;Ct&&(!Ct.getProperty||!Ct.setProperty)&&(0,w._y)("Invalid property storage override passed."),nt.channels&&(0,w.tO)(nt.channels,function(Vt){Vt&&(0,w.tO)(Vt,function(Mt){if(Mt.identifier&&Mt.version){var Pr=Mt.identifier+"="+Mt.version;sr.push(Pr)}})})}We.getWParam=function(){return typeof document!="undefined"||!!nt.enableWParam?0:-1},yt&&(0,w.tO)(yt,function(Vt){if(Vt&&Vt.identifier&&Vt.version){var Mt=Vt.identifier+"="+Vt.version;sr.push(Mt)}}),We.pluginVersionString=sr.join(";"),We.pluginVersionStringArr=sr;try{at.initialize(nt,yt,It,Ut),We.pollInternalLogs("InternalLog")}catch(Vt){var Yt=We.logger,qt=(0,tt.eU)(Vt);qt.indexOf("channels")!==-1&&(qt+=`
 - Channels must be provided through config.channels only!`),(0,Me.kP)(Yt,1,514,"SDK Initialization Failed - no telemetry will be sent: "+qt)}},function(){return{config:nt,extensions:yt,logger:It,notificationManager:Ut}})},We.track=function(nt){(0,$e.Lm)(We,function(){return"AppInsightsCore.track"},function(){var yt=nt;if(yt){yt.timings=yt.timings||{},yt.timings.trackStart=(0,J.hK)(),(0,J.r7)(yt.latency)||(yt.latency=1);var It=yt.ext=yt.ext||{};It.sdk=It.sdk||{},It.sdk.ver=J.vs;var Ut=yt.baseData=yt.baseData||{};Ut[Fe.o6]=Ut[Fe.o6]||{};var sr=Ut[Fe.o6];sr[Fe.p8]=sr[Fe.p8]||We.pluginVersionString||Fe.qS}at.track(yt)},function(){return{item:nt}},!nt.sync)}}),Ne}return a(we,"AppInsightsCore"),we.__ieDyn=1,we}(st.F);const rt=Z;var zt=E(6900),wr=function(H){(0,v.ne)(we,H);function we(){var Ne=H.call(this)||this;return Ve(we,Ne,function(We,at){We.initialize=function(nt,yt,It,Ut){nt&&!nt.endpointUrl&&(nt.endpointUrl=Fe.YT),We.getWParam=function(){return J.x9||!!nt.enableWParam?0:-1};try{at.initialize(nt,yt,It,Ut)}catch(sr){(0,Me.kP)(We.logger,1,514,"Initialization Failed: "+(0,tt.eU)(sr)+`
 - Note: Channels must be provided through config.channels only`)}},We.track=function(nt){var yt=nt;if(yt){var It=yt.ext=yt.ext||{};It.sdk=It.sdk||{},It.sdk.ver=J.vs}at.track(yt)}}),Ne}return a(we,"BaseCore"),we.__ieDyn=1,we}(zt.A);const Er=wr;var P=w.mf;function d(H,we,Ne){return function(We){H[we]=We,Ne()}}a(d,"_createPromiseAllOnResolvedFunction");var m=function(){function H(we){var Ne=0,We=null,at=[];Ve(H,this,function(sr){sr.then=function(Ct,Yt){return new H(function(qt,Vt){nt(Ct,Yt,qt,Vt)})},sr.catch=function(Ct){return sr.then(null,Ct)}});function nt(sr,Ct,Yt,qt){at.push(function(){var Vt;try{Ne===1?Vt=P(sr)?sr(We):We:Vt=P(Ct)?Ct(We):We,Vt instanceof H?Vt.then(Yt,qt):Ne===2&&!P(Ct)?qt(Vt):Yt(Vt)}catch(Mt){qt(Mt);return}}),Ne!==0&&yt()}a(nt,"_enqueue");function yt(){if(at.length>0){var sr=at.slice();at=[],setTimeout(function(){for(var Ct=0,Yt=sr.length;Ct<Yt;++Ct)try{sr[Ct]()}catch(qt){}},0)}}a(yt,"_processQueue");function It(sr){Ne===0&&(We=sr,Ne=1,yt())}a(It,"_resolve");function Ut(sr){Ne===0&&(We=sr,Ne=2,yt())}a(Ut,"_reject"),a(function(){if(!P(we))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{we(It,Ut)}catch(Ct){Ut(Ct)}},"_initialize")()}return a(H,"ESPromise"),H.resolve=function(we){return we instanceof H?we:we&&P(we.then)?new H(function(Ne,We){try{we.then(Ne,We)}catch(at){We(at)}}):new H(function(Ne){Ne(we)})},H.reject=function(we){return new H(function(Ne,We){We(we)})},H.all=function(we){if(!(!we||!we.length))return new H(function(Ne,We){try{for(var at=[],nt=0,yt=0;yt<we.length;yt++){var It=we[yt];It&&P(It.then)?(nt++,It.then(d(at,yt,function(){--nt==0&&Ne(at)}),We)):at[yt]=It}nt===0&&setTimeout(function(){Ne(at)},0)}catch(Ut){We(Ut)}})},H.race=function(we){return new H(function(Ne,We){if(!(!we||!we.length))try{for(var at=a(function(yt){var It=we[yt];It&&P(It.then)?It.then(Ne,We):setTimeout(function(){Ne(It)},0)},"_loop_1"),nt=0;nt<we.length;nt++)at(nt)}catch(yt){We(yt)}})},H}();const V=m;var ve=E(2091),Pe=6e5,me=0,gt=[],Rt=[],Ft=[];function Nt(){return new Date().getTime()}a(Nt,"_getTime");var Gt=function(){function H(we,Ne){var We=0,at=(we||"<unnamed>")+"."+me;me++,Ve(H,this,function(It){var Ut=null,sr=0;It.scheduleEvent=function(Yt,qt,Vt){var Mt=at+"."+sr;sr++,qt&&(Mt+="-("+qt+")");var Pr=Mt+"{"+We+"}";We++;var Sr={evt:null,tm:Nt(),id:Pr,isRunning:!1,isAborted:!1};return Ut?Sr.evt=Si(Sr,Ut):Sr.evt=Gr(Sr),Ut=Sr,Ut.evt._schId=Pr,Sr.evt;function _n(Qt){for(var en=Nt(),Fr=en-Pe,br=Qt.length,Br=0;Br<br;){var ln=Qt[Br];if(ln&&ln.tm<Fr){var Ln=null;ln.abort?(Ln="Aborting ["+ln.id+"] due to Excessive runtime ("+(en-ln.tm)+" ms)",ln.abort(Ln)):Ln="Removing ["+ln.id+"] due to Excessive runtime ("+(en-ln.tm)+" ms)",yt(Ln),Qt.splice(Br,1),br--}else Br++}}a(_n,"_abortAndRemoveOldEvents");function un(Qt,en){var Fr=!1,br=Ct(gt,Qt);if(br||(br=Ct(Ft,Qt),Fr=!0),br){br.to&&(clearTimeout(br.to),br.to=null);var Br=Nt()-br.tm;en?Fr?yt("Timed out event ["+Qt+"] finally complete -- "+Br+" ms"):nt("Promise ["+Qt+"] Complete -- "+Br+" ms"):(Ft.push(br),yt("Event ["+Qt+"] Timed out and removed -- "+Br+" ms"))}else nt("Failed to remove ["+Qt+"] from running queue");Ut&&Ut.id===Qt&&(Ut=null),_n(gt),_n(Rt),_n(Ft)}a(un,"_cleanup");function pn(Qt,en){return function(Fr){return un(Qt,!0),en&&en(Fr),Fr}}a(pn,"_removeScheduledEvent");function Qn(Qt,en,Fr,br){en.then(function(Br){return Br instanceof V?(nt("Event ["+Qt+"] returned a promise -- waiting"),Qn(Qt,Br,Fr,br),Br):pn(Qt,Fr)(Br)},pn(Qt,br))}a(Qn,"_waitForFinalResult");function jn(Qt,en){var Fr=Qt.id;return new V(function(br,Br){nt("Event ["+Fr+"] Starting -- waited for "+(Qt.wTm||"--")+" ms"),Qt.isRunning=!0,Qt.abort=function(Ln){Qt.abort=null,Qt.isAborted=!0,un(Fr,!1),Br(new Error(Ln))};var ln=en(Fr);ln instanceof V?(Vt&&(Qt.to=setTimeout(function(){un(Fr,!1),Br(new Error("Timed out after ["+Vt+"] ms"))},Vt)),Qn(Fr,ln,function(Ln){nt("Event ["+Fr+"] Resolving after "+(Nt()-Qt.tm)+" ms"),br(Ln)},Br)):(nt("Promise ["+Fr+"] Auto completed as the start action did not return a promise"),br())})}a(jn,"_createScheduledEvent");function Gr(Qt){var en=Nt();return Qt.wTm=en-Qt.tm,Qt.tm=en,Qt.isAborted?V.reject(new Error("["+Mt+"] was aborted")):(gt.push(Qt),jn(Qt,Yt))}a(Gr,"_startWaitingEvent");function Si(Qt,en){var Fr=new V(function(br,Br){var ln=Nt()-en.tm,Ln=en.id;nt("["+Mt+"] is waiting for ["+Ln+":"+ln+" ms] to complete before starting -- ["+Rt.length+"] waiting and ["+gt.length+"] running"),Qt.abort=function(ti){Qt.abort=null,Ct(Rt,Mt),Qt.isAborted=!0,Br(new Error(ti))},en.evt.then(function(ti){Ct(Rt,Mt),Gr(Qt).then(br,Br)},function(ti){Ct(Rt,Mt),Gr(Qt).then(br,Br)})});return Rt.push(Qt),Fr}a(Si,"_waitForPreviousEvent")};function Ct(Yt,qt){for(var Vt=0;Vt<Yt.length;Vt++)if(Yt[Vt].id===qt)return Yt.splice(Vt,1)[0];return null}a(Ct,"_removeQueuedEvent")});function nt(It){var Ut=(0,ve.Rd)();Ut&&Ut.QUnit&&console&&console.log("ESPromiseScheduler["+at+"] "+It)}a(nt,"_debugLog");function yt(It){(0,Me.jV)(Ne,"ESPromiseScheduler["+at+"] "+It)}a(yt,"_warnLog")}return a(H,"ESPromiseScheduler"),H.incomplete=function(){return gt},H.waitingToStart=function(){return Rt},H}();const Kr=Gt;var fn=function(){function H(we){var Ne=this,We={},at=[],nt=[];we&&nt.push(we);function yt(Ct,Yt){var qt,Vt=We[Ct];if(Vt&&(qt=Vt[Yt]),!qt&&qt!==null){if((0,w.HD)(Ct)&&(0,w.HD)(Yt))if(nt.length>0){for(var Mt=0;Mt<nt.length;Mt++)if(nt[Mt].handleField(Ct,Yt)){qt={canHandle:!0,fieldHandler:nt[Mt]};break}}else at.length===0&&(qt={canHandle:!0});if(!qt&&qt!==null){qt=null;for(var Mt=0;Mt<at.length;Mt++)if(at[Mt].handleField(Ct,Yt)){qt={canHandle:!0,handler:at[Mt],fieldHandler:null};break}}Vt||(Vt=We[Ct]={}),Vt[Yt]=qt}return qt}a(yt,"_getFieldSanitizer"),Ne.addSanitizer=function(Ct){Ct&&(at.push(Ct),We={})},Ne.addFieldSanitizer=function(Ct){Ct&&(nt.push(Ct),We={})},Ne.handleField=function(Ct,Yt){var qt=yt(Ct,Yt);return qt?qt.canHandle:!1},Ne.value=function(Ct,Yt,qt,Vt){var Mt=yt(Ct,Yt);if(Mt&&Mt.canHandle){if(!Mt||!Mt.canHandle)return null;if(Mt.handler)return Mt.handler.value(Ct,Yt,qt,Vt);if(!(0,w.HD)(Yt)||(0,w.le)(qt)||qt===Fe.qS)return null;var Pr=null,Sr=(0,J.Sy)(qt);if((Sr&8192)==8192){var _n=Sr&~8192;if(Pr=qt,!(0,J.Sn)(Pr.value)||_n!==1&&_n!==2&&_n!==3&&(_n&4096)!=4096)return null}else Sr===1||Sr===2||Sr===3||(Sr&4096)==4096?Pr=Ut(Ct,Yt,qt):Sr===4&&(Pr=Ut(Ct,Yt,Vt?JSON.stringify(qt):qt));if(Pr)return It(Mt,Ct,Yt,Sr,Pr,Vt)}return null},Ne.property=function(Ct,Yt,qt,Vt){var Mt=yt(Ct,Yt);if(!Mt||!Mt.canHandle||!(0,w.HD)(Yt)||(0,w.le)(qt)||!(0,J.Sn)(qt.value))return null;var Pr=(0,J.Sy)(qt.value);return Pr===0?null:It(Mt,Ct,Yt,Pr,qt,Vt)};function It(Ct,Yt,qt,Vt,Mt,Pr){if(Ct.handler)return Ct.handler.property(Yt,qt,Mt,Pr);if(!(0,w.le)(Mt.kind)){if((Vt&4096)==4096||!(0,J.oS)(Mt.kind))return null;Mt.value=Mt.value.toString()}return sr(Ct.fieldHandler,Yt,qt,Vt,Mt)}a(It,"_handleProperty");function Ut(Ct,Yt,qt){return(0,J.Sn)(qt)?{value:qt}:null}a(Ut,"_convertToProperty");function sr(Ct,Yt,qt,Vt,Mt){if(Mt&&Ct){var Pr=Ct.getSanitizer(Yt,qt,Vt,Mt.kind,Mt.propertyType);if(Pr)if(Vt===4){var Sr={},_n=Mt.value;(0,w.rW)(_n,function(pn,Qn){var jn=Yt+"."+qt;if((0,J.Sn)(Qn)){var Gr=Ut(jn,pn,Qn);Gr=sr(Ct,jn,pn,(0,J.Sy)(Qn),Gr),Gr&&(Sr[pn]=Gr.value)}}),Mt.value=Sr}else{var un={path:Yt,name:qt,type:Vt,prop:Mt,sanitizer:Ne};Mt=Pr.call(Ne,un)}}return Mt}a(sr,"_callFieldSanitizer")}return a(H,"ValueSanitizer"),H.getFieldType=J.Sy,H}(),Sn=100,mn=E(1880),sn=E(4063),yn=E(1589),zn=E(5928),kn=E(5843),Cr=E(4869),Xr=E(4878),Dn=E(4392),An=E(3242),Ei=E(5883),ai=E(310),hn=E(4206)},7984:(he,l,E)=>{"use strict";E.d(l,{qS:()=>v,YT:()=>g,p8:()=>R,o6:()=>T});var v="",g="https://browser.events.data.microsoft.com/OneCollector/1.0/",w="pluginVersionString",_=w+"Arr",R="version",T="properties"},3599:(he,l,E)=>{"use strict";E.d(l,{Gf:()=>b,vs:()=>B,x9:()=>$,dH:()=>k,Sn:()=>A,jM:()=>N,IZ:()=>U,r7:()=>te,yj:()=>X,Vv:()=>re,oF:()=>ce,d8:()=>Se,kT:()=>ie,ej:()=>ye,Do:()=>W,cm:()=>Ye,l7:()=>be,hK:()=>de,oS:()=>Q,JT:()=>Oe,if:()=>ne,Sy:()=>Ke,cQ:()=>Xe,Tr:()=>ot,mJ:()=>G,ot:()=>ee});var v=E(7630),g=E(6708),w=E(3242),_=E(5843),R=E(4392),T=E(4869),h=E(4878),S=E(2091),x=E(7984),y,b="3.2.10",B="1DS-Web-JS-"+b,F="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",q="withCredentials",j="timeout",se=(y={},y[0]=0,y[2]=6,y[1]=1,y[3]=7,y[4096|2]=6,y[4096|1]=1,y[4096|3]=7,y),M=null,$=Boolean((0,v.Me)()),k=Boolean((0,v.Jj)());function A(ae){return!(ae===x.qS||(0,g.le)(ae))}a(A,"isValueAssigned");function N(ae){if(ae){var _e=ae.indexOf("-");if(_e>-1)return ae.substring(0,_e)}return x.qS}a(N,"getTenantId");function U(){return M===null&&(M=!(0,g.o8)(Uint8Array)&&!Te()&&!(0,v.b$)()),M}a(U,"isUint8ArrayAvailable");function te(ae){return!!(ae&&(0,g.hj)(ae)&&ae>=1&&ae<=4)}a(te,"isLatency");function X(ae,_e,Be){if(!_e&&!A(_e)||typeof ae!="string")return null;var Ue=typeof _e;if(Ue==="string"||Ue==="number"||Ue==="boolean"||(0,g.kJ)(_e))_e={value:_e};else if(Ue==="object"&&!R.CY.call(_e,"value"))_e={value:Be?JSON.stringify(_e):_e};else if((0,g.le)(_e.value)||_e.value===x.qS||!(0,g.HD)(_e.value)&&!(0,g.hj)(_e.value)&&!(0,g.jn)(_e.value)&&!(0,g.kJ)(_e.value))return null;if((0,g.kJ)(_e.value)&&!Oe(_e.value))return null;if(!(0,g.le)(_e.kind)){if((0,g.kJ)(_e.value)||!Q(_e.kind))return null;_e.value=_e.value.toString()}return _e}a(X,"sanitizeProperty");function re(ae,_e,Be){var Ue=-1;if(!(0,g.o8)(ae))if(_e>0&&(_e===32?Ue=1<<13:_e<=13&&(Ue=_e<<5)),oe(Be))Ue===-1&&(Ue=0),Ue|=Be;else{var pe=se[Ke(ae)]||-1;Ue!==-1&&pe!==-1?Ue|=pe:pe===6&&(Ue=pe)}return Ue}a(re,"getCommonSchemaMetaData");function ce(){(0,w.JP)(null).setEnabled(!1)}a(ce,"disableCookies");function Se(ae,_e,Be){(0,w.p7)(null)&&(0,w.JP)(null).set(ae,_e,Be*86400,null,"/")}a(Se,"setCookie");function ie(ae){(0,w.p7)(null)&&(0,w.JP)(null).del(ae)}a(ie,"deleteCookie");function ye(ae){return(0,w.p7)(null)?W((0,w.JP)(null),ae):x.qS}a(ye,"getCookie");function W(ae,_e,Be){Be===void 0&&(Be=!0);var Ue;return ae&&(Ue=ae.get(_e),Be&&Ue&&decodeURIComponent&&(Ue=decodeURIComponent(Ue))),Ue||x.qS}a(W,"getCookieValue");function Ye(ae){ae===void 0&&(ae="D");var _e=(0,_.GW)();return ae==="B"?_e="{"+_e+"}":ae==="P"?_e="("+_e+")":ae==="N"&&(_e=_e.replace(/-/g,x.qS)),_e}a(Ye,"createGuid");function be(ae,_e,Be,Ue,pe){var De={},Le=!1,Ve=0,Me=arguments.length,$e=Object[R.hB],tt=arguments;for($e.toString.call(tt[0])==="[object Boolean]"&&(Le=tt[0],Ve++);Ve<Me;Ve++){var ae=tt[Ve];(0,g.rW)(ae,function(Fe,J){Le&&J&&(0,g.Kn)(J)?(0,g.kJ)(J)?(De[Fe]=De[Fe]||[],(0,g.tO)(J,function(Z,rt){Z&&(0,g.Kn)(Z)?De[Fe][rt]=be(!0,De[Fe][rt],Z):De[Fe][rt]=Z})):De[Fe]=be(!0,De[Fe],J):De[Fe]=J})}return De}a(be,"extend");var de=_.Jj;function Q(ae){return ae===0||ae>0&&ae<=13||ae===32}a(Q,"isValueKind");function oe(ae){return ae>=0&&ae<=9}a(oe,"isDataType");function Te(){var ae=(0,v.jW)();if(!(0,g.o8)(ae)&&ae.userAgent){var _e=ae.userAgent.toLowerCase();if((_e.indexOf("safari")>=0||_e.indexOf("firefox")>=0)&&_e.indexOf("chrome")<0)return!0}return!1}a(Te,"isSafariOrFirefox");function Oe(ae){return ae.length>0}a(Oe,"isArrayValid");function ne(ae,_e){var Be=ae;Be.timings=Be.timings||{},Be.timings.processTelemetryStart=Be.timings.processTelemetryStart||{},Be.timings.processTelemetryStart[_e]=de()}a(ne,"setProcessTelemetryTimings");function Ke(ae){var _e=0;if(ae!=null){var Be=typeof ae;Be==="string"?_e=1:Be==="number"?_e=2:Be==="boolean"?_e=3:Be===R.fK&&(_e=4,(0,g.kJ)(ae)?(_e=4096,ae.length>0&&(_e|=Ke(ae[0]))):R.CY.call(ae,"value")&&(_e=8192|Ke(ae.value)))}return _e}a(Ke,"getFieldValueType");var Xe={Version:b,FullVersionString:B,strUndefined:R.jA,strObject:R.fK,Undefined:R.jA,arrForEach:g.tO,arrIndexOf:g.UA,arrMap:g.Mr,arrReduce:g.Xz,objKeys:g.FY,toISOString:g.Y6,isReactNative:v.b$,isString:g.HD,isNumber:g.hj,isBoolean:g.jn,isFunction:g.mf,isArray:g.kJ,isObject:g.Kn,strTrim:g.nd,isDocumentObjectAvailable:$,isWindowObjectAvailable:k,isValueAssigned:A,getTenantId:N,isBeaconsSupported:v.MF,isUint8ArrayAvailable:U,isLatency:te,sanitizeProperty:X,getISOString:g.Y6,useXDomainRequest:v.cp,getCommonSchemaMetaData:re,cookieAvailable:w.p7,disallowsSameSiteNone:w.UY,setCookie:Se,deleteCookie:ie,getCookie:ye,createGuid:Ye,extend:be,getTime:de,isValueKind:Q,isArrayValid:Oe,objDefineAccessors:g.l_,addPageUnloadEventListener:T.c9,setProcessTelemetryTimings:ne,addEventHandler:T.Ib,getFieldValueType:Ke,strEndsWith:g.Id,objForEachKey:g.rW},ot={_canUseCookies:void 0,isTypeof:g.Ym,isUndefined:g.o8,isNullOrUndefined:g.le,hasOwnProperty:g.nr,isFunction:g.mf,isObject:g.Kn,isDate:g.J_,isArray:g.kJ,isError:g.VZ,isString:g.HD,isNumber:g.hj,isBoolean:g.jn,toISOString:g.Y6,arrForEach:g.tO,arrIndexOf:g.UA,arrMap:g.Mr,arrReduce:g.Xz,strTrim:g.nd,objCreate:S.pu,objKeys:g.FY,objDefineAccessors:g.l_,addEventHandler:T.Ib,dateNow:g.m6,isIE:v.w1,disableCookies:ce,newGuid:_.GW,perfNow:_.Jj,newId:h.pZ,randomValue:h.az,random32:h._l,mwcRandomSeed:h.CN,mwcRandom32:h.F6,generateW3CId:_.DO};function G(){return!!(0,v.a8)("chrome")}a(G,"isChromium");function ee(ae,_e,Be,Ue,pe,De){Ue===void 0&&(Ue=!1),pe===void 0&&(pe=!1);function Le(Me,$e,tt){try{Me[$e]=tt}catch(st){}}a(Le,"_wrapSetXhrProp");var Ve=new XMLHttpRequest;return Ue&&Le(Ve,F,Ue),Be&&Le(Ve,q,Be),Ve.open(ae,_e,!pe),Be&&Le(Ve,q,Be),!pe&&De&&Le(Ve,j,De),Ve}a(ee,"openXhr")},5229:(he,l,E)=>{"use strict";E.r(l),E.d(l,{BE_PROFILE:()=>tt,NRT_PROFILE:()=>$e,PostChannel:()=>sa,RT_PROFILE:()=>Me});var v=E(1088);/*!
 * Microsoft Dynamic Proto Utility, 1.1.7
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var g,w="undefined",_="constructor",R="prototype",T="function",h="_dynInstFuncs",S="_isDynProxy",x="_dynClass",y="_dynCls$",b="_dynInstChk",B=b,F="_dfOpts",q="_unknown_",j="__proto__",se="_dyn"+j,M="__dynProto$Gbl",$="_dynInstProto",k="useBaseInst",A="setInstFuncs",N=Object,U=N.getPrototypeOf,te=N.getOwnPropertyNames;function X(){var He;return typeof globalThis!==w&&(He=globalThis),!He&&typeof self!==w&&(He=self),!He&&typeof window!==w&&(He=window),!He&&typeof E.g!==w&&(He=E.g),He||{}}a(X,"_getGlobal");var re=X(),ce=re[M]||(re[M]={o:(g={},g[A]=!0,g[k]=!0,g),n:1e3});function Se(He,ut){return He&&N[R].hasOwnProperty.call(He,ut)}a(Se,"_hasOwnProperty");function ie(He){return He&&(He===N[R]||He===Array[R])}a(ie,"_isObjectOrArrayPrototype");function ye(He){return ie(He)||He===Function[R]}a(ye,"_isObjectArrayOrFunctionPrototype");function W(He){var ut;if(He){if(U)return U(He);var wt=He[j]||He[R]||(He[_]?He[_][R]:null);ut=He[se]||wt,Se(He,se)||(delete He[$],ut=He[se]=He[$]||He[se],He[$]=wt)}return ut}a(W,"_getObjProto");function Ye(He,ut){var wt=[];if(te)wt=te(He);else for(var ct in He)typeof ct=="string"&&Se(He,ct)&&wt.push(ct);if(wt&&wt.length>0)for(var Lt=0;Lt<wt.length;Lt++)ut(wt[Lt])}a(Ye,"_forEachProp");function be(He,ut,wt){return ut!==_&&typeof He[ut]===T&&(wt||Se(He,ut))}a(be,"_isDynamicCandidate");function de(He){throw new TypeError("DynamicProto: "+He)}a(de,"_throwTypeError");function Q(He){var ut={};return Ye(He,function(wt){!ut[wt]&&be(He,wt,!1)&&(ut[wt]=He[wt])}),ut}a(Q,"_getInstanceFuncs");function oe(He,ut){for(var wt=He.length-1;wt>=0;wt--)if(He[wt]===ut)return!0;return!1}a(oe,"_hasVisited");function Te(He,ut,wt,ct){function Lt(Kt,hr,Dr){var tn=hr[Dr];if(tn[S]&&ct){var Yr=Kt[h]||{};Yr[B]!==!1&&(tn=(Yr[hr[x]]||{})[Dr]||tn)}return function(){return tn.apply(Kt,arguments)}}a(Lt,"_instFuncProxy");var er={};Ye(wt,function(Kt){er[Kt]=Lt(ut,wt,Kt)});for(var Tt=W(He),ir=[];Tt&&!ye(Tt)&&!oe(ir,Tt);)Ye(Tt,function(Kt){!er[Kt]&&be(Tt,Kt,!U)&&(er[Kt]=Lt(ut,Tt,Kt))}),ir.push(Tt),Tt=W(Tt);return er}a(Te,"_getBaseFuncs");function Oe(He,ut,wt,ct){var Lt=null;if(He&&Se(wt,x)){var er=He[h]||{};if(Lt=(er[wt[x]]||{})[ut],Lt||de("Missing ["+ut+"] "+T),!Lt[b]&&er[B]!==!1){for(var Tt=!Se(He,ut),ir=W(He),Kt=[];Tt&&ir&&!ye(ir)&&!oe(Kt,ir);){var hr=ir[ut];if(hr){Tt=hr===ct;break}Kt.push(ir),ir=W(ir)}try{Tt&&(He[ut]=Lt),Lt[b]=1}catch(Dr){er[B]=!1}}}return Lt}a(Oe,"_getInstFunc");function ne(He,ut,wt){var ct=ut[He];return ct===wt&&(ct=W(ut)[He]),typeof ct!==T&&de("["+He+"] is not a "+T),ct}a(ne,"_getProtoFunc");function Ke(He,ut,wt,ct,Lt){function er(Kt,hr){var Dr=a(function(){var tn=Oe(this,hr,Kt,Dr)||ne(hr,Kt,Dr);return tn.apply(this,arguments)},"dynProtoProxy");return Dr[S]=1,Dr}if(a(er,"_createDynamicPrototype"),!ie(He)){var Tt=wt[h]=wt[h]||{},ir=Tt[ut]=Tt[ut]||{};Tt[B]!==!1&&(Tt[B]=!!Lt),Ye(wt,function(Kt){be(wt,Kt,!1)&&wt[Kt]!==ct[Kt]&&(ir[Kt]=wt[Kt],delete wt[Kt],(!Se(He,Kt)||He[Kt]&&!He[Kt][S])&&(He[Kt]=er(He,Kt)))})}}a(Ke,"_populatePrototype");function Xe(He,ut){if(U){for(var wt=[],ct=W(ut);ct&&!ye(ct)&&!oe(wt,ct);){if(ct===He)return!0;wt.push(ct),ct=W(ct)}return!1}return!0}a(Xe,"_checkPrototype");function ot(He,ut){return Se(He,R)?He.name||ut||q:((He||{})[_]||{}).name||ut||q}a(ot,"_getObjName");function G(He,ut,wt,ct){Se(He,R)||de("theClass is an invalid class definition.");var Lt=He[R];Xe(Lt,ut)||de("["+ot(He)+"] not in hierarchy of ["+ot(ut)+"]");var er=null;Se(Lt,x)?er=Lt[x]:(er=y+ot(He,"_")+"$"+ce.n,ce.n++,Lt[x]=er);var Tt=G[F],ir=!!Tt[k];ir&&ct&&ct[k]!==void 0&&(ir=!!ct[k]);var Kt=Q(ut),hr=Te(Lt,ut,Kt,ir);wt(ut,hr);var Dr=!!U&&!!Tt[A];Dr&&ct&&(Dr=!!ct[A]),Ke(Lt,er,ut,Kt,Dr!==!1)}a(G,"dynamicProto"),G[F]=ce.o;var ee=E(9288),ae=E(4869),_e=E(5883),Be=E(3599),Ue=E(6708),pe=E(7630),De=E(5928),Le=E(5018),Ve=E(4063),Me="REAL_TIME",$e="NEAR_REAL_TIME",tt="BEST_EFFORT",st="",Fe="POST",J="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Z="drop",rt="send",zt="requeue",wr="rspFail",Er="oth",P="no-cache, no-store",d="application/x-json-stream",m="cache-control",V="content-type",ve="kill-tokens",Pe="kill-duration",me="kill-duration-seconds",gt="time-delta-millis",Rt="client-version",Ft="client-id",Nt="time-delta-to-apply-millis",Gt="upload-time",Kr="apikey",fn="AuthMsaDeviceTicket",Sn="AuthXToken",mn="sdk-version",sn="NoResponseBody",yn="msfpc",zn="trace",kn="user";function Cr(He){var ut=(He.ext||{}).intweb;return ut&&(0,Be.Sn)(ut[yn])?ut[yn]:null}a(Cr,"_getEventMsfpc");function Xr(He){for(var ut=null,wt=0;ut===null&&wt<He.length;wt++)ut=Cr(He[wt]);return ut}a(Xr,"_getMsfpc");var Dn=function(){function He(ut,wt){var ct=wt?[].concat(wt):[],Lt=this,er=Xr(ct);Lt.iKey=function(){return ut},Lt.Msfpc=function(){return er||st},Lt.count=function(){return ct.length},Lt.events=function(){return ct},Lt.addEvent=function(Tt){return Tt?(ct.push(Tt),er||(er=Cr(Tt)),!0):!1},Lt.split=function(Tt,ir){var Kt;if(Tt<ct.length){var hr=ct.length-Tt;(0,Ue.le)(ir)||(hr=ir<hr?ir:hr),Kt=ct.splice(Tt,hr),er=Xr(ct)}return new He(ut,Kt)}}return a(He,"EventBatch"),He.create=function(ut,wt){return new He(ut,wt)},He}(),An=function(){function He(){var ut=!0,wt=!0,ct=!0,Lt="use-collector-delta",er=!1;G(He,this,function(Tt){Tt.allowRequestSending=function(){return ut},Tt.firstRequestSent=function(){ct&&(ct=!1,er||(ut=!1))},Tt.shouldAddClockSkewHeaders=function(){return wt},Tt.getClockSkewHeaderValue=function(){return Lt},Tt.setClockSkew=function(ir){er||(ir?(Lt=ir,wt=!0,er=!0):wt=!1,ut=!0)}})}return a(He,"ClockSkewManager"),He.__ieDyn=1,He}();const Ei=An;var ai=1e3,hn=function(){function He(){var ut={};function wt(ct){var Lt=[];return ct&&(0,Ue.tO)(ct,function(er){Lt.push((0,Ue.nd)(er))}),Lt}a(wt,"_normalizeTenants"),G(He,this,function(ct){ct.setKillSwitchTenants=function(Lt,er){if(Lt&&er)try{var Tt=wt(Lt.split(","));if(er==="this-request-only")return Tt;for(var ir=parseInt(er,10)*ai,Kt=0;Kt<Tt.length;++Kt)ut[Tt[Kt]]=(0,Ue.m6)()+ir}catch(hr){return[]}return[]},ct.isTenantKilled=function(Lt){var er=ut,Tt=(0,Ue.nd)(Lt);return er[Tt]!==void 0&&er[Tt]>(0,Ue.m6)()?!0:(delete er[Tt],!1)}})}return a(He,"KillSwitch"),He.__ieDyn=1,He}();const H=hn;var we=E(4392),Ne=.8,We=1.2,at=3e3,nt=6e5;function yt(He){return!(He>=300&&He<500&&He!=408&&He!=429||He==501||He==505)}a(yt,"retryPolicyShouldRetryForStatus");function It(He){var ut=0,wt=at*Ne,ct=at*We,Lt=Math.floor(Math.random()*(ct-wt))+wt;return ut=Math.pow(2,He)*Lt,Math.min(ut,nt)}a(It,"retryPolicyGetMillisToBackoffForRetry");var Ut=20,sr=3984588,Ct=65e3,Yt=2e6,qt=Math.min(Yt,Ct),Vt="metadata",Mt="f",Pr=/\./,Sr=function(){function He(ut,wt,ct,Lt){var er="data",Tt="baseData",ir="ext",Kt=!!Lt,hr=!0,Dr=wt,tn={};G(He,this,function(Yr){Yr.createPayload=function(rr,Jt,vr,mr,K,ue){return{apiKeys:[],payloadBlob:st,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:rr,isTeardown:Jt,isSync:vr,isBeacon:mr,sendType:ue,sendReason:K}},Yr.appendPayload=function(rr,Jt,vr){var mr=rr&&Jt&&!rr.overflow;return mr&&(0,ee.Lm)(ut,function(){return"Serializer:appendPayload"},function(){for(var K=Jt.events(),ue=rr.payloadBlob,Ee=rr.numEvents,ht=!1,kt=[],$t=[],pr=rr.isBeacon,lr=pr?Ct:sr,ar=pr?qt:Yt,dr=0,yr=0;dr<K.length;){var jt=K[dr];if(jt){if(Ee>=vr){rr.overflow=Jt.split(dr);break}var Dt=Yr.getEventBlob(jt);if(Dt&&Dt.length<=ar){var Or=Dt.length,Ar=ue.length;if(Ar+Or>lr){rr.overflow=Jt.split(dr);break}ue&&(ue+=`
`),ue+=Dt,yr++,yr>Ut&&(ue.substr(0,1),yr=0),ht=!0,Ee++}else Dt?kt.push(jt):$t.push(jt),K.splice(dr,1),dr--}dr++}if(kt&&kt.length>0&&rr.sizeExceed.push(Dn.create(Jt.iKey(),kt)),$t&&$t.length>0&&rr.failedEvts.push(Dn.create(Jt.iKey(),$t)),ht){rr.batches.push(Jt),rr.payloadBlob=ue,rr.numEvents=Ee;var $r=Jt.iKey();(0,Ue.UA)(rr.apiKeys,$r)===-1&&rr.apiKeys.push($r)}},function(){return{payload:rr,theBatch:{iKey:Jt.iKey(),evts:Jt.events()},max:vr}}),mr},Yr.getEventBlob=function(rr){try{return(0,ee.Lm)(ut,function(){return"Serializer.getEventBlob"},function(){var Jt={};Jt.name=rr.name,Jt.time=rr.time,Jt.ver=rr.ver,Jt.iKey="o:"+(0,Be.jM)(rr.iKey);var vr={},mr=rr[ir];mr&&(Jt[ir]=vr,(0,Ue.rW)(mr,function(Ee,ht){var kt=vr[Ee]={};Ur(ht,kt,"ext."+Ee,!0,null,null,!0)}));var K=Jt[er]={};K.baseType=rr.baseType;var ue=K[Tt]={};return Ur(rr.baseData,ue,Tt,!1,[Tt],function(Ee,ht,kt){_n(vr,Ee,ht,kt)},hr),Ur(rr.data,K,er,!1,[],function(Ee,ht,kt){_n(vr,Ee,ht,kt)},hr),JSON.stringify(Jt)},function(){return{item:rr}})}catch(Jt){return null}};function rn(rr,Jt){var vr=tn[rr];return vr===void 0&&(rr.length>=7&&(vr=(0,Ue.xe)(rr,"ext.metadata")||(0,Ue.xe)(rr,"ext.web")),tn[rr]=vr),vr}a(rn,"_isReservedField");function Ur(rr,Jt,vr,mr,K,ue,Ee){(0,Ue.rW)(rr,function(ht,kt){var $t=null;if(kt||(0,Be.Sn)(kt)){var pr=vr,lr=ht,ar=K,dr=Jt;if(Kt&&!mr&&Pr.test(ht)){var yr=ht.split("."),jt=yr.length;if(jt>1){ar&&(ar=ar.slice());for(var Dt=0;Dt<jt-1;Dt++){var Or=yr[Dt];dr=dr[Or]=dr[Or]||{},pr+="."+Or,ar&&ar.push(Or)}lr=yr[jt-1]}}var Ar=mr&&rn(pr,lr);if(!Ar&&Dr&&Dr.handleField(pr,lr)?$t=Dr.value(pr,lr,kt,ct):$t=(0,Be.yj)(lr,kt,ct),$t){var $r=$t.value;if(dr[lr]=$r,ue&&ue(ar,lr,$t),Ee&&typeof $r=="object"&&!(0,Ue.kJ)($r)){var Jr=ar;Jr&&(Jr=Jr.slice(),Jr.push(lr)),Ur(kt,$r,pr+"."+lr,mr,Jr,ue,Ee)}}}})}a(Ur,"_processPathKeys")})}return a(He,"Serializer"),He.__ieDyn=1,He}();function _n(He,ut,wt,ct){if(ct&&He){var Lt=(0,Be.Vv)(ct.value,ct.kind,ct.propertyType);if(Lt>-1){var er=He[Vt];er||(er=He[Vt]={f:{}});var Tt=er[Mt];if(Tt||(Tt=er[Mt]={}),ut)for(var ir=0;ir<ut.length;ir++){var Kt=ut[ir];Tt[Kt]||(Tt[Kt]={f:{}});var hr=Tt[Kt][Mt];hr||(hr=Tt[Kt][Mt]={}),Tt=hr}Tt=Tt[wt]={},(0,Ue.kJ)(ct.value)?Tt.a={t:Lt}:Tt.t=Lt}}}a(_n,"_addJSONPropertyMetaData");var un,pn="sendAttempt",Qn="&"+sn+"=true",jn=(un={},un[1]=zt,un[100]=zt,un[200]="sent",un[8004]=Z,un[8003]=Z,un),Gr={},Si={};function Qt(He,ut,wt){Gr[He]=ut,wt!==!1&&(Si[ut]=He)}a(Qt,"_addCollectorHeaderQsMapping"),Qt(fn,fn,!1),Qt(Rt,Rt),Qt(Ft,"Client-Id"),Qt(Kr,Kr),Qt(Nt,Nt),Qt(Gt,Gt),Qt(Sn,Sn);function en(He){try{return He.responseText}catch(ut){}return st}a(en,"_getResponseText");function Fr(He,ut){var wt=!1;if(He&&ut){var ct=(0,Ue.FY)(He);if(ct&&ct.length>0)for(var Lt=ut.toLowerCase(),er=0;er<ct.length;er++){var Tt=ct[er];if(Tt&&(0,Ue.nr)(ut,Tt)&&Tt.toLowerCase()===Lt){wt=!0;break}}}return wt}a(Fr,"_hasHeader");function br(He,ut,wt,ct){ut&&wt&&wt.length>0&&(ct&&Gr[ut]?(He.hdrs[Gr[ut]]=wt,He.useHdrs=!0):He.url+="&"+ut+"="+wt)}a(br,"_addRequestDetails");function Br(He,ut){return ut&&((0,Ue.hj)(ut)?He=[ut].concat(He):(0,Ue.kJ)(ut)&&(He=ut.concat(He))),He}a(Br,"_prependTransports");var ln=function(){function He(ut,wt,ct,Lt,er){this._responseHandlers=[];var Tt="?cors=true&"+V.toLowerCase()+"="+d,ir=new H,Kt=!1,hr=new Ei,Dr=!1,tn=0,Yr,rn,Ur,rr,Jt=!0,vr=[],mr={},K=[],ue=null,Ee=!1,ht,kt=!1,$t=!1,pr,lr,ar,dr,yr;G(He,this,function(jt){var Dt=!0;jt.initialize=function(xe,it,pt,vt,Pt){var Ht;Pt||(Pt={}),Tt=xe+Tt,$t=(0,Ue.o8)(Pt.avoidOptions)?!0:!Pt.avoidOptions,rr=it,ht=it.getCookieMgr(),Ee=!rr.config.disableEventTimings;var nr=!!rr.config.enableCompoundKey;Yr=pt,rn=Yr.diagLog();var Ce=Pt.valueSanitizer,qe=Pt.stringifyObjects;(0,Ue.o8)(Pt.enableCompoundKey)||(nr=!!Pt.enableCompoundKey),pr=Pt.xhrTimeout,lr=!!Pt.disableXhrSync,ar=!!Pt.disableFetchKeepAlive,yr=Pt.addNoResponse!==!1,Dr=!(0,pe.b$)(),ue=new Sr(rr,Ce,qe,nr),(0,Ue.le)(Pt.useSendBeacon)||(Dr=!!Pt.useSendBeacon);var Ge=vt,_t=Pt.alwaysUseXhrOverride?vt:null,Bt=Pt.alwaysUseXhrOverride?vt:null,tr=[3,2];if(!vt){Jt=!1;var Rr=(0,pe.k$)();Rr&&Rr.protocol&&Rr.protocol.toLowerCase()==="file:"&&(Dt=!1);var xr=[];(0,pe.b$)()?(xr=[2,1],tr=[2,1,3]):xr=[1,2,3],xr=Br(xr,Pt.transports),vt=Or(xr,!1),vt||(0,Le.jV)(rn,"No available transport to send events"),Ge=Or(xr,!0)}_t||(tr=Br(tr,Pt.unloadTransports),_t=Or(tr,!0)),dr=!Jt&&(Dr&&(0,pe.MF)()||!ar&&(0,pe.JO)(!0)),Ur=(Ht={},Ht[0]=vt,Ht[1]=Ge||Or([1,2,3],!0),Ht[2]=_t||Ge||Or([1],!0),Ht[3]=Bt||Or([2,3],!0)||Ge||Or([1],!0),Ht)};function Or(xe,it){for(var pt=0,vt=null,Pt=0;vt==null&&Pt<xe.length;)pt=xe[Pt],pt===1?(0,pe.cp)()?vt=Ar:(0,pe.Z3)()&&(vt=Jr):pt===2&&(0,pe.JO)(it)&&(!it||it&&!ar)?vt=$r:Dr&&pt===3&&(0,pe.MF)()&&(vt=Un),Pt++;return vt?{_transport:pt,_isSync:it,sendPOST:vt}:null}a(Or,"_getSenderInterface"),jt._getDbgPlgTargets=function(){return[Ur[0],ir,ue,Ur]};function Ar(xe,it,pt){var vt=new XDomainRequest;vt.open(Fe,xe.urlString),xe.timeout&&(vt.timeout=xe.timeout),vt.onload=function(){var Pt=en(vt);Xt(it,200,{},Pt),ni(Pt)},vt.onerror=function(){Xt(it,400,{})},vt.ontimeout=function(){Xt(it,500,{})},vt.onprogress=function(){},pt?vt.send(xe.data):er.set(function(){vt.send(xe.data)},0)}a(Ar,"_xdrSendPost");function $r(xe,it,pt){var vt,Pt=xe.urlString,Ht=!1,nr=!1,Ce=(vt={body:xe.data,method:Fe},vt[J]=!0,vt);pt&&(Ce.keepalive=!0,xe._sendReason===2&&(Ht=!0,yr&&(Pt+=Qn))),Dt&&(Ce.credentials="include"),xe.headers&&(0,Ue.FY)(xe.headers).length>0&&(Ce.headers=xe.headers),fetch(Pt,Ce).then(function(qe){var Ge={},_t=st,Bt=qe.headers;Bt&&Bt.forEach(function(tr,Rr){Ge[Rr]=tr}),qe.body&&qe.text().then(function(tr){_t=tr}),nr||(nr=!0,Xt(it,qe.status,Ge,_t),ni(_t))}).catch(function(qe){nr||(nr=!0,Xt(it,0,{}))}),Ht&&!nr&&(nr=!0,Xt(it,200,{})),!nr&&xe.timeout>0&&er.set(function(){nr||(nr=!0,Xt(it,500,{}))},xe.timeout)}a($r,"_fetchSendPost");function Jr(xe,it,pt){var vt=xe.urlString;function Pt(qe,Ge,_t){if(!qe[_t]&&Ge&&Ge.getResponseHeader){var Bt=Ge.getResponseHeader(_t);Bt&&(qe[_t]=(0,Ue.nd)(Bt))}return qe}a(Pt,"_appendHeader");function Ht(qe){var Ge={};return qe.getAllResponseHeaders?Ge=Li(qe.getAllResponseHeaders()):(Ge=Pt(Ge,qe,gt),Ge=Pt(Ge,qe,Pe),Ge=Pt(Ge,qe,me)),Ge}a(Ht,"_getAllResponseHeaders");function nr(qe,Ge){Xt(it,qe.status,Ht(qe),Ge)}a(nr,"xhrComplete"),pt&&xe.disableXhrSync&&(pt=!1);var Ce=(0,Be.ot)(Fe,vt,Dt,!0,pt,xe.timeout);(0,Ue.rW)(xe.headers,function(qe,Ge){Ce.setRequestHeader(qe,Ge)}),Ce.onload=function(){var qe=en(Ce);nr(Ce,qe),ni(qe)},Ce.onerror=function(){nr(Ce)},Ce.ontimeout=function(){nr(Ce)},Ce.send(xe.data)}a(Jr,"_xhrSendPost");function Xt(xe,it,pt,vt){try{xe(it,pt,vt)}catch(Pt){(0,Le.kP)(rn,2,518,(0,pe.eU)(Pt))}}a(Xt,"_doOnComplete");function Un(xe,it,pt){var vt=xe,Pt=200,Ht=vt._thePayload,nr=xe.urlString+(yr?Qn:st);try{var Ce=(0,pe.jW)();if(!Ce.sendBeacon(nr,xe.data))if(Ht){var qe=[];(0,Ue.tO)(Ht.batches,function(Ge){if(qe&&Ge&&Ge.count()>0){for(var _t=Ge.events(),Bt=0;Bt<_t.length;Bt++)if(!Ce.sendBeacon(nr,ue.getEventBlob(_t[Bt]))){qe.push(Ge.split(Bt));break}}else qe.push(Ge.split(0))}),dn(qe,8003,Ht.sendType,!0)}else Pt=0}catch(Ge){(0,Le.jV)(rn,"Failed to send telemetry using sendBeacon API. Ex:"+(0,pe.eU)(Ge)),Pt=0}finally{Xt(it,Pt,{},st)}}a(Un,"_beaconSendPost");function bn(xe){return xe===2||xe===3}a(bn,"_isBeaconPayload");function Nr(xe){return kt&&bn(xe)&&(xe=2),xe}a(Nr,"_adjustSendType"),jt.addQueryStringParameter=function(xe,it){for(var pt=0;pt<vr.length;pt++)if(vr[pt].name===xe){vr[pt].value=it;return}vr.push({name:xe,value:it})},jt.addHeader=function(xe,it){mr[xe]=it},jt.canSendRequest=function(){return ri()&&hr.allowRequestSending()},jt.sendQueuedRequests=function(xe,it){(0,Ue.o8)(xe)&&(xe=0),kt&&(xe=Nr(xe),it=2),Hn(K,xe,0)&&si($n(),0,!1,xe,it||0)},jt.isCompletelyIdle=function(){return!Kt&&tn===0&&K.length===0},jt.setUnloading=function(xe){kt=xe},jt.addBatch=function(xe){if(xe&&xe.count()>0){if(ir.isTenantKilled(xe.iKey()))return!1;K.push(xe)}return!0},jt.teardown=function(){K.length>0&&si($n(),0,!0,2,2)},jt.pause=function(){Kt=!0},jt.resume=function(){Kt=!1,jt.sendQueuedRequests(0,4)},jt.sendSynchronousBatch=function(xe,it,pt){xe&&xe.count()>0&&((0,Ue.le)(it)&&(it=1),kt&&(it=Nr(it),pt=2),si([xe],0,!1,it,pt||0))};function ri(){return!Kt&&tn<wt}a(ri,"_hasIdleConnection");function $n(){var xe=K;return K=[],xe}a($n,"_clearQueue");function Hn(xe,it,pt){var vt=!1;return xe&&xe.length>0&&!Kt&&Ur[it]&&ue&&(vt=it!==0||ri()&&(pt>0||hr.allowRequestSending())),vt}a(Hn,"_canSendPayload");function di(xe){var it={};return xe&&(0,Ue.tO)(xe,function(pt,vt){it[vt]={iKey:pt.iKey(),evts:pt.events()}}),it}a(di,"_createDebugBatches");function si(xe,it,pt,vt,Pt){if(!(!xe||xe.length===0)){if(Kt){dn(xe,1,vt);return}vt=Nr(vt);try{var Ht=xe,nr=vt!==0;(0,ee.Lm)(rr,function(){return"HttpManager:_sendBatches"},function(Ce){Ce&&(xe=xe.slice(0));for(var qe=[],Ge=null,_t=(0,Be.hK)(),Bt=Ur[vt]||(nr?Ur[1]:Ur[0]),tr=Bt&&Bt._transport,Rr=dr&&(kt||bn(vt)||tr===3||Bt._isSync&&tr===2);Hn(xe,vt,it);){var xr=xe.shift();xr&&xr.count()>0&&(ir.isTenantKilled(xr.iKey())?qe.push(xr):(Ge=Ge||ue.createPayload(it,pt,nr,Rr,Pt,vt),ue.appendPayload(Ge,xr,ut)?Ge.overflow!==null&&(xe=[Ge.overflow].concat(xe),Ge.overflow=null,In(Ge,_t,(0,Be.hK)(),Pt),_t=(0,Be.hK)(),Ge=null):(In(Ge,_t,(0,Be.hK)(),Pt),_t=(0,Be.hK)(),xe=[xr].concat(xe),Ge=null)))}Ge&&In(Ge,_t,(0,Be.hK)(),Pt),xe.length>0&&(K=xe.concat(K)),dn(qe,8004,vt)},function(){return{batches:di(Ht),retryCount:it,isTeardown:pt,isSynchronous:nr,sendReason:Pt,useSendBeacon:bn(vt),sendType:vt}},!nr)}catch(Ce){(0,Le.kP)(rn,2,48,"Unexpected Exception sending batch: "+(0,pe.eU)(Ce))}}}a(si,"_sendBatches");function gi(xe,it){var pt={url:Tt,hdrs:{},useHdrs:!1};it?(pt.hdrs=(0,Be.l7)(pt.hdrs,mr),pt.useHdrs=(0,Ue.FY)(pt.hdrs).length>0):(0,Ue.rW)(mr,function(Ce,qe){Si[Ce]?br(pt,Si[Ce],qe,!1):(pt.hdrs[Ce]=qe,pt.useHdrs=!0)}),br(pt,Ft,"NO_AUTH",it),br(pt,Rt,Be.vs,it);var vt=st;(0,Ue.tO)(xe.apiKeys,function(Ce){vt.length>0&&(vt+=","),vt+=Ce}),br(pt,Kr,vt,it),br(pt,Gt,(0,Ue.m6)().toString(),it);var Pt=pi(xe);if((0,Be.Sn)(Pt)&&(pt.url+="&ext.intweb.msfpc="+Pt),hr.shouldAddClockSkewHeaders()&&br(pt,Nt,hr.getClockSkewHeaderValue(),it),rr.getWParam){var Ht=rr.getWParam();Ht>=0&&(pt.url+="&w="+Ht)}for(var nr=0;nr<vr.length;nr++)pt.url+="&"+vr[nr].name+"="+vr[nr].value;return pt}a(gi,"_buildRequestDetails");function Kn(xe,it,pt){xe[it]=xe[it]||{},xe[it][Yr.identifier]=pt}a(Kn,"_setTimingValue");function In(xe,it,pt,vt){if(xe&&xe.payloadBlob&&xe.payloadBlob.length>0){var Pt=!!jt.sendHook,Ht=Ur[xe.sendType];!bn(xe.sendType)&&xe.isBeacon&&xe.sendReason===2&&(Ht=Ur[2]||Ur[3]||Ht);var nr=$t;(xe.isBeacon||Ht._transport===3)&&(nr=!1);var Ce=gi(xe,nr);nr=nr||Ce.useHdrs;var qe=(0,Be.hK)();(0,ee.Lm)(rr,function(){return"HttpManager:_doPayloadSend"},function(){for(var Ge=0;Ge<xe.batches.length;Ge++)for(var _t=xe.batches[Ge],Bt=_t.events(),tr=0;tr<Bt.length;tr++){var Rr=Bt[tr];if(Ee){var xr=Rr.timings=Rr.timings||{};Kn(xr,"sendEventStart",qe),Kn(xr,"serializationStart",it),Kn(xr,"serializationCompleted",pt)}Rr[pn]>0?Rr[pn]++:Rr[pn]=1}dn(xe.batches,1e3+(vt||0),xe.sendType,!0);var zr={data:xe.payloadBlob,urlString:Ce.url,headers:Ce.hdrs,_thePayload:xe,_sendReason:vt,timeout:pr,disableXhrSync:lr,disableFetchKeepAlive:ar};nr&&(Fr(zr.headers,m)||(zr.headers[m]=P),Fr(zr.headers,V)||(zr.headers[V]=d));var Ti=null;Ht&&(Ti=a(function(Gi){hr.firstRequestSent();var ea=a(function(Oi,vi){Ci(Oi,vi,xe,vt)},"onComplete"),vn=xe.isTeardown||xe.isSync;try{Ht.sendPOST(Gi,ea,vn),jt.sendListener&&jt.sendListener(zr,Gi,vn,xe.isBeacon)}catch(Oi){(0,Le.jV)(rn,"Unexpected exception sending payload. Ex:"+(0,pe.eU)(Oi)),Xt(ea,0,{})}},"sender")),(0,ee.Lm)(rr,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(Ti)if(xe.sendType===0&&tn++,Pt&&!xe.isBeacon&&Ht._transport!==3){var Gi={data:zr.data,urlString:zr.urlString,headers:(0,Be.l7)({},zr.headers),timeout:zr.timeout,disableXhrSync:zr.disableXhrSync,disableFetchKeepAlive:zr.disableFetchKeepAlive},ea=!1;(0,ee.Lm)(rr,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{jt.sendHook(Gi,function(vn){ea=!0,!Jt&&!vn._thePayload&&(vn._thePayload=vn._thePayload||zr._thePayload,vn._sendReason=vn._sendReason||zr._sendReason),Ti(vn)},xe.isSync||xe.isTeardown)}catch(vn){ea||Ti(zr)}})}else Ti(zr)})},function(){return{thePayload:xe,serializationStart:it,serializationCompleted:pt,sendReason:vt}},xe.isSync)}xe.sizeExceed&&xe.sizeExceed.length>0&&dn(xe.sizeExceed,8003,xe.sendType),xe.failedEvts&&xe.failedEvts.length>0&&dn(xe.failedEvts,8002,xe.sendType)}a(In,"_doPayloadSend");function xi(xe,it){Ee&&(0,Ue.tO)(xe,function(pt){var vt=pt.timings=pt.timings||{};Kn(vt,"sendEventCompleted",it)})}a(xi,"_addEventCompletedTimings");function Ci(xe,it,pt,vt){var Pt=9e3,Ht=null,nr=!1,Ce=!1;try{var qe=!0;if(typeof xe!==we.jA){if(it){hr.setClockSkew(it[gt]);var Ge=it[Pe]||it["kill-duration-seconds"];(0,Ue.tO)(ir.setKillSwitchTenants(it[ve],Ge),function(Bt){(0,Ue.tO)(pt.batches,function(tr){if(tr.iKey()===Bt){Ht=Ht||[];var Rr=tr.split(0);pt.numEvents-=Rr.count(),Ht.push(Rr)}})})}if(xe==200||xe==204){Pt=200;return}(!yt(xe)||pt.numEvents<=0)&&(qe=!1),Pt=9e3+xe%1e3}if(qe){Pt=100;var _t=pt.retryCnt;pt.sendType===0&&(_t<ct?(nr=!0,ui(function(){pt.sendType===0&&tn--,si(pt.batches,_t+1,pt.isTeardown,kt?2:pt.sendType,5)},kt,It(_t))):(Ce=!0,kt&&(Pt=8001)))}}finally{nr||(hr.setClockSkew(),Gn(pt,Pt,vt,Ce)),dn(Ht,8004,pt.sendType)}}a(Ci,"_retryRequestIfNeeded");function Gn(xe,it,pt,vt){try{vt&&Yr._backOffTransmission(),it===200&&(!vt&&!xe.isSync&&Yr._clearBackOff(),Zn(xe.batches)),dn(xe.batches,it,xe.sendType,!0)}finally{xe.sendType===0&&(tn--,pt!==5&&jt.sendQueuedRequests(xe.sendType,pt))}}a(Gn,"_handleRequestFinished");function Zn(xe){if(Ee){var it=(0,Be.hK)();(0,Ue.tO)(xe,function(pt){pt&&pt.count()>0&&xi(pt.events(),it)})}}a(Zn,"_addCompleteTimings");function ui(xe,it,pt){it?xe():er.set(xe,pt)}a(ui,"_doAction");function Li(xe){var it={};if((0,Ue.HD)(xe)){var pt=(0,Ue.nd)(xe).split(/[\r\n]+/);(0,Ue.tO)(pt,function(vt){if(vt){var Pt=vt.indexOf(": ");if(Pt!==-1){var Ht=(0,Ue.nd)(vt.substring(0,Pt)).toLowerCase(),nr=(0,Ue.nd)(vt.substring(Pt+1));it[Ht]=nr}else it[(0,Ue.nd)(vt)]=1}})}return it}a(Li,"_convertAllHeadersToMap");function pi(xe){for(var it=0;it<xe.batches.length;it++){var pt=xe.batches[it].Msfpc();if(pt)return encodeURIComponent(pt)}return st}a(pi,"_getMsfpc");function ni(xe){var it=jt._responseHandlers;try{for(var pt=0;pt<it.length;pt++)try{it[pt](xe)}catch(Pt){(0,Le.kP)(rn,1,519,"Response handler failed: "+Pt)}if(xe){var vt=JSON.parse(xe);(0,Be.Sn)(vt.webResult)&&(0,Be.Sn)(vt.webResult[yn])&&ht.set("MSFPC",vt.webResult[yn],365*86400)}}catch(Pt){}}a(ni,"_handleCollectorResponse");function dn(xe,it,pt,vt){if(xe&&xe.length>0&&Lt){var Pt=Lt[li(it)];if(Pt){var Ht=pt!==0;(0,ee.Lm)(rr,function(){return"HttpManager:_sendBatchesNotification"},function(){ui(function(){try{Pt.call(Lt,xe,it,Ht,pt)}catch(nr){(0,Le.kP)(rn,1,74,"send request notification failed: "+nr)}},vt||Ht,0)},function(){return{batches:di(xe),reason:it,isSync:Ht,sendSync:vt,sendType:pt}},!Ht)}}}a(dn,"_sendBatchesNotification");function li(xe){var it=jn[xe];return(0,Be.Sn)(it)||(it=Er,xe>=9e3&&xe<=9999?it=wr:xe>=8e3&&xe<=8999?it=Z:xe>=1e3&&xe<=1999&&(it=rt)),it}a(li,"_getNotificationAction")})}return a(He,"HttpManager"),He.__ieDyn=1,He}();function Ln(He,ut){for(var wt=[],ct=2;ct<arguments.length;ct++)wt[ct-2]=arguments[ct];return setTimeout(He,ut,wt)}a(Ln,"defaultSetTimeout");function ti(He){clearTimeout(He)}a(ti,"defaultClearTimeout");function Fi(He,ut){return{set:He||Ln,clear:ut||ti}}a(Fi,"createTimeoutWrapper");var Pi=.25,ji=500,oa=20,Ji=6,ft=2,Zi=4,Ki=2,Rn=1,Bn="eventsDiscarded",oi="overrideInstrumentationKey",Jn="maxEventRetryAttempts",Xi="maxUnloadEventRetryAttempts",bi="addUnloadCb",hi=function(He){(0,v.ne)(ut,He);function ut(){var wt=He.call(this)||this;wt.identifier="PostChannel",wt.priority=1011,wt.version="3.2.10";var ct,Lt=!1,er=[],Tt=null,ir=!1,Kt=0,hr=500,Dr=0,tn=1e4,Yr={},rn=Me,Ur=null,rr=null,Jt=0,vr=0,mr,K,ue={},Ee,ht,kt=-1,$t,pr=!0,lr=!1,ar=Ji,dr=ft,yr,jt;return G(ut,wt,function(Dt,Or){ri(),Dt._getDbgPlgTargets=function(){return[K]},Dt.initialize=function(Ce,qe,Ge){(0,ee.Lm)(qe,function(){return"PostChannel:initialize"},function(){var _t=qe;Or.initialize(Ce,qe,Ge);try{var Bt=!!qe[bi];yr=(0,ae.jU)((0,_e.J)(Dt.identifier),qe.evtNamespace&&qe.evtNamespace());var tr=Dt._getTelCtx();Ce.extensionConfig[Dt.identifier]=Ce.extensionConfig[Dt.identifier]||{},ct=tr.getExtCfg(Dt.identifier),jt=Fi(ct.setTimeoutOverride,ct.clearTimeoutOverride),pr=!ct.disableOptimizeObj&&(0,Be.mJ)(),Ar(_t),ct.eventsLimitInMem>0&&(tn=ct.eventsLimitInMem),ct.immediateEventLimit>0&&(hr=ct.immediateEventLimit),ct.autoFlushEventsLimit>0&&(Ee=ct.autoFlushEventsLimit),(0,Ue.hj)(ct[Jn])&&(ar=ct[Jn]),(0,Ue.hj)(ct[Xi])&&(dr=ct[Xi]),nr(),ct.httpXHROverride&&ct.httpXHROverride.sendPOST&&(mr=ct.httpXHROverride),(0,Be.Sn)(Ce.anonCookieName)&&K.addQueryStringParameter("anoncknm",Ce.anonCookieName),K.sendHook=ct.payloadPreprocessor,K.sendListener=ct.payloadListener;var Rr=ct.overrideEndpointUrl?ct.overrideEndpointUrl:Ce.endpointUrl;Dt._notificationManager=qe.getNotifyMgr(),K.initialize(Rr,Dt.core,Dt,mr,ct);var xr=Ce.disablePageUnloadEvents||[];(0,ae.c9)($r,xr,yr),(0,ae.TJ)($r,xr,yr),(0,ae.nD)(Jr,Ce.disablePageShowEvents,yr)}catch(zr){throw Dt.setInitialized(!1),zr}},function(){return{coreConfig:Ce,core:qe,extensions:Ge}})},Dt.processTelemetry=function(Ce,qe){(0,Be.if)(Ce,Dt.identifier),qe=Dt._getTelCtx(qe);var Ge=qe.getExtCfg(Dt.identifier),_t=!!ct.disableTelemetry;Ge&&(_t=_t||!!Ge.disableTelemetry);var Bt=Ce;!_t&&!Lt&&(ct[oi]&&(Bt.iKey=ct[oi]),Ge&&Ge[oi]&&(Bt.iKey=Ge[oi]),Xt(Bt,!0),lr?di(2,2):Nr()),Dt.processNext(Bt,qe)},Dt._doTeardown=function(Ce,qe){di(2,2),Lt=!0,K.teardown(),(0,ae.JA)(null,yr),(0,ae.C9)(null,yr),(0,ae.Yl)(null,yr),ri()};function Ar(Ce){var qe=Ce.getWParam;Ce.getWParam=function(){var Ge=0;return ct.ignoreMc1Ms0CookieProcessing&&(Ge=Ge|2),Ge|qe()}}a(Ar,"_hookWParam");function $r(Ce){var qe=Ce||(0,pe.Jj)().event;qe.type!=="beforeunload"&&(lr=!0,K.setUnloading(lr)),di(2,2)}a($r,"_handleUnloadEvents");function Jr(Ce){lr=!1,K.setUnloading(lr)}a(Jr,"_handleShowEvents");function Xt(Ce,qe){if(Ce.sendAttempt||(Ce.sendAttempt=0),Ce.latency||(Ce.latency=1),Ce.ext&&Ce.ext[zn]&&delete Ce.ext[zn],Ce.ext&&Ce.ext[kn]&&Ce.ext[kn].id&&delete Ce.ext[kn].id,pr&&(Be.if,Ce.ext=(0,Ue.Ax)(Ce.ext),Ce.baseData&&(Ce.baseData=(0,Ue.Ax)(Ce.baseData)),Ce.data&&(Ce.data=(0,Ue.Ax)(Ce.data))),Ce.sync){if(Jt||ir)Ce.latency=3,Ce.sync=!1;else if(K){pr&&(Ce=(0,Ue.Ax)(Ce)),K.sendSynchronousBatch(Dn.create(Ce.iKey,[Ce]),Ce.sync===!0?1:Ce.sync,3);return}}var Ge=Ce.latency,_t=Dr,Bt=tn;Ge===4&&(_t=Kt,Bt=hr);var tr=!1;if(_t<Bt)tr=!In(Ce,qe);else{var Rr=1,xr=oa;Ge===4&&(Rr=4,xr=1),tr=!0,xi(Ce.iKey,Ce.latency,Rr,xr)&&(tr=!In(Ce,qe))}tr&&li(Bn,[Ce],De.h.QueueFull)}a(Xt,"_addEventToQueues"),Dt.setEventQueueLimits=function(Ce,qe){tn=Ce>0?Ce:1e4,Ee=qe>0?qe:0,nr();var Ge=Dr>Ce;if(!Ge&&ht>0)for(var _t=1;!Ge&&_t<=3;_t++){var Bt=ue[_t];Bt&&Bt.batches&&(0,Ue.tO)(Bt.batches,function(tr){tr&&tr.count()>=ht&&(Ge=!0)})}Kn(!0,Ge)},Dt.pause=function(){Hn(),ir=!0,K.pause()},Dt.resume=function(){ir=!1,K.resume(),Nr()},Dt.addResponseHandler=function(Ce){K._responseHandlers.push(Ce)},Dt._loadTransmitProfiles=function(Ce){Li(),(0,Ue.rW)(Ce,function(qe,Ge){var _t=Ge.length;if(_t>=2){var Bt=_t>2?Ge[2]:0;if(Ge.splice(0,_t-2),Ge[1]<0&&(Ge[0]=-1),Ge[1]>0&&Ge[0]>0){var tr=Ge[0]/Ge[1];Ge[0]=Math.ceil(tr)*Ge[1]}Bt>=0&&Ge[1]>=0&&Bt>Ge[1]&&(Bt=Ge[1]),Ge.push(Bt),Yr[qe]=Ge}})},Dt.flush=function(Ce,qe,Ge){if(Ce===void 0&&(Ce=!0),!ir)if(Ge=Ge||1,Ce)Tt==null?(Hn(),Gn(1,0,Ge),Tt=$n(function(){Tt=null,Zn(qe,Ge)},0)):er.push(qe);else{var _t=Hn();Un(1,1,Ge),qe!=null&&qe(),_t&&Nr()}},Dt.setMsaAuthTicket=function(Ce){K.addHeader(fn,Ce)},Dt.hasEvents=bn,Dt._setTransmitProfile=function(Ce){rn!==Ce&&Yr[Ce]!==void 0&&(Hn(),rn=Ce,Nr())};function Un(Ce,qe,Ge){var _t=Gn(Ce,qe,Ge);return K.sendQueuedRequests(qe,Ge),_t}a(Un,"_sendEventsForLatencyAndAbove");function bn(){return Dr>0}a(bn,"_hasEvents");function Nr(){if(kt>=0&&Gn(kt,0,$t)&&K.sendQueuedRequests(0,$t),Kt>0&&!rr&&!ir){var Ce=Yr[rn][2];Ce>=0&&(rr=$n(function(){rr=null,Un(4,0,1),Nr()},Ce))}var qe=Yr[rn][1];!Ur&&!Tt&&qe>=0&&!ir&&(bn()?Ur=$n(function(){Ur=null,Un(vr===0?3:1,0,1),vr++,vr%=2,Nr()},qe):vr=0)}a(Nr,"_scheduleTimer"),Dt._backOffTransmission=function(){Jt<Zi&&(Jt++,Hn(),Nr())},Dt._clearBackOff=function(){Jt&&(Jt=0,Hn(),Nr())};function ri(){ct=null,Lt=!1,er=[],Tt=null,ir=!1,Kt=0,hr=500,Dr=0,tn=1e4,Yr={},rn=Me,Ur=null,rr=null,Jt=0,vr=0,mr=null,ue={},Ee=void 0,ht=0,kt=-1,$t=null,pr=!0,lr=!1,ar=Ji,dr=ft,yr=null,jt=Fi(),K=new ln(ji,Ki,Rn,{requeue:ni,send:it,sent:pt,drop:vt,rspFail:Pt,oth:Ht},jt),pi(),si(),nr()}a(ri,"_initDefaults");function $n(Ce,qe){qe===0&&Jt&&(qe=1);var Ge=1e3;return Jt&&(Ge=It(Jt-1)),jt.set(Ce,qe*Ge)}a($n,"_createTimer");function Hn(){return Ur!==null?(jt.clear(Ur),Ur=null,vr=0,!0):!1}a(Hn,"_clearScheduledTimer");function di(Ce,qe){Hn(),Tt&&(jt.clear(Tt),Tt=null),ir||Un(1,Ce,qe)}a(di,"_releaseAllQueues");function si(){ue[4]={batches:[],iKeyMap:{}},ue[3]={batches:[],iKeyMap:{}},ue[2]={batches:[],iKeyMap:{}},ue[1]={batches:[],iKeyMap:{}}}a(si,"_clearQueues");function gi(Ce,qe,Ge){var _t=ue[qe];_t||(qe=1,_t=ue[qe]);var Bt=_t.iKeyMap[Ce];return!Bt&&Ge&&(Bt=Dn.create(Ce),_t.batches.push(Bt),_t.iKeyMap[Ce]=Bt),Bt}a(gi,"_getEventBatch");function Kn(Ce,qe){K.canSendRequest()&&!Jt&&(Ee>0&&Dr>Ee&&(qe=!0),qe&&Tt==null&&Dt.flush(Ce,null,20))}a(Kn,"_performAutoFlush");function In(Ce,qe){pr&&(Ce=(0,Ue.Ax)(Ce));var Ge=Ce.latency,_t=gi(Ce.iKey,Ge,!0);return _t.addEvent(Ce)?(Ge!==4?(Dr++,qe&&Ce.sendAttempt===0&&Kn(!Ce.sync,ht>0&&_t.count()>=ht)):Kt++,!0):!1}a(In,"_addEventToProperQueue");function xi(Ce,qe,Ge,_t){for(;Ge<=qe;){var Bt=gi(Ce,qe,!0);if(Bt&&Bt.count()>0){var tr=Bt.split(0,_t),Rr=tr.count();if(Rr>0)return Ge===4?Kt-=Rr:Dr-=Rr,xe(Bn,[tr],De.h.QueueFull),!0}Ge++}return Ci(),!1}a(xi,"_dropEventWithLatencyOrLess");function Ci(){for(var Ce=0,qe=0,Ge=a(function(Bt){var tr=ue[Bt];tr&&tr.batches&&(0,Ue.tO)(tr.batches,function(Rr){Bt===4?Ce+=Rr.count():qe+=Rr.count()})},"_loop_1"),_t=1;_t<=4;_t++)Ge(_t);Dr=qe,Kt=Ce}a(Ci,"_resetQueueCounts");function Gn(Ce,qe,Ge){var _t=!1,Bt=qe===0;return!Bt||K.canSendRequest()?(0,ee.Lm)(Dt.core,function(){return"PostChannel._queueBatches"},function(){for(var tr=[],Rr=4;Rr>=Ce;){var xr=ue[Rr];xr&&xr.batches&&xr.batches.length>0&&((0,Ue.tO)(xr.batches,function(zr){K.addBatch(zr)?_t=_t||zr&&zr.count()>0:tr=tr.concat(zr.events()),Rr===4?Kt-=zr.count():Dr-=zr.count()}),xr.batches=[],xr.iKeyMap={}),Rr--}tr.length>0&&li(Bn,tr,De.h.KillSwitch),_t&&kt>=Ce&&(kt=-1,$t=0)},function(){return{latency:Ce,sendType:qe,sendReason:Ge}},!Bt):(kt=kt>=0?Math.min(kt,Ce):Ce,$t=Math.max($t,Ge)),_t}a(Gn,"_queueBatches");function Zn(Ce,qe){Un(1,0,qe),Ci(),ui(function(){Ce&&Ce(),er.length>0?Tt=$n(function(){Tt=null,Zn(er.shift(),qe)},0):(Tt=null,Nr())})}a(Zn,"_flushImpl");function ui(Ce){K.isCompletelyIdle()?Ce():Tt=$n(function(){Tt=null,ui(Ce)},Pi)}a(ui,"_waitForIdleManager");function Li(){Hn(),pi(),rn=Me,Nr()}a(Li,"_resetTransmitProfiles");function pi(){Yr={},Yr[Me]=[2,1,0],Yr[$e]=[6,3,0],Yr[tt]=[18,9,0]}a(pi,"_initializeProfiles");function ni(Ce,qe){var Ge=[],_t=ar;lr&&(_t=dr),(0,Ue.tO)(Ce,function(Bt){Bt&&Bt.count()>0&&(0,Ue.tO)(Bt.events(),function(tr){tr&&(tr.sync&&(tr.latency=4,tr.sync=!1),tr.sendAttempt<_t?((0,Be.if)(tr,Dt.identifier),Xt(tr,!1)):Ge.push(tr))})}),Ge.length>0&&li(Bn,Ge,De.h.NonRetryableStatus),lr&&di(2,2)}a(ni,"_requeueEvents");function dn(Ce,qe){var Ge=Dt._notificationManager||{},_t=Ge[Ce];if(_t)try{_t.apply(Ge,qe)}catch(Bt){(0,Le.kP)(Dt.diagLog(),1,74,Ce+" notification failed: "+Bt)}}a(dn,"_callNotification");function li(Ce,qe){for(var Ge=[],_t=2;_t<arguments.length;_t++)Ge[_t-2]=arguments[_t];qe&&qe.length>0&&dn(Ce,[qe].concat(Ge))}a(li,"_notifyEvents");function xe(Ce,qe){for(var Ge=[],_t=2;_t<arguments.length;_t++)Ge[_t-2]=arguments[_t];qe&&qe.length>0&&(0,Ue.tO)(qe,function(Bt){Bt&&Bt.count()>0&&dn(Ce,[Bt.events()].concat(Ge))})}a(xe,"_notifyBatchEvents");function it(Ce,qe,Ge){Ce&&Ce.length>0&&dn("eventsSendRequest",[qe>=1e3&&qe<=1999?qe-1e3:0,Ge!==!0])}a(it,"_sendingEvent");function pt(Ce,qe){xe("eventsSent",Ce,qe),Nr()}a(pt,"_eventsSentEvent");function vt(Ce,qe){xe(Bn,Ce,qe>=8e3&&qe<=8999?qe-8e3:De.h.Unknown)}a(vt,"_eventsDropped");function Pt(Ce){xe(Bn,Ce,De.h.NonRetryableStatus),Nr()}a(Pt,"_eventsResponseFail");function Ht(Ce,qe){xe(Bn,Ce,De.h.Unknown),Nr()}a(Ht,"_otherEvent");function nr(){!ct||!ct.disableAutoBatchFlushLimit?ht=Math.max(ji*(Ki+1),tn/6):ht=0}a(nr,"_setAutoLimits"),(0,Ue.l_)(Dt,"_setTimeoutOverride",function(){return jt.set},function(Ce){jt=Fi(Ce,jt.clear)}),(0,Ue.l_)(Dt,"_clearTimeoutOverride",function(){return jt.clear},function(Ce){jt=Fi(jt.set,Ce)})}),wt}return a(ut,"PostChannel"),ut.__ieDyn=1,ut}(Ve.i);const sa=hi},4873:(he,l,E)=>{"use strict";E.d(l,{By:()=>g,cc:()=>_});var v=E(6708);function g(R){var T={};return(0,v.rW)(R,function(h,S){T[h]=S,T[S]=h}),(0,v._A)(T)}a(g,"createEnumStyle");function w(R){var T={};return objForEachKey(R,function(h,S){T[h]=h,T[S]=h}),deepFreeze(T)}a(w,"createEnumMap");function _(R){var T={};return(0,v.rW)(R,function(h,S){T[h]=S[1],T[S[0]]=S[1]}),(0,v._A)(T)}a(_,"createValueMap")},5928:(he,l,E)=>{"use strict";E.d(l,{h:()=>g});var v=E(4873),g=(0,v.By)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})},7310:(he,l,E)=>{"use strict";E.d(l,{X:()=>$,v:()=>k});var v=E(4873),g,w="Failed",_=w+"MonitorAjax",R="Track",T="Start",h="Stop",S="Event",x="AuthContext",y="Exception",b="Local",B="Session",F="Storage",q="Browser",j="Cannot",se="Buffer",M="InstrumentationKey",$=(0,v.By)({CRITICAL:1,WARNING:2}),k=(0,v.By)((g={},g[q+"DoesNotSupport"+b+F]=0,g[q+j+"Read"+b+F]=1,g[q+j+"Read"+B+F]=2,g[q+j+"Write"+b+F]=3,g[q+j+"Write"+B+F]=4,g[q+w+"RemovalFrom"+b+F]=5,g[q+w+"RemovalFrom"+B+F]=6,g[j+"SendEmptyTelemetry"]=7,g.ClientPerformanceMathError=8,g["ErrorParsingAI"+B+"Cookie"]=9,g.ErrorPVCalc=10,g[y+"WhileLoggingError"]=11,g[w+"AddingTelemetryTo"+se]=12,g[_+"Abort"]=13,g[_+"Dur"]=14,g[_+"Open"]=15,g[_+"RSC"]=16,g[_+"Send"]=17,g[_+"GetCorrelationHeader"]=18,g[w+"ToAddHandlerForOnBeforeUnload"]=19,g[w+"ToSendQueuedTelemetry"]=20,g[w+"ToReportDataLoss"]=21,g["Flush"+w]=22,g.MessageLimitPerPVExceeded=23,g.MissingRequiredFieldSpecification=24,g.NavigationTimingNotSupported=25,g.OnError=26,g[B+"RenewalDateIsZero"]=27,g.SenderNotInitialized=28,g[T+R+S+w]=29,g[h+R+S+w]=30,g[T+R+w]=31,g[h+R+w]=32,g.TelemetrySampledAndNotSent=33,g[R+S+w]=34,g[R+y+w]=35,g[R+"Metric"+w]=36,g[R+"PV"+w]=37,g[R+"PV"+w+"Calc"]=38,g[R+"Trace"+w]=39,g["Transmission"+w]=40,g[w+"ToSet"+F+se]=41,g[w+"ToRestore"+F+se]=42,g.InvalidBackendResponse=43,g[w+"ToFixDepricatedValues"]=44,g.InvalidDurationValue=45,g.TelemetryEnvelopeInvalid=46,g.CreateEnvelopeError=47,g[j+"SerializeObject"]=48,g[j+"SerializeObjectNonSerializable"]=49,g.CircularReferenceDetected=50,g["Clear"+x+w]=51,g[y+"Truncated"]=52,g.IllegalCharsInName=53,g.ItemNotInArray=54,g.MaxAjaxPerPVExceeded=55,g.MessageTruncated=56,g.NameTooLong=57,g.SampleRateOutOfRange=58,g["Set"+x+w]=59,g["Set"+x+w+"AccountName"]=60,g.StringValueTooLong=61,g.StartCalledMoreThanOnce=62,g.StopCalledWithoutStart=63,g["TelemetryInitializer"+w]=64,g.TrackArgumentsNotSpecified=65,g.UrlTooLong=66,g[B+F+se+"Full"]=67,g[j+"AccessCookie"]=68,g.IdTooLong=69,g.InvalidEvent=70,g[_+"SetRequestHeader"]=71,g["Send"+q+"InfoOnUserInit"]=72,g["Plugin"+y]=73,g["Notification"+y]=74,g.SnippetScriptLoadFailure=99,g["Invalid"+M]=100,g[j+"ParseAiBlobValue"]=101,g.InvalidContentBlob=102,g[R+"PageAction"+S+w]=103,g[w+"AddingCustomDefinedRequestContext"]=104,g["InMemory"+F+se+"Full"]=105,g[M+"Deprecation"]=106,g))},5121:(he,l,E)=>{"use strict";E.d(l,{F:()=>y});var v=E(1088),g=E(1679),w=E(8096),_=E(6900),R=E(5018),T=E(6708),h=E(6041),S=E(1880),x=E(9288),y=function(b){(0,v.ne)(B,b);function B(){var F=b.call(this)||this;return(0,g.Z)(B,F,function(q,j){q[w.VL]=function($,k,A,N){j[w.VL]($,k,A||new R.AQ($),N||new S.f($))},q.track=function($){(0,x.Lm)(q[h.kl](),function(){return"AppInsightsCore:track"},function(){$===null&&(M($),(0,T._y)("Invalid telemetry item")),se($),j.track($)},function(){return{item:$}},!$.sync)};function se($){(0,T.le)($[w.I])&&(M($),(0,T._y)("telemetry name required"))}a(se,"_validateTelemetryItem");function M($){var k=q[w.tb]();k&&k[h.$F]([$],2)}a(M,"_notifyInvalidEvent")}),F}return a(B,"AppInsightsCore"),B.__ieDyn=1,B}(_.A)},6900:(he,l,E)=>{"use strict";E.d(l,{A:()=>be});var v=E(1088),g=E(1679),w=E(2091),_=E(8096),R=E(6708),T=E(6041),h=E(1589),S=E(3833),x=500,y="Channel has invalid priority - ";function b(de,Q,oe){Q&&(0,R.kJ)(Q)&&Q[_.R5]>0&&(Q=Q.sort(function(Te,Oe){return Te[T.yi]-Oe[T.yi]}),(0,R.tO)(Q,function(Te){Te[T.yi]<x&&(0,R._y)(y+Te[_.pZ])}),de[_.MW]({queue:(0,R.FL)(Q),chain:(0,h.jV)(Q,oe[_.TC],oe)}))}a(b,"_addChannelQueue");function B(de,Q){function oe(){return(0,h.CD)(null,Q[_.TC],Q,null)}a(oe,"_getTelCtx");function Te(G,ee,ae,_e){var Be=G?G[_.R5]+1:1;function Ue(){Be--,Be===0&&(_e&&_e(),_e=null)}a(Ue,"_runChainOnComplete"),Be>0&&(0,R.tO)(G,function(pe){if(pe&&pe.queue[_.R5]>0){var De=pe.chain,Le=ee[_.zV](De);Le[_.Fc](Ue),ae(Le)}else Be--}),Ue()}a(Te,"_processChannelQueue");function Oe(G,ee){var ae=ee||{reason:0};return Te(de,G,function(_e){_e[_.uL](ae)},function(){G[_.uL](ae)}),!0}a(Oe,"_doUpdate");function ne(G,ee){var ae=ee||{reason:0,isAsync:!1};return Te(de,G,function(_e){_e[_.uL](ae)},function(){G[_.uL](ae),Xe=!1}),!0}a(ne,"_doTeardown");function Ke(G){var ee=null;return de&&de[_.R5]>0&&(0,R.tO)(de,function(ae){if(ae&&ae.queue[_.R5]>0&&((0,R.tO)(ae.queue,function(_e){if(_e[_.pZ]===G)return ee=_e,-1}),ee))return-1}),ee}a(Ke,"_getChannel");var Xe=!1,ot={identifier:"ChannelControllerPlugin",priority:x,initialize:function(G,ee,ae,_e){Xe=!0,(0,R.tO)(de,function(Be){Be&&Be.queue[_.R5]>0&&(0,S.bP)((0,h.CD)(Be.chain,G,ee),ae)})},isInitialized:function(){return Xe},processTelemetry:function(G,ee){Te(de,ee||oe(),function(ae){ae[_.uL](G)},function(){ee[_.uL](G)})},update:Oe,pause:function(){Te(de,oe(),function(G){G.iterate(function(ee){ee.pause&&ee.pause()})},null)},resume:function(){Te(de,oe(),function(G){G.iterate(function(ee){ee.resume&&ee.resume()})},null)},teardown:ne,getChannel:Ke,flush:function(G,ee,ae,_e){var Be=1,Ue=!1,pe=null;_e=_e||5e3;function De(){Be--,Ue&&Be===0&&(pe&&(clearTimeout(pe),pe=null),ee&&ee(Ue),ee=null)}return a(De,"doCallback"),Te(de,oe(),function(Le){Le.iterate(function(Ve){if(Ve[_.kL]){Be++;var Me=!1;Ve[_.kL](G,function(){Me=!0,De()},ae)||Me||(G&&pe==null?pe=setTimeout(function(){pe=null,De()},_e):De())}})},function(){Ue=!0,De()}),!0},_setQueue:function(G){de=G}};return ot}a(B,"createChannelControllerPlugin");function F(de,Q,oe){var Te=[];if(de&&(0,R.tO)(de,function(ne){return b(Te,ne,oe)}),Q){var Oe=[];(0,R.tO)(Q,function(ne){ne[T.yi]>x&&Oe[_.MW](ne)}),b(Te,Oe,oe)}return Te}a(F,"createChannelQueues");var q=E(3242),j=E(5883),se=E(7158),M=E(5018),$=E(9288),k=E(4063),A=E(7630),N=function(de){(0,v.ne)(Q,de);function Q(){var oe=de.call(this)||this;oe.identifier="TelemetryInitializerPlugin",oe.priority=199;var Te,Oe;ne(),(0,g.Z)(Q,oe,function(Ke,Xe){Ke.addTelemetryInitializer=function(ot){var G={id:Te++,fn:ot};Oe[_.MW](G);var ee={remove:function(){(0,R.tO)(Oe,function(ae,_e){if(ae.id===G.id)return Oe[_.cb](_e,1),-1})}};return ee},Ke[T.hL]=function(ot,G){for(var ee=!1,ae=Oe[_.R5],_e=0;_e<ae;++_e){var Be=Oe[_e];if(Be)try{if(Be.fn[_.ZV](null,[ot])===!1){ee=!0;break}}catch(Ue){(0,M.kP)(G[_.mc](),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,R.jj)(Ue),{exception:(0,A.eU)(Ue)},!0)}}ee||Ke[_.uL](ot,G)},Ke[_.F3]=function(){ne()}});function ne(){Te=0,Oe=[]}return a(ne,"_initDefaults"),oe}return a(Q,"TelemetryInitializerPlugin"),Q.__ieDyn=1,Q}(k.i),U=E(310),te="Plugins must provide initialize method",X="_notificationManager",re="SDK is still unloading...",ce="SDK is not initialized",Se={loggingLevelConsole:1};function ie(de,Q){return new $.Jk(Q)}a(ie,"_createPerfManager");function ye(de,Q,oe){var Te,Oe=[],ne={};return(0,R.tO)(oe,function(Ke){((0,R.le)(Ke)||(0,R.le)(Ke[_.VL]))&&(0,R._y)(te);var Xe=Ke[T.yi],ot=Ke[_.pZ];Ke&&Xe&&((0,R.le)(ne[Xe])?ne[Xe]=ot:(0,M.jV)(de,"Two extensions have same priority #"+Xe+" - "+ne[Xe]+", "+ot)),(!Xe||Xe<Q)&&Oe[_.MW](Ke)}),Te={all:oe},Te[T.oV]=Oe,Te}a(ye,"_validateExtensions");function W(de,Q){var oe=!1;return(0,R.tO)(Q,function(Te){if(Te===de)return oe=!0,-1}),oe}a(W,"_isPluginPresent");function Ye(){var de;return(0,w.pu)((de={},de[_.g]=function(Q){},de[_.n7]=function(Q){},de[T.uC]=function(Q){},de[T.$F]=function(Q,oe){},de[T.f_]=function(Q,oe){},de))}a(Ye,"_createDummyNotificationManager");var be=function(){function de(){var Q,oe,Te,Oe,ne,Ke,Xe,ot,G,ee,ae,_e,Be,Ue,pe,De,Le,Ve,Me,$e,tt=0;(0,g.Z)(de,this,function(st){Fe(),st[_.yl]=function(){return oe},st[_.VL]=function(me,gt,Rt,Ft){Ue&&(0,R._y)(re),st[_.yl]()&&(0,R._y)("Core should not be initialized more than once"),Q=me||{},st[_.TC]=Q,(0,R.le)(me[_.p$])&&(0,R._y)("Please provide instrumentation key"),Oe=Ft,st[X]=Ft,d(),m(),V(),Rt&&(st[_.eZ]=Rt);var Nt=(0,R.qK)(Q,T.js,[]);G=[],G[_.MW].apply(G,(0,v.$h)((0,v.$h)([],gt,!1),Nt,!1)),_e=(0,R.qK)(Q,T.Z,[]),Z(null),(!Be||Be[_.R5]===0)&&(0,R._y)("No "+T.Z+" available"),oe=!0,st.releaseQueue()},st.getTransmissionControls=function(){var me=[];return Be&&(0,R.tO)(Be,function(gt){me[_.MW](gt.queue)}),(0,R.FL)(me)},st.track=function(me){me.iKey=me.iKey||Q[_.p$],me[_.Z_]=me[_.Z_]||(0,R.Y6)(new Date),me.ver=me.ver||"4.0",!Ue&&st[_.yl]()?J()[_.uL](me):Te[_.MW](me)},st[_.SD]=J,st[_.tb]=function(){return Oe||(Oe=Ye(),st[X]=Oe),Oe},st[_.g]=function(me){Oe&&Oe[_.g](me)},st[_.n7]=function(me){Oe&&Oe[_.n7](me)},st.getCookieMgr=function(){return Xe||(Xe=(0,q.Nz)(Q,st[_.eZ])),Xe},st.setCookieMgr=function(me){Xe=me},st[T.kl]=function(){if(!ne&&!Ke&&(0,R.v4)(Q.enablePerfMgr)){var me=(0,R.v4)(Q[T.DN]);(0,R.mf)(me)&&(Ke=me(st,st[_.tb]()))}return ne||Ke||(0,$.j5)()},st.setPerfMgr=function(me){ne=me},st.eventCnt=function(){return Te[_.R5]},st.releaseQueue=function(){if(oe&&Te[_.R5]>0){var me=Te;Te=[],(0,R.tO)(me,function(gt){J()[_.uL](gt)})}},st.pollInternalLogs=function(me){De=me||null;var gt=(0,R.v4)(Q.diagnosticLogInterval);return(!gt||!(gt>0))&&(gt=1e4),tt&&clearInterval(tt),tt=setInterval(function(){Er()},gt),tt},st[_.LS]=function(){tt&&(clearInterval(tt),tt=0,Er())},(0,R.Vb)(st,function(){return pe},["addTelemetryInitializer"]),st.unload=function(me,gt,Rt){var Ft;me===void 0&&(me=!0),oe||(0,R._y)(ce),Ue&&(0,R._y)(re);var Nt=(Ft={reason:50},Ft[_.d]=me,Ft.flushComplete=!1,Ft),Gt=(0,h.Bt)(zt(),st);Gt[_.Fc](function(){Fe(),gt&&gt(Nt)},st);function Kr(fn){Nt.flushComplete=fn,Ue=!0,Ve.run(Gt,Nt),st[_.LS](),Gt[_.uL](Nt)}a(Kr,"_doUnload"),P(me,Kr,6,Rt)||Kr(!1)},st[_.TO]=rt,st.addPlugin=function(me,gt,Rt,Ft){if(!me){Ft&&Ft(!1),Pe(te);return}var Nt=rt(me[_.pZ]);if(Nt&&!gt){Ft&&Ft(!1),Pe("Plugin ["+me[_.pZ]+"] is already loaded!");return}var Gt={reason:16};function Kr(mn){G[_.MW](me),Gt.added=[me],Z(Gt),Ft&&Ft(!0)}if(a(Kr,"_addPlugin"),Nt){var fn=[Nt.plugin],Sn={reason:2,isAsync:!!Rt};wr(fn,Sn,function(mn){mn?(Gt.removed=fn,Gt.reason|=32,Kr(!0)):Ft&&Ft(!1)})}else Kr(!1)},st.evtNamespace=function(){return Le},st[_.kL]=P,st.getTraceCtx=function(me){return $e||($e=(0,S.Yn)()),$e},st.setTraceCtx=function(me){$e=me||null},(0,R.Oi)(st,"addUnloadCb",function(){return Ve},"add");function Fe(){oe=!1,Q=(0,R.mm)(!0,{},Se),st[_.TC]=Q,st[_.eZ]=new M.AQ(Q),st[_.iC]=[],pe=new N,Te=[],Oe=null,ne=null,Ke=null,Xe=null,ot=null,ee=null,G=[],ae=null,_e=null,Be=null,Ue=!1,De=null,Le=(0,j.J)("AIBaseCore",!0),Ve=(0,U.Y)(),$e=null}a(Fe,"_initDefaults");function J(){return(0,h.CD)(zt(),Q,st)}a(J,"_createTelCtx");function Z(me){var gt=ye(st[_.eZ],x,G);ee=gt[T.oV],ot=null;var Rt=gt.all;if(Be=(0,R.FL)(F(_e,Rt,st)),ae){var Ft=(0,R.UA)(Rt,ae);Ft!==-1&&Rt[_.cb](Ft,1),Ft=(0,R.UA)(ee,ae),Ft!==-1&&ee[_.cb](Ft,1),ae._setQueue(Be)}else ae=B(Be,st);Rt[_.MW](ae),ee[_.MW](ae),st[_.iC]=(0,S.AA)(Rt),ae[_.VL](Q,st,Rt),(0,S.bP)(J(),Rt),st[_.iC]=(0,R.FL)((0,S.AA)(ee||[])).slice(),me&&ve(me)}a(Z,"_initPluginChain");function rt(me){var gt,Rt=null,Ft=null;return(0,R.tO)(st[_.iC],function(Nt){if(Nt[_.pZ]===me&&Nt!==ae&&Nt!==pe)return Ft=Nt,-1}),!Ft&&ae&&(Ft=ae.getChannel(me)),Ft&&(Rt=(gt={plugin:Ft},gt[_.$h]=function(Nt){(0,S.OY)(Ft)[T.mE]=!Nt},gt.isEnabled=function(){var Nt=(0,S.OY)(Ft);return!Nt[_.fi]&&!Nt[T.mE]},gt.remove=function(Nt,Gt){var Kr;Nt===void 0&&(Nt=!0);var fn=[Ft],Sn=(Kr={reason:1},Kr[_.d]=Nt,Kr);wr(fn,Sn,function(mn){mn&&Z({reason:32,removed:fn}),Gt&&Gt(mn)})},gt)),Rt}a(rt,"_getPlugin");function zt(){if(!ot){var me=(ee||[]).slice();(0,R.UA)(me,pe)===-1&&me[_.MW](pe),ot=(0,h.jV)((0,S.AA)(me),Q,st)}return ot}a(zt,"_getPluginChain");function wr(me,gt,Rt){if(me&&me[_.R5]>0){var Ft=(0,h.jV)(me,Q,st),Nt=(0,h.Bt)(Ft,st);Nt[_.Fc](function(){var Gt=!1,Kr=[];(0,R.tO)(G,function(Sn,mn){W(Sn,me)?Gt=!0:Kr[_.MW](Sn)}),G=Kr;var fn=[];_e&&((0,R.tO)(_e,function(Sn,mn){var sn=[];(0,R.tO)(Sn,function(yn){W(yn,me)?Gt=!0:sn[_.MW](yn)}),fn[_.MW](sn)}),_e=fn),Rt&&Rt(Gt)}),Nt[_.uL](gt)}else Rt(!1)}a(wr,"_removePlugins");function Er(){var me=st[_.eZ]?st[_.eZ].queue:[];me&&((0,R.tO)(me,function(gt){var Rt,Ft=(Rt={},Rt[_.I]=De||"InternalMessageId: "+gt[_.Gc],Rt.iKey=(0,R.v4)(Q[_.p$]),Rt.time=(0,R.Y6)(new Date),Rt.baseType=M.lQ.dataType,Rt.baseData={message:gt[_.gU]},Rt);st.track(Ft)}),me[_.R5]=0)}a(Er,"_flushInternalLogs");function P(me,gt,Rt,Ft){return ae?ae[_.kL](me,gt,Rt||6,Ft):(gt&&gt(!1),!0)}a(P,"_flushChannels");function d(){var me=(0,R.v4)(Q.disableDbgExt);me===!0&&Me&&(Oe[_.n7](Me),Me=null),Oe&&!Me&&me!==!0&&(Me=(0,se.p)(Q),Oe[_.g](Me))}a(d,"_initDebugListener");function m(){var me=(0,R.v4)(Q.enablePerfMgr);!me&&Ke&&(Ke=null),me&&(0,R.qK)(Q,T.DN,ie)}a(m,"_initPerfManager");function V(){var me=(0,R.qK)(Q,T.Zh,{});me.NotificationManager=Oe}a(V,"_initExtConfig");function ve(me){var gt=(0,h.xy)(zt(),st);(!st._updateHook||st._updateHook(gt,me)!==!0)&&gt[_.uL](me)}a(ve,"_doUpdate");function Pe(me){var gt=st[_.eZ];gt?(0,M.kP)(gt,2,73,me):(0,R._y)(me)}a(Pe,"_logOrThrowError")})}return a(de,"BaseCore"),de.__ieDyn=1,de}()},4063:(he,l,E)=>{"use strict";E.d(l,{i:()=>S});var v=E(1679),g=E(8096),w=E(6708),_=E(6041),R=E(1589),T=E(310),h="getPlugin",S=function(){function x(){var y=this,b,B,F,q,j;$(),(0,v.Z)(x,y,function(k){k[g.VL]=function(A,N,U,te){M(A,N,te),b=!0},k[g.fi]=function(A,N){var U,te=k[_.oV];if(!te||A&&te!==A[_.oV]())return;var X,re=!1,ce=A||(0,R.Bt)(null,te,F&&F[h]?F[h]():F),Se=N||(U={reason:0},U[g.d]=!1,U);function ie(){if(!re){re=!0,q.run(ce,N);var ye=j;j=[],(0,w.tO)(ye,function(W){W.rm()}),X===!0&&ce[g.uL](Se),$()}}return a(ie,"_unloadCallback"),!k[g.F3]||k[g.F3](ce,Se,ie)!==!0?ie():X=!0,X},k[g.Tu]=function(A,N){var U=k[_.oV];if(!U||A&&U!==A[_.oV]())return;var te,X=!1,re=A||(0,R.xy)(null,U,F&&F[h]?F[h]():F),ce=N||{reason:0};function Se(){X||(X=!0,M(re.getCfg(),re.core(),re[g.W2]()))}return a(Se,"_updateCallback"),!k._doUpdate||k._doUpdate(re,ce,Se)!==!0?Se():te=!0,te},k._addHook=function(A){A&&((0,w.kJ)(A)?j=j.concat(A):j[g.MW](A))},(0,w.Oi)(k,"_addUnloadCb",function(){return q},"add")}),y[g.mc]=function(k){return se(k)[g.mc]()},y[g.yl]=function(){return b},y.setInitialized=function(k){b=k},y[g.Jd]=function(k){F=k},y[g.uL]=function(k,A){A?A[g.uL](k):F&&(0,w.mf)(F[_.hL])&&F[_.hL](k,null)},y._getTelCtx=se;function se(k){k===void 0&&(k=null);var A=k;if(!A){var N=B||(0,R.CD)(null,{},y[_.oV]);F&&F[h]?A=N[g.zV](null,F[h]):A=N[g.zV](null,F)}return A}a(se,"_getTelCtx");function M(k,A,N){k&&(0,w.sO)(k,_.Zh,[],null,w.le),!N&&A&&(N=A[g.SD]()[g.W2]());var U=F;F&&F[h]&&(U=F[h]()),y[_.oV]=A,B=(0,R.CD)(N,k,A,U)}a(M,"_setDefaults");function $(){b=!1,y[_.oV]=null,B=null,F=null,j=[],q=(0,T.Y)()}a($,"_initDefaults")}return a(x,"BaseTelemetryPlugin"),x.__ieDyn=1,x}()},3242:(he,l,E)=>{"use strict";E.d(l,{kj:()=>A,JP:()=>re,Nz:()=>ce,p7:()=>Se,UY:()=>de});var v=E(8096),g=E(5018),w=E(7630),_=E(6708),R=E(6041),T="toGMTString",h="toUTCString",S="cookie",x="expires",y="enabled",b="isCookieUseDisabled",B="disableCookiesUsage",F="_ckMgr",q=null,j=null,se=null,M=(0,w.Me)(),$={},k={};function A(Q,oe){var Te=ce[F]||k[F];return Te||(Te=ce[F]=ce(Q,oe),k[F]=Te),Te}a(A,"_gblCookieMgr");function N(Q){return Q?Q.isEnabled():!0}a(N,"_isMgrEnabled");function U(Q){var oe=Q[v.Lk]=Q[v.Lk]||{};if((0,_.sO)(oe,"domain",Q.cookieDomain,_.BX,_.le),(0,_.sO)(oe,"path",Q.cookiePath||"/",null,_.le),(0,_.le)(oe[y])){var Te=void 0;(0,_.o8)(Q[b])||(Te=!Q[b]),(0,_.o8)(Q[B])||(Te=!Q[B]),oe[y]=Te}return oe}a(U,"_createCookieMgrConfig");function te(Q,oe){return oe&&Q&&(0,_.kJ)(Q.ignoreCookies)?Q.ignoreCookies[v.ou](oe)!==-1:!1}a(te,"_isIgnoredCookie");function X(Q,oe){return oe&&Q&&(0,_.kJ)(Q.blockedCookies)&&Q.blockedCookies[v.ou](oe)!==-1?!0:te(Q,oe)}a(X,"_isBlockedCookie");function re(Q,oe){var Te;if(Q)Te=Q.getCookieMgr();else if(oe){var Oe=oe[v.Lk];Oe[F]?Te=Oe[F]:Te=ce(oe)}return Te||(Te=A(oe,(Q||{})[v.eZ])),Te}a(re,"safeGetCookieMgr");function ce(Q,oe){var Te,Oe=U(Q||k),ne=Oe.path||"/",Ke=Oe.domain,Xe=Oe[y]!==!1,ot=(Te={isEnabled:function(){var G=Xe&&Se(oe),ee=k[F];return G&&ee&&ot!==ee&&(G=N(ee)),G}},Te[v.$h]=function(G){Xe=G!==!1},Te.set=function(G,ee,ae,_e,Be){var Ue=!1;if(N(ot)&&!X(Oe,G)){var pe={},De=(0,_.nd)(ee||R.qS),Le=De[v.ou](";");if(Le!==-1&&(De=(0,_.nd)(ee[v.zc](0,Le)),pe=ie(ee[v.zc](Le+1))),(0,_.sO)(pe,"domain",_e||Ke,_.fQ,_.o8),!(0,_.le)(ae)){var Ve=(0,w.w1)();if((0,_.o8)(pe[x])){var Me=(0,_.m6)(),$e=Me+ae*1e3;if($e>0){var tt=new Date;tt.setTime($e),(0,_.sO)(pe,x,ye(tt,Ve?T:h)||ye(tt,Ve?T:h)||R.qS,_.fQ)}}Ve||(0,_.sO)(pe,"max-age",R.qS+ae,null,_.o8)}var st=(0,w.k$)();st&&st.protocol==="https:"&&((0,_.sO)(pe,"secure",null,null,_.o8),j===null&&(j=!de(((0,w.jW)()||{})[v.qV])),j&&(0,_.sO)(pe,"SameSite","None",null,_.o8)),(0,_.sO)(pe,"path",Be||ne,null,_.o8);var Fe=Oe.setCookie||be;Fe(G,W(De,pe)),Ue=!0}return Ue},Te.get=function(G){var ee=R.qS;return N(ot)&&!te(Oe,G)&&(ee=(Oe.getCookie||Ye)(G)),ee},Te.del=function(G,ee){var ae=!1;return N(ot)&&(ae=ot.purge(G,ee)),ae},Te.purge=function(G,ee){var ae,_e=!1;if(Se(oe)){var Be=(ae={},ae.path=ee||"/",ae[x]="Thu, 01 Jan 1970 00:00:01 GMT",ae);(0,w.w1)()||(Be["max-age"]="0");var Ue=Oe.delCookie||be;Ue(G,W(R.qS,Be)),_e=!0}return _e},Te);return ot[F]=ot,ot}a(ce,"createCookieMgr");function Se(Q){if(q===null){q=!1;try{var oe=M||{};q=oe[S]!==void 0}catch(Te){(0,g.kP)(Q,2,68,"Cannot access document.cookie - "+(0,_.jj)(Te),{exception:(0,w.eU)(Te)})}}return q}a(Se,"areCookiesSupported");function ie(Q){var oe={};if(Q&&Q[v.R5]){var Te=(0,_.nd)(Q)[v.w6](";");(0,_.tO)(Te,function(Oe){if(Oe=(0,_.nd)(Oe||R.qS),Oe){var ne=Oe[v.ou]("=");ne===-1?oe[Oe]=null:oe[(0,_.nd)(Oe[v.zc](0,ne))]=(0,_.nd)(Oe[v.zc](ne+1))}})}return oe}a(ie,"_extractParts");function ye(Q,oe){return(0,_.mf)(Q[oe])?Q[oe]():null}a(ye,"_formatDate");function W(Q,oe){var Te=Q||R.qS;return(0,_.rW)(oe,function(Oe,ne){Te+="; "+Oe+((0,_.le)(ne)?R.qS:"="+ne)}),Te}a(W,"_formatCookieValue");function Ye(Q){var oe=R.qS;if(M){var Te=M[S]||R.qS;se!==Te&&($=ie(Te),se=Te),oe=(0,_.nd)($[Q]||R.qS)}return oe}a(Ye,"_getCookieValue");function be(Q,oe){M&&(M[S]=Q+"="+oe)}a(be,"_setCookieValue");function de(Q){return(0,_.HD)(Q)?!!((0,_._Q)(Q,"CPU iPhone OS 12")||(0,_._Q)(Q,"iPad; CPU OS 12")||(0,_._Q)(Q,"Macintosh; Intel Mac OS X 10_14")&&(0,_._Q)(Q,"Version/")&&(0,_._Q)(Q,"Safari")||(0,_._Q)(Q,"Macintosh; Intel Mac OS X 10_14")&&(0,_.Id)(Q,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||(0,_._Q)(Q,"Chrome/5")||(0,_._Q)(Q,"Chrome/6")||(0,_._Q)(Q,"UnrealEngine")&&!(0,_._Q)(Q,"Chrome")||(0,_._Q)(Q,"UCBrowser/12")||(0,_._Q)(Q,"UCBrowser/11")):!1}a(de,"uaDisallowsSameSiteNone")},5843:(he,l,E)=>{"use strict";E.d(l,{GW:()=>B,Jj:()=>F,DO:()=>j,Tr:()=>se,zB:()=>$,oF:()=>A,vn:()=>N,ej:()=>U,d8:()=>te,kT:()=>X});var v=E(2091),g=E(8096),w=E(3242),_=E(7630),R=E(4869),T=E(6708),h=E(6041),S=E(4878),x=null,y,b=null;function B(){var re=j();return re[g.zc](0,8)+"-"+re[g.zc](8,12)+"-"+re[g.zc](12,16)+"-"+re[g.zc](16,20)+"-"+re[g.zc](20)}a(B,"newGuid");function F(){var re=(0,_.r)();return re&&re.now?re.now():(0,T.m6)()}a(F,"perfNow");function q(re,ce){if(re&&ce){var Se=re[_DYN_LENGTH],ie=Se-ce[_DYN_LENGTH];return re[_DYN_SUBSTRING](ie>=0?ie:0,Se)===ce}return!1}a(q,"strEndsWith");function j(){for(var re=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],ce=h.qS,Se,ie=0;ie<4;ie++)Se=(0,S._l)(),ce+=re[Se&15]+re[Se>>4&15]+re[Se>>8&15]+re[Se>>12&15]+re[Se>>16&15]+re[Se>>20&15]+re[Se>>24&15]+re[Se>>28&15];var ye=re[8+((0,S._l)()&3)|0];return ce[g.Jn](0,8)+ce[g.Jn](9,4)+"4"+ce[g.Jn](13,3)+ye+ce[g.Jn](16,3)+ce[g.Jn](19,12)}a(j,"generateW3CId");var se={_canUseCookies:void 0,isTypeof:T.Ym,isUndefined:T.o8,isNullOrUndefined:T.le,hasOwnProperty:T.nr,isFunction:T.mf,isObject:T.Kn,isDate:T.J_,isArray:T.kJ,isError:T.VZ,isString:T.HD,isNumber:T.hj,isBoolean:T.jn,toISOString:T.Y6,arrForEach:T.tO,arrIndexOf:T.UA,arrMap:T.Mr,arrReduce:T.Xz,strTrim:T.nd,objCreate:v.pu,objKeys:T.FY,objDefineAccessors:T.l_,addEventHandler:R.Ib,dateNow:T.m6,isIE:_.w1,disableCookies:A,newGuid:B,perfNow:F,newId:S.pZ,randomValue:S.az,random32:S._l,mwcRandomSeed:S.CN,mwcRandom32:S.F6,generateW3CId:j},M=/[xy]/g,$={Attach:R.pZ,AttachEvent:R.pZ,Detach:R.pD,DetachEvent:R.pD};function k(re,ce){var Se=(0,w.kj)(re,ce),ie=se._canUseCookies;return x===null&&(x=[],y=ie,(0,T.l_)(se,"_canUseCookies",function(){return y},function(ye){y=ye,(0,T.tO)(x,function(W){W[g.$h](ye)})})),(0,T.UA)(x,Se)===-1&&x[g.MW](Se),(0,T.jn)(ie)&&Se[g.$h](ie),(0,T.jn)(y)&&Se[g.$h](y),Se}a(k,"_legacyCookieMgr");function A(){k()[g.$h](!1)}a(A,"disableCookies");function N(re){return k(null,re).isEnabled()}a(N,"canUseCookies");function U(re,ce){return k(null,re).get(ce)}a(U,"getCookie");function te(re,ce,Se,ie){k(null,re).set(ce,Se,null,ie)}a(te,"setCookie");function X(re,ce){return k(null,re).del(ce)}a(X,"deleteCookie")},5883:(he,l,E)=>{"use strict";E.d(l,{J:()=>F,K:()=>q});var v=E(4392),g=E(8096),w=E(6708),_=E(6041),R=E(4878),T=v.RJ,h="2.8.12",S="."+(0,R.pZ)(6),x=0;function y(j,se,M){if(T)try{return T(j,se,{value:M,enumerable:!1,configurable:!0}),!0}catch($){}return!1}a(y,"_createAccessor");function b(j){return j[g.xv]===1||j[g.xv]===9||!+j[g.xv]}a(b,"_canAcceptData");function B(j,se){var M=se[j.id];if(!M){M={};try{b(se)&&(y(se,j.id,M)||(se[j.id]=M))}catch($){}}return M}a(B,"_getCache");function F(j,se){return se===void 0&&(se=!1),(0,w.Gf)(j+x+++(se?"."+h:_.qS)+S)}a(F,"createUniqueNamespace");function q(j){var se={id:F("_aiData-"+(j||_.qS)+"."+h),accept:function(M){return b(M)},get:function(M,$,k,A){var N=M[se.id];return N?N[(0,w.Gf)($)]:(A&&(N=B(se,M),N[(0,w.Gf)($)]=k),k)},kill:function(M,$){if(M&&M[$])try{delete M[$]}catch(k){}}};return se}a(q,"createElmNodeData")},7158:(he,l,E)=>{"use strict";E.d(l,{j:()=>S,p:()=>x});var v=E(8096),g=E(7630),w=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],_=null,R;function T(y,b){return function(){var B=arguments,F=S(b);if(F){var q=F.listener;q&&q[y]&&q[y][v.ZV](q,B)}}}a(T,"_listenerProxyFunc");function h(){var y=(0,g.a8)("Microsoft");return y&&(_=y.ApplicationInsights),_}a(h,"_getExtensionNamespace");function S(y){var b=_;return!b&&y.disableDbgExt!==!0&&(b=_||h()),b?b.ChromeDbgExt:null}a(S,"getDebugExt");function x(y){if(!R){R={};for(var b=0;b<w[v.R5];b++)R[w[b]]=T(w[b],y)}return R}a(x,"getDebugListener")},5018:(he,l,E)=>{"use strict";E.d(l,{lQ:()=>B,vH:()=>F,AQ:()=>q,kP:()=>se,jV:()=>M,L4:()=>$});var v=E(1679),g=E(8096),w=E(7158),_=E(7630),R=E(6708),T=E(6041),h="AI (Internal): ",S="AI: ",x="AITR_";function y(k){return k?'"'+k[g.i7](/\"/g,T.qS)+'"':T.qS}a(y,"_sanitizeDiagnosticText");function b(k,A){var N=(0,_.dr)();if(N){var U="log";N[k]&&(U=k),(0,R.mf)(N[U])&&N[U](A)}}a(b,"_logToConsole");var B=function(){function k(A,N,U,te){U===void 0&&(U=!1);var X=this;X[g.Gc]=A,X[g.gU]=(U?S:h)+A;var re=T.qS;(0,_.nS)()&&(re=(0,_.xA)().stringify(te));var ce=(N?" message:"+y(N):T.qS)+(te?" props:"+y(re):T.qS);X[g.gU]+=ce}return a(k,"_InternalLogMessage"),k.dataType="MessageData",k}();function F(k,A){return(k||{})[g.eZ]||new q(A)}a(F,"safeGetLogger");var q=function(){function k(A){this.identifier="DiagnosticLogger",this.queue=[];var N=0,U={},te,X,re,ce;(0,v.Z)(k,this,function(Se){ye(A||{}),Se.consoleLoggingLevel=function(){return te},Se.telemetryLoggingLevel=function(){return X},Se.maxInternalMessageLimit=function(){return re},Se[g.Fr]=function(){return ce},Se.throwInternal=function(be,de,Q,oe,Te){Te===void 0&&(Te=!1);var Oe=new B(de,Q,Te,oe);if(ce)throw(0,_.eU)(Oe);var ne=be===1?T.ys:T.cL;if((0,R.o8)(Oe[g.gU]))Ye("throw"+(be===1?"Critical":"Warning"),Oe);else{if(Te){var Ke=+Oe[g.Gc];!U[Ke]&&te>=be&&(Se[ne](Oe[g.gU]),U[Ke]=!0)}else te>=be&&Se[ne](Oe[g.gU]);ie(be,Oe)}},Se[T.cL]=function(be){b("warn",be),Ye("warning",be)},Se[T.ys]=function(be){b("error",be),Ye("error",be)},Se.resetInternalMessageCount=function(){N=0,U={}},Se[g.jk]=ie;function ie(be,de){if(!W()){var Q=!0,oe=x+de[g.Gc];if(U[oe]?Q=!1:U[oe]=!0,Q&&(be<=X&&(Se.queue[g.MW](de),N++,Ye(be===1?"error":"warn",de)),N===re)){var Te="Internal events throttle limit per PageView reached for this app.",Oe=new B(23,Te,!1);Se.queue[g.MW](Oe),be===1?Se[T.ys](Te):Se[T.cL](Te)}}}a(ie,"_logInternalMessage");function ye(be){te=(0,R.v4)(be.loggingLevelConsole,0),X=(0,R.v4)(be.loggingLevelTelemetry,1),re=(0,R.v4)(be.maxMessageLimit,25),ce=(0,R.v4)(be.enableDebug,(0,R.v4)(be[g.Fr],!1))}a(ye,"_setDefaultsFromConfig");function W(){return N>=re}a(W,"_areInternalMessagesThrottled");function Ye(be,de){var Q=(0,w.j)(A||{});Q&&Q[g.mc]&&Q[g.mc](be,de)}a(Ye,"_debugExtMsg")})}return a(k,"DiagnosticLogger"),k.__ieDyn=1,k}();function j(k){return k||new q}a(j,"_getLogger");function se(k,A,N,U,te,X){X===void 0&&(X=!1),j(k).throwInternal(A,N,U,te,X)}a(se,"_throwInternal");function M(k,A){j(k)[T.cL](A)}a(M,"_warnToConsole");function $(k,A,N){j(k)[g.jk](A,N)}a($,"_logInternalMessage")},7630:(he,l,E)=>{"use strict";E.d(l,{dI:()=>Se,a8:()=>ie,Ym:()=>ye,Jj:()=>W,Nv:()=>Ye,Me:()=>be,d6:()=>de,jW:()=>Q,fE:()=>oe,s1:()=>Te,k$:()=>Oe,dr:()=>ne,r:()=>Ke,nS:()=>Xe,xA:()=>ot,MX:()=>G,gz:()=>ee,b$:()=>ae,w1:()=>_e,sA:()=>Be,eU:()=>Ue,MF:()=>De,JO:()=>Le,cp:()=>Ve,Z3:()=>Me,ed:()=>tt,pI:()=>st});var v=E(4392),g=E(2091),w=E(8096),_=E(6708),R=E(6041),T="window",h="document",S="documentMode",x="navigator",y="history",b="location",B="console",F="performance",q="JSON",j="crypto",se="msCrypto",M="ReactNative",$="msie",k="trident/",A="XMLHttpRequest",N=null,U=null,te=!1,X=null,re=null;function ce(Fe,J){var Z=!1;if(Fe){try{if(Z=J in Fe,!Z){var rt=Fe[v.hB];rt&&(Z=J in rt)}}catch(wr){}if(!Z)try{var zt=new Fe;Z=!(0,_.o8)(zt[J])}catch(wr){}}return Z}a(ce,"_hasProperty");function Se(Fe){te=Fe}a(Se,"setEnableEnvMocks");function ie(Fe){var J=(0,g.Rd)();return J&&J[Fe]?J[Fe]:Fe===T&&ye()?window:null}a(ie,"getGlobalInst");function ye(){return Boolean(typeof window===v.fK&&window)}a(ye,"hasWindow");function W(){return ye()?window:ie(T)}a(W,"getWindow");function Ye(){return Boolean(typeof document===v.fK&&document)}a(Ye,"hasDocument");function be(){return Ye()?document:ie(h)}a(be,"getDocument");function de(){return Boolean(typeof navigator===v.fK&&navigator)}a(de,"hasNavigator");function Q(){return de()?navigator:ie(x)}a(Q,"getNavigator");function oe(){return Boolean(typeof history===v.fK&&history)}a(oe,"hasHistory");function Te(){return oe()?history:ie(y)}a(Te,"getHistory");function Oe(Fe){if(Fe&&te){var J=ie("__mockLocation");if(J)return J}return typeof location===v.fK&&location?location:ie(b)}a(Oe,"getLocation");function ne(){return typeof console!==v.jA?console:ie(B)}a(ne,"getConsole");function Ke(){return ie(F)}a(Ke,"getPerformance");function Xe(){return Boolean(typeof JSON===v.fK&&JSON||ie(q)!==null)}a(Xe,"hasJSON");function ot(){return Xe()?JSON||ie(q):null}a(ot,"getJSON");function G(){return ie(j)}a(G,"getCrypto");function ee(){return ie(se)}a(ee,"getMsCrypto");function ae(){var Fe=Q();return Fe&&Fe.product?Fe.product===M:!1}a(ae,"isReactNative");function _e(){var Fe=Q();if(Fe&&(Fe[w.qV]!==U||N===null)){U=Fe[w.qV];var J=(U||R.qS)[w.T1]();N=(0,_._Q)(J,$)||(0,_._Q)(J,k)}return N}a(_e,"isIE");function Be(Fe){if(Fe===void 0&&(Fe=null),!Fe){var J=Q()||{};Fe=J?(J[w.qV]||R.qS)[w.T1]():R.qS}var Z=(Fe||R.qS)[w.T1]();if((0,_._Q)(Z,$)){var rt=be()||{};return Math.max(parseInt(Z[w.w6]($)[1]),rt[S]||0)}else if((0,_._Q)(Z,k)){var zt=parseInt(Z[w.w6](k)[1]);if(zt)return zt+4}return null}a(Be,"getIEVersion");function Ue(Fe){var J=Object[v.hB].toString[w._S](Fe),Z=R.qS;return J==="[object Error]"?Z="{ stack: '"+Fe.stack+"', message: '"+Fe.message+"', name: '"+Fe[w.I]+"'":Xe()&&(Z=ot().stringify(Fe)),J+Z}a(Ue,"dumpObj");function pe(Fe){if(!Fe||!isString(Fe)){var J=Q()||{};Fe=J?(J[_DYN_USER_AGENT]||STR_EMPTY)[_DYN_TO_LOWER_CASE]():STR_EMPTY}var Z=(Fe||STR_EMPTY)[_DYN_TO_LOWER_CASE]();return Z[_DYN_INDEX_OF]("safari")>=0}a(pe,"isSafari");function De(){return re===null&&(re=de()&&Boolean(Q().sendBeacon)),re}a(De,"isBeaconsSupported");function Le(Fe){var J=!1;try{J=!!ie("fetch");var Z=ie("Request");J&&Fe&&Z&&(J=ce(Z,"keepalive"))}catch(rt){}return J}a(Le,"isFetchSupported");function Ve(){return X===null&&(X=typeof XDomainRequest!==v.jA,X&&Me()&&(X=X&&!ce(ie(A),"withCredentials"))),X}a(Ve,"useXDomainRequest");function Me(){var Fe=!1;try{var J=ie(A);Fe=!!J}catch(Z){}return Fe}a(Me,"isXhrSupported");function $e(Fe,J){if(Fe)for(var Z=0;Z<Fe[w.R5];Z++){var rt=Fe[Z];if(rt[w.I]&&rt[w.I]===J)return rt}return{}}a($e,"_getNamedValue");function tt(Fe){var J=be();return J&&Fe?$e(J.querySelectorAll("meta"),Fe).content:null}a(tt,"findMetaTag");function st(Fe){var J,Z=Ke();if(Z){var rt=Z.getEntriesByType("navigation")||[];J=$e((rt[w.R5]>0?rt[0]:{}).serverTiming,Fe).description}return J}a(st,"findNamedServerTiming")},4869:(he,l,E)=>{"use strict";E.d(l,{um:()=>ce,jU:()=>be,XO:()=>de,QY:()=>Q,pZ:()=>oe,pD:()=>Te,Ib:()=>Oe,C1:()=>ne,yw:()=>Xe,nJ:()=>ot,c9:()=>G,JA:()=>ee,TJ:()=>ae,C9:()=>_e,nD:()=>Be,Yl:()=>Ue});var v=E(8096),g=E(5883),w=E(7630),_=E(6708),R=E(6041),T="on",h="attachEvent",S="addEventListener",x="detachEvent",y="removeEventListener",b="events",B="visibilitychange",F="pagehide",q="pageshow",j="unload",se="beforeunload",M=(0,g.J)("aiEvtPageHide"),$=(0,g.J)("aiEvtPageShow"),k=/\.[\.]+/g,A=/[\.]+$/,N=1,U=(0,g.K)("events"),te=/^([^.]*)(?:\.(.+)|)/;function X(pe){return pe&&pe[v.i7]?pe[v.i7](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,R.qS):pe}a(X,"_normalizeNamespace");function re(pe,De){var Le;if(De){var Ve=R.qS;(0,_.kJ)(De)?(Ve=R.qS,(0,_.tO)(De,function($e){$e=X($e),$e&&($e[0]!=="."&&($e="."+$e),Ve+=$e)})):Ve=X(De),Ve&&(Ve[0]!=="."&&(Ve="."+Ve),pe=(pe||R.qS)+Ve)}var Me=te.exec(pe||R.qS)||[];return Le={},Le[v.P6]=Me[1],Le.ns=(Me[2]||R.qS).replace(k,".").replace(A,R.qS)[v.w6](".").sort().join("."),Le}a(re,"_getEvtNamespace");function ce(pe,De,Le){var Ve=[],Me=U.get(pe,b,{},!1),$e=re(De,Le);return(0,_.rW)(Me,function(tt,st){(0,_.tO)(st,function(Fe){var J;(!$e[v.P6]||$e[v.P6]===Fe.evtName[v.P6])&&(!$e.ns||$e.ns===$e.ns)&&Ve[v.MW]((J={},J[v.I]=Fe.evtName[v.P6]+(Fe.evtName.ns?"."+Fe.evtName.ns:R.qS),J.handler=Fe[v.Kn],J))})}),Ve}a(ce,"__getRegisteredEvents");function Se(pe,De,Le){Le===void 0&&(Le=!0);var Ve=U.get(pe,b,{},Le),Me=Ve[De];return Me||(Me=Ve[De]=[]),Me}a(Se,"_getRegisteredEvents");function ie(pe,De,Le,Ve){pe&&De&&De[v.P6]&&(pe[y]?pe[y](De[v.P6],Le,Ve):pe[x]&&pe[x](T+De[v.P6],Le))}a(ie,"_doDetach");function ye(pe,De,Le,Ve){var Me=!1;return pe&&De&&De[v.P6]&&Le&&(pe[S]?(pe[S](De[v.P6],Le,Ve),Me=!0):pe[h]&&(pe[h](T+De[v.P6],Le),Me=!0)),Me}a(ye,"_doAttach");function W(pe,De,Le,Ve){for(var Me=De[v.R5];Me--;){var $e=De[Me];$e&&(!Le.ns||Le.ns===$e.evtName.ns)&&(!Ve||Ve($e))&&(ie(pe,$e.evtName,$e[v.Kn],$e.capture),De[v.cb](Me,1))}}a(W,"_doUnregister");function Ye(pe,De,Le){if(De[v.P6])W(pe,Se(pe,De[v.P6]),De,Le);else{var Ve=U.get(pe,b,{});(0,_.rW)(Ve,function(Me,$e){W(pe,$e,De,Le)}),(0,_.FY)(Ve)[v.R5]===0&&U.kill(pe,b)}}a(Ye,"_unregisterEvents");function be(pe,De){var Le;return De?((0,_.kJ)(De)?Le=[pe].concat(De):Le=[pe,De],Le=re("xx",Le).ns[v.w6](".")):Le=pe,Le}a(be,"mergeEvtNamespace");function de(pe,De,Le,Ve,Me){var $e;Me===void 0&&(Me=!1);var tt=!1;if(pe)try{var st=re(De,Ve);if(tt=ye(pe,st,Le,Me),tt&&U.accept(pe)){var Fe=($e={guid:N++,evtName:st},$e[v.Kn]=Le,$e.capture=Me,$e);Se(pe,st.type)[v.MW](Fe)}}catch(J){}return tt}a(de,"eventOn");function Q(pe,De,Le,Ve,Me){if(Me===void 0&&(Me=!1),pe)try{var $e=re(De,Ve),tt=!1;Ye(pe,$e,function(st){return $e.ns&&!Le||st[v.Kn]===Le?(tt=!0,!0):!1}),tt||ie(pe,$e,Le,Me)}catch(st){}}a(Q,"eventOff");function oe(pe,De,Le,Ve){return Ve===void 0&&(Ve=!1),de(pe,De,Le,null,Ve)}a(oe,"attachEvent");function Te(pe,De,Le,Ve){Ve===void 0&&(Ve=!1),Q(pe,De,Le,null,Ve)}a(Te,"detachEvent");function Oe(pe,De,Le){var Ve=!1,Me=(0,w.Jj)();Me&&(Ve=de(Me,pe,De,Le),Ve=de(Me.body,pe,De,Le)||Ve);var $e=(0,w.Me)();return $e&&(Ve=de($e,pe,De,Le)||Ve),Ve}a(Oe,"addEventHandler");function ne(pe,De,Le){var Ve=(0,w.Jj)();Ve&&(Q(Ve,pe,De,Le),Q(Ve.body,pe,De,Le));var Me=(0,w.Me)();Me&&Q(Me,pe,De,Le)}a(ne,"removeEventHandler");function Ke(pe,De,Le,Ve){var Me=!1;return De&&pe&&pe[v.R5]>0&&(0,_.tO)(pe,function($e){$e&&(!Le||(0,_.UA)(Le,$e)===-1)&&(Me=Oe($e,De,Ve)||Me)}),Me}a(Ke,"_addEventListeners");function Xe(pe,De,Le,Ve){var Me=!1;return De&&pe&&(0,_.kJ)(pe)&&(Me=Ke(pe,De,Le,Ve),!Me&&Le&&Le[v.R5]>0&&(Me=Ke(pe,De,null,Ve))),Me}a(Xe,"addEventListeners");function ot(pe,De,Le){pe&&(0,_.kJ)(pe)&&(0,_.tO)(pe,function(Ve){Ve&&ne(Ve,De,Le)})}a(ot,"removeEventListeners");function G(pe,De,Le){return Xe([se,j,F],pe,De,Le)}a(G,"addPageUnloadEventListener");function ee(pe,De){ot([se,j,F],pe,De)}a(ee,"removePageUnloadEventListener");function ae(pe,De,Le){function Ve(tt){var st=(0,w.Me)();pe&&st&&st.visibilityState==="hidden"&&pe(tt)}a(Ve,"_handlePageVisibility");var Me=be(M,Le),$e=Ke([F],pe,De,Me);return(!De||(0,_.UA)(De,B)===-1)&&($e=Ke([B],Ve,De,Me)||$e),!$e&&De&&($e=ae(pe,null,Le)),$e}a(ae,"addPageHideEventListener");function _e(pe,De){var Le=be(M,De);ot([F],pe,Le),ot([B],null,Le)}a(_e,"removePageHideEventListener");function Be(pe,De,Le){function Ve(tt){var st=(0,w.Me)();pe&&st&&st.visibilityState==="visible"&&pe(tt)}a(Ve,"_handlePageVisibility");var Me=be($,Le),$e=Ke([q],pe,De,Me);return $e=Ke([B],Ve,De,Me)||$e,!$e&&De&&($e=Be(pe,null,Le)),$e}a(Be,"addPageShowEventListener");function Ue(pe,De){var Le=be($,De);ot([q],pe,Le),ot([B],null,Le)}a(Ue,"removePageShowEventListener")},6708:(he,l,E)=>{"use strict";E.d(l,{Ym:()=>oe,o8:()=>Te,le:()=>ne,BX:()=>Ke,nr:()=>Xe,Kn:()=>ot,mf:()=>G,Gf:()=>ae,rW:()=>_e,Id:()=>Be,xe:()=>pe,_Q:()=>Le,J_:()=>Ve,kJ:()=>Me,VZ:()=>tt,HD:()=>st,hj:()=>Fe,jn:()=>J,Y6:()=>zt,tO:()=>Er,UA:()=>P,Mr:()=>d,Xz:()=>m,nd:()=>V,FY:()=>me,l_:()=>gt,_A:()=>Ft,FL:()=>Nt,Xi:()=>Gt,m6:()=>Kr,jj:()=>fn,sO:()=>Sn,qK:()=>mn,v4:()=>sn,F:()=>yn,fQ:()=>zn,_y:()=>kn,cf:()=>Xr,Oi:()=>Dn,Vb:()=>An,hl:()=>Ei,Ax:()=>ai,mm:()=>hn});var v=E(4392),g=E(2091),w=E(8096),_=E(6041),R="toISOString",T="endsWith",h="startsWith",S="indexOf",x="map",y="reduce",b="trim",B="toString",F="__proto__",q="constructor",j=v.RJ,se=v.Pw.freeze,M=v.Pw.seal,$=v.Pw.keys,k=String[v.hB],A=k[b],N=k[T],U=k[h],te=Date[v.hB],X=te[R],re=Array.isArray,ce=v.V4[B],Se=v.CY[B],ie=Se[w._S](v.Pw),ye=/-([a-z])/g,W=/([^\w\d_$])/g,Ye=/^(\d+[\w\d_$])/,be=Object.getPrototypeOf;function de(H){if(H){if(be)return be(H);var we=H[F]||H[v.hB]||H[q];if(we)return we}return null}a(de,"_getObjProto");function Q(H){return ce[_DYN_CALL](H)}a(Q,"objToString");function oe(H,we){return typeof H===we}a(oe,"isTypeof");function Te(H){return H===void 0||typeof H===v.jA}a(Te,"isUndefined");function Oe(H){return!Te(H)}a(Oe,"isNotUndefined");function ne(H){return H===null||Te(H)}a(ne,"isNullOrUndefined");function Ke(H){return!ne(H)}a(Ke,"isNotNullOrUndefined");function Xe(H,we){return!!(H&&v.CY[w._S](H,we))}a(Xe,"hasOwnProperty");function ot(H){return!!(H&&typeof H===v.fK)}a(ot,"isObject");function G(H){return!!(H&&typeof H===v.cb)}a(G,"isFunction");function ee(H){return H&&G(H.then)}a(ee,"isPromiseLike");function ae(H){var we=H;return we&&st(we)&&(we=we[w.i7](ye,function(Ne,We){return We.toUpperCase()}),we=we[w.i7](W,"_"),we=we[w.i7](Ye,function(Ne,We){return"_"+We})),we}a(ae,"normalizeJsName");function _e(H,we){if(H)for(var Ne in H)v.CY[w._S](H,Ne)&&we[w._S](H,Ne,H[Ne])}a(_e,"objForEachKey");function Be(H,we){var Ne=!1;return H&&we&&!(Ne=H===we)&&(Ne=N?H[T](we):Ue(H,we)),Ne}a(Be,"strEndsWith");function Ue(H,we){var Ne=!1,We=we?we[w.R5]:0,at=H?H[w.R5]:0;if(We&&at&&at>=We&&!(Ne=H===we)){for(var nt=at-1,yt=We-1;yt>=0;yt--){if(H[nt]!=we[yt])return!1;nt--}Ne=!0}return Ne}a(Ue,"_strEndsWithPoly");function pe(H,we){var Ne=!1;return H&&we&&!(Ne=H===we)&&(Ne=U?H[h](we):De(H,we)),Ne}a(pe,"strStartsWith");function De(H,we){var Ne=!1,We=we?we[w.R5]:0;if(H&&We&&H[w.R5]>=We&&!(Ne=H===we)){for(var at=0;at<We;at++)if(H[at]!==we[at])return!1;Ne=!0}return Ne}a(De,"_strStartsWithPoly");function Le(H,we){return H&&we?H[w.ou](we)!==-1:!1}a(Le,"strContains");function Ve(H){return!!(H&&ce[w._S](H)==="[object Date]")}a(Ve,"isDate");var Me=re||$e;function $e(H){return!!(H&&ce[w._S](H)==="[object Array]")}a($e,"_isArrayPoly");function tt(H){return!!(H&&ce[w._S](H)==="[object Error]")}a(tt,"isError");function st(H){return typeof H=="string"}a(st,"isString");function Fe(H){return typeof H=="number"}a(Fe,"isNumber");function J(H){return typeof H=="boolean"}a(J,"isBoolean");function Z(H){return typeof H=="symbol"}a(Z,"isSymbol");function rt(H){var we=!1;if(H&&typeof H=="object"){var Ne=be?be(H):de(H);Ne?(Ne[q]&&v.CY[w._S](Ne,q)&&(Ne=Ne[q]),we=typeof Ne===v.cb&&Se[w._S](Ne)===ie):we=!0}return we}a(rt,"isPlainObject");function zt(H){if(H)return X?H[R]():wr(H)}a(zt,"toISOString");function wr(H){if(H&&H.getUTCFullYear){var we=a(function(Ne){var We=String(Ne);return We[w.R5]===1&&(We="0"+We),We},"pad");return H.getUTCFullYear()+"-"+we(H.getUTCMonth()+1)+"-"+we(H.getUTCDate())+"T"+we(H.getUTCHours())+":"+we(H.getUTCMinutes())+":"+we(H.getUTCSeconds())+"."+String((H.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}a(wr,"_toISOStringPoly");function Er(H,we,Ne){var We=H[w.R5];try{for(var at=0;at<We&&!(at in H&&we[w._S](Ne||H,H[at],at,H)===-1);at++);}catch(nt){}}a(Er,"arrForEach");function P(H,we,Ne){if(H){if(H[S])return H[S](we,Ne);var We=H[w.R5],at=Ne||0;try{for(var nt=Math.max(at>=0?at:We-Math.abs(at),0);nt<We;nt++)if(nt in H&&H[nt]===we)return nt}catch(yt){}}return-1}a(P,"arrIndexOf");function d(H,we,Ne){var We;if(H){if(H[x])return H[x](we,Ne);var at=H[w.R5],nt=Ne||H;We=new Array(at);try{for(var yt=0;yt<at;yt++)yt in H&&(We[yt]=we[w._S](nt,H[yt],H))}catch(It){}}return We}a(d,"arrMap");function m(H,we,Ne){var We;if(H){if(H[y])return H[y](we,Ne);var at=H[w.R5],nt=0;if(arguments[w.R5]>=3)We=arguments[2];else{for(;nt<at&&!(nt in H);)nt++;We=H[nt++]}for(;nt<at;)nt in H&&(We=we(We,H[nt],nt,H)),nt++}return We}a(m,"arrReduce");function V(H){return H&&(H=A&&H[b]?H[b]():H[w.i7]?H[w.i7](/^\s+|(?=\s)\s+$/g,_.qS):H),H}a(V,"strTrim");var ve=!{toString:null}.propertyIsEnumerable("toString"),Pe=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function me(H){var we=typeof H;if(we!==v.cb&&(we!==v.fK||H===null)&&(0,g.ZU)("objKeys called on non-object"),!ve&&$)return $(H);var Ne=[];for(var We in H)H&&v.CY[w._S](H,We)&&Ne[w.MW](We);if(ve)for(var at=Pe[w.R5],nt=0;nt<at;nt++)H&&v.CY[w._S](H,Pe[nt])&&Ne[w.MW](Pe[nt]);return Ne}a(me,"objKeys");function gt(H,we,Ne,We){if(j)try{var at={enumerable:!0,configurable:!0};return Ne&&(at.get=Ne),We&&(at.set=We),j(H,we,at),!0}catch(nt){}return!1}a(gt,"objDefineAccessors");function Rt(H){return H}a(Rt,"_doNothing");function Ft(H){return se&&_e(H,function(we,Ne){(Me(Ne)||ot(Ne))&&se(Ne)}),Nt(H)}a(Ft,"deepFreeze");var Nt=se||Rt,Gt=M||Rt;function Kr(){var H=Date;return H.now?H.now():new H().getTime()}a(Kr,"dateNow");function fn(H){return tt(H)?H[w.I]:_.qS}a(fn,"getExceptionName");function Sn(H,we,Ne,We,at){var nt=Ne;return H&&(nt=H[we],nt!==Ne&&(!at||at(nt))&&(!We||We(Ne))&&(nt=Ne,H[we]=nt)),nt}a(Sn,"setValue");function mn(H,we,Ne){var We;return H?(We=H[we],!We&&ne(We)&&(We=Te(Ne)?{}:Ne,H[we]=We)):We=Te(Ne)?{}:Ne,We}a(mn,"getSetValue");function sn(H,we){return ne(H)?we:H}a(sn,"getCfgValue");function yn(H){return!H}a(yn,"isNotTruthy");function zn(H){return!!H}a(zn,"isTruthy");function kn(H){throw new Error(H)}a(kn,"throwError");function Cr(H,we){var Ne=null,We=null;return G(H)?Ne=H:We=H,function(){var at=arguments;if(Ne&&(We=Ne()),We)return We[we][w.ZV](We,at)}}a(Cr,"_createProxyFunction");function Xr(H,we,Ne){if(H&&we&&ot(H)&&ot(we)){var We=a(function(nt){if(st(nt)){var yt=we[nt];G(yt)?(!Ne||Ne(nt,!0,we,H))&&(H[nt]=Cr(we,nt)):(!Ne||Ne(nt,!1,we,H))&&(Xe(H,nt)&&delete H[nt],gt(H,nt,function(){return we[nt]},function(It){we[nt]=It})||(H[nt]=yt))}},"_loop_1");for(var at in we)We(at)}return H}a(Xr,"proxyAssign");function Dn(H,we,Ne,We,at){H&&we&&Ne&&(at!==!1||Te(H[we]))&&(H[we]=Cr(Ne,We))}a(Dn,"proxyFunctionAs");function An(H,we,Ne,We){return H&&we&&ot(H)&&Me(Ne)&&Er(Ne,function(at){st(at)&&Dn(H,at,we,at,We)}),H}a(An,"proxyFunctions");function Ei(H){return function(){function we(){var Ne=this;H&&_e(H,function(We,at){Ne[We]=at})}return a(we,"class_1"),we}()}a(Ei,"createClassFromInterface");function ai(H){return H&&v.rl&&(H=(0,v.Pw)((0,v.rl)({},H))),H}a(ai,"optimizeObject");function hn(H,we,Ne,We,at,nt){var yt=arguments,It=yt[0]||{},Ut=yt[w.R5],sr=!1,Ct=1;for(Ut>0&&J(It)&&(sr=It,It=yt[Ct]||{},Ct++),ot(It)||(It={});Ct<Ut;Ct++){var Yt=yt[Ct],qt=Me(Yt),Vt=ot(Yt);for(var Mt in Yt){var Pr=qt&&Mt in Yt||Vt&&v.CY[w._S](Yt,Mt);if(!!Pr){var Sr=Yt[Mt],_n=void 0;if(sr&&Sr&&((_n=Me(Sr))||rt(Sr))){var un=It[Mt];_n?Me(un)||(un=[]):rt(un)||(un={}),Sr=hn(sr,un,Sr)}Sr!==void 0&&(It[Mt]=Sr)}}}return It}a(hn,"objExtend")},6041:(he,l,E)=>{"use strict";E.d(l,{qS:()=>v,Z:()=>g,oV:()=>w,DN:()=>_,mE:()=>R,Zh:()=>T,js:()=>h,hL:()=>S,yi:()=>x,uC:()=>y,$F:()=>b,f_:()=>B,C$:()=>F,ys:()=>q,cL:()=>j,kl:()=>se});var v="",g="channels",w="core",_="createPerfMgr",R="disabled",T="extensionConfig",h="extensions",S="processTelemetry",x="priority",y="eventsSent",b="eventsDiscarded",B="eventsSendRequest",F="perfEvent",q="errorToConsole",j="warnToConsole",se="getPerfMgr"},1880:(he,l,E)=>{"use strict";E.d(l,{f:()=>T});var v=E(1679),g=E(8096),w=E(6708),_=E(6041);function R(h,S,x,y){(0,w.tO)(h,function(b){if(b&&b[S])if(x)setTimeout(function(){return y(b)},0);else try{y(b)}catch(B){}})}a(R,"_runListeners");var T=function(){function h(S){this.listeners=[];var x=!!(S||{}).perfEvtsSendAll;(0,v.Z)(h,this,function(y){y[g.g]=function(b){y.listeners[g.MW](b)},y[g.n7]=function(b){for(var B=(0,w.UA)(y[g.dE],b);B>-1;)y.listeners[g.cb](B,1),B=(0,w.UA)(y[g.dE],b)},y[_.uC]=function(b){R(y[g.dE],_.uC,!0,function(B){B[_.uC](b)})},y[_.$F]=function(b,B){R(y[g.dE],_.$F,!0,function(F){F[_.$F](b,B)})},y[_.f_]=function(b,B){R(y[g.dE],_.f_,B,function(F){F[_.f_](b,B)})},y[_.C$]=function(b){b&&(x||!b[g.PL]())&&R(y[g.dE],_.C$,!1,function(B){b[g.d]?setTimeout(function(){return B[_.C$](b)},0):B[_.C$](b)})}})}return a(h,"NotificationManager"),h.__ieDyn=1,h}()},9288:(he,l,E)=>{"use strict";E.d(l,{zn:()=>x,Jk:()=>y,Lm:()=>B,j5:()=>q});var v=E(1679),g=E(8096),w=E(6708),_=E(6041),R="ctx",T="ParentContextKey",h="ChildrenContextKey",S=null,x=function(){function j(se,M,$){var k=this,A=!1;if(k.start=(0,w.m6)(),k[g.I]=se,k[g.d]=$,k[g.PL]=function(){return!1},(0,w.mf)(M)){var N;A=(0,w.l_)(k,"payload",function(){return!N&&(0,w.mf)(M)&&(N=M(),M=null),N})}k[g.T]=function(U){return U?U===j[T]||U===j[h]?k[U]:(k[R]||{})[U]:null},k[g.wu]=function(U,te){if(U)if(U===j[T])k[U]||(k[g.PL]=function(){return!0}),k[U]=te;else if(U===j[h])k[U]=te;else{var X=k[R]=k[R]||{};X[U]=te}},k[g.Km]=function(){var U=0,te=k[g.T](j[h]);if((0,w.kJ)(te))for(var X=0;X<te[g.R5];X++){var re=te[X];re&&(U+=re[g.Z_])}k[g.Z_]=(0,w.m6)()-k.start,k.exTime=k[g.Z_]-U,k[g.Km]=function(){},!A&&(0,w.mf)(M)&&(k.payload=M())}}return a(j,"PerfEvent"),j.ParentContextKey="parent",j.ChildrenContextKey="childEvts",j}(),y=function(){function j(se){this.ctx={},(0,v.Z)(j,this,function(M){M.create=function($,k,A){return new x($,k,A)},M.fire=function($){$&&($[g.Km](),se&&(0,w.mf)(se[_.C$])&&se[_.C$]($))},M[g.wu]=function($,k){if($){var A=M[R]=M[R]||{};A[$]=k}},M[g.T]=function($){return(M[R]||{})[$]}})}return a(j,"PerfManager"),j.__ieDyn=1,j}(),b="CoreUtils.doPerf";function B(j,se,M,$,k){if(j){var A=j;if(A[_.kl]&&(A=A[_.kl]()),A){var N=void 0,U=A[g.T](b);try{if(N=A.create(se(),$,k),N){if(U&&N[g.wu]&&(N[g.wu](x[T],U),U[g.T]&&U[g.wu])){var te=U[g.T](x[h]);te||(te=[],U[g.wu](x[h],te)),te[g.MW](N)}return A[g.wu](b,N),M(N)}}catch(X){N&&N[g.wu]&&N[g.wu]("exception",X)}finally{N&&A.fire(N),A[g.wu](b,U)}}}return M()}a(B,"doPerf");function F(j){S=j}a(F,"setGblPerfMgr");function q(){return S}a(q,"getGblPerfMgr")},1589:(he,l,E)=>{"use strict";E.d(l,{CD:()=>q,Bt:()=>j,xy:()=>se,jV:()=>M,Vi:()=>k});var v=E(8096),g=E(5018),w=E(7630),_=E(6708),R=E(6041),T=E(9288),h=E(3833),S="TelemetryPluginChain",x="_hasRun",y="_getTelCtx",b=0;function B(A,N,U){for(;A;){if(A[v.TO]()===U)return A;A=A[v.W2]()}return M([U],N[v.TC]||{},N)}a(B,"_getNextProxyStart");function F(A,N,U,te){var X=null,re=[];te!==null&&(X=te?B(A,U,te):A);var ce={_next:ie,ctx:{core:function(){return U},diagLog:function(){return(0,g.vH)(U,N)},getCfg:function(){return N},getExtCfg:ye,getConfig:W,hasNext:function(){return!!X},getNext:function(){return X},setNext:function(be){X=be},iterate:Ye,onComplete:Se}};function Se(be,de){for(var Q=[],oe=2;oe<arguments.length;oe++)Q[oe-2]=arguments[oe];be&&re[v.MW]({func:be,self:(0,_.o8)(de)?ce.ctx:de,args:Q})}a(Se,"_addOnComplete");function ie(){var be=X;if(X=be?be[v.W2]():null,!be){var de=re;de&&de[v.R5]>0&&((0,_.tO)(de,function(Q){try{Q.func[v._S](Q.self,Q.args)}catch(oe){(0,g.kP)(U[v.eZ],2,73,"Unexpected Exception during onComplete - "+(0,w.eU)(oe))}}),re=[])}return be}a(ie,"_moveNext");function ye(be,de,Q){de===void 0&&(de={}),Q===void 0&&(Q=0);var oe;if(N){var Te=N[R.Zh];Te&&be&&(oe=Te[be])}if(!oe)oe=de;else if((0,_.Kn)(de)&&Q!==0){var Oe=(0,_.mm)(!0,de,oe);N&&Q===2&&(0,_.rW)(de,function(ne){if((0,_.le)(Oe[ne])){var Ke=N[ne];(0,_.le)(Ke)||(Oe[ne]=Ke)}}),oe=Oe}return oe}a(ye,"_getExtCfg");function W(be,de,Q){Q===void 0&&(Q=!1);var oe,Te=ye(be,null);return Te&&!(0,_.le)(Te[de])?oe=Te[de]:N&&!(0,_.le)(N[de])&&(oe=N[de]),(0,_.le)(oe)?Q:oe}a(W,"_getConfig");function Ye(be){for(var de;de=ce._next();){var Q=de[v.TO]();Q&&be(Q)}}return a(Ye,"_iterateChain"),ce}a(F,"_createInternalContext");function q(A,N,U,te){var X=F(A,N,U,te),re=X.ctx;function ce(ie){var ye=X._next();return ye&&ye[R.hL](ie,re),!ye}a(ce,"_processNext");function Se(ie,ye){return ie===void 0&&(ie=null),(0,_.kJ)(ie)&&(ie=M(ie,N,U,ye)),q(ie||re[v.W2](),N,U,ye)}return a(Se,"_createNew"),re[v.uL]=ce,re[v.zV]=Se,re}a(q,"createProcessTelemetryContext");function j(A,N,U){var te=N[v.TC]||{},X=F(A,te,N,U),re=X.ctx;function ce(ie){var ye=X._next();return ye&&ye.unload(re,ie),!ye}a(ce,"_processNext");function Se(ie,ye){return ie===void 0&&(ie=null),(0,_.kJ)(ie)&&(ie=M(ie,te,N,ye)),j(ie||re[v.W2](),N,ye)}return a(Se,"_createNew"),re[v.uL]=ce,re[v.zV]=Se,re}a(j,"createProcessTelemetryUnloadContext");function se(A,N,U){var te=N[v.TC]||{},X=F(A,te,N,U),re=X.ctx;function ce(ie){return re.iterate(function(ye){(0,_.mf)(ye[v.Tu])&&ye[v.Tu](re,ie)})}a(ce,"_processNext");function Se(ie,ye){return ie===void 0&&(ie=null),(0,_.kJ)(ie)&&(ie=M(ie,te,N,ye)),se(ie||re[v.W2](),N,ye)}return a(Se,"_createNew"),re[v.uL]=ce,re[v.zV]=Se,re}a(se,"createProcessTelemetryUpdateContext");function M(A,N,U,te){var X=null,re=!te;if((0,_.kJ)(A)&&A[v.R5]>0){var ce=null;(0,_.tO)(A,function(Se){if(!re&&te===Se&&(re=!0),re&&Se&&(0,_.mf)(Se[R.hL])){var ie=$(Se,N,U);X||(X=ie),ce&&ce._setNext(ie),ce=ie}})}return te&&!X?M([te],N,U):X}a(M,"createTelemetryProxyChain");function $(A,N,U){var te=null,X=(0,_.mf)(A[R.hL]),re=(0,_.mf)(A[v.Jd]),ce;A?ce=A[v.pZ]+"-"+A[R.yi]+"-"+b++:ce="Unknown-0-"+b++;var Se={getPlugin:function(){return A},getNext:function(){return te},processTelemetry:W,unload:Ye,update:be,_id:ce,_setNext:function(de){te=de}};function ie(){var de;return A&&(0,_.mf)(A[y])&&(de=A[y]()),de||(de=q(Se,N,U)),de}a(ie,"_getTelCtx");function ye(de,Q,oe,Te,Oe){var ne=!1,Ke=A?A[v.pZ]:S,Xe=de[x];return Xe||(Xe=de[x]={}),de.setNext(te),A&&(0,T.Lm)(de[R.oV](),function(){return Ke+":"+oe},function(){Xe[ce]=!0;try{var ot=te?te._id:R.qS;ot&&(Xe[ot]=!1),ne=Q(de)}catch(ee){var G=te?Xe[te._id]:!0;G&&(ne=!0),(!te||!G)&&(0,g.kP)(de[v.mc](),1,73,"Plugin ["+Ke+"] failed during "+oe+" - "+(0,w.eU)(ee)+", run flags: "+(0,w.eU)(Xe))}},Te,Oe),ne}a(ye,"_processChain");function W(de,Q){Q=Q||ie();function oe(Te){if(!A||!X)return!1;var Oe=(0,h.OY)(A);return Oe[v.fi]||Oe[R.mE]?!1:(re&&A[v.Jd](te),A[R.hL](de,Te),!0)}a(oe,"_callProcessTelemetry"),ye(Q,oe,"processTelemetry",function(){return{item:de}},!de.sync)||Q[v.uL](de)}a(W,"_processTelemetry");function Ye(de,Q){function oe(){var Te=!1;if(A){var Oe=(0,h.OY)(A),ne=A[R.oV]||Oe[R.oV];A&&(!ne||ne===de.core())&&!Oe[v.fi]&&(Oe[R.oV]=null,Oe[v.fi]=!0,Oe[v.yl]=!1,A[v.fi]&&A[v.fi](de,Q)===!0&&(Te=!0))}return Te}a(oe,"_callTeardown"),ye(de,oe,"unload",function(){},Q[v.d])||de[v.uL](Q)}a(Ye,"_unloadPlugin");function be(de,Q){function oe(){var Te=!1;if(A){var Oe=(0,h.OY)(A),ne=A[R.oV]||Oe[R.oV];A&&(!ne||ne===de.core())&&!Oe[v.fi]&&A[v.Tu]&&A[v.Tu](de,Q)===!0&&(Te=!0)}return Te}a(oe,"_callUpdate"),ye(de,oe,"update",function(){},!1)||de[v.uL](Q)}return a(be,"_updatePlugin"),(0,_.FL)(Se)}a($,"createTelemetryPluginProxy");var k=function(){function A(N,U,te,X){var re=this,ce=q(N,U,te,X);(0,_.Vb)(re,ce,(0,_.FY)(ce))}return a(A,"ProcessTelemetryContext"),A}()},4878:(he,l,E)=>{"use strict";E.d(l,{az:()=>B,_l:()=>F,CN:()=>q,F6:()=>j,pZ:()=>se});var v=E(8096),g=E(7630),w=E(6708),_=E(6041),R=4294967296,T=4294967295,h=!1,S=123456789,x=987654321;function y(M){M<0&&(M>>>=0),S=123456789+M&T,x=987654321-M&T,h=!0}a(y,"_mwcSeed");function b(){try{var M=(0,w.m6)()&2147483647;y((Math.random()*R^M)+M)}catch($){}}a(b,"_autoSeedMwc");function B(M){return M>0?Math.floor(F()/T*(M+1))>>>0:0}a(B,"randomValue");function F(M){var $=0,k=(0,g.MX)()||(0,g.gz)();return k&&k.getRandomValues&&($=k.getRandomValues(new Uint32Array(1))[0]&T),$===0&&(0,g.w1)()&&(h||b(),$=j()&T),$===0&&($=Math.floor(R*Math.random()|0)),M||($>>>=0),$}a(F,"random32");function q(M){M?y(M):b()}a(q,"mwcRandomSeed");function j(M){x=36969*(x&65535)+(x>>16)&T,S=18e3*(S&65535)+(S>>16)&T;var $=(x<<16)+(S&65535)>>>0&T|0;return M||($>>>=0),$}a(j,"mwcRandom32");function se(M){M===void 0&&(M=22);for(var $="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k=F()>>>0,A=0,N=_.qS;N[v.R5]<M;)A++,N+=$.charAt(k&63),k>>>=6,A===5&&(k=(F()<<2&4294967295|k&3)>>>0,A=0);return N}a(se,"newId")},3833:(he,l,E)=>{"use strict";E.d(l,{OY:()=>h,bP:()=>S,AA:()=>x,Yn:()=>b});var v=E(8096),g=E(5883),w=E(6708),_=E(6041),R=E(4206),T=(0,g.K)("plugin");function h(B){return T.get(B,"state",{},!0)}a(h,"_getPluginState");function S(B,F){for(var q=[],j=null,se=B[v.W2](),M;se;){var $=se[v.TO]();if($){j&&(0,w.mf)(j[v.Jd])&&(0,w.mf)($[_.hL])&&j[v.Jd]($);var k=!1;(0,w.mf)($[v.yl])?k=$[v.yl]():(M=h($),k=M[v.yl]),k||q[v.MW]($),j=$,se=se[v.W2]()}}(0,w.tO)(q,function(A){var N=B[_.oV]();A[v.VL](B.getCfg(),N,F,B[v.W2]()),M=h(A),!A[_.oV]&&!M[_.oV]&&(M[_.oV]=N),M[v.yl]=!0,delete M[v.fi]})}a(S,"initializePlugins");function x(B){return B.sort(function(F,q){var j=0;if(q){var se=(0,w.mf)(q[_.hL]);(0,w.mf)(F[_.hL])?j=se?F[_.yi]-q[_.yi]:1:se&&(j=-1)}else j=F?1:-1;return j})}a(x,"sortPlugins");function y(B,F,q,j){var se=0;function M(){for(;se<B[_DYN_LENGTH];){var $=B[se++];if($){var k=$._doUnload||$[_DYN__DO_TEARDOWN];if(isFunction(k)&&k[_DYN_CALL]($,F,q,M)===!0)return!0}}}return a(M,"_doUnload"),M()}a(y,"unloadComponents");function b(B){var F={};return{getName:function(){return F[v.I]},setName:function(q){B&&B.setName(q),F[v.I]=q},getTraceId:function(){return F[v.nY]},setTraceId:function(q){B&&B.setTraceId(q),(0,R.jN)(q)&&(F[v.nY]=q)},getSpanId:function(){return F[v._d]},setSpanId:function(q){B&&B.setSpanId(q),(0,R.Lc)(q)&&(F[v._d]=q)},getTraceFlags:function(){return F[v.T0]},setTraceFlags:function(q){B&&B.setTraceFlags(q),F[v.T0]=q}}}a(b,"createDistributedTraceContext")},310:(he,l,E)=>{"use strict";E.d(l,{Y:()=>R});var v=E(8096),g=E(5018),w=E(7630),_=E(6708);function R(){var T=[];function h(x){x&&T[v.MW](x)}a(h,"_addHandler");function S(x,y){(0,_.tO)(T,function(b){try{b(x,y)}catch(B){(0,g.kP)(x[v.mc](),2,73,"Unexpected error calling unload handler - "+(0,w.eU)(B))}}),T=[]}return a(S,"_runHandlers"),{add:h,run:S}}a(R,"createUnloadHandlerContainer")},4206:(he,l,E)=>{"use strict";E.d(l,{SU:()=>q,j_:()=>j,jN:()=>se,Lc:()=>M,J6:()=>$,Pn:()=>k,aR:()=>A,lq:()=>N});var v=E(8096),g=E(5843),w=E(7630),_=E(6708),R=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,T="00",h="ff",S="00000000000000000000000000000000",x="0000000000000000",y=1;function b(U,te,X){return U&&U[v.R5]===te&&U!==X?!!U.match(/^[\da-f]*$/):!1}a(b,"_isValid");function B(U,te,X){return b(U,te)?U:X}a(B,"_formatValue");function F(U){(isNaN(U)||U<0||U>255)&&(U=1);for(var te=U.toString(16);te[v.R5]<2;)te="0"+te;return te}a(F,"_formatFlags");function q(U,te,X,re){var ce;return ce={},ce[v.PA]=b(re,2,h)?re:T,ce[v.nY]=se(U)?U:(0,g.DO)(),ce.spanId=M(te)?te:(0,g.DO)()[v.Jn](0,16),ce.traceFlags=X>=0&&X<=255?X:1,ce}a(q,"createTraceParent");function j(U){var te;if(!U||((0,_.kJ)(U)&&(U=U[0]||""),!U||!(0,_.HD)(U)||U[v.R5]>8192))return null;var X=R.exec((0,_.nd)(U));return!X||X[1]===h||X[2]===S||X[3]===x?null:(te={},te[v.PA]=X[1],te[v.nY]=X[2],te[v._d]=X[3],te[v.T0]=parseInt(X[4],16),te)}a(j,"parseTraceParent");function se(U){return b(U,32,S)}a(se,"isValidTraceId");function M(U){return b(U,16,x)}a(M,"isValidSpanId");function $(U){return!(!U||!b(U[v.PA],2,h)||!b(U[v.nY],32,S)||!b(U[v._d],16,x)||!b(F(U[v.T0]),2))}a($,"isValidTraceParent");function k(U){return $(U)?(U[v.T0]&y)===y:!1}a(k,"isSampledFlag");function A(U){if(U){var te=F(U[v.T0]);b(te,2)||(te="01");var X=U[v.PA]||T;return X!=="00"&&X!=="ff"&&(X=T),"".concat(X,"-").concat(B(U.traceId,32,S),"-").concat(B(U.spanId,16,x),"-").concat(te)}return""}a(A,"formatTraceParent");function N(){var U="traceparent",te=j((0,w.ed)(U));return te||(te=j((0,w.pI)(U))),te}a(N,"findW3cTraceParent")},8096:(he,l,E)=>{"use strict";E.d(l,{VL:()=>v,I:()=>g,tb:()=>w,pZ:()=>_,MW:()=>R,yl:()=>T,TC:()=>h,p$:()=>S,eZ:()=>x,R5:()=>y,Z_:()=>b,uL:()=>B,SD:()=>F,g:()=>q,n7:()=>j,LS:()=>se,Fc:()=>M,TO:()=>$,kL:()=>k,iC:()=>A,cb:()=>N,fi:()=>U,Gc:()=>te,gU:()=>X,d:()=>re,F3:()=>ce,Tu:()=>Se,W2:()=>ie,mc:()=>ye,Jd:()=>W,zV:()=>Ye,Lk:()=>be,ou:()=>de,zc:()=>Q,qV:()=>oe,w6:()=>Te,$h:()=>Oe,Jn:()=>ne,xv:()=>Ke,ZV:()=>Xe,i7:()=>ot,Fr:()=>G,jk:()=>ee,T1:()=>ae,_S:()=>_e,P6:()=>Be,Kn:()=>Ue,dE:()=>pe,PL:()=>De,T:()=>Le,wu:()=>Ve,Km:()=>Me,nY:()=>$e,_d:()=>tt,T0:()=>st,PA:()=>Fe});var v="initialize",g="name",w="getNotifyMgr",_="identifier",R="push",T="isInitialized",h="config",S="instrumentationKey",x="logger",y="length",b="time",B="processNext",F="getProcessTelContext",q="addNotificationListener",j="removeNotificationListener",se="stopPollingInternalLogs",M="onComplete",$="getPlugin",k="flush",A="_extensions",N="splice",U="teardown",te="messageId",X="message",re="isAsync",ce="_doTeardown",Se="update",ie="getNext",ye="diagLog",W="setNextPlugin",Ye="createNew",be="cookieCfg",de="indexOf",Q="substring",oe="userAgent",Te="split",Oe="setEnabled",ne="substr",Ke="nodeType",Xe="apply",ot="replace",G="enableDebugExceptions",ee="logInternalMessage",ae="toLowerCase",_e="call",Be="type",Ue="handler",pe="listeners",De="isChildEvt",Le="getCtx",Ve="setCtx",Me="complete",$e="traceId",tt="spanId",st="traceFlags",Fe="version"},4392:(he,l,E)=>{"use strict";E.d(l,{cb:()=>v,fK:()=>g,jA:()=>w,hB:()=>_,bO:()=>R,Pw:()=>h,V4:()=>S,rl:()=>x,yu:()=>y,RJ:()=>b,CY:()=>B});var v="function",g="object",w="undefined",_="prototype",R="hasOwnProperty",T="default",h=Object,S=h[_],x=h.assign,y=h.create,b=h.defineProperty,B=S[R]},2091:(he,l,E)=>{"use strict";E.d(l,{Rd:()=>w,ZU:()=>_,pu:()=>R});var v=E(4392),g=null;function w(T){T===void 0&&(T=!0);var h=T===!1?null:g;return h||(typeof globalThis!==v.jA&&(h=globalThis),!h&&typeof self!==v.jA&&(h=self),!h&&typeof window!==v.jA&&(h=window),!h&&typeof E.g!==v.jA&&(h=E.g),g=h),h}a(w,"getGlobal");function _(T){throw new TypeError(T)}a(_,"throwTypeError");function R(T){var h=v.yu;if(h)return h(T);if(T==null)return{};var S=typeof T;S!==v.fK&&S!==v.cb&&_("Object prototype may only be an Object:"+T);function x(){}return a(x,"tmpFunc"),x[v.hB]=T,new x}a(R,"objCreateFn")},1088:(he,l,E)=>{"use strict";E.d(l,{uc:()=>B,ne:()=>q,$h:()=>X});var v=E(4392),g=E(2091),w=((0,g.Rd)()||{}).Symbol,_=((0,g.Rd)()||{}).Reflect,R=!!w,T=!!_,h="decorate",S="metadata",x="getOwnPropertySymbols",y="iterator",b=a(function(ie){for(var ye,W=1,Ye=arguments.length;W<Ye;W++){ye=arguments[W];for(var be in ye)v.V4[v.bO].call(ye,be)&&(ie[be]=ye[be])}return ie},"__objAssignFnImpl"),B=v.rl||b,F=a(function(ie,ye){return F=v.Pw.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,Ye){W.__proto__=Ye}||function(W,Ye){for(var be in Ye)Ye[v.bO](be)&&(W[be]=Ye[be])},F(ie,ye)},"extendStaticsFn");function q(ie,ye){typeof ye!==v.cb&&ye!==null&&(0,g.ZU)("Class extends value "+String(ye)+" is not a constructor or null"),F(ie,ye);function W(){this.constructor=ie}a(W,"__"),ie[v.hB]=ye===null?(0,g.pu)(ye):(W[v.hB]=ye[v.hB],new W)}a(q,"__extendsFn");function j(ie,ye){var W={};for(var Ye in ie)ObjHasOwnProperty.call(ie,Ye)&&ye.indexOf(Ye)<0&&(W[Ye]=ie[Ye]);if(ie!=null&&typeof ObjClass[x]===strShimFunction)for(var be=0,de=ObjClass[x](ie);be<de.length;be++)ye.indexOf(de[be])<0&&ObjProto.propertyIsEnumerable.call(ie,de[be])&&(W[de[be]]=ie[de[be]]);return W}a(j,"__restFn");function se(ie,ye,W,Ye){var be=arguments.length,de=be<3?ye:Ye===null?Ye=ObjClass.getOwnPropertyDescriptor(ye,W):Ye,Q;if(T&&typeof _[h]===strShimFunction)de=_[h](ie,ye,W,Ye);else for(var oe=ie.length-1;oe>=0;oe--)(Q=ie[oe])&&(de=(be<3?Q(de):be>3?Q(ye,W,de):Q(ye,W))||de);return be>3&&de&&ObjDefineProperty(ye,W,de),de}a(se,"__decorateFn");function M(ie,ye){return function(W,Ye){ye(W,Ye,ie)}}a(M,"__paramFn");function $(ie,ye){if(T&&_[S]===strShimFunction)return _[S](ie,ye)}a($,"__metadataFn");function k(ie,ye){for(var W in ie)W!==strDefault&&!ObjHasOwnProperty.call(ye,W)&&A(ye,ie,W)}a(k,"__exportStarFn");function A(ie,ye,W,Ye){Ye===void 0&&(Ye=W),ObjCreate?ObjDefineProperty(ie,Ye,{enumerable:!0,get:function(){return ye[W]}}):ie[Ye]=ye[W]}a(A,"__createBindingFn");function N(ie){var ye=typeof w===strShimFunction&&w[y],W=ye&&ie[ye],Ye=0;if(W)return W.call(ie);if(ie&&typeof ie.length=="number")return{next:function(){return ie&&Ye>=ie.length&&(ie=void 0),{value:ie&&ie[Ye++],done:!ie}}};throwTypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}a(N,"__valuesFn");function U(ie,ye){var W=typeof w===strShimFunction&&ie[w[y]];if(!W)return ie;var Ye=W.call(ie),be,de=[],Q;try{for(;(ye===void 0||ye-- >0)&&!(be=Ye.next()).done;)de.push(be.value)}catch(oe){Q={error:oe}}finally{try{be&&!be.done&&(W=Ye.return)&&W.call(Ye)}finally{if(Q)throw Q.error}}return de}a(U,"__readFn");function te(){for(var ie=arguments,ye=0,W=0,Ye=ie.length;W<Ye;W++)ye+=ie[W].length;for(var be=Array(ye),de=0,W=0;W<Ye;W++)for(var Q=ie[W],oe=0,Te=Q.length;oe<Te;oe++,de++)be[de]=Q[oe];return be}a(te,"__spreadArraysFn");function X(ie,ye){for(var W=0,Ye=ye.length,be=ie.length;W<Ye;W++,be++)ie[be]=ye[W];return ie}a(X,"__spreadArrayFn");function re(ie,ye){return ObjDefineProperty?ObjDefineProperty(ie,"raw",{value:ye}):ie.raw=ye,ie}a(re,"__makeTemplateObjectFn");function ce(ie){if(ie&&ie.__esModule)return ie;var ye={};if(ie!=null)for(var W in ie)W!==strDefault&&Object.prototype.hasOwnProperty.call(ie,W)&&A(ye,ie,W);return ObjCreate?ObjDefineProperty(ye,strDefault,{enumerable:!0,value:ie}):ye[strDefault]=ie,ye}a(ce,"__importStarFn");function Se(ie){return ie&&ie.__esModule?ie:{strDefault:ie}}a(Se,"__importDefaultFn")},3268:(he,l,E)=>{"use strict";E.r(l),E.d(l,{AppInsightsCore:()=>co.F,ApplicationInsights:()=>Jo,CoreUtils:()=>Sr.Tr,Sender:()=>lo,SeverityLevel:()=>Qo,_InternalMessageId:()=>Ns.v,arrForEach:()=>J.tO,isNullOrUndefined:()=>J.le,proxyFunctions:()=>J.Vb,throwError:()=>J._y});var v=E(1679),g=E(1088),w="AppInsightsPropertiesPlugin",_="AppInsightsChannelPlugin",R="ApplicationInsightsAnalytics",T="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",h="sampleRate",S="ProcessLegacy",x="http.method",y="https://dc.services.visualstudio.com",b="/v2/track",B="not_specified",F="iKey",q="split",j="length",se="toLowerCase",M="ingestionendpoint",$="toString",k="removeItem",A="name",N="message",U="count",te="preTriggerDate",X="disabled",re="interval",ce="daysOfMonth",Se="date",ie="getUTCDate",ye="stringify",W="pathname",Ye="correlationHeaderExcludePatterns",be="indexOf",de="extensionConfig",Q="exceptions",oe="parsedStack",Te="properties",Oe="measurements",ne="sizeInBytes",Ke="typeName",Xe="severityLevel",ot="problemGroup",G="isManual",ee="CreateFromInterface",ae="assembly",_e="hasFullStack",Be="level",Ue="method",pe="fileName",De="line",Le="duration",Ve="receivedResponse",Me="substring",$e="sanitizeKeyAndAddUniqueness",tt="sanitizeException",st="sanitizeProperties",Fe="sanitizeMeasurements",J=E(6708),Z=E(5018),rt=E(7630),zt;function wr(O,C,L){var Y=C[j],ge=Er(O,C);if(ge[j]!==Y){for(var Re=0,ze=ge;L[ze]!==void 0;)Re++,ze=ge[Me](0,150-3)+Rt(Re);ge=ze}return ge}a(wr,"dataSanitizeKeyAndAddUniqueness");function Er(O,C){var L;return C&&(C=(0,J.nd)(C[$]()),C[j]>150&&(L=C[Me](0,150),(0,Z.kP)(O,2,57,"name is too long.  It has been truncated to "+150+" characters.",{name:C},!0))),L||C}a(Er,"dataSanitizeKey");function P(O,C,L){L===void 0&&(L=1024);var Y;return C&&(L=L||1024,C=(0,J.nd)(C),C.toString()[j]>L&&(Y=C[$]()[Me](0,L),(0,Z.kP)(O,2,61,"string value is too long. It has been truncated to "+L+" characters.",{value:C},!0))),Y||C}a(P,"dataSanitizeString");function d(O,C){return gt(O,C,2048,66)}a(d,"dataSanitizeUrl");function m(O,C){var L;return C&&C[j]>32768&&(L=C[Me](0,32768),(0,Z.kP)(O,2,56,"message is too long, it has been truncated to "+32768+" characters.",{message:C},!0)),L||C}a(m,"dataSanitizeMessage");function V(O,C){var L;if(C){var Y=""+C;Y[j]>32768&&(L=Y[Me](0,32768),(0,Z.kP)(O,2,52,"exception is too long, it has been truncated to "+32768+" characters.",{exception:C},!0))}return L||C}a(V,"dataSanitizeException");function ve(O,C){if(C){var L={};(0,J.rW)(C,function(Y,ge){if((0,J.Kn)(ge)&&(0,rt.nS)())try{ge=(0,rt.xA)()[ye](ge)}catch(Re){(0,Z.kP)(O,2,49,"custom property is not valid",{exception:Re},!0)}ge=P(O,ge,8192),Y=wr(O,Y,L),L[Y]=ge}),C=L}return C}a(ve,"dataSanitizeProperties");function Pe(O,C){if(C){var L={};(0,J.rW)(C,function(Y,ge){Y=wr(O,Y,L),L[Y]=ge}),C=L}return C}a(Pe,"dataSanitizeMeasurements");function me(O,C){return C&&gt(O,C,128,69)[$]()}a(me,"dataSanitizeId");function gt(O,C,L,Y){var ge;return C&&(C=(0,J.nd)(C),C[j]>L&&(ge=C[Me](0,L),(0,Z.kP)(O,2,Y,"input is too long, it has been truncated to "+L+" characters.",{data:C},!0))),ge||C}a(gt,"dataSanitizeInput");function Rt(O){var C="00"+O;return C.substr(C[j]-3)}a(Rt,"dsPadNumber");var Ft=(zt={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768},zt[$e]=wr,zt.sanitizeKey=Er,zt.sanitizeString=P,zt.sanitizeUrl=d,zt.sanitizeMessage=m,zt[tt]=V,zt[st]=ve,zt[Fe]=Pe,zt.sanitizeId=me,zt.sanitizeInput=gt,zt.padNumber=Rt,zt.trim=J.nd,zt),Nt=function(){function O(C,L,Y,ge){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var Re=this;Re.ver=2,Re[A]=P(C,L)||B,Re[Te]=ve(C,Y),Re[Oe]=Pe(C,ge)}return a(O,"Event"),O.envelopeType="Microsoft.ApplicationInsights.{0}.Event",O.dataType="EventData",O}(),Gt=function(){function O(C,L,Y,ge,Re){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var ze=this;ze.ver=2,L=L||B,ze[N]=m(C,L),ze[Te]=ve(C,ge),ze[Oe]=Pe(C,Re),Y&&(ze[Xe]=Y)}return a(O,"Trace"),O.envelopeType="Microsoft.ApplicationInsights.{0}.Message",O.dataType="MessageData",O}(),Kr="";function fn(O,C){return C===void 0&&(C=!1),O==null?C:O.toString()[se]()==="true"}a(fn,"stringToBoolOrDefault");function Sn(O){(isNaN(O)||O<0)&&(O=0),O=Math.round(O);var C=Kr+O%1e3,L=Kr+Math.floor(O/1e3)%60,Y=Kr+Math.floor(O/(1e3*60))%60,ge=Kr+Math.floor(O/(1e3*60*60))%24,Re=Math.floor(O/(1e3*60*60*24));return C=C[j]===1?"00"+C:C[j]===2?"0"+C:C,L=L[j]<2?"0"+L:L,Y=Y[j]<2?"0"+Y:Y,ge=ge[j]<2?"0"+ge:ge,(Re>0?Re+".":Kr)+ge+":"+Y+":"+L+"."+C}a(Sn,"msToTimeSpan");function mn(O,C){var L=null;return(0,J.tO)(O,function(Y){if(Y.identifier===C)return L=Y,-1}),L}a(mn,"getExtensionByName");function sn(O,C,L,Y,ge){return!ge&&(0,J.HD)(O)&&(O==="Script error."||O==="Script error")}a(sn,"isCrossOriginError");var yn=function(){function O(C,L,Y,ge,Re,ze,et){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var At=this;At.ver=2,At.id=me(C,et),At.url=d(C,Y),At[A]=P(C,L)||B,isNaN(ge)||(At[Le]=Sn(ge)),At[Te]=ve(C,Re),At[Oe]=Pe(C,ze)}return a(O,"PageView"),O.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",O.dataType="PageviewData",O}(),zn=function(){function O(C,L,Y,ge,Re,ze,et){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var At=this;At.ver=2,At.url=d(C,Y),At[A]=P(C,L)||B,At[Te]=ve(C,Re),At[Oe]=Pe(C,ze),et&&(At.domProcessing=et.domProcessing,At[Le]=et[Le],At.networkConnect=et.networkConnect,At.perfTotal=et.perfTotal,At[Ve]=et[Ve],At.sentRequest=et.sentRequest)}return a(O,"PageViewPerformance"),O.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",O.dataType="PageviewPerformanceData",O}(),kn="<no_method>",Cr="error",Xr="stack",Dn="stackDetails",An="errorSrc",Ei="message",ai="description";function hn(O,C){var L=O;return L&&!(0,J.HD)(L)&&(JSON&&JSON[ye]?(L=JSON[ye](O),C&&(!L||L==="{}")&&((0,J.mf)(O[$])?L=O[$]():L=""+O)):L=""+O+" - (Missing JSON.stringify)"),L||""}a(hn,"_stringify");function H(O,C){var L=O;return O&&(L&&!(0,J.HD)(L)&&(L=O[Ei]||O[ai]||L),L&&!(0,J.HD)(L)&&(L=hn(L,!0)),O.filename&&(L=L+" @"+(O.filename||"")+":"+(O.lineno||"?")+":"+(O.colno||"?"))),C&&C!=="String"&&C!=="Object"&&C!=="Error"&&(L||"")[be](C)===-1&&(L=C+": "+L),L||""}a(H,"_formatMessage");function we(O){try{if((0,J.Kn)(O))return"hasFullStack"in O&&"typeName"in O}catch(C){}return!1}a(we,"_isExceptionDetailsInternal");function Ne(O){try{if((0,J.Kn)(O))return"ver"in O&&"exceptions"in O&&"properties"in O}catch(C){}return!1}a(Ne,"_isExceptionInternal");function We(O){return O&&O.src&&(0,J.HD)(O.src)&&O.obj&&(0,J.kJ)(O.obj)}a(We,"_isStackDetails");function at(O){var C=O||"";(0,J.HD)(C)||((0,J.HD)(C[Xr])?C=C[Xr]:C=""+C);var L=C[q](`
`);return{src:C,obj:L}}a(at,"_convertStackObj");function nt(O){for(var C=[],L=O[q](`
`),Y=0;Y<L[j];Y++){var ge=L[Y];L[Y+1]&&(ge+="@"+L[Y+1],Y++),C.push(ge)}return{src:O,obj:C}}a(nt,"_getOperaStack");function yt(O){var C=null;if(O)try{if(O[Xr])C=at(O[Xr]);else if(O[Cr]&&O[Cr][Xr])C=at(O[Cr][Xr]);else if(O.exception&&O.exception[Xr])C=at(O.exception[Xr]);else if(We(O))C=O;else if(We(O[Dn]))C=O[Dn];else if(window&&window.opera&&O[Ei])C=nt(O[N]);else if(O.reason&&O.reason[Xr])C=at(O.reason[Xr]);else if((0,J.HD)(O))C=at(O);else{var L=O[Ei]||O[ai]||"";(0,J.HD)(O[An])&&(L&&(L+=`
`),L+=" from "+O[An]),L&&(C=at(L))}}catch(Y){C=at(Y)}return C||{src:"",obj:null}}a(yt,"_getStackFromErrorObj");function It(O){var C="";return O&&(O.obj?(0,J.tO)(O.obj,function(L){C+=L+`
`}):C=O.src||""),C}a(It,"_formatStackTrace");function Ut(O){var C,L=O.obj;if(L&&L[j]>0){C=[];var Y=0,ge=0;(0,J.tO)(L,function(Mr){var Nn=Mr[$]();if(Vt.regex.test(Nn)){var je=new Vt(Nn,Y++);ge+=je[ne],C.push(je)}});var Re=32*1024;if(ge>Re)for(var ze=0,et=C[j]-1,At=0,St=ze,Wt=et;ze<et;){var cr=C[ze][ne],qr=C[et][ne];if(At+=cr+qr,At>Re){var fr=Wt-St+1;C.splice(St,fr);break}St=ze,Wt=et,ze++,et--}}return C}a(Ut,"_parseStack");function sr(O){var C="";if(O&&(C=O.typeName||O[A]||"",!C))try{var L=/function (.{1,200})\(/,Y=L.exec(O.constructor[$]());C=Y&&Y[j]>1?Y[1]:""}catch(ge){}return C}a(sr,"_getErrorType");function Ct(O){if(O)try{if(!(0,J.HD)(O)){var C=sr(O),L=hn(O,!1);return(!L||L==="{}")&&(O[Cr]&&(O=O[Cr],C=sr(O)),L=hn(O,!0)),L[be](C)!==0&&C!=="String"?C+":"+L:L}}catch(Y){}return""+(O||"")}a(Ct,"_formatErrorCode");var Yt=function(){function O(C,L,Y,ge,Re,ze){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var et=this;et.ver=2,Ne(L)?(et[Q]=L[Q]||[],et[Te]=L[Te],et[Oe]=L[Oe],L[Xe]&&(et[Xe]=L[Xe]),L.id&&(et.id=L.id),L[ot]&&(et[ot]=L[ot]),(0,J.le)(L[G])||(et[G]=L[G])):(Y||(Y={}),et[Q]=[new qt(C,L,Y)],et[Te]=ve(C,Y),et[Oe]=Pe(C,ge),Re&&(et[Xe]=Re),ze&&(et.id=ze))}return a(O,"Exception"),O.CreateAutoException=function(C,L,Y,ge,Re,ze,et,At){var St,Wt=sr(Re||ze||C);return St={},St[N]=H(C,Wt),St.url=L,St.lineNumber=Y,St.columnNumber=ge,St.error=Ct(Re||ze||C),St.evt=Ct(ze||C),St[Ke]=Wt,St.stackDetails=yt(et||Re||ze),St.errorSrc=At,St},O.CreateFromInterface=function(C,L,Y,ge){var Re=L[Q]&&(0,J.Mr)(L[Q],function(et){return qt[ee](C,et)}),ze=new O(C,(0,g.uc)((0,g.uc)({},L),{exceptions:Re}),Y,ge);return ze},O.prototype.toInterface=function(){var C,L=this,Y=L.exceptions,ge=L.properties,Re=L.measurements,ze=L.severityLevel,et=L.problemGroup,At=L.id,St=L.isManual,Wt=Y instanceof Array&&(0,J.Mr)(Y,function(cr){return cr.toInterface()})||void 0;return C={ver:"4.0"},C[Q]=Wt,C.severityLevel=ze,C.properties=ge,C.measurements=Re,C.problemGroup=et,C.id=At,C.isManual=St,C},O.CreateSimpleException=function(C,L,Y,ge,Re,ze){var et;return{exceptions:[(et={},et[_e]=!0,et.message=C,et.stack=Re,et.typeName=L,et)]}},O.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",O.dataType="ExceptionData",O.formatError=Ct,O}(),qt=function(){function O(C,L,Y){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var ge=this;if(we(L))ge[Ke]=L[Ke],ge[N]=L[N],ge[Xr]=L[Xr],ge[oe]=L[oe]||[],ge[_e]=L[_e];else{var Re=L,ze=Re&&Re.evt;(0,J.VZ)(Re)||(Re=Re[Cr]||ze||Re),ge[Ke]=P(C,sr(Re))||B,ge[N]=m(C,H(L||Re,ge[Ke]))||B;var et=L[Dn]||yt(L);ge[oe]=Ut(et),(0,J.kJ)(ge[oe])&&(0,J.Mr)(ge[oe],function(At){return At[ae]=P(C,At[ae])}),ge[Xr]=V(C,It(et)),ge.hasFullStack=(0,J.kJ)(ge.parsedStack)&&ge.parsedStack[j]>0,Y&&(Y[Ke]=Y[Ke]||ge[Ke])}}return a(O,"_ExceptionDetails"),O.prototype.toInterface=function(){var C,L=this,Y=L[oe]instanceof Array&&(0,J.Mr)(L[oe],function(Re){return Re.toInterface()}),ge=(C={id:L.id,outerId:L.outerId,typeName:L[Ke],message:L[N],hasFullStack:L[_e],stack:L[Xr]},C[oe]=Y||void 0,C);return ge},O.CreateFromInterface=function(C,L){var Y=L[oe]instanceof Array&&(0,J.Mr)(L[oe],function(Re){return Vt[ee](Re)})||L[oe],ge=new O(C,(0,g.uc)((0,g.uc)({},L),{parsedStack:Y}));return ge},O}(),Vt=function(){function O(C,L){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var Y=this;if(Y[ne]=0,typeof C=="string"){var ge=C;Y[Be]=L,Y[Ue]=kn,Y[ae]=(0,J.nd)(ge),Y[pe]="",Y[De]=0;var Re=ge.match(O.regex);Re&&Re[j]>=5&&(Y[Ue]=(0,J.nd)(Re[2])||Y[Ue],Y[pe]=(0,J.nd)(Re[4]),Y[De]=parseInt(Re[5])||0)}else Y[Be]=C[Be],Y[Ue]=C[Ue],Y[ae]=C[ae],Y[pe]=C[pe],Y[De]=C[De],Y[ne]=0;Y.sizeInBytes+=Y.method[j],Y.sizeInBytes+=Y.fileName[j],Y.sizeInBytes+=Y.assembly[j],Y[ne]+=O.baseSize,Y.sizeInBytes+=Y.level.toString()[j],Y.sizeInBytes+=Y.line.toString()[j]}return a(O,"_StackFrame"),O.CreateFromInterface=function(C){return new O(C,null)},O.prototype.toInterface=function(){var C=this;return{level:C[Be],method:C[Ue],assembly:C[ae],fileName:C[pe],line:C[De]}},O.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,O.baseSize=58,O}(),Mt=function(){function O(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return a(O,"DataPoint"),O}(),Pr=function(){function O(C,L,Y,ge,Re,ze,et,At,St){this.aiDataContract={ver:1,metrics:1,properties:0};var Wt=this;Wt.ver=2;var cr=new Mt;cr[U]=ge>0?ge:void 0,cr.max=isNaN(ze)||ze===null?void 0:ze,cr.min=isNaN(Re)||Re===null?void 0:Re,cr[A]=P(C,L)||B,cr.value=Y,cr.stdDev=isNaN(et)||et===null?void 0:et,Wt.metrics=[cr],Wt[Te]=ve(C,At),Wt[Oe]=Pe(C,St)}return a(O,"Metric"),O.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",O.dataType="MetricData",O}(),Sr=E(5843),_n=E(3242),un=E(4878),pn=E(4869);function Qn(O){var C=null;if((0,J.mf)(Event))C=new Event(O);else{var L=(0,rt.Me)();L&&L.createEvent&&(C=L.createEvent("Event"),C.initEvent(O,!0,!0))}return C}a(Qn,"createDomEvent");var jn=E(4873),Gr=(0,jn.cc)({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Si=E(2091),Qt=(0,jn.By)({LocalStorage:0,SessionStorage:1}),en=(0,jn.By)({AI:0,AI_AND_W3C:1,W3C:2}),Fr=void 0,br=void 0;function Br(){return Pi()?ln(Qt.LocalStorage):null}a(Br,"_getLocalStorageObject");function ln(O){try{if((0,J.le)((0,Si.Rd)()))return null;var C=new Date()[$](),L=(0,rt.a8)(O===Qt.LocalStorage?"localStorage":"sessionStorage");L.setItem(C,C);var Y=L.getItem(C)!==C;if(L[k](C),!Y)return L}catch(ge){}return null}a(ln,"_getVerifiedStorageObject");function Ln(){return ft()?ln(Qt.SessionStorage):null}a(Ln,"_getSessionStorageObject");function ti(){Fr=!1,br=!1}a(ti,"utlDisableStorage");function Fi(){Fr=Pi(!0),br=ft(!0)}a(Fi,"utlEnableStorage");function Pi(O){return(O||Fr===void 0)&&(Fr=!!ln(Qt.LocalStorage)),Fr}a(Pi,"utlCanUseLocalStorage");function ji(O,C){var L=Br();if(L!==null)try{return L.getItem(C)}catch(Y){Fr=!1,(0,Z.kP)(O,2,1,"Browser failed read of local storage. "+(0,J.jj)(Y),{exception:(0,rt.eU)(Y)})}return null}a(ji,"utlGetLocalStorage");function oa(O,C,L){var Y=Br();if(Y!==null)try{return Y.setItem(C,L),!0}catch(ge){Fr=!1,(0,Z.kP)(O,2,3,"Browser failed write to local storage. "+(0,J.jj)(ge),{exception:(0,rt.eU)(ge)})}return!1}a(oa,"utlSetLocalStorage");function Ji(O,C){var L=Br();if(L!==null)try{return L[k](C),!0}catch(Y){Fr=!1,(0,Z.kP)(O,2,5,"Browser failed removal of local storage item. "+(0,J.jj)(Y),{exception:(0,rt.eU)(Y)})}return!1}a(Ji,"utlRemoveStorage");function ft(O){return(O||br===void 0)&&(br=!!ln(Qt.SessionStorage)),br}a(ft,"utlCanUseSessionStorage");function Zi(){var O=[];return ft()&&(0,J.rW)((0,rt.a8)("sessionStorage"),function(C){O.push(C)}),O}a(Zi,"utlGetSessionStorageKeys");function Ki(O,C){var L=Ln();if(L!==null)try{return L.getItem(C)}catch(Y){br=!1,(0,Z.kP)(O,2,2,"Browser failed read of session storage. "+(0,J.jj)(Y),{exception:(0,rt.eU)(Y)})}return null}a(Ki,"utlGetSessionStorage");function Rn(O,C,L){var Y=Ln();if(Y!==null)try{return Y.setItem(C,L),!0}catch(ge){br=!1,(0,Z.kP)(O,2,4,"Browser failed write to session storage. "+(0,J.jj)(ge),{exception:(0,rt.eU)(ge)})}return!1}a(Rn,"utlSetSessionStorage");function Bn(O,C){var L=Ln();if(L!==null)try{return L[k](C),!0}catch(Y){br=!1,(0,Z.kP)(O,2,6,"Browser failed removal of session storage item. "+(0,J.jj)(Y),{exception:(0,rt.eU)(Y)})}return!1}a(Bn,"utlRemoveSessionStorage");var oi=(0,rt.Me)()||{},Jn=0,Xi=[null,null,null,null,null];function bi(O){var C=Jn,L=Xi,Y=L[C];return oi.createElement?L[C]||(Y=L[C]=oi.createElement("a")):Y={host:ut(O,!0)},Y.href=O,C++,C>=L[j]&&(C=0),Jn=C,Y}a(bi,"urlParseUrl");function hi(O){var C,L=bi(O);return L&&(C=L.href),C}a(hi,"urlGetAbsoluteUrl");function sa(O){var C,L=bi(O);return L&&(C=L[W]),C}a(sa,"urlGetPathName");function He(O,C){return O?O.toUpperCase()+" "+C:C}a(He,"urlGetCompleteUrl");function ut(O,C){var L=wt(O,C)||"";if(L){var Y=L.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(Y!=null&&Y[j]>3&&(0,J.HD)(Y[2])&&Y[2][j]>0)return Y[2]+(Y[3]||"")}return L}a(ut,"urlParseHost");function wt(O,C){var L=null;if(O){var Y=O.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(Y!=null&&Y[j]>2&&(0,J.HD)(Y[2])&&Y[2][j]>0&&(L=Y[2]||"",C&&Y[j]>2)){var ge=(Y[1]||"")[se](),Re=Y[3]||"";(ge==="http"&&Re===":80"||ge==="https"&&Re===":443")&&(Re=""),L+=Re}}return L}a(wt,"urlParseFullHost");var ct=[y+b,"https://breeze.aimon.applicationinsights.io"+b,"https://dc-int.services.visualstudio.com"+b];function Lt(O){return(0,J.UA)(ct,O[se]())!==-1}a(Lt,"isInternalApplicationInsightsEndpoint");var er={NotSpecified:B,createDomEvent:Qn,disableStorage:ti,isInternalApplicationInsightsEndpoint:Lt,canUseLocalStorage:Pi,getStorage:ji,setStorage:oa,removeStorage:Ji,canUseSessionStorage:ft,getSessionStorageKeys:Zi,getSessionStorage:Ki,setSessionStorage:Rn,removeSessionStorage:Bn,disableCookies:Sr.oF,canUseCookies:Sr.vn,disallowsSameSiteNone:_n.UY,setCookie:Sr.d8,stringToBoolOrDefault:fn,getCookie:Sr.ej,deleteCookie:Sr.kT,trim:J.nd,newId:un.pZ,random32:function(){return(0,un._l)(!0)},generateW3CId:Sr.DO,isArray:J.kJ,isError:J.VZ,isDate:J.J_,toISOStringForIE8:J.Y6,getIEVersion:rt.sA,msToTimeSpan:Sn,isCrossOriginError:sn,dump:rt.eU,getExceptionName:J.jj,addEventHandler:pn.pZ,IsBeaconApiSupported:rt.MF,getExtension:mn},Tt={parseUrl:bi,getAbsoluteUrl:hi,getPathName:sa,getCompleteUrl:He,parseHost:ut,parseFullHost:wt},ir={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(O,C,L){if(!C||O&&O.disableCorrelationHeaders)return!1;if(O&&O[Ye]){for(var Y=0;Y<O.correlationHeaderExcludePatterns[j];Y++)if(O[Ye][Y].test(C))return!1}var ge=bi(C).host[se]();if(ge&&(ge[be](":443")!==-1||ge[be](":80")!==-1)&&(ge=(wt(C,!0)||"")[se]()),(!O||!O.enableCorsCorrelation)&&ge&&ge!==L)return!1;var Re=O&&O.correlationHeaderDomains;if(Re){var ze;if((0,J.tO)(Re,function(St){var Wt=new RegExp(St.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));ze=ze||Wt.test(ge)}),!ze)return!1}var et=O&&O.correlationHeaderExcludedDomains;if(!et||et[j]===0)return!0;for(var Y=0;Y<et[j];Y++){var At=new RegExp(et[Y].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(At.test(ge))return!1}return ge&&ge[j]>0},getCorrelationContext:function(O){if(O){var C=ir.getCorrelationContextValue(O,Gr[1]);if(C&&C!==ir.correlationIdPrefix)return C}},getCorrelationContextValue:function(O,C){if(O)for(var L=O[q](","),Y=0;Y<L[j];++Y){var ge=L[Y][q]("=");if(ge[j]===2&&ge[0]===C)return ge[1]}}};function Kt(O,C,L,Y){var ge,Re=Y,ze=Y;if(C&&C[j]>0){var et=bi(C);if(ge=et.host,!Re)if(et[W]!=null){var At=et.pathname[j]===0?"/":et[W];At.charAt(0)!=="/"&&(At="/"+At),ze=et[W],Re=P(O,L?L+" "+At:At)}else Re=P(O,C)}else ge=Y,Re=Y;return{target:ge,name:Re,data:ze}}a(Kt,"AjaxHelperParseDependencyPath");function hr(){var O=(0,rt.r)();if(O&&O.now&&O.timing){var C=O.now()+O.timing.navigationStart;if(C>0)return C}return(0,J.m6)()}a(hr,"dateTimeUtilsNow");function Dr(O,C){var L=null;return O!==0&&C!==0&&!(0,J.le)(O)&&!(0,J.le)(C)&&(L=C-O),L}a(Dr,"dateTimeUtilsDuration");var tn={Now:hr,GetDuration:Dr};function Yr(O,C){var L=O||{};return{getName:function(){return L[_DYN_NAME]},setName:function(Y){C&&C.setName(Y),L[_DYN_NAME]=Y},getTraceId:function(){return L.traceID},setTraceId:function(Y){C&&C.setTraceId(Y),isValidTraceId(Y)&&(L.traceID=Y)},getSpanId:function(){return L.parentID},setSpanId:function(Y){C&&C.setSpanId(Y),isValidSpanId(Y)&&(L.parentID=Y)},getTraceFlags:function(){return L.traceFlags},setTraceFlags:function(Y){C&&C.setTraceFlags(Y),L.traceFlags=Y}}}a(Yr,"createDistributedTraceContextFromTrace");var rn=function(){function O(C,L,Y,ge,Re,ze,et,At,St,Wt,cr,qr){St===void 0&&(St="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var fr=this;fr.ver=2,fr.id=L,fr[Le]=Sn(Re),fr.success=ze,fr.resultCode=et+"",fr.type=P(C,St);var Mr=Kt(C,Y,At,ge);fr.data=d(C,ge)||Mr.data,fr.target=P(C,Mr.target),Wt&&(fr.target="".concat(fr.target," | ").concat(Wt)),fr[A]=P(C,Mr[A]),fr[Te]=ve(C,cr),fr[Oe]=Pe(C,qr)}return a(O,"RemoteDependencyData"),O.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",O.dataType="RemoteDependencyData",O}(),Ur=E(5883),rr=E(4063);function Jt(O){var C="ai."+O+".";return function(L){return C+L}}a(Jt,"_aiNameFunc");var vr=Jt("application"),mr=Jt("device"),K=Jt("location"),ue=Jt("operation"),Ee=Jt("session"),ht=Jt("user"),kt=Jt("cloud"),$t=Jt("internal"),pr=function(O){(0,g.ne)(C,O);function C(){return O.call(this)||this}return a(C,"ContextTagKeys"),C}((0,J.hl)({applicationVersion:vr("ver"),applicationBuild:vr("build"),applicationTypeId:vr("typeId"),applicationId:vr("applicationId"),applicationLayer:vr("layer"),deviceId:mr("id"),deviceIp:mr("ip"),deviceLanguage:mr("language"),deviceLocale:mr("locale"),deviceModel:mr("model"),deviceFriendlyName:mr("friendlyName"),deviceNetwork:mr("network"),deviceNetworkName:mr("networkName"),deviceOEMName:mr("oemName"),deviceOS:mr("os"),deviceOSVersion:mr("osVersion"),deviceRoleInstance:mr("roleInstance"),deviceRoleName:mr("roleName"),deviceScreenResolution:mr("screenResolution"),deviceType:mr("type"),deviceMachineName:mr("machineName"),deviceVMName:mr("vmName"),deviceBrowser:mr("browser"),deviceBrowserVersion:mr("browserVersion"),locationIp:K("ip"),locationCountry:K("country"),locationProvince:K("province"),locationCity:K("city"),operationId:ue("id"),operationName:ue("name"),operationParentId:ue("parentId"),operationRootId:ue("rootId"),operationSyntheticSource:ue("syntheticSource"),operationCorrelationVector:ue("correlationVector"),sessionId:Ee("id"),sessionIsFirst:Ee("isFirst"),sessionIsNew:Ee("isNew"),userAccountAcquisitionDate:ht("accountAcquisitionDate"),userAccountId:ht("accountId"),userAgent:ht("userAgent"),userId:ht("id"),userStoreRegion:ht("storeRegion"),userAuthUserId:ht("authUserId"),userAnonymousUserAcquisitionDate:ht("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:ht("authUserAcquisitionDate"),cloudName:kt("name"),cloudRole:kt("role"),cloudRoleVer:kt("roleVer"),cloudRoleInstance:kt("roleInstance"),cloudEnvironment:kt("environment"),cloudLocation:kt("location"),cloudDeploymentUnit:kt("deploymentUnit"),internalNodeName:$t("nodeName"),internalSdkVersion:$t("sdkVersion"),internalAgentVersion:$t("agentVersion"),internalSnippet:$t("snippet"),internalSdkSrc:$t("sdkSrc")})),lr={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},ar=new pr,dr=function(){function O(C,L,Y){var ge=this,Re=this;Re.ver=1,Re.sampleRate=100,Re.tags={},Re[A]=P(C,Y)||B,Re.data=L,Re.time=(0,J.Y6)(new Date),Re.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return ge.sampleRate===100?4:1},tags:1,data:1}}return a(O,"Envelope"),O}(),yr=function(){function O(C,L){this.aiDataContract={baseType:1,baseData:1},this.baseType=C,this.baseData=L}return a(O,"Data"),O}(),jt="duration",Dt="tags",Or="deviceType",Ar="data",$r="name",Jr="traceID",Xt="length",Un="stringify",bn="measurements",Nr="dataType",ri="envelopeType",$n="toString",Hn="onLine",di="isOnline",si="enqueue",gi="count",Kn="push",In="emitLineDelimitedJson",xi="clear",Ci="batchPayloads",Gn="markAsSent",Zn="clearSent",ui="bufferOverride",Li="BUFFER_KEY",pi="SENT_BUFFER_KEY",ni="MAX_BUFFER_SIZE",dn="namePrefix",li="maxBatchSizeInBytes",xe="triggerSend",it="diagLog",pt="onunloadDisableBeacon",vt="isBeaconApiDisabled",Pt="_sender",Ht="_senderConfig",nr="enableSessionStorageBuffer",Ce="_buffer",qe="samplingPercentage",Ge="instrumentationKey",_t="endpointUrl",Bt="customHeaders",tr="disableXhr",Rr="onunloadDisableFetch",xr="disableTelemetry",zr="baseType",Ti="sampleRate",Gi="convertUndefined",ea="_xhrReadyStateChange",vn="_onError",Oi="_onPartialSuccess",vi="_onSuccess",ta="itemsAccepted",Qa="itemsReceived",pa="isRetryDisabled",Fa="setRequestHeader",Uo="maxBatchInterval",va="eventsSendRequest",Ja="disableInstrumentationKeyValidation",ua="getSamplingScore",Za="getHashCodeScore",On="baseType",nn="baseData",Fn="properties",ma="true";function xn(O,C,L){return(0,J.sO)(O,C,L,J.fQ)}a(xn,"_setValueIf");function $o(O,C,L){var Y=L[Dt]=L[Dt]||{},ge=C.ext=C.ext||{},Re=C[Dt]=C[Dt]||[],ze=ge.user;ze&&(xn(Y,ar.userAuthUserId,ze.authId),xn(Y,ar.userId,ze.id||ze.localId));var et=ge.app;et&&xn(Y,ar.sessionId,et.sesId);var At=ge.device;At&&(xn(Y,ar.deviceId,At.id||At.localId),xn(Y,ar[Or],At.deviceClass),xn(Y,ar.deviceIp,At.ip),xn(Y,ar.deviceModel,At.model),xn(Y,ar[Or],At[Or]));var St=C.ext.web;if(St){xn(Y,ar.deviceLanguage,St.browserLang),xn(Y,ar.deviceBrowserVersion,St.browserVer),xn(Y,ar.deviceBrowser,St.browser);var Wt=L[Ar]=L[Ar]||{},cr=Wt[nn]=Wt[nn]||{},qr=cr[Fn]=cr[Fn]||{};xn(qr,"domain",St.domain),xn(qr,"isManual",St.isManual?ma:null),xn(qr,"screenRes",St.screenRes),xn(qr,"userConsent",St.userConsent?ma:null)}var fr=ge.os;fr&&xn(Y,ar.deviceOS,fr[$r]);var Mr=ge.trace;Mr&&(xn(Y,ar.operationParentId,Mr.parentID),xn(Y,ar.operationName,P(O,Mr[$r])),xn(Y,ar.operationId,Mr[Jr]));for(var Nn={},je=Re[Xt]-1;je>=0;je--){var cn=Re[je];(0,J.rW)(cn,function(wn,Pn){Nn[wn]=Pn}),Re.splice(je,1)}(0,J.rW)(Re,function(wn,Pn){Nn[wn]=Pn});var Vr=(0,g.uc)((0,g.uc)({},Y),Nn);Vr[ar.internalSdkVersion]||(Vr[ar.internalSdkVersion]="javascript:".concat(ya.Version)),L[Dt]=(0,J.Ax)(Vr)}a($o,"_extractPartAExtensions");function Di(O,C,L){(0,J.le)(O)||(0,J.rW)(O,function(Y,ge){(0,J.hj)(ge)?L[Y]=ge:(0,J.HD)(ge)?C[Y]=ge:(0,rt.nS)()&&(C[Y]=(0,rt.xA)()[Un](ge))})}a(Di,"_extractPropsAndMeasurements");function ra(O,C){(0,J.le)(O)||(0,J.rW)(O,function(L,Y){O[L]=Y||C})}a(ra,"_convertPropsUndefinedToCustomDefinedValue");function Ai(O,C,L,Y){var ge=new dr(O,Y,C);xn(ge,"sampleRate",L[h]),(L[nn]||{}).startTime&&(ge.time=(0,J.Y6)(L[nn].startTime)),ge.iKey=L.iKey;var Re=L.iKey.replace(/-/g,"");return ge[$r]=ge[$r].replace("{0}",Re),$o(O,L,ge),L[Dt]=L[Dt]||[],(0,J.Ax)(ge)}a(Ai,"_createEnvelope");function ki(O,C){(0,J.le)(C[nn])&&(0,Z.kP)(O,1,46,"telemetryItem.baseData cannot be null.")}a(ki,"EnvelopeCreatorInit");var ya={Version:"2.8.12"};function _a(O,C,L){ki(O,C);var Y=C[nn][bn]||{},ge=C[nn][Fn]||{};Di(C[Ar],ge,Y),(0,J.le)(L)||ra(ge,L);var Re=C[nn];if((0,J.le)(Re))return(0,Z.jV)(O,"Invalid input for dependency data"),null;var ze=Re[Fn]&&Re[Fn][x]?Re[Fn][x]:"GET",et=new rn(O,Re.id,Re.target,Re[$r],Re[jt],Re.success,Re.responseCode,ze,Re.type,Re.correlationContext,ge,Y),At=new yr(rn[Nr],et);return Ai(O,rn[ri],C,At)}a(_a,"DependencyEnvelopeCreator");function Ho(O,C,L){ki(O,C);var Y={},ge={};C[On]!==Nt[Nr]&&(Y.baseTypeSource=C[On]),C[On]===Nt[Nr]?(Y=C[nn][Fn]||{},ge=C[nn][bn]||{}):C[nn]&&Di(C[nn],Y,ge),Di(C[Ar],Y,ge),(0,J.le)(L)||ra(Y,L);var Re=C[nn][$r],ze=new Nt(O,Re,Y,ge),et=new yr(Nt[Nr],ze);return Ai(O,Nt[ri],C,et)}a(Ho,"EventEnvelopeCreator");function Xa(O,C,L){ki(O,C);var Y=C[nn][bn]||{},ge=C[nn][Fn]||{};Di(C[Ar],ge,Y),(0,J.le)(L)||ra(ge,L);var Re=C[nn],ze=Yt.CreateFromInterface(O,Re,ge,Y),et=new yr(Yt[Nr],ze);return Ai(O,Yt[ri],C,et)}a(Xa,"ExceptionEnvelopeCreator");function eo(O,C,L){ki(O,C);var Y=C[nn],ge=Y[Fn]||{},Re=Y[bn]||{};Di(C[Ar],ge,Re),(0,J.le)(L)||ra(ge,L);var ze=new Pr(O,Y[$r],Y.average,Y.sampleCount,Y.min,Y.max,Y.stdDev,ge,Re),et=new yr(Pr[Nr],ze);return Ai(O,Pr[ri],C,et)}a(eo,"MetricEnvelopeCreator");function to(O,C,L){ki(O,C);var Y,ge=C[nn];!(0,J.le)(ge)&&!(0,J.le)(ge[Fn])&&!(0,J.le)(ge[Fn][jt])?(Y=ge[Fn][jt],delete ge[Fn][jt]):!(0,J.le)(C[Ar])&&!(0,J.le)(C[Ar][jt])&&(Y=C[Ar][jt],delete C[Ar][jt]);var Re=C[nn],ze;((C.ext||{}).trace||{})[Jr]&&(ze=C.ext.trace[Jr]);var et=Re.id||ze,At=Re[$r],St=Re.uri,Wt=Re[Fn]||{},cr=Re[bn]||{};if((0,J.le)(Re.refUri)||(Wt.refUri=Re.refUri),(0,J.le)(Re.pageType)||(Wt.pageType=Re.pageType),(0,J.le)(Re.isLoggedIn)||(Wt.isLoggedIn=Re.isLoggedIn[$n]()),!(0,J.le)(Re[Fn])){var qr=Re[Fn];(0,J.rW)(qr,function(Nn,je){Wt[Nn]=je})}Di(C[Ar],Wt,cr),(0,J.le)(L)||ra(Wt,L);var fr=new yn(O,At,St,Y,Wt,cr,et),Mr=new yr(yn[Nr],fr);return Ai(O,yn[ri],C,Mr)}a(to,"PageViewEnvelopeCreator");function Wo(O,C,L){ki(O,C);var Y=C[nn],ge=Y[$r],Re=Y.uri||Y.url,ze=Y[Fn]||{},et=Y[bn]||{};Di(C[Ar],ze,et),(0,J.le)(L)||ra(ze,L);var At=new zn(O,ge,Re,void 0,ze,et,Y),St=new yr(zn[Nr],At);return Ai(O,zn[ri],C,St)}a(Wo,"PageViewPerformanceEnvelopeCreator");function zo(O,C,L){ki(O,C);var Y=C[nn].message,ge=C[nn].severityLevel,Re=C[nn][Fn]||{},ze=C[nn][bn]||{};Di(C[Ar],Re,ze),(0,J.le)(L)||ra(Re,L);var et=new Gt(O,Y,ge,Re,ze),At=new yr(Gt[Nr],et);return Ai(O,Gt[ri],C,At)}a(zo,"TraceEnvelopeCreator");function ro(O,C){(0,pn.QY)(O,null,null,C)}a(ro,"_disableEvents");function jo(O){var C,L=(0,rt.Me)(),Y=(0,rt.jW)(),ge=!1,Re=!0,ze=(0,pn.jU)((0,Ur.J)("OfflineListener"),O);try{if(At((0,rt.Jj)())&&(ge=!0),L){var et=L.body||L;et.ononline&&At(et)&&(ge=!0)}ge&&Y&&!(0,J.le)(Y[Hn])&&(Re=Y[Hn])}catch(fr){ge=!1}function At(fr){var Mr=!1;return fr&&(Mr=(0,pn.XO)(fr,"online",St,ze),Mr&&(0,pn.XO)(fr,"offline",Wt,ze)),Mr}a(At,"_enableEvents");function St(){Re=!0}a(St,"_setOnline");function Wt(){Re=!1}a(Wt,"_setOffline");function cr(){var fr=!0;return ge?fr=Re:Y&&!(0,J.le)(Y[Hn])&&(fr=Y[Hn]),fr}a(cr,"_isOnline");function qr(){var fr=(0,rt.Jj)();if(fr&&ge){if(ro(fr,ze),L){var Mr=L.body||L;(0,J.o8)(Mr.ononline)||ro(Mr,ze)}ge=!1}}return a(qr,"_unload"),C={},C[di]=cr,C.isListening=function(){return ge},C.unload=qr,C}a(jo,"createOfflineListener");var no=function(){function O(C,L){var Y=[],ge=!1;this._get=function(){return Y},this._set=function(Re){return Y=Re,Y},(0,v.Z)(O,this,function(Re){Re[si]=function(ze){if(Re[gi]()>=L.eventsLimitInMem()){ge||((0,Z.kP)(C,2,105,"Maximum in-memory buffer size reached: "+Re[gi](),!0),ge=!0);return}Y[Kn](ze)},Re[gi]=function(){return Y[Xt]},Re.size=function(){for(var ze=Y[Xt],et=0;et<Y[Xt];et++)ze+=Y[et][Xt];return L[In]()||(ze+=2),ze},Re[xi]=function(){Y=[],ge=!1},Re.getItems=function(){return Y.slice(0)},Re[Ci]=function(ze){if(ze&&ze[Xt]>0){var et=L[In]()?ze.join(`
`):"["+ze.join(",")+"]";return et}return null}})}return a(O,"BaseSendBuffer"),O.__ieDyn=1,O}(),Ko=function(O){(0,g.ne)(C,O);function C(L,Y){var ge=O.call(this,L,Y)||this;return(0,v.Z)(C,ge,function(Re,ze){Re[Gn]=function(et){ze[xi]()},Re[Zn]=function(et){}}),ge}return a(C,"ArraySendBuffer"),C.__ieDyn=1,C}(no),io=function(O){(0,g.ne)(C,O);function C(L,Y){var ge=O.call(this,L,Y)||this,Re=!1,ze=Y[ui]()||{getItem:Ki,setItem:Rn},et=ze.getItem,At=ze.setItem;return(0,v.Z)(C,ge,function(St,Wt){var cr=Nn(C[Li]),qr=Nn(C[pi]),fr=St._set(cr.concat(qr));fr[Xt]>C[ni]&&(fr[Xt]=C[ni]),je(C[pi],[]),je(C[Li],fr),St[si]=function(cn){if(St[gi]()>=C[ni]){Re||((0,Z.kP)(L,2,67,"Maximum buffer size reached: "+St[gi](),!0),Re=!0);return}Wt[si](cn),je(C[Li],St._get())},St[xi]=function(){Wt[xi](),je(C[Li],St._get()),je(C[pi],[]),Re=!1},St[Gn]=function(cn){je(C[Li],St._set(Mr(cn,St._get())));var Vr=Nn(C[pi]);Vr instanceof Array&&cn instanceof Array&&(Vr=Vr.concat(cn),Vr[Xt]>C[ni]&&((0,Z.kP)(L,1,67,"Sent buffer reached its maximum size: "+Vr[Xt],!0),Vr[Xt]=C[ni]),je(C[pi],Vr))},St[Zn]=function(cn){var Vr=Nn(C[pi]);Vr=Mr(cn,Vr),je(C[pi],Vr)};function Mr(cn,Vr){var wn=[];return(0,J.tO)(Vr,function(Pn){!(0,J.mf)(Pn)&&(0,J.UA)(cn,Pn)===-1&&wn[Kn](Pn)}),wn}a(Mr,"_removePayloadsFromBuffer");function Nn(cn){var Vr=cn;try{Vr=Y[dn]&&Y[dn]()?Y[dn]()+"_"+Vr:Vr;var wn=et(L,Vr);if(wn){var Pn=(0,rt.xA)().parse(wn);if((0,J.HD)(Pn)&&(Pn=(0,rt.xA)().parse(Pn)),Pn&&(0,J.kJ)(Pn))return Pn}}catch(Yi){(0,Z.kP)(L,1,42," storage key: "+Vr+", "+(0,J.jj)(Yi),{exception:(0,rt.eU)(Yi)})}return[]}a(Nn,"_getBuffer");function je(cn,Vr){var wn=cn;try{wn=Y[dn]&&Y[dn]()?Y[dn]()+"_"+wn:wn;var Pn=JSON[Un](Vr);At(L,wn,Pn)}catch(Yi){At(L,wn,JSON[Un]([])),(0,Z.kP)(L,2,41," storage key: "+wn+", "+(0,J.jj)(Yi)+". Buffer cleared",{exception:(0,rt.eU)(Yi)})}}a(je,"_setBuffer")}),ge}return a(C,"SessionStorageSendBuffer"),C.BUFFER_KEY="AI_buffer",C.SENT_BUFFER_KEY="AI_sentBuffer",C.MAX_BUFFER_SIZE=2e3,C}(no),ao=function(){function O(C){(0,v.Z)(O,this,function(L){L.serialize=function(ze){var et=Y(ze,"root");try{return(0,rt.xA)()[Un](et)}catch(At){(0,Z.kP)(C,1,48,At&&(0,J.mf)(At[$n])?At[$n]():"Error serializing object",null,!0)}};function Y(ze,et){var At="__aiCircularRefCheck",St={};if(!ze)return(0,Z.kP)(C,1,48,"cannot serialize object because it is null or undefined",{name:et},!0),St;if(ze[At])return(0,Z.kP)(C,2,50,"Circular reference detected while serializing object",{name:et},!0),St;if(!ze.aiDataContract){if(et==="measurements")St=Re(ze,"number",et);else if(et==="properties")St=Re(ze,"string",et);else if(et==="tags")St=Re(ze,"string",et);else if((0,J.kJ)(ze))St=ge(ze,et);else{(0,Z.kP)(C,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:et},!0);try{(0,rt.xA)()[Un](ze),St=ze}catch(Wt){(0,Z.kP)(C,1,48,Wt&&(0,J.mf)(Wt[$n])?Wt[$n]():"Error serializing object",null,!0)}}return St}return ze[At]=!0,(0,J.rW)(ze.aiDataContract,function(Wt,cr){var qr=(0,J.mf)(cr)?cr()&1:cr&1,fr=(0,J.mf)(cr)?cr()&4:cr&4,Mr=cr&2,Nn=ze[Wt]!==void 0,je=(0,J.Kn)(ze[Wt])&&ze[Wt]!==null;if(qr&&!Nn&&!Mr)(0,Z.kP)(C,1,24,"Missing required field specification. The field is required but not present on source",{field:Wt,name:et});else if(!fr){var cn=void 0;je?Mr?cn=ge(ze[Wt],Wt):cn=Y(ze[Wt],Wt):cn=ze[Wt],cn!==void 0&&(St[Wt]=cn)}}),delete ze[At],St}a(Y,"_serializeObject");function ge(ze,et){var At;if(ze)if(!(0,J.kJ)(ze))(0,Z.kP)(C,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:et},!0);else{At=[];for(var St=0;St<ze[Xt];St++){var Wt=ze[St],cr=Y(Wt,et+"["+St+"]");At[Kn](cr)}}return At}a(ge,"_serializeArray");function Re(ze,et,At){var St;return ze&&(St={},(0,J.rW)(ze,function(Wt,cr){if(et==="string")cr===void 0?St[Wt]="undefined":cr===null?St[Wt]="null":cr[$n]?St[Wt]=cr[$n]():St[Wt]="invalid field: toString() is not defined.";else if(et==="number")if(cr===void 0)St[Wt]="undefined";else if(cr===null)St[Wt]="null";else{var qr=parseFloat(cr);isNaN(qr)?St[Wt]="NaN":St[Wt]=qr}else St[Wt]="invalid field: "+At+" is of unknown type.",(0,Z.kP)(C,1,St[Wt],null,!0)})),St}a(Re,"_serializeStringMap")})}return a(O,"Serializer"),O.__ieDyn=1,O}(),Ri=8,Pa=function(){function O(){}return a(O,"HashCodeScoreGenerator"),O.prototype.getHashCodeScore=function(C){var L=this.getHashCode(C)/O.INT_MAX_VALUE;return L*100},O.prototype.getHashCode=function(C){if(C==="")return 0;for(;C[Xt]<Ri;)C=C.concat(C);for(var L=5381,Y=0;Y<C[Xt];++Y)L=(L<<5)+L+C.charCodeAt(Y),L=L&L;return Math.abs(L)},O.INT_MAX_VALUE=2147483647,O}(),Go=function(){function O(){var C=this,L=new Pa,Y=new pr;C[ua]=function(ge){var Re=0;return ge[Dt]&&ge[Dt][Y.userId]?Re=L.getHashCodeScore(ge[Dt][Y.userId]):ge.ext&&ge.ext.user&&ge.ext.user.id?Re=L[Za](ge.ext.user.id):ge[Dt]&&ge[Dt][Y.operationId]?Re=L.getHashCodeScore(ge[Dt][Y.operationId]):ge.ext&&ge.ext.telemetryTrace&&ge.ext.telemetryTrace[Jr]?Re=L.getHashCodeScore(ge.ext.telemetryTrace[Jr]):Re=Math.random()*100,Re}}return a(O,"SamplingScoreGenerator"),O}(),oo=function(){function O(C,L){this.INT_MAX_VALUE=2147483647;var Y=L||(0,Z.vH)(null);(C>100||C<0)&&(Y.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:C},!0),C=100),this[Ti]=C,this.samplingScoreGenerator=new Go}return a(O,"Sample"),O.prototype.isSampledIn=function(C){var L=this[Ti],Y=!1;return L==null||L>=100||C.baseType===Pr[Nr]?!0:(Y=this.samplingScoreGenerator[ua](C)<L,Y)},O}(),mi,Yo=65e3;function wa(O){try{return O.responseText}catch(C){}return null}a(wa,"_getResponseText");function so(){var O,C,L;return O={endpointUrl:function(){return y+b}},O[In]=function(){return!1},O[Uo]=function(){return 15e3},O[li]=function(){return 102400},O[xr]=function(){return!1},O[nr]=function(){return!0},O[ui]=function(){return!1},O[pa]=function(){return!1},O[vt]=function(){return!0},O[tr]=function(){return!1},O[Rr]=function(){return!1},O[pt]=function(){return!1},O[Ge]=function(){return C},O[dn]=function(){return C},O[qe]=function(){return 100},O[Bt]=function(){return L},O[Gi]=function(){return C},O.eventsLimitInMem=function(){return 1e4},O}a(so,"_getDefaultAppInsightsChannelConfig");var uo=(mi={},mi[Nt.dataType]=Ho,mi[Gt.dataType]=zo,mi[yn.dataType]=to,mi[zn.dataType]=Wo,mi[Yt.dataType]=Xa,mi[Pr.dataType]=eo,mi[rn.dataType]=_a,mi),lo=function(O){(0,g.ne)(C,O);function C(){var L=O.call(this)||this;L.priority=1001,L.identifier=_,L._senderConfig=so();var Y,ge,Re,ze,et,At,St,Wt,cr=0,qr,fr,Mr,Nn;return(0,v.Z)(C,L,function(je,cn){yi(),je.pause=function(){ca(),ze=!0},je.resume=function(){ze&&(ze=!1,ge=null,je._buffer.size()>je._senderConfig[li]()&&je[xe](!0,null,10),Sa())},je.flush=function(ke,bt,Ot){if(ke===void 0&&(ke=!0),!ze){ca();try{je[xe](ke,null,Ot||1)}catch(or){(0,Z.kP)(je[it](),1,22,"flush failed, telemetry will not be collected: "+(0,J.jj)(or),{exception:(0,rt.eU)(or)})}}},je.onunloadFlush=function(){if(!ze)if((je._senderConfig[pt]()===!1||je[Ht][vt]()===!1)&&(0,rt.MF)())try{je[xe](!0,Yi,2)}catch(ke){(0,Z.kP)(je[it](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+(0,J.jj)(ke),{exception:(0,rt.eU)(ke)})}else je.flush()},je.addHeader=function(ke,bt){Wt[ke]=bt},je.initialize=function(ke,bt,Ot,or){je.isInitialized()&&(0,Z.kP)(je[it](),1,28,"Sender is already initialized"),cn.initialize(ke,bt,Ot,or);var Tr=je._getTelCtx(),Hr=je.identifier;At=new ao(bt.logger),Y=0,ge=null,Re=0,je[Pt]=null,St=0;var Lr=je[it]();Nn=(0,pn.jU)((0,Ur.J)("Sender"),bt.evtNamespace&&bt.evtNamespace()),Mr=jo(Nn);var Qr=so();(0,J.rW)(Qr,function(_i,Mn){je[Ht][_i]=function(){var Ir=Tr.getConfig(Hr,_i,Mn());return!Ir&&_i==="endpointUrl"&&(Ir=Mn()),Ir}});var Yn=je[Ht][nr]()&&!!(je._senderConfig[ui]()||ft());je[Ce]=Yn?new io(Lr,je[Ht]):new Ko(Lr,je[Ht]),je._sample=new oo(je[Ht][qe](),Lr),Ui(ke)||(0,Z.kP)(Lr,1,100,"Invalid Instrumentation key "+ke[Ge]),!Lt(je._senderConfig.endpointUrl())&&je._senderConfig.customHeaders()&&je._senderConfig.customHeaders()[Xt]>0&&(0,J.tO)(je[Ht][Bt](),function(_i){L.addHeader(_i.header,_i.value)});var Cn=je[Ht],gn=null;!Cn[tr]()&&(0,rt.cp)()?gn=La:!Cn[tr]()&&(0,rt.Z3)()&&(gn=Wr),!gn&&(0,rt.JO)()&&(gn=na),qr=gn||Wr,!Cn[vt]()&&(0,rt.MF)()&&(gn=Ea),je[Pt]=gn||Wr,!Cn[Rr]()&&(0,rt.JO)(!0)?fr=Wn:(0,rt.MF)()?fr=Ea:!Cn[tr]()&&(0,rt.cp)()?fr=La:!Cn[tr]()&&(0,rt.Z3)()?fr=Wr:fr=qr},je.processTelemetry=function(ke,bt){bt=je._getTelCtx(bt);var Ot=bt[it]();try{if(je[Ht][xr]())return;if(!ke){(0,Z.kP)(Ot,1,7,"Cannot send empty telemetry");return}if(ke.baseData&&!ke[zr]){(0,Z.kP)(Ot,1,70,"Cannot send telemetry without baseData and baseType");return}if(ke[zr]||(ke[zr]="EventData"),!je[Pt]){(0,Z.kP)(Ot,1,28,"Sender was not initialized");return}if(Vr(ke))ke[h]=je._sample[Ti];else{(0,Z.kP)(Ot,2,33,"Telemetry item was sampled out and not sent",{SampleRate:je._sample[Ti]});return}var or=je[Ht][Gi]()||void 0,Tr=ke.iKey||je[Ht][Ge](),Hr=C.constructEnvelope(ke,Tr,Ot,or);if(!Hr){(0,Z.kP)(Ot,1,47,"Unable to create an AppInsights envelope");return}var Lr=!1;if(ke[Dt]&&ke[Dt][S]&&((0,J.tO)(ke[Dt][S],function(gn){try{gn&&gn(Hr)===!1&&(Lr=!0,(0,Z.jV)(Ot,"Telemetry processor check returns false"))}catch(_i){(0,Z.kP)(Ot,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,J.jj)(_i),{exception:(0,rt.eU)(_i)},!0)}}),delete ke[Dt][S]),Lr)return;var Qr=At.serialize(Hr),Yn=je[Ce],Cn=Yn.size();Cn+Qr[Xt]>je[Ht][li]()&&(!Mr||Mr[di]())&&je[xe](!0,null,10),Yn[si](Qr),Sa()}catch(gn){(0,Z.kP)(Ot,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+(0,J.jj)(gn),{exception:(0,rt.eU)(gn)})}je.processNext(ke,bt)},je[ea]=function(ke,bt,Ot){ke.readyState===4&&wn(ke.status,bt,ke.responseURL,Ot,ba(ke),wa(ke)||ke.response)},je[xe]=function(ke,bt,Ot){if(ke===void 0&&(ke=!0),!ze)try{var or=je[Ce];if(je[Ht][xr]())or[xi]();else{if(or[gi]()>0){var Tr=or.getItems();an(Ot||0,ke),bt?bt.call(L,Tr,ke):je[Pt](Tr,ke)}Re=+new Date}ca()}catch(Lr){var Hr=(0,rt.sA)();(!Hr||Hr>9)&&(0,Z.kP)(je[it](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+(0,J.jj)(Lr),{exception:(0,rt.eU)(Lr)})}},je._doTeardown=function(ke,bt){je.onunloadFlush(),Mr.unload(),yi()},je[vn]=function(ke,bt,Ot){(0,Z.kP)(je[it](),2,26,"Failed to send telemetry.",{message:bt}),je._buffer[Zn](ke)},je[Oi]=function(ke,bt){for(var Ot=[],or=[],Tr=bt.errors.reverse(),Hr=0,Lr=Tr;Hr<Lr.length;Hr++){var Qr=Lr[Hr],Yn=ke.splice(Qr.index,1)[0];fa(Qr.statusCode)?or[Kn](Yn):Ot[Kn](Yn)}ke[Xt]>0&&je[vi](ke,bt[ta]),Ot[Xt]>0&&je[vn](Ot,ba(null,["partial success",bt[ta],"of",bt.itemsReceived].join(" "))),or[Xt]>0&&(Vi(or),(0,Z.kP)(je[it](),2,40,"Partial success. Delivered: "+ke[Xt]+", Failed: "+Ot[Xt]+". Will retry to send "+or[Xt]+" our of "+bt[Qa]+" items"))},je[vi]=function(ke,bt){je._buffer[Zn](ke)},je._xdrOnLoad=function(ke,bt){var Ot=wa(ke);if(ke&&(Ot+""=="200"||Ot===""))Y=0,je[vi](bt,0);else{var or=Bi(Ot);or&&or.itemsReceived&&or.itemsReceived>or[ta]&&!je[Ht][pa]()?je[Oi](bt,or):je[vn](bt,xa(ke))}};function Vr(ke){return je._sample.isSampledIn(ke)}a(Vr,"_isSampledIn");function wn(ke,bt,Ot,or,Tr,Hr){var Lr=null;if(je._appId||(Lr=Bi(Hr),Lr&&Lr.appId&&(je._appId=Lr.appId)),(ke<200||ke>=300)&&ke!==0){if((ke===301||ke===307||ke===308)&&!Pn(Ot)){je[vn](bt,Tr);return}!je[Ht][pa]()&&fa(ke)?(Vi(bt),(0,Z.kP)(je[it](),2,40,". Response code "+ke+". Will retry to send "+bt[Xt]+" items.")):je[vn](bt,Tr)}else if(Mr&&!Mr[di]()){if(!je[Ht][pa]()){var Qr=10;Vi(bt,Qr),(0,Z.kP)(je[it](),2,40,". Offline - Response Code: ".concat(ke,". Offline status: ").concat(!Mr.isOnline(),". Will retry to send ").concat(bt.length," items."))}}else Pn(Ot),ke===206?(Lr||(Lr=Bi(Hr)),Lr&&!je[Ht][pa]()?je[Oi](bt,Lr):je[vn](bt,Tr)):(Y=0,je[vi](bt,or))}a(wn,"_checkResponsStatus");function Pn(ke){return St>=10?!1:!(0,J.le)(ke)&&ke!==""&&ke!==je[Ht][_t]()?(je[Ht][_t]=function(){return ke},++St,!0):!1}a(Pn,"_checkAndUpdateEndPointUrl");function Yi(ke,bt){fr?fr(ke,!1):Ea(ke,bt)}a(Yi,"_doUnloadSend");function Ma(ke){var bt=(0,rt.jW)(),Ot=je[Ce],or=je[Ht][_t](),Tr=je._buffer[Ci](ke),Hr=new Blob([Tr],{type:"text/plain;charset=UTF-8"}),Lr=bt.sendBeacon(or,Hr);return Lr&&(Ot[Gn](ke),je._onSuccess(ke,ke[Xt])),Lr}a(Ma,"_doBeaconSend");function Ea(ke,bt){if((0,J.kJ)(ke)&&ke[Xt]>0&&!Ma(ke)){for(var Ot=[],or=0;or<ke[Xt];or++){var Tr=ke[or];Ma([Tr])||Ot[Kn](Tr)}Ot[Xt]>0&&(qr&&qr(Ot,!0),(0,Z.kP)(je[it](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}a(Ea,"_beaconSender");function Wr(ke,bt){var Ot=new XMLHttpRequest,or=je[Ht][_t]();try{Ot[T]=!0}catch(Hr){}Ot.open("POST",or,bt),Ot[Fa]("Content-type","application/json"),Lt(or)&&Ot[Fa](Gr[6],Gr[7]),(0,J.tO)((0,J.FY)(Wt),function(Hr){Ot[Fa](Hr,Wt[Hr])}),Ot.onreadystatechange=function(){return je._xhrReadyStateChange(Ot,ke,ke[Xt])},Ot.onerror=function(Hr){return je[vn](ke,ba(Ot),Hr)};var Tr=je._buffer[Ci](ke);Ot.send(Tr),je._buffer[Gn](ke)}a(Wr,"_xhrSender");function Wn(ke,bt){if((0,J.kJ)(ke)){for(var Ot=ke[Xt],or=0;or<ke[Xt];or++)Ot+=ke[or][Xt];cr+Ot<=Yo?qi(ke,!1):(0,rt.MF)()?Ea(ke,bt):(qr&&qr(ke,!0),(0,Z.kP)(je[it](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}a(Wn,"_fetchKeepAliveSender");function na(ke,bt){qi(ke,!0)}a(na,"_fetchSender");function qi(ke,bt){var Ot,or=je[Ht][_t](),Tr=je._buffer[Ci](ke),Hr=new Blob([Tr],{type:"application/json"}),Lr=new Headers,Qr=Tr[Xt],Yn=!1,Cn=!1;Lt(or)&&Lr.append(Gr[6],Gr[7]),(0,J.tO)((0,J.FY)(Wt),function(Mn){Lr.append(Mn,Wt[Mn])});var gn=(Ot={method:"POST",headers:Lr,body:Hr},Ot[T]=!0,Ot);bt||(gn.keepalive=!0,Yn=!0,cr+=Qr);var _i=new Request(or,gn);try{_i[T]=!0}catch(Mn){}je._buffer[Gn](ke);try{fetch(_i).then(function(Mn){bt||(cr-=Qr,Qr=0),Cn||(Cn=!0,Mn.ok?Mn.text().then(function(Ir){wn(Mn.status,ke,Mn.url,ke[Xt],Mn.statusText,Ir)}):je[vn](ke,Mn.statusText))}).catch(function(Mn){bt||(cr-=Qr,Qr=0),Cn||(Cn=!0,je[vn](ke,Mn.message))})}catch(Mn){Cn||je[vn](ke,(0,rt.eU)(Mn))}Yn&&!Cn&&(Cn=!0,je._onSuccess(ke,ke[Xt]))}a(qi,"_doFetchSender");function Bi(ke){try{if(ke&&ke!==""){var bt=(0,rt.xA)().parse(ke);if(bt&&bt.itemsReceived&&bt.itemsReceived>=bt[ta]&&bt.itemsReceived-bt.itemsAccepted===bt.errors[Xt])return bt}}catch(Ot){(0,Z.kP)(je[it](),1,43,"Cannot parse the response. "+(0,J.jj)(Ot),{response:ke})}return null}a(Bi,"_parseResponse");function Vi(ke,bt){if(bt===void 0&&(bt=1),!(!ke||ke[Xt]===0)){var Ot=je[Ce];Ot[Zn](ke),Y++;for(var or=0,Tr=ke;or<Tr.length;or++){var Hr=Tr[or];Ot[si](Hr)}fo(bt),Sa()}}a(Vi,"_resendPayload");function fo(ke){var bt=10,Ot;if(Y<=1)Ot=bt;else{var or=(Math.pow(2,Y)-1)/2,Tr=Math.floor(Math.random()*or*bt)+1;Tr=ke*Tr,Ot=Math.max(Math.min(Tr,3600),bt)}var Hr=(0,J.m6)()+Ot*1e3;ge=Hr}a(fo,"_setRetryTime");function Sa(){if(!et&&!ze){var ke=ge?Math.max(0,ge-(0,J.m6)()):0,bt=Math.max(je[Ht][Uo](),ke);et=setTimeout(function(){et=null,je[xe](!0,null,1)},bt)}}a(Sa,"_setupTimer");function ca(){clearTimeout(et),et=null,ge=null}a(ca,"_clearScheduledTimer");function fa(ke){return ke===401||ke===403||ke===408||ke===429||ke===500||ke===502||ke===503||ke===504}a(fa,"_isRetriable");function ba(ke,bt){return ke?"XMLHttpRequest,Status:"+ke.status+",Response:"+wa(ke)||0||0:bt}a(ba,"_formatErrorMessageXhr");function La(ke,bt){var Ot=je[Ce],or=(0,rt.Jj)(),Tr=new XDomainRequest;Tr.onload=function(){return je._xdrOnLoad(Tr,ke)},Tr.onerror=function(Yn){return je[vn](ke,xa(Tr),Yn)};var Hr=or&&or.location&&or.location.protocol||"";if(je[Ht][_t]().lastIndexOf(Hr,0)!==0){(0,Z.kP)(je[it](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),Ot[xi]();return}var Lr=je[Ht][_t]().replace(/^(https?:)/,"");Tr.open("POST",Lr);var Qr=Ot[Ci](ke);Tr.send(Qr),Ot[Gn](ke)}a(La,"_xdrSender");function xa(ke,bt){return ke?"XDomainRequest,Response:"+wa(ke)||0:bt}a(xa,"_formatErrorMessageXdr");function ha(){var ke="getNotifyMgr";return je.core[ke]?je.core[ke]():je.core._notificationManager}a(ha,"_getNotifyMgr");function an(ke,bt){var Ot=ha();if(Ot&&Ot[va])try{Ot[va](ke,bt)}catch(or){(0,Z.kP)(je[it](),1,74,"send request notification failed: "+(0,J.jj)(or),{exception:(0,rt.eU)(or)})}}a(an,"_notifySendRequest");function Ui(ke){var bt=(0,J.le)(ke[Ja])?!1:ke[Ja];if(bt)return!0;var Ot="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",or=new RegExp(Ot);return or.test(ke[Ge])}a(Ui,"_validateInstrumentationKey");function yi(){je[Pt]=null,je[Ce]=null,je._appId=null,je._sample=null,Wt={},Mr=null,Y=0,ge=null,Re=null,ze=!1,et=null,At=null,St=0,cr=0,qr=null,fr=null,Nn=null}a(yi,"_initDefaults")}),L}return a(C,"Sender"),C.constructEnvelope=function(L,Y,ge,Re){var ze;Y!==L.iKey&&!(0,J.le)(Y)?ze=(0,g.uc)((0,g.uc)({},L),{iKey:Y}):ze=L;var et=uo[ze.baseType]||Ho;return et(ge,ze,Re)},C}(rr.i),Os=";",qo="=";function Vo(O){if(!O)return{};var C=O[q](Os),L=(0,J.Xz)(C,function(ge,Re){var ze=Re[q](qo);if(ze[j]===2){var et=ze[0][se](),At=ze[1];ge[et]=At}return ge},{});if((0,J.FY)(L)[j]>0){if(L.endpointsuffix){var Y=L.location?L.location+".":"";L[M]=L[M]||"https://"+Y+"dc."+L.endpointsuffix}L[M]=L[M]||y}return L}a(Vo,"parseConnectionString");var Mu={parse:Vo},co=E(5121),Oa="instrumentationKey",Na="connectionString",la="diagnosticLogInterval",Ns=E(7310),Qo=(0,jn.By)({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),Jo=function(){function O(C){var L=new co.F;((0,J.le)(C)||(0,J.le)(C[Oa])&&(0,J.le)(C[Na]))&&(0,J._y)("Invalid input configuration"),(0,v.Z)(O,this,function(Y){if(C[Na]){var ge=Vo(C[Na]),Re=ge.ingestionendpoint;C.endpointUrl=Re?Re+b:C.endpointUrl,C[Oa]=ge.instrumentationkey||C[Oa]}Y.config=C,ze(),Y.initialize=ze,Y.getSKUDefaults=function(){Y.config[la]=Y.config[la]&&Y.config[la]>0?Y.config[la]:1e4},Y.getSKUDefaults(),(0,J.Vb)(Y,L,["track","flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb"]);function ze(){L.initialize(Y.config,[new lo]),L.pollInternalLogs()}a(ze,"_initialize")})}return a(O,"ApplicationInsights"),O.__ieDyn=1,O}()},1679:(he,l,E)=>{"use strict";E.d(l,{Z:()=>ot});/*!
 * Microsoft Dynamic Proto Utility, 1.1.9
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var v,g="undefined",w="constructor",_="prototype",R="function",T="_dynInstFuncs",h="_isDynProxy",S="_dynClass",x="_dynCls$",y="_dynInstChk",b=y,B="_dfOpts",F="_unknown_",q="__proto__",j="_dyn"+q,se="__dynProto$Gbl",M="_dynInstProto",$="useBaseInst",k="setInstFuncs",A=Object,N=A.getPrototypeOf,U=A.getOwnPropertyNames;function te(){var G;return typeof globalThis!==g&&(G=globalThis),!G&&typeof self!==g&&(G=self),!G&&typeof window!==g&&(G=window),!G&&typeof E.g!==g&&(G=E.g),G||{}}a(te,"_getGlobal");var X=te(),re=X[se]||(X[se]={o:(v={},v[k]=!0,v[$]=!0,v),n:1e3});function ce(G,ee){return G&&A[_].hasOwnProperty.call(G,ee)}a(ce,"_hasOwnProperty");function Se(G){return G&&(G===A[_]||G===Array[_])}a(Se,"_isObjectOrArrayPrototype");function ie(G){return Se(G)||G===Function[_]}a(ie,"_isObjectArrayOrFunctionPrototype");function ye(G){var ee;if(G){if(N)return N(G);var ae=G[q]||G[_]||(G[w]?G[w][_]:null);ee=G[j]||ae,ce(G,j)||(delete G[M],ee=G[j]=G[M]||G[j],G[M]=ae)}return ee}a(ye,"_getObjProto");function W(G,ee){var ae=[];if(U)ae=U(G);else for(var _e in G)typeof _e=="string"&&ce(G,_e)&&ae.push(_e);if(ae&&ae.length>0)for(var Be=0;Be<ae.length;Be++)ee(ae[Be])}a(W,"_forEachProp");function Ye(G,ee,ae){return ee!==w&&typeof G[ee]===R&&(ae||ce(G,ee))}a(Ye,"_isDynamicCandidate");function be(G){throw new TypeError("DynamicProto: "+G)}a(be,"_throwTypeError");function de(G){var ee={};return W(G,function(ae){!ee[ae]&&Ye(G,ae,!1)&&(ee[ae]=G[ae])}),ee}a(de,"_getInstanceFuncs");function Q(G,ee){for(var ae=G.length-1;ae>=0;ae--)if(G[ae]===ee)return!0;return!1}a(Q,"_hasVisited");function oe(G,ee,ae,_e){function Be(Le,Ve,Me){var $e=Ve[Me];if($e[h]&&_e){var tt=Le[T]||{};tt[b]!==!1&&($e=(tt[Ve[S]]||{})[Me]||$e)}return function(){return $e.apply(Le,arguments)}}a(Be,"_instFuncProxy");var Ue={};W(ae,function(Le){Ue[Le]=Be(ee,ae,Le)});for(var pe=ye(G),De=[];pe&&!ie(pe)&&!Q(De,pe);)W(pe,function(Le){!Ue[Le]&&Ye(pe,Le,!N)&&(Ue[Le]=Be(ee,pe,Le))}),De.push(pe),pe=ye(pe);return Ue}a(oe,"_getBaseFuncs");function Te(G,ee,ae,_e){var Be=null;if(G&&ce(ae,S)){var Ue=G[T]||{};if(Be=(Ue[ae[S]]||{})[ee],Be||be("Missing ["+ee+"] "+R),!Be[y]&&Ue[b]!==!1){for(var pe=!ce(G,ee),De=ye(G),Le=[];pe&&De&&!ie(De)&&!Q(Le,De);){var Ve=De[ee];if(Ve){pe=Ve===_e;break}Le.push(De),De=ye(De)}try{pe&&(G[ee]=Be),Be[y]=1}catch(Me){Ue[b]=!1}}}return Be}a(Te,"_getInstFunc");function Oe(G,ee,ae){var _e=ee[G];return _e===ae&&(_e=ye(ee)[G]),typeof _e!==R&&be("["+G+"] is not a "+R),_e}a(Oe,"_getProtoFunc");function ne(G,ee,ae,_e,Be){function Ue(Le,Ve){var Me=a(function(){var $e=Te(this,Ve,Le,Me)||Oe(Ve,Le,Me);return $e.apply(this,arguments)},"dynProtoProxy");return Me[h]=1,Me}if(a(Ue,"_createDynamicPrototype"),!Se(G)){var pe=ae[T]=ae[T]||{},De=pe[ee]=pe[ee]||{};pe[b]!==!1&&(pe[b]=!!Be),W(ae,function(Le){Ye(ae,Le,!1)&&ae[Le]!==_e[Le]&&(De[Le]=ae[Le],delete ae[Le],(!ce(G,Le)||G[Le]&&!G[Le][h])&&(G[Le]=Ue(G,Le)))})}}a(ne,"_populatePrototype");function Ke(G,ee){if(N){for(var ae=[],_e=ye(ee);_e&&!ie(_e)&&!Q(ae,_e);){if(_e===G)return!0;ae.push(_e),_e=ye(_e)}return!1}return!0}a(Ke,"_checkPrototype");function Xe(G,ee){return ce(G,_)?G.name||ee||F:((G||{})[w]||{}).name||ee||F}a(Xe,"_getObjName");function ot(G,ee,ae,_e){ce(G,_)||be("theClass is an invalid class definition.");var Be=G[_];Ke(Be,ee)||be("["+Xe(G)+"] not in hierarchy of ["+Xe(ee)+"]");var Ue=null;ce(Be,S)?Ue=Be[S]:(Ue=x+Xe(G,"_")+"$"+re.n,re.n++,Be[S]=Ue);var pe=ot[B],De=!!pe[$];De&&_e&&_e[$]!==void 0&&(De=!!_e[$]);var Le=de(ee),Ve=oe(Be,ee,Le,De);ae(ee,Ve);var Me=!!N&&!!pe[k];Me&&_e&&(Me=!!_e[k]),ne(Be,Ue,ee,Le,Me!==!1)}a(ot,"dynamicProto"),ot[B]=re.o},6232:(he,l,E)=>{"use strict";const v=E(8641),g=E(8692),w=E(1474),_=E(5870),R=a((T,h={})=>{let S=[];if(Array.isArray(T))for(let x of T){let y=R.create(x,h);Array.isArray(y)?S.push(...y):S.push(y)}else S=[].concat(R.create(T,h));return h&&h.expand===!0&&h.nodupes===!0&&(S=[...new Set(S)]),S},"braces");R.parse=(T,h={})=>_(T,h),R.stringify=(T,h={})=>v(typeof T=="string"?R.parse(T,h):T,h),R.compile=(T,h={})=>(typeof T=="string"&&(T=R.parse(T,h)),g(T,h)),R.expand=(T,h={})=>{typeof T=="string"&&(T=R.parse(T,h));let S=w(T,h);return h.noempty===!0&&(S=S.filter(Boolean)),h.nodupes===!0&&(S=[...new Set(S)]),S},R.create=(T,h={})=>T===""||T.length<3?[T]:h.expand!==!0?R.compile(T,h):R.expand(T,h),he.exports=R},8692:(he,l,E)=>{"use strict";const v=E(1516),g=E(3596),w=a((_,R={})=>{let T=a((h,S={})=>{let x=g.isInvalidBrace(S),y=h.invalid===!0&&R.escapeInvalid===!0,b=x===!0||y===!0,B=R.escapeInvalid===!0?"\\":"",F="";if(h.isOpen===!0||h.isClose===!0)return B+h.value;if(h.type==="open")return b?B+h.value:"(";if(h.type==="close")return b?B+h.value:")";if(h.type==="comma")return h.prev.type==="comma"?"":b?h.value:"|";if(h.value)return h.value;if(h.nodes&&h.ranges>0){let q=g.reduce(h.nodes),j=v(...q,{...R,wrap:!1,toRegex:!0});if(j.length!==0)return q.length>1&&j.length>1?`(${j})`:j}if(h.nodes)for(let q of h.nodes)F+=T(q,h);return F},"walk");return T(_)},"compile");he.exports=w},7007:he=>{"use strict";he.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}},1474:(he,l,E)=>{"use strict";const v=E(1516),g=E(8641),w=E(3596),_=a((T="",h="",S=!1)=>{let x=[];if(T=[].concat(T),h=[].concat(h),!h.length)return T;if(!T.length)return S?w.flatten(h).map(y=>`{${y}}`):h;for(let y of T)if(Array.isArray(y))for(let b of y)x.push(_(b,h,S));else for(let b of h)S===!0&&typeof b=="string"&&(b=`{${b}}`),x.push(Array.isArray(b)?_(y,b,S):y+b);return w.flatten(x)},"append"),R=a((T,h={})=>{let S=h.rangeLimit===void 0?1e3:h.rangeLimit,x=a((y,b={})=>{y.queue=[];let B=b,F=b.queue;for(;B.type!=="brace"&&B.type!=="root"&&B.parent;)B=B.parent,F=B.queue;if(y.invalid||y.dollar){F.push(_(F.pop(),g(y,h)));return}if(y.type==="brace"&&y.invalid!==!0&&y.nodes.length===2){F.push(_(F.pop(),["{}"]));return}if(y.nodes&&y.ranges>0){let M=w.reduce(y.nodes);if(w.exceedsLimit(...M,h.step,S))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let $=v(...M,h);$.length===0&&($=g(y,h)),F.push(_(F.pop(),$)),y.nodes=[];return}let q=w.encloseBrace(y),j=y.queue,se=y;for(;se.type!=="brace"&&se.type!=="root"&&se.parent;)se=se.parent,j=se.queue;for(let M=0;M<y.nodes.length;M++){let $=y.nodes[M];if($.type==="comma"&&y.type==="brace"){M===1&&j.push(""),j.push("");continue}if($.type==="close"){F.push(_(F.pop(),j,q));continue}if($.value&&$.type!=="open"){j.push(_(j.pop(),$.value));continue}$.nodes&&x($,y)}return j},"walk");return w.flatten(x(T))},"expand");he.exports=R},5870:(he,l,E)=>{"use strict";const v=E(8641),{MAX_LENGTH:g,CHAR_BACKSLASH:w,CHAR_BACKTICK:_,CHAR_COMMA:R,CHAR_DOT:T,CHAR_LEFT_PARENTHESES:h,CHAR_RIGHT_PARENTHESES:S,CHAR_LEFT_CURLY_BRACE:x,CHAR_RIGHT_CURLY_BRACE:y,CHAR_LEFT_SQUARE_BRACKET:b,CHAR_RIGHT_SQUARE_BRACKET:B,CHAR_DOUBLE_QUOTE:F,CHAR_SINGLE_QUOTE:q,CHAR_NO_BREAK_SPACE:j,CHAR_ZERO_WIDTH_NOBREAK_SPACE:se}=E(7007),M=a(($,k={})=>{if(typeof $!="string")throw new TypeError("Expected a string");let A=k||{},N=typeof A.maxLength=="number"?Math.min(g,A.maxLength):g;if($.length>N)throw new SyntaxError(`Input length (${$.length}), exceeds max characters (${N})`);let U={type:"root",input:$,nodes:[]},te=[U],X=U,re=U,ce=0,Se=$.length,ie=0,ye=0,W,Ye={};const be=a(()=>$[ie++],"advance"),de=a(Q=>{if(Q.type==="text"&&re.type==="dot"&&(re.type="text"),re&&re.type==="text"&&Q.type==="text"){re.value+=Q.value;return}return X.nodes.push(Q),Q.parent=X,Q.prev=re,re=Q,Q},"push");for(de({type:"bos"});ie<Se;)if(X=te[te.length-1],W=be(),!(W===se||W===j)){if(W===w){de({type:"text",value:(k.keepEscaping?W:"")+be()});continue}if(W===B){de({type:"text",value:"\\"+W});continue}if(W===b){ce++;let Q=!0,oe;for(;ie<Se&&(oe=be());){if(W+=oe,oe===b){ce++;continue}if(oe===w){W+=be();continue}if(oe===B&&(ce--,ce===0))break}de({type:"text",value:W});continue}if(W===h){X=de({type:"paren",nodes:[]}),te.push(X),de({type:"text",value:W});continue}if(W===S){if(X.type!=="paren"){de({type:"text",value:W});continue}X=te.pop(),de({type:"text",value:W}),X=te[te.length-1];continue}if(W===F||W===q||W===_){let Q=W,oe;for(k.keepQuotes!==!0&&(W="");ie<Se&&(oe=be());){if(oe===w){W+=oe+be();continue}if(oe===Q){k.keepQuotes===!0&&(W+=oe);break}W+=oe}de({type:"text",value:W});continue}if(W===x){ye++;let Q=re.value&&re.value.slice(-1)==="$"||X.dollar===!0;X=de({type:"brace",open:!0,close:!1,dollar:Q,depth:ye,commas:0,ranges:0,nodes:[]}),te.push(X),de({type:"open",value:W});continue}if(W===y){if(X.type!=="brace"){de({type:"text",value:W});continue}let Q="close";X=te.pop(),X.close=!0,de({type:Q,value:W}),ye--,X=te[te.length-1];continue}if(W===R&&ye>0){if(X.ranges>0){X.ranges=0;let Q=X.nodes.shift();X.nodes=[Q,{type:"text",value:v(X)}]}de({type:"comma",value:W}),X.commas++;continue}if(W===T&&ye>0&&X.commas===0){let Q=X.nodes;if(ye===0||Q.length===0){de({type:"text",value:W});continue}if(re.type==="dot"){if(X.range=[],re.value+=W,re.type="range",X.nodes.length!==3&&X.nodes.length!==5){X.invalid=!0,X.ranges=0,re.type="text";continue}X.ranges++,X.args=[];continue}if(re.type==="range"){Q.pop();let oe=Q[Q.length-1];oe.value+=re.value+W,re=oe,X.ranges--;continue}de({type:"dot",value:W});continue}de({type:"text",value:W})}do if(X=te.pop(),X.type!=="root"){X.nodes.forEach(Te=>{Te.nodes||(Te.type==="open"&&(Te.isOpen=!0),Te.type==="close"&&(Te.isClose=!0),Te.nodes||(Te.type="text"),Te.invalid=!0)});let Q=te[te.length-1],oe=Q.nodes.indexOf(X);Q.nodes.splice(oe,1,...X.nodes)}while(te.length>0);return de({type:"eos"}),U},"parse");he.exports=M},8641:(he,l,E)=>{"use strict";const v=E(3596);he.exports=(g,w={})=>{let _=a((R,T={})=>{let h=w.escapeInvalid&&v.isInvalidBrace(T),S=R.invalid===!0&&w.escapeInvalid===!0,x="";if(R.value)return(h||S)&&v.isOpenOrClose(R)?"\\"+R.value:R.value;if(R.value)return R.value;if(R.nodes)for(let y of R.nodes)x+=_(y);return x},"stringify");return _(g)}},3596:(he,l)=>{"use strict";l.isInteger=E=>typeof E=="number"?Number.isInteger(E):typeof E=="string"&&E.trim()!==""?Number.isInteger(Number(E)):!1,l.find=(E,v)=>E.nodes.find(g=>g.type===v),l.exceedsLimit=(E,v,g=1,w)=>w===!1||!l.isInteger(E)||!l.isInteger(v)?!1:(Number(v)-Number(E))/Number(g)>=w,l.escapeNode=(E,v=0,g)=>{let w=E.nodes[v];!w||(g&&w.type===g||w.type==="open"||w.type==="close")&&w.escaped!==!0&&(w.value="\\"+w.value,w.escaped=!0)},l.encloseBrace=E=>E.type!=="brace"?!1:E.commas>>0+E.ranges>>0==0?(E.invalid=!0,!0):!1,l.isInvalidBrace=E=>E.type!=="brace"?!1:E.invalid===!0||E.dollar?!0:E.commas>>0+E.ranges>>0==0||E.open!==!0||E.close!==!0?(E.invalid=!0,!0):!1,l.isOpenOrClose=E=>E.type==="open"||E.type==="close"?!0:E.open===!0||E.close===!0,l.reduce=E=>E.reduce((v,g)=>(g.type==="text"&&v.push(g.value),g.type==="range"&&(g.type="text"),v),[]),l.flatten=(...E)=>{const v=[],g=a(w=>{for(let _=0;_<w.length;_++){let R=w[_];Array.isArray(R)?g(R,v):R!==void 0&&v.push(R)}return v},"flat");return g(E),v}},1516:(he,l,E)=>{"use strict";/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const v=E(6529),g=E(2999),w=a(A=>A!==null&&typeof A=="object"&&!Array.isArray(A),"isObject"),_=a(A=>N=>A===!0?Number(N):String(N),"transform"),R=a(A=>typeof A=="number"||typeof A=="string"&&A!=="","isValidValue"),T=a(A=>Number.isInteger(+A),"isNumber"),h=a(A=>{let N=`${A}`,U=-1;if(N[0]==="-"&&(N=N.slice(1)),N==="0")return!1;for(;N[++U]==="0";);return U>0},"zeros"),S=a((A,N,U)=>typeof A=="string"||typeof N=="string"?!0:U.stringify===!0,"stringify"),x=a((A,N,U)=>{if(N>0){let te=A[0]==="-"?"-":"";te&&(A=A.slice(1)),A=te+A.padStart(te?N-1:N,"0")}return U===!1?String(A):A},"pad"),y=a((A,N)=>{let U=A[0]==="-"?"-":"";for(U&&(A=A.slice(1),N--);A.length<N;)A="0"+A;return U?"-"+A:A},"toMaxLen"),b=a((A,N)=>{A.negatives.sort((ce,Se)=>ce<Se?-1:ce>Se?1:0),A.positives.sort((ce,Se)=>ce<Se?-1:ce>Se?1:0);let U=N.capture?"":"?:",te="",X="",re;return A.positives.length&&(te=A.positives.join("|")),A.negatives.length&&(X=`-(${U}${A.negatives.join("|")})`),te&&X?re=`${te}|${X}`:re=te||X,N.wrap?`(${U}${re})`:re},"toSequence"),B=a((A,N,U,te)=>{if(U)return g(A,N,{wrap:!1,...te});let X=String.fromCharCode(A);if(A===N)return X;let re=String.fromCharCode(N);return`[${X}-${re}]`},"toRange"),F=a((A,N,U)=>{if(Array.isArray(A)){let te=U.wrap===!0,X=U.capture?"":"?:";return te?`(${X}${A.join("|")})`:A.join("|")}return g(A,N,U)},"toRegex"),q=a((...A)=>new RangeError("Invalid range arguments: "+v.inspect(...A)),"rangeError"),j=a((A,N,U)=>{if(U.strictRanges===!0)throw q([A,N]);return[]},"invalidRange"),se=a((A,N)=>{if(N.strictRanges===!0)throw new TypeError(`Expected step "${A}" to be a number`);return[]},"invalidStep"),M=a((A,N,U=1,te={})=>{let X=Number(A),re=Number(N);if(!Number.isInteger(X)||!Number.isInteger(re)){if(te.strictRanges===!0)throw q([A,N]);return[]}X===0&&(X=0),re===0&&(re=0);let ce=X>re,Se=String(A),ie=String(N),ye=String(U);U=Math.max(Math.abs(U),1);let W=h(Se)||h(ie)||h(ye),Ye=W?Math.max(Se.length,ie.length,ye.length):0,be=W===!1&&S(A,N,te)===!1,de=te.transform||_(be);if(te.toRegex&&U===1)return B(y(A,Ye),y(N,Ye),!0,te);let Q={negatives:[],positives:[]},oe=a(ne=>Q[ne<0?"negatives":"positives"].push(Math.abs(ne)),"push"),Te=[],Oe=0;for(;ce?X>=re:X<=re;)te.toRegex===!0&&U>1?oe(X):Te.push(x(de(X,Oe),Ye,be)),X=ce?X-U:X+U,Oe++;return te.toRegex===!0?U>1?b(Q,te):F(Te,null,{wrap:!1,...te}):Te},"fillNumbers"),$=a((A,N,U=1,te={})=>{if(!T(A)&&A.length>1||!T(N)&&N.length>1)return j(A,N,te);let X=te.transform||(be=>String.fromCharCode(be)),re=`${A}`.charCodeAt(0),ce=`${N}`.charCodeAt(0),Se=re>ce,ie=Math.min(re,ce),ye=Math.max(re,ce);if(te.toRegex&&U===1)return B(ie,ye,!1,te);let W=[],Ye=0;for(;Se?re>=ce:re<=ce;)W.push(X(re,Ye)),re=Se?re-U:re+U,Ye++;return te.toRegex===!0?F(W,null,{wrap:!1,options:te}):W},"fillLetters"),k=a((A,N,U,te={})=>{if(N==null&&R(A))return[A];if(!R(A)||!R(N))return j(A,N,te);if(typeof U=="function")return k(A,N,1,{transform:U});if(w(U))return k(A,N,0,U);let X={...te};return X.capture===!0&&(X.wrap=!0),U=U||X.step||1,T(U)?T(A)&&T(N)?M(A,N,U,X):$(A,N,Math.max(Math.abs(U),1),X):U!=null&&!w(U)?se(U,X):k(A,N,1,U)},"fill");he.exports=k},3338:he=>{"use strict";/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */he.exports=function(l){return typeof l=="number"?l-l==0:typeof l=="string"&&l.trim()!==""?Number.isFinite?Number.isFinite(+l):isFinite(+l):!1}},5179:(he,l,E)=>{he=E.nmd(he);var v=200,g="__lodash_hash_undefined__",w=1,_=2,R=9007199254740991,T="[object Arguments]",h="[object Array]",S="[object AsyncFunction]",x="[object Boolean]",y="[object Date]",b="[object Error]",B="[object Function]",F="[object GeneratorFunction]",q="[object Map]",j="[object Number]",se="[object Null]",M="[object Object]",$="[object Promise]",k="[object Proxy]",A="[object RegExp]",N="[object Set]",U="[object String]",te="[object Symbol]",X="[object Undefined]",re="[object WeakMap]",ce="[object ArrayBuffer]",Se="[object DataView]",ie="[object Float32Array]",ye="[object Float64Array]",W="[object Int8Array]",Ye="[object Int16Array]",be="[object Int32Array]",de="[object Uint8Array]",Q="[object Uint8ClampedArray]",oe="[object Uint16Array]",Te="[object Uint32Array]",Oe=/[\\^$.*+?()[\]{}|]/g,ne=/^\[object .+?Constructor\]$/,Ke=/^(?:0|[1-9]\d*)$/,Xe={};Xe[ie]=Xe[ye]=Xe[W]=Xe[Ye]=Xe[be]=Xe[de]=Xe[Q]=Xe[oe]=Xe[Te]=!0,Xe[T]=Xe[h]=Xe[ce]=Xe[x]=Xe[Se]=Xe[y]=Xe[b]=Xe[B]=Xe[q]=Xe[j]=Xe[M]=Xe[A]=Xe[N]=Xe[U]=Xe[re]=!1;var ot=typeof E.g=="object"&&E.g&&E.g.Object===Object&&E.g,G=typeof self=="object"&&self&&self.Object===Object&&self,ee=ot||G||Function("return this")(),ae=l&&!l.nodeType&&l,_e=ae&&!0&&he&&!he.nodeType&&he,Be=_e&&_e.exports===ae,Ue=Be&&ot.process,pe=function(){try{return Ue&&Ue.binding&&Ue.binding("util")}catch(K){}}(),De=pe&&pe.isTypedArray;function Le(K,ue){for(var Ee=-1,ht=K==null?0:K.length,kt=0,$t=[];++Ee<ht;){var pr=K[Ee];ue(pr,Ee,K)&&($t[kt++]=pr)}return $t}a(Le,"arrayFilter");function Ve(K,ue){for(var Ee=-1,ht=ue.length,kt=K.length;++Ee<ht;)K[kt+Ee]=ue[Ee];return K}a(Ve,"arrayPush");function Me(K,ue){for(var Ee=-1,ht=K==null?0:K.length;++Ee<ht;)if(ue(K[Ee],Ee,K))return!0;return!1}a(Me,"arraySome");function $e(K,ue){for(var Ee=-1,ht=Array(K);++Ee<K;)ht[Ee]=ue(Ee);return ht}a($e,"baseTimes");function tt(K){return function(ue){return K(ue)}}a(tt,"baseUnary");function st(K,ue){return K.has(ue)}a(st,"cacheHas");function Fe(K,ue){return K==null?void 0:K[ue]}a(Fe,"getValue");function J(K){var ue=-1,Ee=Array(K.size);return K.forEach(function(ht,kt){Ee[++ue]=[kt,ht]}),Ee}a(J,"mapToArray");function Z(K,ue){return function(Ee){return K(ue(Ee))}}a(Z,"overArg");function rt(K){var ue=-1,Ee=Array(K.size);return K.forEach(function(ht){Ee[++ue]=ht}),Ee}a(rt,"setToArray");var zt=Array.prototype,wr=Function.prototype,Er=Object.prototype,P=ee["__core-js_shared__"],d=wr.toString,m=Er.hasOwnProperty,V=function(){var K=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||"");return K?"Symbol(src)_1."+K:""}(),ve=Er.toString,Pe=RegExp("^"+d.call(m).replace(Oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),me=Be?ee.Buffer:void 0,gt=ee.Symbol,Rt=ee.Uint8Array,Ft=Er.propertyIsEnumerable,Nt=zt.splice,Gt=gt?gt.toStringTag:void 0,Kr=Object.getOwnPropertySymbols,fn=me?me.isBuffer:void 0,Sn=Z(Object.keys,Object),mn=Jn(ee,"DataView"),sn=Jn(ee,"Map"),yn=Jn(ee,"Promise"),zn=Jn(ee,"Set"),kn=Jn(ee,"WeakMap"),Cr=Jn(Object,"create"),Xr=Lt(mn),Dn=Lt(sn),An=Lt(yn),Ei=Lt(zn),ai=Lt(kn),hn=gt?gt.prototype:void 0,H=hn?hn.valueOf:void 0;function we(K){var ue=-1,Ee=K==null?0:K.length;for(this.clear();++ue<Ee;){var ht=K[ue];this.set(ht[0],ht[1])}}a(we,"Hash");function Ne(){this.__data__=Cr?Cr(null):{},this.size=0}a(Ne,"hashClear");function We(K){var ue=this.has(K)&&delete this.__data__[K];return this.size-=ue?1:0,ue}a(We,"hashDelete");function at(K){var ue=this.__data__;if(Cr){var Ee=ue[K];return Ee===g?void 0:Ee}return m.call(ue,K)?ue[K]:void 0}a(at,"hashGet");function nt(K){var ue=this.__data__;return Cr?ue[K]!==void 0:m.call(ue,K)}a(nt,"hashHas");function yt(K,ue){var Ee=this.__data__;return this.size+=this.has(K)?0:1,Ee[K]=Cr&&ue===void 0?g:ue,this}a(yt,"hashSet"),we.prototype.clear=Ne,we.prototype.delete=We,we.prototype.get=at,we.prototype.has=nt,we.prototype.set=yt;function It(K){var ue=-1,Ee=K==null?0:K.length;for(this.clear();++ue<Ee;){var ht=K[ue];this.set(ht[0],ht[1])}}a(It,"ListCache");function Ut(){this.__data__=[],this.size=0}a(Ut,"listCacheClear");function sr(K){var ue=this.__data__,Ee=ln(ue,K);if(Ee<0)return!1;var ht=ue.length-1;return Ee==ht?ue.pop():Nt.call(ue,Ee,1),--this.size,!0}a(sr,"listCacheDelete");function Ct(K){var ue=this.__data__,Ee=ln(ue,K);return Ee<0?void 0:ue[Ee][1]}a(Ct,"listCacheGet");function Yt(K){return ln(this.__data__,K)>-1}a(Yt,"listCacheHas");function qt(K,ue){var Ee=this.__data__,ht=ln(Ee,K);return ht<0?(++this.size,Ee.push([K,ue])):Ee[ht][1]=ue,this}a(qt,"listCacheSet"),It.prototype.clear=Ut,It.prototype.delete=sr,It.prototype.get=Ct,It.prototype.has=Yt,It.prototype.set=qt;function Vt(K){var ue=-1,Ee=K==null?0:K.length;for(this.clear();++ue<Ee;){var ht=K[ue];this.set(ht[0],ht[1])}}a(Vt,"MapCache");function Mt(){this.size=0,this.__data__={hash:new we,map:new(sn||It),string:new we}}a(Mt,"mapCacheClear");function Pr(K){var ue=oi(this,K).delete(K);return this.size-=ue?1:0,ue}a(Pr,"mapCacheDelete");function Sr(K){return oi(this,K).get(K)}a(Sr,"mapCacheGet");function _n(K){return oi(this,K).has(K)}a(_n,"mapCacheHas");function un(K,ue){var Ee=oi(this,K),ht=Ee.size;return Ee.set(K,ue),this.size+=Ee.size==ht?0:1,this}a(un,"mapCacheSet"),Vt.prototype.clear=Mt,Vt.prototype.delete=Pr,Vt.prototype.get=Sr,Vt.prototype.has=_n,Vt.prototype.set=un;function pn(K){var ue=-1,Ee=K==null?0:K.length;for(this.__data__=new Vt;++ue<Ee;)this.add(K[ue])}a(pn,"SetCache");function Qn(K){return this.__data__.set(K,g),this}a(Qn,"setCacheAdd");function jn(K){return this.__data__.has(K)}a(jn,"setCacheHas"),pn.prototype.add=pn.prototype.push=Qn,pn.prototype.has=jn;function Gr(K){var ue=this.__data__=new It(K);this.size=ue.size}a(Gr,"Stack");function Si(){this.__data__=new It,this.size=0}a(Si,"stackClear");function Qt(K){var ue=this.__data__,Ee=ue.delete(K);return this.size=ue.size,Ee}a(Qt,"stackDelete");function en(K){return this.__data__.get(K)}a(en,"stackGet");function Fr(K){return this.__data__.has(K)}a(Fr,"stackHas");function br(K,ue){var Ee=this.__data__;if(Ee instanceof It){var ht=Ee.__data__;if(!sn||ht.length<v-1)return ht.push([K,ue]),this.size=++Ee.size,this;Ee=this.__data__=new Vt(ht)}return Ee.set(K,ue),this.size=Ee.size,this}a(br,"stackSet"),Gr.prototype.clear=Si,Gr.prototype.delete=Qt,Gr.prototype.get=en,Gr.prototype.has=Fr,Gr.prototype.set=br;function Br(K,ue){var Ee=ir(K),ht=!Ee&&Tt(K),kt=!Ee&&!ht&&hr(K),$t=!Ee&&!ht&&!kt&&rr(K),pr=Ee||ht||kt||$t,lr=pr?$e(K.length,String):[],ar=lr.length;for(var dr in K)(ue||m.call(K,dr))&&!(pr&&(dr=="length"||kt&&(dr=="offset"||dr=="parent")||$t&&(dr=="buffer"||dr=="byteLength"||dr=="byteOffset")||sa(dr,ar)))&&lr.push(dr);return lr}a(Br,"arrayLikeKeys");function ln(K,ue){for(var Ee=K.length;Ee--;)if(er(K[Ee][0],ue))return Ee;return-1}a(ln,"assocIndexOf");function Ln(K,ue,Ee){var ht=ue(K);return ir(K)?ht:Ve(ht,Ee(K))}a(Ln,"baseGetAllKeys");function ti(K){return K==null?K===void 0?X:se:Gt&&Gt in Object(K)?Xi(K):ct(K)}a(ti,"baseGetTag");function Fi(K){return Ur(K)&&ti(K)==T}a(Fi,"baseIsArguments");function Pi(K,ue,Ee,ht,kt){return K===ue?!0:K==null||ue==null||!Ur(K)&&!Ur(ue)?K!==K&&ue!==ue:ji(K,ue,Ee,ht,Pi,kt)}a(Pi,"baseIsEqual");function ji(K,ue,Ee,ht,kt,$t){var pr=ir(K),lr=ir(ue),ar=pr?h:hi(K),dr=lr?h:hi(ue);ar=ar==T?M:ar,dr=dr==T?M:dr;var yr=ar==M,jt=dr==M,Dt=ar==dr;if(Dt&&hr(K)){if(!hr(ue))return!1;pr=!0,yr=!1}if(Dt&&!yr)return $t||($t=new Gr),pr||rr(K)?Zi(K,ue,Ee,ht,kt,$t):Ki(K,ue,ar,Ee,ht,kt,$t);if(!(Ee&w)){var Or=yr&&m.call(K,"__wrapped__"),Ar=jt&&m.call(ue,"__wrapped__");if(Or||Ar){var $r=Or?K.value():K,Jr=Ar?ue.value():ue;return $t||($t=new Gr),kt($r,Jr,Ee,ht,$t)}}return Dt?($t||($t=new Gr),Rn(K,ue,Ee,ht,kt,$t)):!1}a(ji,"baseIsEqualDeep");function oa(K){if(!rn(K)||ut(K))return!1;var ue=tn(K)?Pe:ne;return ue.test(Lt(K))}a(oa,"baseIsNative");function Ji(K){return Ur(K)&&Yr(K.length)&&!!Xe[ti(K)]}a(Ji,"baseIsTypedArray");function ft(K){if(!wt(K))return Sn(K);var ue=[];for(var Ee in Object(K))m.call(K,Ee)&&Ee!="constructor"&&ue.push(Ee);return ue}a(ft,"baseKeys");function Zi(K,ue,Ee,ht,kt,$t){var pr=Ee&w,lr=K.length,ar=ue.length;if(lr!=ar&&!(pr&&ar>lr))return!1;var dr=$t.get(K);if(dr&&$t.get(ue))return dr==ue;var yr=-1,jt=!0,Dt=Ee&_?new pn:void 0;for($t.set(K,ue),$t.set(ue,K);++yr<lr;){var Or=K[yr],Ar=ue[yr];if(ht)var $r=pr?ht(Ar,Or,yr,ue,K,$t):ht(Or,Ar,yr,K,ue,$t);if($r!==void 0){if($r)continue;jt=!1;break}if(Dt){if(!Me(ue,function(Jr,Xt){if(!st(Dt,Xt)&&(Or===Jr||kt(Or,Jr,Ee,ht,$t)))return Dt.push(Xt)})){jt=!1;break}}else if(!(Or===Ar||kt(Or,Ar,Ee,ht,$t))){jt=!1;break}}return $t.delete(K),$t.delete(ue),jt}a(Zi,"equalArrays");function Ki(K,ue,Ee,ht,kt,$t,pr){switch(Ee){case Se:if(K.byteLength!=ue.byteLength||K.byteOffset!=ue.byteOffset)return!1;K=K.buffer,ue=ue.buffer;case ce:return!(K.byteLength!=ue.byteLength||!$t(new Rt(K),new Rt(ue)));case x:case y:case j:return er(+K,+ue);case b:return K.name==ue.name&&K.message==ue.message;case A:case U:return K==ue+"";case q:var lr=J;case N:var ar=ht&w;if(lr||(lr=rt),K.size!=ue.size&&!ar)return!1;var dr=pr.get(K);if(dr)return dr==ue;ht|=_,pr.set(K,ue);var yr=Zi(lr(K),lr(ue),ht,kt,$t,pr);return pr.delete(K),yr;case te:if(H)return H.call(K)==H.call(ue)}return!1}a(Ki,"equalByTag");function Rn(K,ue,Ee,ht,kt,$t){var pr=Ee&w,lr=Bn(K),ar=lr.length,dr=Bn(ue),yr=dr.length;if(ar!=yr&&!pr)return!1;for(var jt=ar;jt--;){var Dt=lr[jt];if(!(pr?Dt in ue:m.call(ue,Dt)))return!1}var Or=$t.get(K);if(Or&&$t.get(ue))return Or==ue;var Ar=!0;$t.set(K,ue),$t.set(ue,K);for(var $r=pr;++jt<ar;){Dt=lr[jt];var Jr=K[Dt],Xt=ue[Dt];if(ht)var Un=pr?ht(Xt,Jr,Dt,ue,K,$t):ht(Jr,Xt,Dt,K,ue,$t);if(!(Un===void 0?Jr===Xt||kt(Jr,Xt,Ee,ht,$t):Un)){Ar=!1;break}$r||($r=Dt=="constructor")}if(Ar&&!$r){var bn=K.constructor,Nr=ue.constructor;bn!=Nr&&"constructor"in K&&"constructor"in ue&&!(typeof bn=="function"&&bn instanceof bn&&typeof Nr=="function"&&Nr instanceof Nr)&&(Ar=!1)}return $t.delete(K),$t.delete(ue),Ar}a(Rn,"equalObjects");function Bn(K){return Ln(K,Jt,bi)}a(Bn,"getAllKeys");function oi(K,ue){var Ee=K.__data__;return He(ue)?Ee[typeof ue=="string"?"string":"hash"]:Ee.map}a(oi,"getMapData");function Jn(K,ue){var Ee=Fe(K,ue);return oa(Ee)?Ee:void 0}a(Jn,"getNative");function Xi(K){var ue=m.call(K,Gt),Ee=K[Gt];try{K[Gt]=void 0;var ht=!0}catch($t){}var kt=ve.call(K);return ht&&(ue?K[Gt]=Ee:delete K[Gt]),kt}a(Xi,"getRawTag");var bi=Kr?function(K){return K==null?[]:(K=Object(K),Le(Kr(K),function(ue){return Ft.call(K,ue)}))}:vr,hi=ti;(mn&&hi(new mn(new ArrayBuffer(1)))!=Se||sn&&hi(new sn)!=q||yn&&hi(yn.resolve())!=$||zn&&hi(new zn)!=N||kn&&hi(new kn)!=re)&&(hi=a(function(K){var ue=ti(K),Ee=ue==M?K.constructor:void 0,ht=Ee?Lt(Ee):"";if(ht)switch(ht){case Xr:return Se;case Dn:return q;case An:return $;case Ei:return N;case ai:return re}return ue},"getTag"));function sa(K,ue){return ue=ue==null?R:ue,!!ue&&(typeof K=="number"||Ke.test(K))&&K>-1&&K%1==0&&K<ue}a(sa,"isIndex");function He(K){var ue=typeof K;return ue=="string"||ue=="number"||ue=="symbol"||ue=="boolean"?K!=="__proto__":K===null}a(He,"isKeyable");function ut(K){return!!V&&V in K}a(ut,"isMasked");function wt(K){var ue=K&&K.constructor,Ee=typeof ue=="function"&&ue.prototype||Er;return K===Ee}a(wt,"isPrototype");function ct(K){return ve.call(K)}a(ct,"objectToString");function Lt(K){if(K!=null){try{return d.call(K)}catch(ue){}try{return K+""}catch(ue){}}return""}a(Lt,"toSource");function er(K,ue){return K===ue||K!==K&&ue!==ue}a(er,"eq");var Tt=Fi(function(){return arguments}())?Fi:function(K){return Ur(K)&&m.call(K,"callee")&&!Ft.call(K,"callee")},ir=Array.isArray;function Kt(K){return K!=null&&Yr(K.length)&&!tn(K)}a(Kt,"isArrayLike");var hr=fn||mr;function Dr(K,ue){return Pi(K,ue)}a(Dr,"isEqual");function tn(K){if(!rn(K))return!1;var ue=ti(K);return ue==B||ue==F||ue==S||ue==k}a(tn,"isFunction");function Yr(K){return typeof K=="number"&&K>-1&&K%1==0&&K<=R}a(Yr,"isLength");function rn(K){var ue=typeof K;return K!=null&&(ue=="object"||ue=="function")}a(rn,"isObject");function Ur(K){return K!=null&&typeof K=="object"}a(Ur,"isObjectLike");var rr=De?tt(De):Ji;function Jt(K){return Kt(K)?Br(K):ft(K)}a(Jt,"keys");function vr(){return[]}a(vr,"stubArray");function mr(){return!1}a(mr,"stubFalse"),he.exports=Dr},919:(he,l,E)=>{"use strict";const v=E(6391),g=E(6232),w=E(6796),_=E(292),R=a(h=>h===""||h==="./","isEmptyString"),T=a((h,S,x)=>{S=[].concat(S),h=[].concat(h);let y=new Set,b=new Set,B=new Set,F=0,q=a(M=>{B.add(M.output),x&&x.onResult&&x.onResult(M)},"onResult");for(let M=0;M<S.length;M++){let $=w(String(S[M]),{...x,onResult:q},!0),k=$.state.negated||$.state.negatedExtglob;k&&F++;for(let A of h){let N=$(A,!0);!(k?!N.isMatch:N.isMatch)||(k?y.add(N.output):(y.delete(N.output),b.add(N.output)))}}let se=(F===S.length?[...B]:[...b]).filter(M=>!y.has(M));if(x&&se.length===0){if(x.failglob===!0)throw new Error(`No matches found for "${S.join(", ")}"`);if(x.nonull===!0||x.nullglob===!0)return x.unescape?S.map(M=>M.replace(/\\/g,"")):S}return se},"micromatch");T.match=T,T.matcher=(h,S)=>w(h,S),T.isMatch=(h,S,x)=>w(S,x)(h),T.any=T.isMatch,T.not=(h,S,x={})=>{S=[].concat(S).map(String);let y=new Set,b=[],B=a(q=>{x.onResult&&x.onResult(q),b.push(q.output)},"onResult"),F=new Set(T(h,S,{...x,onResult:B}));for(let q of b)F.has(q)||y.add(q);return[...y]},T.contains=(h,S,x)=>{if(typeof h!="string")throw new TypeError(`Expected a string: "${v.inspect(h)}"`);if(Array.isArray(S))return S.some(y=>T.contains(h,y,x));if(typeof S=="string"){if(R(h)||R(S))return!1;if(h.includes(S)||h.startsWith("./")&&h.slice(2).includes(S))return!0}return T.isMatch(h,S,{...x,contains:!0})},T.matchKeys=(h,S,x)=>{if(!_.isObject(h))throw new TypeError("Expected the first argument to be an object");let y=T(Object.keys(h),S,x),b={};for(let B of y)b[B]=h[B];return b},T.some=(h,S,x)=>{let y=[].concat(h);for(let b of[].concat(S)){let B=w(String(b),x);if(y.some(F=>B(F)))return!0}return!1},T.every=(h,S,x)=>{let y=[].concat(h);for(let b of[].concat(S)){let B=w(String(b),x);if(!y.every(F=>B(F)))return!1}return!0},T.all=(h,S,x)=>{if(typeof h!="string")throw new TypeError(`Expected a string: "${v.inspect(h)}"`);return[].concat(S).every(y=>w(y,x)(h))},T.capture=(h,S,x)=>{let y=_.isWindows(x),B=w.makeRe(String(h),{...x,capture:!0}).exec(y?_.toPosixSlashes(S):S);if(B)return B.slice(1).map(F=>F===void 0?"":F)},T.makeRe=(...h)=>w.makeRe(...h),T.scan=(...h)=>w.scan(...h),T.parse=(h,S)=>{let x=[];for(let y of[].concat(h||[]))for(let b of g(String(y),S))x.push(w.parse(b,S));return x},T.braces=(h,S)=>{if(typeof h!="string")throw new TypeError("Expected a string");return S&&S.nobrace===!0||!/\{.*\}/.test(h)?[h]:g(h,S)},T.braceExpand=(h,S)=>{if(typeof h!="string")throw new TypeError("Expected a string");return T.braces(h,{...S,expand:!0})},he.exports=T},6796:(he,l,E)=>{"use strict";he.exports=E(5761)},3889:(he,l,E)=>{"use strict";const v=E(6470),g="\\\\/",w=`[^${g}]`,_="\\.",R="\\+",T="\\?",h="\\/",S="(?=.)",x="[^/]",y=`(?:${h}|$)`,b=`(?:^|${h})`,B=`${_}{1,2}${y}`,F=`(?!${_})`,q=`(?!${b}${B})`,j=`(?!${_}{0,1}${y})`,se=`(?!${B})`,M=`[^.${h}]`,$=`${x}*?`,k={DOT_LITERAL:_,PLUS_LITERAL:R,QMARK_LITERAL:T,SLASH_LITERAL:h,ONE_CHAR:S,QMARK:x,END_ANCHOR:y,DOTS_SLASH:B,NO_DOT:F,NO_DOTS:q,NO_DOT_SLASH:j,NO_DOTS_SLASH:se,QMARK_NO_DOT:M,STAR:$,START_ANCHOR:b},A={...k,SLASH_LITERAL:`[${g}]`,QMARK:w,STAR:`${w}*?`,DOTS_SLASH:`${_}{1,2}(?:[${g}]|$)`,NO_DOT:`(?!${_})`,NO_DOTS:`(?!(?:^|[${g}])${_}{1,2}(?:[${g}]|$))`,NO_DOT_SLASH:`(?!${_}{0,1}(?:[${g}]|$))`,NO_DOTS_SLASH:`(?!${_}{1,2}(?:[${g}]|$))`,QMARK_NO_DOT:`[^.${g}]`,START_ANCHOR:`(?:^|[${g}])`,END_ANCHOR:`(?:[${g}]|$)`},N={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};he.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:N,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:v.sep,extglobChars(U){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${U.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(U){return U===!0?A:k}}},3969:(he,l,E)=>{"use strict";const v=E(3889),g=E(292),{MAX_LENGTH:w,POSIX_REGEX_SOURCE:_,REGEX_NON_SPECIAL_CHARS:R,REGEX_SPECIAL_CHARS_BACKREF:T,REPLACEMENTS:h}=v,S=a((b,B)=>{if(typeof B.expandRange=="function")return B.expandRange(...b,B);b.sort();const F=`[${b.join("-")}]`;try{new RegExp(F)}catch(q){return b.map(j=>g.escapeRegex(j)).join("..")}return F},"expandRange"),x=a((b,B)=>`Missing ${b}: "${B}" - use "\\\\${B}" to match literal characters`,"syntaxError"),y=a((b,B)=>{if(typeof b!="string")throw new TypeError("Expected a string");b=h[b]||b;const F={...B},q=typeof F.maxLength=="number"?Math.min(w,F.maxLength):w;let j=b.length;if(j>q)throw new SyntaxError(`Input length: ${j}, exceeds maximum allowed length: ${q}`);const se={type:"bos",value:"",output:F.prepend||""},M=[se],$=F.capture?"":"?:",k=g.isWindows(B),A=v.globChars(k),N=v.extglobChars(A),{DOT_LITERAL:U,PLUS_LITERAL:te,SLASH_LITERAL:X,ONE_CHAR:re,DOTS_SLASH:ce,NO_DOT:Se,NO_DOT_SLASH:ie,NO_DOTS_SLASH:ye,QMARK:W,QMARK_NO_DOT:Ye,STAR:be,START_ANCHOR:de}=A,Q=a(Fe=>`(${$}(?:(?!${de}${Fe.dot?ce:U}).)*?)`,"globstar"),oe=F.dot?"":Se,Te=F.dot?W:Ye;let Oe=F.bash===!0?Q(F):be;F.capture&&(Oe=`(${Oe})`),typeof F.noext=="boolean"&&(F.noextglob=F.noext);const ne={input:b,index:-1,start:0,dot:F.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:M};b=g.removePrefix(b,ne),j=b.length;const Ke=[],Xe=[],ot=[];let G=se,ee;const ae=a(()=>ne.index===j-1,"eos"),_e=ne.peek=(Fe=1)=>b[ne.index+Fe],Be=ne.advance=()=>b[++ne.index]||"",Ue=a(()=>b.slice(ne.index+1),"remaining"),pe=a((Fe="",J=0)=>{ne.consumed+=Fe,ne.index+=J},"consume"),De=a(Fe=>{ne.output+=Fe.output!=null?Fe.output:Fe.value,pe(Fe.value)},"append"),Le=a(()=>{let Fe=1;for(;_e()==="!"&&(_e(2)!=="("||_e(3)==="?");)Be(),ne.start++,Fe++;return Fe%2==0?!1:(ne.negated=!0,ne.start++,!0)},"negate"),Ve=a(Fe=>{ne[Fe]++,ot.push(Fe)},"increment"),Me=a(Fe=>{ne[Fe]--,ot.pop()},"decrement"),$e=a(Fe=>{if(G.type==="globstar"){const J=ne.braces>0&&(Fe.type==="comma"||Fe.type==="brace"),Z=Fe.extglob===!0||Ke.length&&(Fe.type==="pipe"||Fe.type==="paren");Fe.type!=="slash"&&Fe.type!=="paren"&&!J&&!Z&&(ne.output=ne.output.slice(0,-G.output.length),G.type="star",G.value="*",G.output=Oe,ne.output+=G.output)}if(Ke.length&&Fe.type!=="paren"&&(Ke[Ke.length-1].inner+=Fe.value),(Fe.value||Fe.output)&&De(Fe),G&&G.type==="text"&&Fe.type==="text"){G.value+=Fe.value,G.output=(G.output||"")+Fe.value;return}Fe.prev=G,M.push(Fe),G=Fe},"push"),tt=a((Fe,J)=>{const Z={...N[J],conditions:1,inner:""};Z.prev=G,Z.parens=ne.parens,Z.output=ne.output;const rt=(F.capture?"(":"")+Z.open;Ve("parens"),$e({type:Fe,value:J,output:ne.output?"":re}),$e({type:"paren",extglob:!0,value:Be(),output:rt}),Ke.push(Z)},"extglobOpen"),st=a(Fe=>{let J=Fe.close+(F.capture?")":""),Z;if(Fe.type==="negate"){let rt=Oe;if(Fe.inner&&Fe.inner.length>1&&Fe.inner.includes("/")&&(rt=Q(F)),(rt!==Oe||ae()||/^\)+$/.test(Ue()))&&(J=Fe.close=`)$))${rt}`),Fe.inner.includes("*")&&(Z=Ue())&&/^\.[^\\/.]+$/.test(Z)){const zt=y(Z,{...B,fastpaths:!1}).output;J=Fe.close=`)${zt})${rt})`}Fe.prev.type==="bos"&&(ne.negatedExtglob=!0)}$e({type:"paren",extglob:!0,value:ee,output:J}),Me("parens")},"extglobClose");if(F.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(b)){let Fe=!1,J=b.replace(T,(Z,rt,zt,wr,Er,P)=>wr==="\\"?(Fe=!0,Z):wr==="?"?rt?rt+wr+(Er?W.repeat(Er.length):""):P===0?Te+(Er?W.repeat(Er.length):""):W.repeat(zt.length):wr==="."?U.repeat(zt.length):wr==="*"?rt?rt+wr+(Er?Oe:""):Oe:rt?Z:`\\${Z}`);return Fe===!0&&(F.unescape===!0?J=J.replace(/\\/g,""):J=J.replace(/\\+/g,Z=>Z.length%2==0?"\\\\":Z?"\\":"")),J===b&&F.contains===!0?(ne.output=b,ne):(ne.output=g.wrapOutput(J,ne,B),ne)}for(;!ae();){if(ee=Be(),ee==="\0")continue;if(ee==="\\"){const Z=_e();if(Z==="/"&&F.bash!==!0||Z==="."||Z===";")continue;if(!Z){ee+="\\",$e({type:"text",value:ee});continue}const rt=/^\\+/.exec(Ue());let zt=0;if(rt&&rt[0].length>2&&(zt=rt[0].length,ne.index+=zt,zt%2!=0&&(ee+="\\")),F.unescape===!0?ee=Be():ee+=Be(),ne.brackets===0){$e({type:"text",value:ee});continue}}if(ne.brackets>0&&(ee!=="]"||G.value==="["||G.value==="[^")){if(F.posix!==!1&&ee===":"){const Z=G.value.slice(1);if(Z.includes("[")&&(G.posix=!0,Z.includes(":"))){const rt=G.value.lastIndexOf("["),zt=G.value.slice(0,rt),wr=G.value.slice(rt+2),Er=_[wr];if(Er){G.value=zt+Er,ne.backtrack=!0,Be(),!se.output&&M.indexOf(G)===1&&(se.output=re);continue}}}(ee==="["&&_e()!==":"||ee==="-"&&_e()==="]")&&(ee=`\\${ee}`),ee==="]"&&(G.value==="["||G.value==="[^")&&(ee=`\\${ee}`),F.posix===!0&&ee==="!"&&G.value==="["&&(ee="^"),G.value+=ee,De({value:ee});continue}if(ne.quotes===1&&ee!=='"'){ee=g.escapeRegex(ee),G.value+=ee,De({value:ee});continue}if(ee==='"'){ne.quotes=ne.quotes===1?0:1,F.keepQuotes===!0&&$e({type:"text",value:ee});continue}if(ee==="("){Ve("parens"),$e({type:"paren",value:ee});continue}if(ee===")"){if(ne.parens===0&&F.strictBrackets===!0)throw new SyntaxError(x("opening","("));const Z=Ke[Ke.length-1];if(Z&&ne.parens===Z.parens+1){st(Ke.pop());continue}$e({type:"paren",value:ee,output:ne.parens?")":"\\)"}),Me("parens");continue}if(ee==="["){if(F.nobracket===!0||!Ue().includes("]")){if(F.nobracket!==!0&&F.strictBrackets===!0)throw new SyntaxError(x("closing","]"));ee=`\\${ee}`}else Ve("brackets");$e({type:"bracket",value:ee});continue}if(ee==="]"){if(F.nobracket===!0||G&&G.type==="bracket"&&G.value.length===1){$e({type:"text",value:ee,output:`\\${ee}`});continue}if(ne.brackets===0){if(F.strictBrackets===!0)throw new SyntaxError(x("opening","["));$e({type:"text",value:ee,output:`\\${ee}`});continue}Me("brackets");const Z=G.value.slice(1);if(G.posix!==!0&&Z[0]==="^"&&!Z.includes("/")&&(ee=`/${ee}`),G.value+=ee,De({value:ee}),F.literalBrackets===!1||g.hasRegexChars(Z))continue;const rt=g.escapeRegex(G.value);if(ne.output=ne.output.slice(0,-G.value.length),F.literalBrackets===!0){ne.output+=rt,G.value=rt;continue}G.value=`(${$}${rt}|${G.value})`,ne.output+=G.value;continue}if(ee==="{"&&F.nobrace!==!0){Ve("braces");const Z={type:"brace",value:ee,output:"(",outputIndex:ne.output.length,tokensIndex:ne.tokens.length};Xe.push(Z),$e(Z);continue}if(ee==="}"){const Z=Xe[Xe.length-1];if(F.nobrace===!0||!Z){$e({type:"text",value:ee,output:ee});continue}let rt=")";if(Z.dots===!0){const zt=M.slice(),wr=[];for(let Er=zt.length-1;Er>=0&&(M.pop(),zt[Er].type!=="brace");Er--)zt[Er].type!=="dots"&&wr.unshift(zt[Er].value);rt=S(wr,F),ne.backtrack=!0}if(Z.comma!==!0&&Z.dots!==!0){const zt=ne.output.slice(0,Z.outputIndex),wr=ne.tokens.slice(Z.tokensIndex);Z.value=Z.output="\\{",ee=rt="\\}",ne.output=zt;for(const Er of wr)ne.output+=Er.output||Er.value}$e({type:"brace",value:ee,output:rt}),Me("braces"),Xe.pop();continue}if(ee==="|"){Ke.length>0&&Ke[Ke.length-1].conditions++,$e({type:"text",value:ee});continue}if(ee===","){let Z=ee;const rt=Xe[Xe.length-1];rt&&ot[ot.length-1]==="braces"&&(rt.comma=!0,Z="|"),$e({type:"comma",value:ee,output:Z});continue}if(ee==="/"){if(G.type==="dot"&&ne.index===ne.start+1){ne.start=ne.index+1,ne.consumed="",ne.output="",M.pop(),G=se;continue}$e({type:"slash",value:ee,output:X});continue}if(ee==="."){if(ne.braces>0&&G.type==="dot"){G.value==="."&&(G.output=U);const Z=Xe[Xe.length-1];G.type="dots",G.output+=ee,G.value+=ee,Z.dots=!0;continue}if(ne.braces+ne.parens===0&&G.type!=="bos"&&G.type!=="slash"){$e({type:"text",value:ee,output:U});continue}$e({type:"dot",value:ee,output:U});continue}if(ee==="?"){if(!(G&&G.value==="(")&&F.noextglob!==!0&&_e()==="("&&_e(2)!=="?"){tt("qmark",ee);continue}if(G&&G.type==="paren"){const rt=_e();let zt=ee;if(rt==="<"&&!g.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(G.value==="("&&!/[!=<:]/.test(rt)||rt==="<"&&!/<([!=]|\w+>)/.test(Ue()))&&(zt=`\\${ee}`),$e({type:"text",value:ee,output:zt});continue}if(F.dot!==!0&&(G.type==="slash"||G.type==="bos")){$e({type:"qmark",value:ee,output:Ye});continue}$e({type:"qmark",value:ee,output:W});continue}if(ee==="!"){if(F.noextglob!==!0&&_e()==="("&&(_e(2)!=="?"||!/[!=<:]/.test(_e(3)))){tt("negate",ee);continue}if(F.nonegate!==!0&&ne.index===0){Le();continue}}if(ee==="+"){if(F.noextglob!==!0&&_e()==="("&&_e(2)!=="?"){tt("plus",ee);continue}if(G&&G.value==="("||F.regex===!1){$e({type:"plus",value:ee,output:te});continue}if(G&&(G.type==="bracket"||G.type==="paren"||G.type==="brace")||ne.parens>0){$e({type:"plus",value:ee});continue}$e({type:"plus",value:te});continue}if(ee==="@"){if(F.noextglob!==!0&&_e()==="("&&_e(2)!=="?"){$e({type:"at",extglob:!0,value:ee,output:""});continue}$e({type:"text",value:ee});continue}if(ee!=="*"){(ee==="$"||ee==="^")&&(ee=`\\${ee}`);const Z=R.exec(Ue());Z&&(ee+=Z[0],ne.index+=Z[0].length),$e({type:"text",value:ee});continue}if(G&&(G.type==="globstar"||G.star===!0)){G.type="star",G.star=!0,G.value+=ee,G.output=Oe,ne.backtrack=!0,ne.globstar=!0,pe(ee);continue}let Fe=Ue();if(F.noextglob!==!0&&/^\([^?]/.test(Fe)){tt("star",ee);continue}if(G.type==="star"){if(F.noglobstar===!0){pe(ee);continue}const Z=G.prev,rt=Z.prev,zt=Z.type==="slash"||Z.type==="bos",wr=rt&&(rt.type==="star"||rt.type==="globstar");if(F.bash===!0&&(!zt||Fe[0]&&Fe[0]!=="/")){$e({type:"star",value:ee,output:""});continue}const Er=ne.braces>0&&(Z.type==="comma"||Z.type==="brace"),P=Ke.length&&(Z.type==="pipe"||Z.type==="paren");if(!zt&&Z.type!=="paren"&&!Er&&!P){$e({type:"star",value:ee,output:""});continue}for(;Fe.slice(0,3)==="/**";){const d=b[ne.index+4];if(d&&d!=="/")break;Fe=Fe.slice(3),pe("/**",3)}if(Z.type==="bos"&&ae()){G.type="globstar",G.value+=ee,G.output=Q(F),ne.output=G.output,ne.globstar=!0,pe(ee);continue}if(Z.type==="slash"&&Z.prev.type!=="bos"&&!wr&&ae()){ne.output=ne.output.slice(0,-(Z.output+G.output).length),Z.output=`(?:${Z.output}`,G.type="globstar",G.output=Q(F)+(F.strictSlashes?")":"|$)"),G.value+=ee,ne.globstar=!0,ne.output+=Z.output+G.output,pe(ee);continue}if(Z.type==="slash"&&Z.prev.type!=="bos"&&Fe[0]==="/"){const d=Fe[1]!==void 0?"|$":"";ne.output=ne.output.slice(0,-(Z.output+G.output).length),Z.output=`(?:${Z.output}`,G.type="globstar",G.output=`${Q(F)}${X}|${X}${d})`,G.value+=ee,ne.output+=Z.output+G.output,ne.globstar=!0,pe(ee+Be()),$e({type:"slash",value:"/",output:""});continue}if(Z.type==="bos"&&Fe[0]==="/"){G.type="globstar",G.value+=ee,G.output=`(?:^|${X}|${Q(F)}${X})`,ne.output=G.output,ne.globstar=!0,pe(ee+Be()),$e({type:"slash",value:"/",output:""});continue}ne.output=ne.output.slice(0,-G.output.length),G.type="globstar",G.output=Q(F),G.value+=ee,ne.output+=G.output,ne.globstar=!0,pe(ee);continue}const J={type:"star",value:ee,output:Oe};if(F.bash===!0){J.output=".*?",(G.type==="bos"||G.type==="slash")&&(J.output=oe+J.output),$e(J);continue}if(G&&(G.type==="bracket"||G.type==="paren")&&F.regex===!0){J.output=ee,$e(J);continue}(ne.index===ne.start||G.type==="slash"||G.type==="dot")&&(G.type==="dot"?(ne.output+=ie,G.output+=ie):F.dot===!0?(ne.output+=ye,G.output+=ye):(ne.output+=oe,G.output+=oe),_e()!=="*"&&(ne.output+=re,G.output+=re)),$e(J)}for(;ne.brackets>0;){if(F.strictBrackets===!0)throw new SyntaxError(x("closing","]"));ne.output=g.escapeLast(ne.output,"["),Me("brackets")}for(;ne.parens>0;){if(F.strictBrackets===!0)throw new SyntaxError(x("closing",")"));ne.output=g.escapeLast(ne.output,"("),Me("parens")}for(;ne.braces>0;){if(F.strictBrackets===!0)throw new SyntaxError(x("closing","}"));ne.output=g.escapeLast(ne.output,"{"),Me("braces")}if(F.strictSlashes!==!0&&(G.type==="star"||G.type==="bracket")&&$e({type:"maybe_slash",value:"",output:`${X}?`}),ne.backtrack===!0){ne.output="";for(const Fe of ne.tokens)ne.output+=Fe.output!=null?Fe.output:Fe.value,Fe.suffix&&(ne.output+=Fe.suffix)}return ne},"parse");y.fastpaths=(b,B)=>{const F={...B},q=typeof F.maxLength=="number"?Math.min(w,F.maxLength):w,j=b.length;if(j>q)throw new SyntaxError(`Input length: ${j}, exceeds maximum allowed length: ${q}`);b=h[b]||b;const se=g.isWindows(B),{DOT_LITERAL:M,SLASH_LITERAL:$,ONE_CHAR:k,DOTS_SLASH:A,NO_DOT:N,NO_DOTS:U,NO_DOTS_SLASH:te,STAR:X,START_ANCHOR:re}=v.globChars(se),ce=F.dot?U:N,Se=F.dot?te:N,ie=F.capture?"":"?:",ye={negated:!1,prefix:""};let W=F.bash===!0?".*?":X;F.capture&&(W=`(${W})`);const Ye=a(oe=>oe.noglobstar===!0?W:`(${ie}(?:(?!${re}${oe.dot?A:M}).)*?)`,"globstar"),be=a(oe=>{switch(oe){case"*":return`${ce}${k}${W}`;case".*":return`${M}${k}${W}`;case"*.*":return`${ce}${W}${M}${k}${W}`;case"*/*":return`${ce}${W}${$}${k}${Se}${W}`;case"**":return ce+Ye(F);case"**/*":return`(?:${ce}${Ye(F)}${$})?${Se}${k}${W}`;case"**/*.*":return`(?:${ce}${Ye(F)}${$})?${Se}${W}${M}${k}${W}`;case"**/.*":return`(?:${ce}${Ye(F)}${$})?${M}${k}${W}`;default:{const Te=/^(.*?)\.(\w+)$/.exec(oe);if(!Te)return;const Oe=be(Te[1]);return Oe?Oe+M+Te[2]:void 0}}},"create"),de=g.removePrefix(b,ye);let Q=be(de);return Q&&F.strictSlashes!==!0&&(Q+=`${$}?`),Q},he.exports=y},5761:(he,l,E)=>{"use strict";const v=E(6470),g=E(9826),w=E(3969),_=E(292),R=E(3889),T=a(S=>S&&typeof S=="object"&&!Array.isArray(S),"isObject"),h=a((S,x,y=!1)=>{if(Array.isArray(S)){const $=S.map(A=>h(A,x,y));return a(A=>{for(const N of $){const U=N(A);if(U)return U}return!1},"arrayMatcher")}const b=T(S)&&S.tokens&&S.input;if(S===""||typeof S!="string"&&!b)throw new TypeError("Expected pattern to be a non-empty string");const B=x||{},F=_.isWindows(x),q=b?h.compileRe(S,x):h.makeRe(S,x,!1,!0),j=q.state;delete q.state;let se=a(()=>!1,"isIgnored");if(B.ignore){const $={...x,ignore:null,onMatch:null,onResult:null};se=h(B.ignore,$,y)}const M=a(($,k=!1)=>{const{isMatch:A,match:N,output:U}=h.test($,q,x,{glob:S,posix:F}),te={glob:S,state:j,regex:q,posix:F,input:$,output:U,match:N,isMatch:A};return typeof B.onResult=="function"&&B.onResult(te),A===!1?(te.isMatch=!1,k?te:!1):se($)?(typeof B.onIgnore=="function"&&B.onIgnore(te),te.isMatch=!1,k?te:!1):(typeof B.onMatch=="function"&&B.onMatch(te),k?te:!0)},"matcher");return y&&(M.state=j),M},"picomatch");h.test=(S,x,y,{glob:b,posix:B}={})=>{if(typeof S!="string")throw new TypeError("Expected input to be a string");if(S==="")return{isMatch:!1,output:""};const F=y||{},q=F.format||(B?_.toPosixSlashes:null);let j=S===b,se=j&&q?q(S):S;return j===!1&&(se=q?q(S):S,j=se===b),(j===!1||F.capture===!0)&&(F.matchBase===!0||F.basename===!0?j=h.matchBase(S,x,y,B):j=x.exec(se)),{isMatch:Boolean(j),match:j,output:se}},h.matchBase=(S,x,y,b=_.isWindows(y))=>(x instanceof RegExp?x:h.makeRe(x,y)).test(v.basename(S)),h.isMatch=(S,x,y)=>h(x,y)(S),h.parse=(S,x)=>Array.isArray(S)?S.map(y=>h.parse(y,x)):w(S,{...x,fastpaths:!1}),h.scan=(S,x)=>g(S,x),h.compileRe=(S,x,y=!1,b=!1)=>{if(y===!0)return S.output;const B=x||{},F=B.contains?"":"^",q=B.contains?"":"$";let j=`${F}(?:${S.output})${q}`;S&&S.negated===!0&&(j=`^(?!${j}).*$`);const se=h.toRegex(j,x);return b===!0&&(se.state=S),se},h.makeRe=(S,x={},y=!1,b=!1)=>{if(!S||typeof S!="string")throw new TypeError("Expected a non-empty string");let B={negated:!1,fastpaths:!0};return x.fastpaths!==!1&&(S[0]==="."||S[0]==="*")&&(B.output=w.fastpaths(S,x)),B.output||(B=w(S,x)),h.compileRe(B,x,y,b)},h.toRegex=(S,x)=>{try{const y=x||{};return new RegExp(S,y.flags||(y.nocase?"i":""))}catch(y){if(x&&x.debug===!0)throw y;return/$^/}},h.constants=R,he.exports=h},9826:(he,l,E)=>{"use strict";const v=E(292),{CHAR_ASTERISK:g,CHAR_AT:w,CHAR_BACKWARD_SLASH:_,CHAR_COMMA:R,CHAR_DOT:T,CHAR_EXCLAMATION_MARK:h,CHAR_FORWARD_SLASH:S,CHAR_LEFT_CURLY_BRACE:x,CHAR_LEFT_PARENTHESES:y,CHAR_LEFT_SQUARE_BRACKET:b,CHAR_PLUS:B,CHAR_QUESTION_MARK:F,CHAR_RIGHT_CURLY_BRACE:q,CHAR_RIGHT_PARENTHESES:j,CHAR_RIGHT_SQUARE_BRACKET:se}=E(3889),M=a(A=>A===S||A===_,"isPathSeparator"),$=a(A=>{A.isPrefix!==!0&&(A.depth=A.isGlobstar?1/0:1)},"depth"),k=a((A,N)=>{const U=N||{},te=A.length-1,X=U.parts===!0||U.scanToEnd===!0,re=[],ce=[],Se=[];let ie=A,ye=-1,W=0,Ye=0,be=!1,de=!1,Q=!1,oe=!1,Te=!1,Oe=!1,ne=!1,Ke=!1,Xe=!1,ot=!1,G=0,ee,ae,_e={value:"",depth:0,isGlob:!1};const Be=a(()=>ye>=te,"eos"),Ue=a(()=>ie.charCodeAt(ye+1),"peek"),pe=a(()=>(ee=ae,ie.charCodeAt(++ye)),"advance");for(;ye<te;){ae=pe();let $e;if(ae===_){ne=_e.backslashes=!0,ae=pe(),ae===x&&(Oe=!0);continue}if(Oe===!0||ae===x){for(G++;Be()!==!0&&(ae=pe());){if(ae===_){ne=_e.backslashes=!0,pe();continue}if(ae===x){G++;continue}if(Oe!==!0&&ae===T&&(ae=pe())===T){if(be=_e.isBrace=!0,Q=_e.isGlob=!0,ot=!0,X===!0)continue;break}if(Oe!==!0&&ae===R){if(be=_e.isBrace=!0,Q=_e.isGlob=!0,ot=!0,X===!0)continue;break}if(ae===q&&(G--,G===0)){Oe=!1,be=_e.isBrace=!0,ot=!0;break}}if(X===!0)continue;break}if(ae===S){if(re.push(ye),ce.push(_e),_e={value:"",depth:0,isGlob:!1},ot===!0)continue;if(ee===T&&ye===W+1){W+=2;continue}Ye=ye+1;continue}if(U.noext!==!0&&(ae===B||ae===w||ae===g||ae===F||ae===h)===!0&&Ue()===y){if(Q=_e.isGlob=!0,oe=_e.isExtglob=!0,ot=!0,ae===h&&ye===W&&(Xe=!0),X===!0){for(;Be()!==!0&&(ae=pe());){if(ae===_){ne=_e.backslashes=!0,ae=pe();continue}if(ae===j){Q=_e.isGlob=!0,ot=!0;break}}continue}break}if(ae===g){if(ee===g&&(Te=_e.isGlobstar=!0),Q=_e.isGlob=!0,ot=!0,X===!0)continue;break}if(ae===F){if(Q=_e.isGlob=!0,ot=!0,X===!0)continue;break}if(ae===b){for(;Be()!==!0&&($e=pe());){if($e===_){ne=_e.backslashes=!0,pe();continue}if($e===se){de=_e.isBracket=!0,Q=_e.isGlob=!0,ot=!0;break}}if(X===!0)continue;break}if(U.nonegate!==!0&&ae===h&&ye===W){Ke=_e.negated=!0,W++;continue}if(U.noparen!==!0&&ae===y){if(Q=_e.isGlob=!0,X===!0){for(;Be()!==!0&&(ae=pe());){if(ae===y){ne=_e.backslashes=!0,ae=pe();continue}if(ae===j){ot=!0;break}}continue}break}if(Q===!0){if(ot=!0,X===!0)continue;break}}U.noext===!0&&(oe=!1,Q=!1);let De=ie,Le="",Ve="";W>0&&(Le=ie.slice(0,W),ie=ie.slice(W),Ye-=W),De&&Q===!0&&Ye>0?(De=ie.slice(0,Ye),Ve=ie.slice(Ye)):Q===!0?(De="",Ve=ie):De=ie,De&&De!==""&&De!=="/"&&De!==ie&&M(De.charCodeAt(De.length-1))&&(De=De.slice(0,-1)),U.unescape===!0&&(Ve&&(Ve=v.removeBackslashes(Ve)),De&&ne===!0&&(De=v.removeBackslashes(De)));const Me={prefix:Le,input:A,start:W,base:De,glob:Ve,isBrace:be,isBracket:de,isGlob:Q,isExtglob:oe,isGlobstar:Te,negated:Ke,negatedExtglob:Xe};if(U.tokens===!0&&(Me.maxDepth=0,M(ae)||ce.push(_e),Me.tokens=ce),U.parts===!0||U.tokens===!0){let $e;for(let tt=0;tt<re.length;tt++){const st=$e?$e+1:W,Fe=re[tt],J=A.slice(st,Fe);U.tokens&&(tt===0&&W!==0?(ce[tt].isPrefix=!0,ce[tt].value=Le):ce[tt].value=J,$(ce[tt]),Me.maxDepth+=ce[tt].depth),(tt!==0||J!=="")&&Se.push(J),$e=Fe}if($e&&$e+1<A.length){const tt=A.slice($e+1);Se.push(tt),U.tokens&&(ce[ce.length-1].value=tt,$(ce[ce.length-1]),Me.maxDepth+=ce[ce.length-1].depth)}Me.slashes=re,Me.parts=Se}return Me},"scan");he.exports=k},292:(he,l,E)=>{"use strict";var v=E(6038);const g=E(6470),w=v.platform==="win32",{REGEX_BACKSLASH:_,REGEX_REMOVE_BACKSLASH:R,REGEX_SPECIAL_CHARS:T,REGEX_SPECIAL_CHARS_GLOBAL:h}=E(3889);l.isObject=S=>S!==null&&typeof S=="object"&&!Array.isArray(S),l.hasRegexChars=S=>T.test(S),l.isRegexChar=S=>S.length===1&&l.hasRegexChars(S),l.escapeRegex=S=>S.replace(h,"\\$1"),l.toPosixSlashes=S=>S.replace(_,"/"),l.removeBackslashes=S=>S.replace(R,x=>x==="\\"?"":x),l.supportsLookbehinds=()=>{const S=v.version.slice(1).split(".").map(Number);return S.length===3&&S[0]>=9||S[0]===8&&S[1]>=10},l.isWindows=S=>S&&typeof S.windows=="boolean"?S.windows:w===!0||g.sep==="\\",l.escapeLast=(S,x,y)=>{const b=S.lastIndexOf(x,y);return b===-1?S:S[b-1]==="\\"?l.escapeLast(S,x,b-1):`${S.slice(0,b)}\\${S.slice(b)}`},l.removePrefix=(S,x={})=>{let y=S;return y.startsWith("./")&&(y=y.slice(2),x.prefix="./"),y},l.wrapOutput=(S,x={},y={})=>{const b=y.contains?"":"^",B=y.contains?"":"$";let F=`${b}(?:${S})${B}`;return x.negated===!0&&(F=`(?:^(?!${F}).*$)`),F}},6038:he=>{var l=he.exports={},E,v;function g(){throw new Error("setTimeout has not been defined")}a(g,"defaultSetTimout");function w(){throw new Error("clearTimeout has not been defined")}a(w,"defaultClearTimeout"),function(){try{typeof setTimeout=="function"?E=setTimeout:E=g}catch(q){E=g}try{typeof clearTimeout=="function"?v=clearTimeout:v=w}catch(q){v=w}}();function _(q){if(E===setTimeout)return setTimeout(q,0);if((E===g||!E)&&setTimeout)return E=setTimeout,setTimeout(q,0);try{return E(q,0)}catch(j){try{return E.call(null,q,0)}catch(se){return E.call(this,q,0)}}}a(_,"runTimeout");function R(q){if(v===clearTimeout)return clearTimeout(q);if((v===w||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(q);try{return v(q)}catch(j){try{return v.call(null,q)}catch(se){return v.call(this,q)}}}a(R,"runClearTimeout");var T=[],h=!1,S,x=-1;function y(){!h||!S||(h=!1,S.length?T=S.concat(T):x=-1,T.length&&b())}a(y,"cleanUpNextTick");function b(){if(!h){var q=_(y);h=!0;for(var j=T.length;j;){for(S=T,T=[];++x<j;)S&&S[x].run();x=-1,j=T.length}S=null,h=!1,R(q)}}a(b,"drainQueue"),l.nextTick=function(q){var j=new Array(arguments.length-1);if(arguments.length>1)for(var se=1;se<arguments.length;se++)j[se-1]=arguments[se];T.push(new B(q,j)),T.length===1&&!h&&_(b)};function B(q,j){this.fun=q,this.array=j}a(B,"Item"),B.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={};function F(){}a(F,"noop"),l.on=F,l.addListener=F,l.once=F,l.off=F,l.removeListener=F,l.removeAllListeners=F,l.emit=F,l.prependListener=F,l.prependOnceListener=F,l.listeners=function(q){return[]},l.binding=function(q){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(q){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},5431:(he,l,E)=>{"use strict";he.exports=E(7905)},7905:(he,l,E)=>{"use strict";var v=E(1417);function g(){return!0}a(g,"_toTrue");function w(){return!1}a(w,"_toFalse");function _(j){return j.then(g,w)}a(_,"pSuccess");function R(j){return j}a(R,"_pass");function T(j){throw j}a(T,"_throw");function h(j){return j.then(R,T)}a(h,"ensurePromise");function S(j,se){return{result:j,args:se,expire_id:0,prefetch_id:0,need_prefetch:!1}}a(S,"createCacheObj");function x(j,se){!j[se]||(clearTimeout(j[se].expire_id),clearTimeout(j[se].prefetch_id),delete j[se])}a(x,"destroyCacheObj");function y(j,se){!j[se]||(j[se].need_prefetch=!0)}a(y,"askPrefetch");function b(j){var se=j[0],M=j[1],$=j[2],k=j[3];if(!!M[$]){if(se){if(!k.maxAge)return;M[$].expire_id=setTimeout(x,k.maxAge,M,$),M[$].prefetch_id=setTimeout(y,k.maxAge*.7,M,$),M[$].expire_id.unref&&M[$].expire_id.unref(),M[$].prefetch_id.unref&&M[$].prefetch_id.unref();return}if(!k.maxErrorAge){x(M,$);return}M[$].expire_id=setTimeout(x,k.maxErrorAge,M,$),M[$].expire_id.unref&&M[$].expire_id.unref()}}a(b,"_track_proceed");function B(j,se,M){var $=j[se].result.constructor;$.all([_(j[se].result),j,se,M]).then(b)}a(B,"trackCacheObj");function F(j){var se=j[0],M=j[1],$=j[2],k=j[3],A=j[4][0];!M[$]||!se||(M[$].result=A,clearTimeout(M[$].expire_id),B(M,$,k))}a(F,"_prefetch_proceed");function q(j,se,M){var $=h(M.fn.apply(null,j[se].args)),k=$.constructor;j[se].need_prefetch=!1,k.all([_($),j,se,M,[$]]).then(F)}a(q,"doPrefetch"),he.exports=a(function(se,M){var $={},k=M||{},A=v(k.resolve),N={fn:se,maxAge:k.maxAge||0,maxErrorAge:k.maxErrorAge||0};function U(){for(var te=new Array(arguments.length),X=0;X<te.length;X++)te[X]=arguments[X];var re=A(te);return $[re]?$[re].need_prefetch&&q($,re,N):($[re]=S(h(N.fn.apply(null,te)),N.maxAge||N.maxErrorAge?te:null),B($,re,N)),$[re].result}return a(U,"memoizedFn"),U.clear=function(){var te=Object.keys($);return te.forEach(function(X){x($,X)}),te.length},U},"promiseMemoize")},1417:he=>{"use strict";var l={simple:function(v){return v.length?v.join(""):""},json:function(v){if(!v.length)return"";for(var g=[],w=v.length-1;w>=0;w--)g.push(JSON.stringify(v[w]));return g.join("")}};function E(v){return v.forEach(function(g){if(typeof g=="string"&&!l.hasOwnProperty(g))throw new Error('promise-memoize: unknown value "'+g+'" in resolve option')}),function(g){var w=Math.min(v.length,g.length);if(!w)return"";for(var _=[],R=0;R<w;R++)typeof v[R]=="string"?_.push(l[v[R]]([g[R]])):_.push(v[R](g[R]));return _.join("")}}a(E,"createFlexResolver"),he.exports=a(function(g){if(typeof g=="undefined")return l.simple;if(typeof g=="string"&&l.hasOwnProperty(g))return l[g];if(Array.isArray(g))return E(g);if(Object.prototype.toString.call(g)==="[object Function]")return g;throw new Error("promise-memoize: invalid resolve option")},"createResolver")},2999:(he,l,E)=>{"use strict";/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const v=E(3338),g=a((M,$,k)=>{if(v(M)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if($===void 0||M===$)return String(M);if(v($)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let A={relaxZeros:!0,...k};typeof A.strictZeros=="boolean"&&(A.relaxZeros=A.strictZeros===!1);let N=String(A.relaxZeros),U=String(A.shorthand),te=String(A.capture),X=String(A.wrap),re=M+":"+$+"="+N+U+te+X;if(g.cache.hasOwnProperty(re))return g.cache[re].result;let ce=Math.min(M,$),Se=Math.max(M,$);if(Math.abs(ce-Se)===1){let be=M+"|"+$;return A.capture?`(${be})`:A.wrap===!1?be:`(?:${be})`}let ie=j(M)||j($),ye={min:M,max:$,a:ce,b:Se},W=[],Ye=[];if(ie&&(ye.isPadded=ie,ye.maxLen=String(ye.max).length),ce<0){let be=Se<0?Math.abs(Se):1;Ye=T(be,Math.abs(ce),ye,A),ce=ye.a=0}return Se>=0&&(W=T(ce,Se,ye,A)),ye.negatives=Ye,ye.positives=W,ye.result=w(Ye,W,A),A.capture===!0?ye.result=`(${ye.result})`:A.wrap!==!1&&W.length+Ye.length>1&&(ye.result=`(?:${ye.result})`),g.cache[re]=ye,ye.result},"toRegexRange");function w(M,$,k){let A=h(M,$,"-",!1,k)||[],N=h($,M,"",!1,k)||[],U=h(M,$,"-?",!0,k)||[];return A.concat(U).concat(N).join("|")}a(w,"collatePatterns");function _(M,$){let k=1,A=1,N=b(M,k),U=new Set([$]);for(;M<=N&&N<=$;)U.add(N),k+=1,N=b(M,k);for(N=B($+1,A)-1;M<N&&N<=$;)U.add(N),A+=1,N=B($+1,A)-1;return U=[...U],U.sort(x),U}a(_,"splitToRanges");function R(M,$,k){if(M===$)return{pattern:M,count:[],digits:0};let A=S(M,$),N=A.length,U="",te=0;for(let X=0;X<N;X++){let[re,ce]=A[X];re===ce?U+=re:re!=="0"||ce!=="9"?U+=q(re,ce,k):te++}return te&&(U+=k.shorthand===!0?"\\d":"[0-9]"),{pattern:U,count:[te],digits:N}}a(R,"rangeToPattern");function T(M,$,k,A){let N=_(M,$),U=[],te=M,X;for(let re=0;re<N.length;re++){let ce=N[re],Se=R(String(te),String(ce),A),ie="";if(!k.isPadded&&X&&X.pattern===Se.pattern){X.count.length>1&&X.count.pop(),X.count.push(Se.count[0]),X.string=X.pattern+F(X.count),te=ce+1;continue}k.isPadded&&(ie=se(ce,k,A)),Se.string=ie+Se.pattern+F(Se.count),U.push(Se),te=ce+1,X=Se}return U}a(T,"splitToPatterns");function h(M,$,k,A,N){let U=[];for(let te of M){let{string:X}=te;!A&&!y($,"string",X)&&U.push(k+X),A&&y($,"string",X)&&U.push(k+X)}return U}a(h,"filterPatterns");function S(M,$){let k=[];for(let A=0;A<M.length;A++)k.push([M[A],$[A]]);return k}a(S,"zip");function x(M,$){return M>$?1:$>M?-1:0}a(x,"compare");function y(M,$,k){return M.some(A=>A[$]===k)}a(y,"contains");function b(M,$){return Number(String(M).slice(0,-$)+"9".repeat($))}a(b,"countNines");function B(M,$){return M-M%Math.pow(10,$)}a(B,"countZeros");function F(M){let[$=0,k=""]=M;return k||$>1?`{${$+(k?","+k:"")}}`:""}a(F,"toQuantifier");function q(M,$,k){return`[${M}${$-M==1?"":"-"}${$}]`}a(q,"toCharacterClass");function j(M){return/^-?(0+)\d/.test(M)}a(j,"hasPadding");function se(M,$,k){if(!$.isPadded)return M;let A=Math.abs($.maxLen-String(M).length),N=k.relaxZeros!==!1;switch(A){case 0:return"";case 1:return N?"0?":"0";case 2:return N?"0{0,2}":"00";default:return N?`0{0,${A}}`:`0{${A}}`}}a(se,"padZeros"),g.cache={},g.clearCache=()=>g.cache={},he.exports=g},9742:(he,l)=>{"use strict";l.byteLength=h,l.toByteArray=x,l.fromByteArray=B;for(var E=[],v=[],g=typeof Uint8Array!="undefined"?Uint8Array:Array,w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_=0,R=w.length;_<R;++_)E[_]=w[_],v[w.charCodeAt(_)]=_;v["-".charCodeAt(0)]=62,v["_".charCodeAt(0)]=63;function T(F){var q=F.length;if(q%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var j=F.indexOf("=");j===-1&&(j=q);var se=j===q?0:4-j%4;return[j,se]}a(T,"getLens");function h(F){var q=T(F),j=q[0],se=q[1];return(j+se)*3/4-se}a(h,"byteLength");function S(F,q,j){return(q+j)*3/4-j}a(S,"_byteLength");function x(F){var q,j=T(F),se=j[0],M=j[1],$=new g(S(F,se,M)),k=0,A=M>0?se-4:se,N;for(N=0;N<A;N+=4)q=v[F.charCodeAt(N)]<<18|v[F.charCodeAt(N+1)]<<12|v[F.charCodeAt(N+2)]<<6|v[F.charCodeAt(N+3)],$[k++]=q>>16&255,$[k++]=q>>8&255,$[k++]=q&255;return M===2&&(q=v[F.charCodeAt(N)]<<2|v[F.charCodeAt(N+1)]>>4,$[k++]=q&255),M===1&&(q=v[F.charCodeAt(N)]<<10|v[F.charCodeAt(N+1)]<<4|v[F.charCodeAt(N+2)]>>2,$[k++]=q>>8&255,$[k++]=q&255),$}a(x,"toByteArray");function y(F){return E[F>>18&63]+E[F>>12&63]+E[F>>6&63]+E[F&63]}a(y,"tripletToBase64");function b(F,q,j){for(var se,M=[],$=q;$<j;$+=3)se=(F[$]<<16&16711680)+(F[$+1]<<8&65280)+(F[$+2]&255),M.push(y(se));return M.join("")}a(b,"encodeChunk");function B(F){for(var q,j=F.length,se=j%3,M=[],$=16383,k=0,A=j-se;k<A;k+=$)M.push(b(F,k,k+$>A?A:k+$));return se===1?(q=F[j-1],M.push(E[q>>2]+E[q<<4&63]+"==")):se===2&&(q=(F[j-2]<<8)+F[j-1],M.push(E[q>>10]+E[q>>4&63]+E[q<<2&63]+"=")),M.join("")}a(B,"fromByteArray")},5186:(he,l,E)=>{var v=E(3698),g=E(2505),w=E(6417),_=Function.bind,R=_.bind(_);function T(b,B,F){var q=R(w,null).apply(null,F?[B,F]:[B]);b.api={remove:q},b.remove=q,["before","error","after","wrap"].forEach(function(j){var se=F?[B,j,F]:[B,j];b[j]=b.api[j]=R(g,null).apply(null,se)})}a(T,"bindApi");function h(){var b="h",B={registry:{}},F=v.bind(null,B,b);return T(F,B,b),F}a(h,"HookSingular");function S(){var b={registry:{}},B=v.bind(null,b);return T(B,b),B}a(S,"HookCollection");var x=!1;function y(){return x||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),x=!0),S()}a(y,"Hook"),y.Singular=h.bind(),y.Collection=S.bind(),he.exports=y,he.exports.Hook=y,he.exports.Singular=y.Singular,he.exports.Collection=y.Collection},2505:he=>{he.exports=l;function l(E,v,g,w){var _=w;E.registry[g]||(E.registry[g]=[]),v==="before"&&(w=a(function(R,T){return Promise.resolve().then(_.bind(null,T)).then(R.bind(null,T))},"hook")),v==="after"&&(w=a(function(R,T){var h;return Promise.resolve().then(R.bind(null,T)).then(function(S){return h=S,_(h,T)}).then(function(){return h})},"hook")),v==="error"&&(w=a(function(R,T){return Promise.resolve().then(R.bind(null,T)).catch(function(h){return _(h,T)})},"hook")),E.registry[g].push({hook:w,orig:_})}a(l,"addHook")},3698:he=>{he.exports=l;function l(E,v,g,w){if(typeof g!="function")throw new Error("method for before hook must be a function");return w||(w={}),Array.isArray(v)?v.reverse().reduce(function(_,R){return l.bind(null,E,R,_,w)},g)():Promise.resolve().then(function(){return E.registry[v]?E.registry[v].reduce(function(_,R){return R.hook.bind(null,_,w)},g)():g(w)})}a(l,"register")},6417:he=>{he.exports=l;function l(E,v,g){if(!!E.registry[v]){var w=E.registry[v].map(function(_){return _.orig}).indexOf(g);w!==-1&&E.registry[v].splice(w,1)}}a(l,"removeHook")},8764:(he,l,E)=>{"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const v=E(9742),g=E(645),w=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;l.Buffer=h,l.SlowBuffer=$,l.INSPECT_MAX_BYTES=50;const _=2147483647;l.kMaxLength=_,h.TYPED_ARRAY_SUPPORT=R(),!h.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function R(){try{const P=new Uint8Array(1),d={foo:function(){return 42}};return Object.setPrototypeOf(d,Uint8Array.prototype),Object.setPrototypeOf(P,d),P.foo()===42}catch(P){return!1}}a(R,"typedArraySupport"),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(!!h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(!!h.isBuffer(this))return this.byteOffset}});function T(P){if(P>_)throw new RangeError('The value "'+P+'" is invalid for option "size"');const d=new Uint8Array(P);return Object.setPrototypeOf(d,h.prototype),d}a(T,"createBuffer");function h(P,d,m){if(typeof P=="number"){if(typeof d=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b(P)}return S(P,d,m)}a(h,"Buffer"),h.poolSize=8192;function S(P,d,m){if(typeof P=="string")return B(P,d);if(ArrayBuffer.isView(P))return q(P);if(P==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P);if(Z(P,ArrayBuffer)||P&&Z(P.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Z(P,SharedArrayBuffer)||P&&Z(P.buffer,SharedArrayBuffer)))return j(P,d,m);if(typeof P=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const V=P.valueOf&&P.valueOf();if(V!=null&&V!==P)return h.from(V,d,m);const ve=se(P);if(ve)return ve;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof P[Symbol.toPrimitive]=="function")return h.from(P[Symbol.toPrimitive]("string"),d,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}a(S,"from"),h.from=function(P,d,m){return S(P,d,m)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function x(P){if(typeof P!="number")throw new TypeError('"size" argument must be of type number');if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}a(x,"assertSize");function y(P,d,m){return x(P),P<=0?T(P):d!==void 0?typeof m=="string"?T(P).fill(d,m):T(P).fill(d):T(P)}a(y,"alloc"),h.alloc=function(P,d,m){return y(P,d,m)};function b(P){return x(P),T(P<0?0:M(P)|0)}a(b,"allocUnsafe"),h.allocUnsafe=function(P){return b(P)},h.allocUnsafeSlow=function(P){return b(P)};function B(P,d){if((typeof d!="string"||d==="")&&(d="utf8"),!h.isEncoding(d))throw new TypeError("Unknown encoding: "+d);const m=k(P,d)|0;let V=T(m);const ve=V.write(P,d);return ve!==m&&(V=V.slice(0,ve)),V}a(B,"fromString");function F(P){const d=P.length<0?0:M(P.length)|0,m=T(d);for(let V=0;V<d;V+=1)m[V]=P[V]&255;return m}a(F,"fromArrayLike");function q(P){if(Z(P,Uint8Array)){const d=new Uint8Array(P);return j(d.buffer,d.byteOffset,d.byteLength)}return F(P)}a(q,"fromArrayView");function j(P,d,m){if(d<0||P.byteLength<d)throw new RangeError('"offset" is outside of buffer bounds');if(P.byteLength<d+(m||0))throw new RangeError('"length" is outside of buffer bounds');let V;return d===void 0&&m===void 0?V=new Uint8Array(P):m===void 0?V=new Uint8Array(P,d):V=new Uint8Array(P,d,m),Object.setPrototypeOf(V,h.prototype),V}a(j,"fromArrayBuffer");function se(P){if(h.isBuffer(P)){const d=M(P.length)|0,m=T(d);return m.length===0||P.copy(m,0,0,d),m}if(P.length!==void 0)return typeof P.length!="number"||rt(P.length)?T(0):F(P);if(P.type==="Buffer"&&Array.isArray(P.data))return F(P.data)}a(se,"fromObject");function M(P){if(P>=_)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+_.toString(16)+" bytes");return P|0}a(M,"checked");function $(P){return+P!=P&&(P=0),h.alloc(+P)}a($,"SlowBuffer"),h.isBuffer=a(function(d){return d!=null&&d._isBuffer===!0&&d!==h.prototype},"isBuffer"),h.compare=a(function(d,m){if(Z(d,Uint8Array)&&(d=h.from(d,d.offset,d.byteLength)),Z(m,Uint8Array)&&(m=h.from(m,m.offset,m.byteLength)),!h.isBuffer(d)||!h.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===m)return 0;let V=d.length,ve=m.length;for(let Pe=0,me=Math.min(V,ve);Pe<me;++Pe)if(d[Pe]!==m[Pe]){V=d[Pe],ve=m[Pe];break}return V<ve?-1:ve<V?1:0},"compare"),h.isEncoding=a(function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),h.concat=a(function(d,m){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return h.alloc(0);let V;if(m===void 0)for(m=0,V=0;V<d.length;++V)m+=d[V].length;const ve=h.allocUnsafe(m);let Pe=0;for(V=0;V<d.length;++V){let me=d[V];if(Z(me,Uint8Array))Pe+me.length>ve.length?(h.isBuffer(me)||(me=h.from(me)),me.copy(ve,Pe)):Uint8Array.prototype.set.call(ve,me,Pe);else if(h.isBuffer(me))me.copy(ve,Pe);else throw new TypeError('"list" argument must be an Array of Buffers');Pe+=me.length}return ve},"concat");function k(P,d){if(h.isBuffer(P))return P.length;if(ArrayBuffer.isView(P)||Z(P,ArrayBuffer))return P.byteLength;if(typeof P!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);const m=P.length,V=arguments.length>2&&arguments[2]===!0;if(!V&&m===0)return 0;let ve=!1;for(;;)switch(d){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return $e(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m*2;case"hex":return m>>>1;case"base64":return Fe(P).length;default:if(ve)return V?-1:$e(P).length;d=(""+d).toLowerCase(),ve=!0}}a(k,"byteLength"),h.byteLength=k;function A(P,d,m){let V=!1;if((d===void 0||d<0)&&(d=0),d>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0,d>>>=0,m<=d))return"";for(P||(P="utf8");;)switch(P){case"hex":return oe(this,d,m);case"utf8":case"utf-8":return W(this,d,m);case"ascii":return de(this,d,m);case"latin1":case"binary":return Q(this,d,m);case"base64":return ye(this,d,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Te(this,d,m);default:if(V)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase(),V=!0}}a(A,"slowToString"),h.prototype._isBuffer=!0;function N(P,d,m){const V=P[d];P[d]=P[m],P[m]=V}a(N,"swap"),h.prototype.swap16=a(function(){const d=this.length;if(d%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<d;m+=2)N(this,m,m+1);return this},"swap16"),h.prototype.swap32=a(function(){const d=this.length;if(d%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<d;m+=4)N(this,m,m+3),N(this,m+1,m+2);return this},"swap32"),h.prototype.swap64=a(function(){const d=this.length;if(d%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<d;m+=8)N(this,m,m+7),N(this,m+1,m+6),N(this,m+2,m+5),N(this,m+3,m+4);return this},"swap64"),h.prototype.toString=a(function(){const d=this.length;return d===0?"":arguments.length===0?W(this,0,d):A.apply(this,arguments)},"toString"),h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=a(function(d){if(!h.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d?!0:h.compare(this,d)===0},"equals"),h.prototype.inspect=a(function(){let d="";const m=l.INSPECT_MAX_BYTES;return d=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(d+=" ... "),"<Buffer "+d+">"},"inspect"),w&&(h.prototype[w]=h.prototype.inspect),h.prototype.compare=a(function(d,m,V,ve,Pe){if(Z(d,Uint8Array)&&(d=h.from(d,d.offset,d.byteLength)),!h.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(m===void 0&&(m=0),V===void 0&&(V=d?d.length:0),ve===void 0&&(ve=0),Pe===void 0&&(Pe=this.length),m<0||V>d.length||ve<0||Pe>this.length)throw new RangeError("out of range index");if(ve>=Pe&&m>=V)return 0;if(ve>=Pe)return-1;if(m>=V)return 1;if(m>>>=0,V>>>=0,ve>>>=0,Pe>>>=0,this===d)return 0;let me=Pe-ve,gt=V-m;const Rt=Math.min(me,gt),Ft=this.slice(ve,Pe),Nt=d.slice(m,V);for(let Gt=0;Gt<Rt;++Gt)if(Ft[Gt]!==Nt[Gt]){me=Ft[Gt],gt=Nt[Gt];break}return me<gt?-1:gt<me?1:0},"compare");function U(P,d,m,V,ve){if(P.length===0)return-1;if(typeof m=="string"?(V=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,rt(m)&&(m=ve?0:P.length-1),m<0&&(m=P.length+m),m>=P.length){if(ve)return-1;m=P.length-1}else if(m<0)if(ve)m=0;else return-1;if(typeof d=="string"&&(d=h.from(d,V)),h.isBuffer(d))return d.length===0?-1:te(P,d,m,V,ve);if(typeof d=="number")return d=d&255,typeof Uint8Array.prototype.indexOf=="function"?ve?Uint8Array.prototype.indexOf.call(P,d,m):Uint8Array.prototype.lastIndexOf.call(P,d,m):te(P,[d],m,V,ve);throw new TypeError("val must be string, number or Buffer")}a(U,"bidirectionalIndexOf");function te(P,d,m,V,ve){let Pe=1,me=P.length,gt=d.length;if(V!==void 0&&(V=String(V).toLowerCase(),V==="ucs2"||V==="ucs-2"||V==="utf16le"||V==="utf-16le")){if(P.length<2||d.length<2)return-1;Pe=2,me/=2,gt/=2,m/=2}function Rt(Nt,Gt){return Pe===1?Nt[Gt]:Nt.readUInt16BE(Gt*Pe)}a(Rt,"read");let Ft;if(ve){let Nt=-1;for(Ft=m;Ft<me;Ft++)if(Rt(P,Ft)===Rt(d,Nt===-1?0:Ft-Nt)){if(Nt===-1&&(Nt=Ft),Ft-Nt+1===gt)return Nt*Pe}else Nt!==-1&&(Ft-=Ft-Nt),Nt=-1}else for(m+gt>me&&(m=me-gt),Ft=m;Ft>=0;Ft--){let Nt=!0;for(let Gt=0;Gt<gt;Gt++)if(Rt(P,Ft+Gt)!==Rt(d,Gt)){Nt=!1;break}if(Nt)return Ft}return-1}a(te,"arrayIndexOf"),h.prototype.includes=a(function(d,m,V){return this.indexOf(d,m,V)!==-1},"includes"),h.prototype.indexOf=a(function(d,m,V){return U(this,d,m,V,!0)},"indexOf"),h.prototype.lastIndexOf=a(function(d,m,V){return U(this,d,m,V,!1)},"lastIndexOf");function X(P,d,m,V){m=Number(m)||0;const ve=P.length-m;V?(V=Number(V),V>ve&&(V=ve)):V=ve;const Pe=d.length;V>Pe/2&&(V=Pe/2);let me;for(me=0;me<V;++me){const gt=parseInt(d.substr(me*2,2),16);if(rt(gt))return me;P[m+me]=gt}return me}a(X,"hexWrite");function re(P,d,m,V){return J($e(d,P.length-m),P,m,V)}a(re,"utf8Write");function ce(P,d,m,V){return J(tt(d),P,m,V)}a(ce,"asciiWrite");function Se(P,d,m,V){return J(Fe(d),P,m,V)}a(Se,"base64Write");function ie(P,d,m,V){return J(st(d,P.length-m),P,m,V)}a(ie,"ucs2Write"),h.prototype.write=a(function(d,m,V,ve){if(m===void 0)ve="utf8",V=this.length,m=0;else if(V===void 0&&typeof m=="string")ve=m,V=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(V)?(V=V>>>0,ve===void 0&&(ve="utf8")):(ve=V,V=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Pe=this.length-m;if((V===void 0||V>Pe)&&(V=Pe),d.length>0&&(V<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");ve||(ve="utf8");let me=!1;for(;;)switch(ve){case"hex":return X(this,d,m,V);case"utf8":case"utf-8":return re(this,d,m,V);case"ascii":case"latin1":case"binary":return ce(this,d,m,V);case"base64":return Se(this,d,m,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,d,m,V);default:if(me)throw new TypeError("Unknown encoding: "+ve);ve=(""+ve).toLowerCase(),me=!0}},"write"),h.prototype.toJSON=a(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function ye(P,d,m){return d===0&&m===P.length?v.fromByteArray(P):v.fromByteArray(P.slice(d,m))}a(ye,"base64Slice");function W(P,d,m){m=Math.min(P.length,m);const V=[];let ve=d;for(;ve<m;){const Pe=P[ve];let me=null,gt=Pe>239?4:Pe>223?3:Pe>191?2:1;if(ve+gt<=m){let Rt,Ft,Nt,Gt;switch(gt){case 1:Pe<128&&(me=Pe);break;case 2:Rt=P[ve+1],(Rt&192)==128&&(Gt=(Pe&31)<<6|Rt&63,Gt>127&&(me=Gt));break;case 3:Rt=P[ve+1],Ft=P[ve+2],(Rt&192)==128&&(Ft&192)==128&&(Gt=(Pe&15)<<12|(Rt&63)<<6|Ft&63,Gt>2047&&(Gt<55296||Gt>57343)&&(me=Gt));break;case 4:Rt=P[ve+1],Ft=P[ve+2],Nt=P[ve+3],(Rt&192)==128&&(Ft&192)==128&&(Nt&192)==128&&(Gt=(Pe&15)<<18|(Rt&63)<<12|(Ft&63)<<6|Nt&63,Gt>65535&&Gt<1114112&&(me=Gt))}}me===null?(me=65533,gt=1):me>65535&&(me-=65536,V.push(me>>>10&1023|55296),me=56320|me&1023),V.push(me),ve+=gt}return be(V)}a(W,"utf8Slice");const Ye=4096;function be(P){const d=P.length;if(d<=Ye)return String.fromCharCode.apply(String,P);let m="",V=0;for(;V<d;)m+=String.fromCharCode.apply(String,P.slice(V,V+=Ye));return m}a(be,"decodeCodePointsArray");function de(P,d,m){let V="";m=Math.min(P.length,m);for(let ve=d;ve<m;++ve)V+=String.fromCharCode(P[ve]&127);return V}a(de,"asciiSlice");function Q(P,d,m){let V="";m=Math.min(P.length,m);for(let ve=d;ve<m;++ve)V+=String.fromCharCode(P[ve]);return V}a(Q,"latin1Slice");function oe(P,d,m){const V=P.length;(!d||d<0)&&(d=0),(!m||m<0||m>V)&&(m=V);let ve="";for(let Pe=d;Pe<m;++Pe)ve+=zt[P[Pe]];return ve}a(oe,"hexSlice");function Te(P,d,m){const V=P.slice(d,m);let ve="";for(let Pe=0;Pe<V.length-1;Pe+=2)ve+=String.fromCharCode(V[Pe]+V[Pe+1]*256);return ve}a(Te,"utf16leSlice"),h.prototype.slice=a(function(d,m){const V=this.length;d=~~d,m=m===void 0?V:~~m,d<0?(d+=V,d<0&&(d=0)):d>V&&(d=V),m<0?(m+=V,m<0&&(m=0)):m>V&&(m=V),m<d&&(m=d);const ve=this.subarray(d,m);return Object.setPrototypeOf(ve,h.prototype),ve},"slice");function Oe(P,d,m){if(P%1!=0||P<0)throw new RangeError("offset is not uint");if(P+d>m)throw new RangeError("Trying to access beyond buffer length")}a(Oe,"checkOffset"),h.prototype.readUintLE=h.prototype.readUIntLE=a(function(d,m,V){d=d>>>0,m=m>>>0,V||Oe(d,m,this.length);let ve=this[d],Pe=1,me=0;for(;++me<m&&(Pe*=256);)ve+=this[d+me]*Pe;return ve},"readUIntLE"),h.prototype.readUintBE=h.prototype.readUIntBE=a(function(d,m,V){d=d>>>0,m=m>>>0,V||Oe(d,m,this.length);let ve=this[d+--m],Pe=1;for(;m>0&&(Pe*=256);)ve+=this[d+--m]*Pe;return ve},"readUIntBE"),h.prototype.readUint8=h.prototype.readUInt8=a(function(d,m){return d=d>>>0,m||Oe(d,1,this.length),this[d]},"readUInt8"),h.prototype.readUint16LE=h.prototype.readUInt16LE=a(function(d,m){return d=d>>>0,m||Oe(d,2,this.length),this[d]|this[d+1]<<8},"readUInt16LE"),h.prototype.readUint16BE=h.prototype.readUInt16BE=a(function(d,m){return d=d>>>0,m||Oe(d,2,this.length),this[d]<<8|this[d+1]},"readUInt16BE"),h.prototype.readUint32LE=h.prototype.readUInt32LE=a(function(d,m){return d=d>>>0,m||Oe(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+this[d+3]*16777216},"readUInt32LE"),h.prototype.readUint32BE=h.prototype.readUInt32BE=a(function(d,m){return d=d>>>0,m||Oe(d,4,this.length),this[d]*16777216+(this[d+1]<<16|this[d+2]<<8|this[d+3])},"readUInt32BE"),h.prototype.readBigUInt64LE=wr(a(function(d){d=d>>>0,De(d,"offset");const m=this[d],V=this[d+7];(m===void 0||V===void 0)&&Le(d,this.length-8);const ve=m+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24,Pe=this[++d]+this[++d]*2**8+this[++d]*2**16+V*2**24;return BigInt(ve)+(BigInt(Pe)<<BigInt(32))},"readBigUInt64LE")),h.prototype.readBigUInt64BE=wr(a(function(d){d=d>>>0,De(d,"offset");const m=this[d],V=this[d+7];(m===void 0||V===void 0)&&Le(d,this.length-8);const ve=m*2**24+this[++d]*2**16+this[++d]*2**8+this[++d],Pe=this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+V;return(BigInt(ve)<<BigInt(32))+BigInt(Pe)},"readBigUInt64BE")),h.prototype.readIntLE=a(function(d,m,V){d=d>>>0,m=m>>>0,V||Oe(d,m,this.length);let ve=this[d],Pe=1,me=0;for(;++me<m&&(Pe*=256);)ve+=this[d+me]*Pe;return Pe*=128,ve>=Pe&&(ve-=Math.pow(2,8*m)),ve},"readIntLE"),h.prototype.readIntBE=a(function(d,m,V){d=d>>>0,m=m>>>0,V||Oe(d,m,this.length);let ve=m,Pe=1,me=this[d+--ve];for(;ve>0&&(Pe*=256);)me+=this[d+--ve]*Pe;return Pe*=128,me>=Pe&&(me-=Math.pow(2,8*m)),me},"readIntBE"),h.prototype.readInt8=a(function(d,m){return d=d>>>0,m||Oe(d,1,this.length),this[d]&128?(255-this[d]+1)*-1:this[d]},"readInt8"),h.prototype.readInt16LE=a(function(d,m){d=d>>>0,m||Oe(d,2,this.length);const V=this[d]|this[d+1]<<8;return V&32768?V|4294901760:V},"readInt16LE"),h.prototype.readInt16BE=a(function(d,m){d=d>>>0,m||Oe(d,2,this.length);const V=this[d+1]|this[d]<<8;return V&32768?V|4294901760:V},"readInt16BE"),h.prototype.readInt32LE=a(function(d,m){return d=d>>>0,m||Oe(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},"readInt32LE"),h.prototype.readInt32BE=a(function(d,m){return d=d>>>0,m||Oe(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},"readInt32BE"),h.prototype.readBigInt64LE=wr(a(function(d){d=d>>>0,De(d,"offset");const m=this[d],V=this[d+7];(m===void 0||V===void 0)&&Le(d,this.length-8);const ve=this[d+4]+this[d+5]*2**8+this[d+6]*2**16+(V<<24);return(BigInt(ve)<<BigInt(32))+BigInt(m+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24)},"readBigInt64LE")),h.prototype.readBigInt64BE=wr(a(function(d){d=d>>>0,De(d,"offset");const m=this[d],V=this[d+7];(m===void 0||V===void 0)&&Le(d,this.length-8);const ve=(m<<24)+this[++d]*2**16+this[++d]*2**8+this[++d];return(BigInt(ve)<<BigInt(32))+BigInt(this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+V)},"readBigInt64BE")),h.prototype.readFloatLE=a(function(d,m){return d=d>>>0,m||Oe(d,4,this.length),g.read(this,d,!0,23,4)},"readFloatLE"),h.prototype.readFloatBE=a(function(d,m){return d=d>>>0,m||Oe(d,4,this.length),g.read(this,d,!1,23,4)},"readFloatBE"),h.prototype.readDoubleLE=a(function(d,m){return d=d>>>0,m||Oe(d,8,this.length),g.read(this,d,!0,52,8)},"readDoubleLE"),h.prototype.readDoubleBE=a(function(d,m){return d=d>>>0,m||Oe(d,8,this.length),g.read(this,d,!1,52,8)},"readDoubleBE");function ne(P,d,m,V,ve,Pe){if(!h.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>ve||d<Pe)throw new RangeError('"value" argument is out of bounds');if(m+V>P.length)throw new RangeError("Index out of range")}a(ne,"checkInt"),h.prototype.writeUintLE=h.prototype.writeUIntLE=a(function(d,m,V,ve){if(d=+d,m=m>>>0,V=V>>>0,!ve){const gt=Math.pow(2,8*V)-1;ne(this,d,m,V,gt,0)}let Pe=1,me=0;for(this[m]=d&255;++me<V&&(Pe*=256);)this[m+me]=d/Pe&255;return m+V},"writeUIntLE"),h.prototype.writeUintBE=h.prototype.writeUIntBE=a(function(d,m,V,ve){if(d=+d,m=m>>>0,V=V>>>0,!ve){const gt=Math.pow(2,8*V)-1;ne(this,d,m,V,gt,0)}let Pe=V-1,me=1;for(this[m+Pe]=d&255;--Pe>=0&&(me*=256);)this[m+Pe]=d/me&255;return m+V},"writeUIntBE"),h.prototype.writeUint8=h.prototype.writeUInt8=a(function(d,m,V){return d=+d,m=m>>>0,V||ne(this,d,m,1,255,0),this[m]=d&255,m+1},"writeUInt8"),h.prototype.writeUint16LE=h.prototype.writeUInt16LE=a(function(d,m,V){return d=+d,m=m>>>0,V||ne(this,d,m,2,65535,0),this[m]=d&255,this[m+1]=d>>>8,m+2},"writeUInt16LE"),h.prototype.writeUint16BE=h.prototype.writeUInt16BE=a(function(d,m,V){return d=+d,m=m>>>0,V||ne(this,d,m,2,65535,0),this[m]=d>>>8,this[m+1]=d&255,m+2},"writeUInt16BE"),h.prototype.writeUint32LE=h.prototype.writeUInt32LE=a(function(d,m,V){return d=+d,m=m>>>0,V||ne(this,d,m,4,4294967295,0),this[m+3]=d>>>24,this[m+2]=d>>>16,this[m+1]=d>>>8,this[m]=d&255,m+4},"writeUInt32LE"),h.prototype.writeUint32BE=h.prototype.writeUInt32BE=a(function(d,m,V){return d=+d,m=m>>>0,V||ne(this,d,m,4,4294967295,0),this[m]=d>>>24,this[m+1]=d>>>16,this[m+2]=d>>>8,this[m+3]=d&255,m+4},"writeUInt32BE");function Ke(P,d,m,V,ve){pe(d,V,ve,P,m,7);let Pe=Number(d&BigInt(4294967295));P[m++]=Pe,Pe=Pe>>8,P[m++]=Pe,Pe=Pe>>8,P[m++]=Pe,Pe=Pe>>8,P[m++]=Pe;let me=Number(d>>BigInt(32)&BigInt(4294967295));return P[m++]=me,me=me>>8,P[m++]=me,me=me>>8,P[m++]=me,me=me>>8,P[m++]=me,m}a(Ke,"wrtBigUInt64LE");function Xe(P,d,m,V,ve){pe(d,V,ve,P,m,7);let Pe=Number(d&BigInt(4294967295));P[m+7]=Pe,Pe=Pe>>8,P[m+6]=Pe,Pe=Pe>>8,P[m+5]=Pe,Pe=Pe>>8,P[m+4]=Pe;let me=Number(d>>BigInt(32)&BigInt(4294967295));return P[m+3]=me,me=me>>8,P[m+2]=me,me=me>>8,P[m+1]=me,me=me>>8,P[m]=me,m+8}a(Xe,"wrtBigUInt64BE"),h.prototype.writeBigUInt64LE=wr(a(function(d,m=0){return Ke(this,d,m,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),h.prototype.writeBigUInt64BE=wr(a(function(d,m=0){return Xe(this,d,m,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),h.prototype.writeIntLE=a(function(d,m,V,ve){if(d=+d,m=m>>>0,!ve){const Rt=Math.pow(2,8*V-1);ne(this,d,m,V,Rt-1,-Rt)}let Pe=0,me=1,gt=0;for(this[m]=d&255;++Pe<V&&(me*=256);)d<0&&gt===0&&this[m+Pe-1]!==0&&(gt=1),this[m+Pe]=(d/me>>0)-gt&255;return m+V},"writeIntLE"),h.prototype.writeIntBE=a(function(d,m,V,ve){if(d=+d,m=m>>>0,!ve){const Rt=Math.pow(2,8*V-1);ne(this,d,m,V,Rt-1,-Rt)}let Pe=V-1,me=1,gt=0;for(this[m+Pe]=d&255;--Pe>=0&&(me*=256);)d<0&&gt===0&&this[m+Pe+1]!==0&&(gt=1),this[m+Pe]=(d/me>>0)-gt&255;return m+V},"writeIntBE"),h.prototype.writeInt8=a(function(d,m,V){return d=+d,m=m>>>0,V||ne(this,d,m,1,127,-128),d<0&&(d=255+d+1),this[m]=d&255,m+1},"writeInt8"),h.prototype.writeInt16LE=a(function(d,m,V){return d=+d,m=m>>>0,V||ne(this,d,m,2,32767,-32768),this[m]=d&255,this[m+1]=d>>>8,m+2},"writeInt16LE"),h.prototype.writeInt16BE=a(function(d,m,V){return d=+d,m=m>>>0,V||ne(this,d,m,2,32767,-32768),this[m]=d>>>8,this[m+1]=d&255,m+2},"writeInt16BE"),h.prototype.writeInt32LE=a(function(d,m,V){return d=+d,m=m>>>0,V||ne(this,d,m,4,2147483647,-2147483648),this[m]=d&255,this[m+1]=d>>>8,this[m+2]=d>>>16,this[m+3]=d>>>24,m+4},"writeInt32LE"),h.prototype.writeInt32BE=a(function(d,m,V){return d=+d,m=m>>>0,V||ne(this,d,m,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[m]=d>>>24,this[m+1]=d>>>16,this[m+2]=d>>>8,this[m+3]=d&255,m+4},"writeInt32BE"),h.prototype.writeBigInt64LE=wr(a(function(d,m=0){return Ke(this,d,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),h.prototype.writeBigInt64BE=wr(a(function(d,m=0){return Xe(this,d,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE"));function ot(P,d,m,V,ve,Pe){if(m+V>P.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}a(ot,"checkIEEE754");function G(P,d,m,V,ve){return d=+d,m=m>>>0,ve||ot(P,d,m,4,34028234663852886e22,-34028234663852886e22),g.write(P,d,m,V,23,4),m+4}a(G,"writeFloat"),h.prototype.writeFloatLE=a(function(d,m,V){return G(this,d,m,!0,V)},"writeFloatLE"),h.prototype.writeFloatBE=a(function(d,m,V){return G(this,d,m,!1,V)},"writeFloatBE");function ee(P,d,m,V,ve){return d=+d,m=m>>>0,ve||ot(P,d,m,8,17976931348623157e292,-17976931348623157e292),g.write(P,d,m,V,52,8),m+8}a(ee,"writeDouble"),h.prototype.writeDoubleLE=a(function(d,m,V){return ee(this,d,m,!0,V)},"writeDoubleLE"),h.prototype.writeDoubleBE=a(function(d,m,V){return ee(this,d,m,!1,V)},"writeDoubleBE"),h.prototype.copy=a(function(d,m,V,ve){if(!h.isBuffer(d))throw new TypeError("argument should be a Buffer");if(V||(V=0),!ve&&ve!==0&&(ve=this.length),m>=d.length&&(m=d.length),m||(m=0),ve>0&&ve<V&&(ve=V),ve===V||d.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(ve<0)throw new RangeError("sourceEnd out of bounds");ve>this.length&&(ve=this.length),d.length-m<ve-V&&(ve=d.length-m+V);const Pe=ve-V;return this===d&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,V,ve):Uint8Array.prototype.set.call(d,this.subarray(V,ve),m),Pe},"copy"),h.prototype.fill=a(function(d,m,V,ve){if(typeof d=="string"){if(typeof m=="string"?(ve=m,m=0,V=this.length):typeof V=="string"&&(ve=V,V=this.length),ve!==void 0&&typeof ve!="string")throw new TypeError("encoding must be a string");if(typeof ve=="string"&&!h.isEncoding(ve))throw new TypeError("Unknown encoding: "+ve);if(d.length===1){const me=d.charCodeAt(0);(ve==="utf8"&&me<128||ve==="latin1")&&(d=me)}}else typeof d=="number"?d=d&255:typeof d=="boolean"&&(d=Number(d));if(m<0||this.length<m||this.length<V)throw new RangeError("Out of range index");if(V<=m)return this;m=m>>>0,V=V===void 0?this.length:V>>>0,d||(d=0);let Pe;if(typeof d=="number")for(Pe=m;Pe<V;++Pe)this[Pe]=d;else{const me=h.isBuffer(d)?d:h.from(d,ve),gt=me.length;if(gt===0)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(Pe=0;Pe<V-m;++Pe)this[Pe+m]=me[Pe%gt]}return this},"fill");const ae={};function _e(P,d,m){ae[P]=a(class extends m{constructor(){super();Object.defineProperty(this,"message",{value:d.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${P}]`,this.stack,delete this.name}get code(){return P}set code(ve){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ve,writable:!0})}toString(){return`${this.name} [${P}]: ${this.message}`}},"NodeError")}a(_e,"E"),_e("ERR_BUFFER_OUT_OF_BOUNDS",function(P){return P?`${P} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),_e("ERR_INVALID_ARG_TYPE",function(P,d){return`The "${P}" argument must be of type number. Received type ${typeof d}`},TypeError),_e("ERR_OUT_OF_RANGE",function(P,d,m){let V=`The value of "${P}" is out of range.`,ve=m;return Number.isInteger(m)&&Math.abs(m)>2**32?ve=Be(String(m)):typeof m=="bigint"&&(ve=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(ve=Be(ve)),ve+="n"),V+=` It must be ${d}. Received ${ve}`,V},RangeError);function Be(P){let d="",m=P.length;const V=P[0]==="-"?1:0;for(;m>=V+4;m-=3)d=`_${P.slice(m-3,m)}${d}`;return`${P.slice(0,m)}${d}`}a(Be,"addNumericalSeparator");function Ue(P,d,m){De(d,"offset"),(P[d]===void 0||P[d+m]===void 0)&&Le(d,P.length-(m+1))}a(Ue,"checkBounds");function pe(P,d,m,V,ve,Pe){if(P>m||P<d){const me=typeof d=="bigint"?"n":"";let gt;throw Pe>3?d===0||d===BigInt(0)?gt=`>= 0${me} and < 2${me} ** ${(Pe+1)*8}${me}`:gt=`>= -(2${me} ** ${(Pe+1)*8-1}${me}) and < 2 ** ${(Pe+1)*8-1}${me}`:gt=`>= ${d}${me} and <= ${m}${me}`,new ae.ERR_OUT_OF_RANGE("value",gt,P)}Ue(V,ve,Pe)}a(pe,"checkIntBI");function De(P,d){if(typeof P!="number")throw new ae.ERR_INVALID_ARG_TYPE(d,"number",P)}a(De,"validateNumber");function Le(P,d,m){throw Math.floor(P)!==P?(De(P,m),new ae.ERR_OUT_OF_RANGE(m||"offset","an integer",P)):d<0?new ae.ERR_BUFFER_OUT_OF_BOUNDS:new ae.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${d}`,P)}a(Le,"boundsError");const Ve=/[^+/0-9A-Za-z-_]/g;function Me(P){if(P=P.split("=")[0],P=P.trim().replace(Ve,""),P.length<2)return"";for(;P.length%4!=0;)P=P+"=";return P}a(Me,"base64clean");function $e(P,d){d=d||1/0;let m;const V=P.length;let ve=null;const Pe=[];for(let me=0;me<V;++me){if(m=P.charCodeAt(me),m>55295&&m<57344){if(!ve){if(m>56319){(d-=3)>-1&&Pe.push(239,191,189);continue}else if(me+1===V){(d-=3)>-1&&Pe.push(239,191,189);continue}ve=m;continue}if(m<56320){(d-=3)>-1&&Pe.push(239,191,189),ve=m;continue}m=(ve-55296<<10|m-56320)+65536}else ve&&(d-=3)>-1&&Pe.push(239,191,189);if(ve=null,m<128){if((d-=1)<0)break;Pe.push(m)}else if(m<2048){if((d-=2)<0)break;Pe.push(m>>6|192,m&63|128)}else if(m<65536){if((d-=3)<0)break;Pe.push(m>>12|224,m>>6&63|128,m&63|128)}else if(m<1114112){if((d-=4)<0)break;Pe.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw new Error("Invalid code point")}return Pe}a($e,"utf8ToBytes");function tt(P){const d=[];for(let m=0;m<P.length;++m)d.push(P.charCodeAt(m)&255);return d}a(tt,"asciiToBytes");function st(P,d){let m,V,ve;const Pe=[];for(let me=0;me<P.length&&!((d-=2)<0);++me)m=P.charCodeAt(me),V=m>>8,ve=m%256,Pe.push(ve),Pe.push(V);return Pe}a(st,"utf16leToBytes");function Fe(P){return v.toByteArray(Me(P))}a(Fe,"base64ToBytes");function J(P,d,m,V){let ve;for(ve=0;ve<V&&!(ve+m>=d.length||ve>=P.length);++ve)d[ve+m]=P[ve];return ve}a(J,"blitBuffer");function Z(P,d){return P instanceof d||P!=null&&P.constructor!=null&&P.constructor.name!=null&&P.constructor.name===d.name}a(Z,"isInstance");function rt(P){return P!==P}a(rt,"numberIsNaN");const zt=function(){const P="0123456789abcdef",d=new Array(256);for(let m=0;m<16;++m){const V=m*16;for(let ve=0;ve<16;++ve)d[V+ve]=P[m]+P[ve]}return d}();function wr(P){return typeof BigInt=="undefined"?Er:P}a(wr,"defineBigIntMethod");function Er(){throw new Error("BigInt not supported")}a(Er,"BufferBigIntNotDefined")},1:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__(8764).Buffer;const Token=__webpack_require__(3416),strtok3=__webpack_require__(5849),{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=__webpack_require__(6188),supported=__webpack_require__(9898),minimumBytes=4100;async function fromStream(he){const l=await strtok3.fromStream(he);try{return await fromTokenizer(l)}finally{await l.close()}}a(fromStream,"fromStream");async function fromBuffer(he){if(!(he instanceof Uint8Array||he instanceof ArrayBuffer||Buffer.isBuffer(he)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof he}\``);const l=he instanceof Buffer?he:Buffer.from(he);if(!(l&&l.length>1))return;const E=strtok3.fromBuffer(l);return fromTokenizer(E)}a(fromBuffer,"fromBuffer");function _check(he,l,E){E={offset:0,...E};for(const[v,g]of l.entries())if(E.mask){if(g!==(E.mask[v]&he[v+E.offset]))return!1}else if(g!==he[v+E.offset])return!1;return!0}a(_check,"_check");async function fromTokenizer(he){try{return _fromTokenizer(he)}catch(l){if(!(l instanceof strtok3.EndOfStreamError))throw l}}a(fromTokenizer,"fromTokenizer");async function _fromTokenizer(he){let l=Buffer.alloc(minimumBytes);const E=12,v=a((w,_)=>_check(l,w,_),"check"),g=a((w,_)=>v(stringToBytes(w),_),"checkString");if(he.fileInfo.size||(he.fileInfo.size=Number.MAX_SAFE_INTEGER),await he.peekBuffer(l,{length:E,mayBeLess:!0}),v([66,77]))return{ext:"bmp",mime:"image/bmp"};if(v([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(v([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(v([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(v([37,33]))return await he.peekBuffer(l,{length:24,mayBeLess:!0}),g("PS-Adobe-",{offset:2})&&g(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(v([31,160])||v([31,157]))return{ext:"Z",mime:"application/x-compress"};if(v([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(v([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(v([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(v([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(g("ID3")){await he.ignore(6);const w=await he.readToken(uint32SyncSafeToken);return he.position+w>he.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await he.ignore(w),fromTokenizer(he))}if(g("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((l[0]===67||l[0]===70)&&v([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(v([71,73,70]))return{ext:"gif",mime:"image/gif"};if(g("FLIF"))return{ext:"flif",mime:"image/flif"};if(g("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(g("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(g("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(g("FORM"))return{ext:"aif",mime:"audio/aiff"};if(g("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(v([80,75,3,4])){try{for(;he.position+30<he.fileInfo.size;){await he.readBuffer(l,{length:30});const w={compressedSize:l.readUInt32LE(18),uncompressedSize:l.readUInt32LE(22),filenameLength:l.readUInt16LE(26),extraFieldLength:l.readUInt16LE(28)};if(w.filename=await he.readToken(new Token.StringType(w.filenameLength,"utf-8")),await he.ignore(w.extraFieldLength),w.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(w.filename.endsWith(".rels")||w.filename.endsWith(".xml"))switch(w.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};default:break}if(w.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(w.filename.startsWith("3D/")&&w.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(w.filename==="mimetype"&&w.compressedSize===w.uncompressedSize)switch(await he.readToken(new Token.StringType(w.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};default:}if(w.compressedSize===0){let _=-1;for(;_<0&&he.position<he.fileInfo.size;)await he.peekBuffer(l,{mayBeLess:!0}),_=l.indexOf("504B0304",0,"hex"),await he.ignore(_>=0?_:l.length)}else await he.ignore(w.compressedSize)}}catch(w){if(!(w instanceof strtok3.EndOfStreamError))throw w}return{ext:"zip",mime:"application/zip"}}if(g("OggS")){await he.ignore(28);const w=Buffer.alloc(8);return await he.readBuffer(w),_check(w,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(w,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(w,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(w,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(w,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(w,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(v([80,75])&&(l[2]===3||l[2]===5||l[2]===7)&&(l[3]===4||l[3]===6||l[3]===8))return{ext:"zip",mime:"application/zip"};if(g("ftyp",{offset:4})&&(l[8]&96)!=0){const w=l.toString("binary",8,12).replace("\0"," ").trim();switch(w){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return w.startsWith("3g")?w.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(g("MThd"))return{ext:"mid",mime:"audio/midi"};if(g("wOFF")&&(v([0,1,0,0],{offset:4})||g("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(g("wOF2")&&(v([0,1,0,0],{offset:4})||g("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(v([212,195,178,161])||v([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(g("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(g("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(g("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(v([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(g("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(g("%PDF")){await he.ignore(1350);const w=10*1024*1024,_=Buffer.alloc(Math.min(w,he.fileInfo.size));return await he.readBuffer(_,{mayBeLess:!0}),_.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(v([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(v([73,73,42,0]))return g("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:v([28,0,254,0],{offset:8})||v([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:v([8,0,0,0],{offset:4})&&(v([45,0,254,0],{offset:8})||v([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(l=Buffer.alloc(24),await he.peekBuffer(l),(v([16,251,134,1],{offset:4})||v([8,0,0,0],{offset:4}))&&v([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(v([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(g("MAC "))return{ext:"ape",mime:"audio/ape"};if(v([26,69,223,163])){async function w(){const S=await he.peekNumber(Token.UINT8);let x=128,y=0;for(;(S&x)==0&&x!==0;)++y,x>>=1;const b=Buffer.alloc(y+1);return await he.readBuffer(b),b}a(w,"readField");async function _(){const S=await w(),x=await w();x[0]^=128>>x.length-1;const y=Math.min(6,x.length);return{id:S.readUIntBE(0,S.length),len:x.readUIntBE(x.length-y,y)}}a(_,"readElement");async function R(S,x){for(;x>0;){const y=await _();if(y.id===17026)return he.readToken(new Token.StringType(y.len,"utf-8"));await he.ignore(y.len),--x}}a(R,"readChildren");const T=await _();switch(await R(1,T.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(v([82,73,70,70])){if(v([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(v([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(v([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(g("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(v([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(g("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(g("MSCF")||g("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(v([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(v([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(v([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(v([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(g("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(g("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(v([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(g("IMPM"))return{ext:"it",mime:"audio/x-it"};if(g("-lh0-",{offset:2})||g("-lh1-",{offset:2})||g("-lh2-",{offset:2})||g("-lh3-",{offset:2})||g("-lh4-",{offset:2})||g("-lh5-",{offset:2})||g("-lh6-",{offset:2})||g("-lh7-",{offset:2})||g("-lzs-",{offset:2})||g("-lz4-",{offset:2})||g("-lz5-",{offset:2})||g("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(v([0,0,1,186])){if(v([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(v([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(g("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(v([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(g("<?xml "))return{ext:"xml",mime:"application/xml"};if(v([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(v([82,97,114,33,26,7])&&(l[6]===0||l[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(g("solid "))return{ext:"stl",mime:"model/stl"};if(g("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(g("!<arch>"))return await he.ignore(8),await he.readToken(new Token.StringType(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(v([137,80,78,71,13,10,26,10])){await he.ignore(8);async function w(){return{length:await he.readToken(Token.INT32_BE),type:await he.readToken(new Token.StringType(4,"binary"))}}a(w,"readChunkHeader");do{const _=await w();if(_.length<0)return;switch(_.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await he.ignore(_.length+4)}}while(he.position+8<he.fileInfo.size);return{ext:"png",mime:"image/png"}}if(v([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(v([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(v([102,114,101,101],{offset:4})||v([109,100,97,116],{offset:4})||v([109,111,111,118],{offset:4})||v([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(v([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(g("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(v([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(v([48,38,178,117,142,102,207,17,166,217])){async function w(){const _=Buffer.alloc(16);return await he.readBuffer(_),{id:_,size:Number(await he.readToken(Token.UINT64_LE))}}for(a(w,"readHeader"),await he.ignore(30);he.position+24<he.fileInfo.size;){const _=await w();let R=_.size-24;if(_check(_.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const T=Buffer.alloc(16);if(R-=await he.readBuffer(T),_check(T,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(T,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await he.ignore(R)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(v([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((v([126,16,4])||v([126,24,4]))&&v([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(v([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(v([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await he.ignore(20),await he.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(v([255,10])||v([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(v([0,0,1,186])||v([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(v([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(v([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(v([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(v([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await he.peekBuffer(l,{length:Math.min(256,he.fileInfo.size),mayBeLess:!0}),g("BEGIN:")){if(g("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(g("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(g("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(g("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(g("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(v([4,0,0,0])&&l.length>=16){const w=l.readUInt32LE(12);if(w>12&&l.length>=w+16)try{const _=l.slice(16,w+16).toString();if(JSON.parse(_).files)return{ext:"asar",mime:"application/x-asar"}}catch(_){}}if(v([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(g("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(v([71],{offset:4})&&(v([71],{offset:192})||v([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(v([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(v([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(v([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(v([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(v([76,80],{offset:34})&&(v([0,0,1],{offset:8})||v([1,0,2],{offset:8})||v([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(v([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await he.peekBuffer(l,{length:Math.min(512,he.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(l))return{ext:"tar",mime:"application/x-tar"};if(v([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(g("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(l.length>=2&&v([255,224],{offset:0,mask:[255,224]})){if(v([16],{offset:1,mask:[22]}))return v([8],{offset:1,mask:[8]})?{ext:"aac",mime:"audio/aac"}:{ext:"aac",mime:"audio/aac"};if(v([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(v([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(v([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}a(_fromTokenizer,"_fromTokenizer");const stream=a(readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{const he=new stream.PassThrough;let l;stream.pipeline?l=stream.pipeline(readableStream,he,()=>{}):l=readableStream.pipe(he);const E=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const v=await fromBuffer(E);he.fileType=v}catch(v){reject(v)}resolve(l)})}),"stream"),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get(){return new Set(supported.extensions)}}),Object.defineProperty(fileType,"mimeTypes",{get(){return new Set(supported.mimeTypes)}}),module.exports=fileType},7769:(he,l,E)=>{"use strict";const v=E(6597),g=E(1);async function w(R){const T=await v.fromFile(R);try{return await g.fromTokenizer(T)}finally{await T.close()}}a(w,"fromFile");const _={fromFile:w};Object.assign(_,g),Object.defineProperty(_,"extensions",{get(){return g.extensions}}),Object.defineProperty(_,"mimeTypes",{get(){return g.mimeTypes}}),he.exports=_},9898:he=>{"use strict";he.exports={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]}},6188:(he,l)=>{"use strict";l.stringToBytes=E=>[...E].map(v=>v.charCodeAt(0)),l.tarHeaderChecksumMatches=(E,v=0)=>{const g=parseInt(E.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(g))return!1;let w=8*32;for(let _=v;_<v+148;_++)w+=E[_];for(let _=v+156;_<v+512;_++)w+=E[_];return g===w},l.uint32SyncSafeToken={get:(E,v)=>E[v+3]&127|E[v+2]<<7|E[v+1]<<14|E[v]<<21,len:4}},7360:function(he,l){var E,v,g;(function(w,_){v=[],E=_,g=typeof E=="function"?E.apply(l,v):E,g!==void 0&&(he.exports=g)})(this,a(function(){function _(M){var $={single:function(k,A,N){if(!k||(q(k)||(k=$.getPreparedSearch(k)),!A))return null;q(A)||(A=$.getPrepared(A));var U=N&&N.allowTypo!==void 0?N.allowTypo:M&&M.allowTypo!==void 0?M.allowTypo:!0,te=U?$.algorithm:$.algorithmNoTypo;return te(k,A,k[0])},go:function(k,A,N){if(!k)return S;k=$.prepareSearch(k);var U=k[0],te=N&&N.threshold||M&&M.threshold||-9007199254740991,X=N&&N.limit||M&&M.limit||9007199254740991,re=N&&N.allowTypo!==void 0?N.allowTypo:M&&M.allowTypo!==void 0?M.allowTypo:!0,ce=re?$.algorithm:$.algorithmNoTypo,Se=0,ie=0,ye=A.length;if(N&&N.keys)for(var W=N.scoreFn||B,Ye=N.keys,be=Ye.length,de=ye-1;de>=0;--de){for(var Q=A[de],oe=new Array(be),Te=be-1;Te>=0;--Te){var Oe=Ye[Te],ne=F(Q,Oe);if(!ne){oe[Te]=null;continue}q(ne)||(ne=$.getPrepared(ne)),oe[Te]=ce(k,ne,U)}oe.obj=Q;var Ke=W(oe);Ke!==null&&(Ke<te||(oe.score=Ke,Se<X?(se.add(oe),++Se):(++ie,Ke>se.peek().score&&se.replaceTop(oe))))}else if(N&&N.key)for(var Oe=N.key,de=ye-1;de>=0;--de){var Q=A[de],ne=F(Q,Oe);if(!!ne){q(ne)||(ne=$.getPrepared(ne));var Xe=ce(k,ne,U);Xe!==null&&(Xe.score<te||(Xe={target:Xe.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:Xe.score,indexes:Xe.indexes,obj:Q},Se<X?(se.add(Xe),++Se):(++ie,Xe.score>se.peek().score&&se.replaceTop(Xe))))}}else for(var de=ye-1;de>=0;--de){var ne=A[de];if(!!ne){q(ne)||(ne=$.getPrepared(ne));var Xe=ce(k,ne,U);Xe!==null&&(Xe.score<te||(Se<X?(se.add(Xe),++Se):(++ie,Xe.score>se.peek().score&&se.replaceTop(Xe))))}}if(Se===0)return S;for(var ot=new Array(Se),de=Se-1;de>=0;--de)ot[de]=se.poll();return ot.total=Se+ie,ot},goAsync:function(k,A,N){var U=!1,te=new Promise(function(X,re){if(!k)return X(S);k=$.prepareSearch(k);var ce=k[0],Se=j(),ie=A.length-1,ye=N&&N.threshold||M&&M.threshold||-9007199254740991,W=N&&N.limit||M&&M.limit||9007199254740991,Ye=N&&N.allowTypo!==void 0?N.allowTypo:M&&M.allowTypo!==void 0?M.allowTypo:!0,be=Ye?$.algorithm:$.algorithmNoTypo,de=0,Q=0;function oe(){if(U)return re("canceled");var Te=Date.now();if(N&&N.keys)for(var Oe=N.scoreFn||B,ne=N.keys,Ke=ne.length;ie>=0;--ie){for(var Xe=A[ie],ot=new Array(Ke),G=Ke-1;G>=0;--G){var ee=ne[G],ae=F(Xe,ee);if(!ae){ot[G]=null;continue}q(ae)||(ae=$.getPrepared(ae)),ot[G]=be(k,ae,ce)}ot.obj=Xe;var _e=Oe(ot);if(_e!==null&&!(_e<ye)&&(ot.score=_e,de<W?(Se.add(ot),++de):(++Q,_e>Se.peek().score&&Se.replaceTop(ot)),ie%1e3==0&&Date.now()-Te>=10)){R?setImmediate(oe):setTimeout(oe);return}}else if(N&&N.key)for(var ee=N.key;ie>=0;--ie){var Xe=A[ie],ae=F(Xe,ee);if(!!ae){q(ae)||(ae=$.getPrepared(ae));var Be=be(k,ae,ce);if(Be!==null&&!(Be.score<ye)&&(Be={target:Be.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:Be.score,indexes:Be.indexes,obj:Xe},de<W?(Se.add(Be),++de):(++Q,Be.score>Se.peek().score&&Se.replaceTop(Be)),ie%1e3==0&&Date.now()-Te>=10)){R?setImmediate(oe):setTimeout(oe);return}}}else for(;ie>=0;--ie){var ae=A[ie];if(!!ae){q(ae)||(ae=$.getPrepared(ae));var Be=be(k,ae,ce);if(Be!==null&&!(Be.score<ye)&&(de<W?(Se.add(Be),++de):(++Q,Be.score>Se.peek().score&&Se.replaceTop(Be)),ie%1e3==0&&Date.now()-Te>=10)){R?setImmediate(oe):setTimeout(oe);return}}}if(de===0)return X(S);for(var Ue=new Array(de),pe=de-1;pe>=0;--pe)Ue[pe]=Se.poll();Ue.total=de+Q,X(Ue)}a(oe,"step"),R?setImmediate(oe):oe()});return te.cancel=function(){U=!0},te},highlight:function(k,A,N){if(k===null)return null;A===void 0&&(A="<b>"),N===void 0&&(N="</b>");for(var U="",te=0,X=!1,re=k.target,ce=re.length,Se=k.indexes,ie=0;ie<ce;++ie){var ye=re[ie];if(Se[te]===ie){if(++te,X||(X=!0,U+=A),te===Se.length){U+=ye+N+re.substr(ie+1);break}}else X&&(X=!1,U+=N);U+=ye}return U},prepare:function(k){if(!!k)return{target:k,_targetLowerCodes:$.prepareLowerCodes(k),_nextBeginningIndexes:null,score:null,indexes:null,obj:null}},prepareSlow:function(k){if(!!k)return{target:k,_targetLowerCodes:$.prepareLowerCodes(k),_nextBeginningIndexes:$.prepareNextBeginningIndexes(k),score:null,indexes:null,obj:null}},prepareSearch:function(k){if(!!k)return $.prepareLowerCodes(k)},getPrepared:function(k){if(k.length>999)return $.prepare(k);var A=T.get(k);return A!==void 0||(A=$.prepare(k),T.set(k,A)),A},getPreparedSearch:function(k){if(k.length>999)return $.prepareSearch(k);var A=h.get(k);return A!==void 0||(A=$.prepareSearch(k),h.set(k,A)),A},algorithm:function(k,A,N){for(var U=A._targetLowerCodes,te=k.length,X=U.length,re=0,ce=0,Se=0,ie=0;;){var ye=N===U[ce];if(ye){if(x[ie++]=ce,++re,re===te)break;N=k[Se===0?re:Se===re?re+1:Se===re-1?re-1:re]}if(++ce,ce>=X)for(;;){if(re<=1)return null;if(Se===0){--re;var W=k[re];if(N===W)continue;Se=re}else{if(Se===1)return null;--Se,re=Se,N=k[re+1];var W=k[re];if(N===W)continue}ie=re,ce=x[ie-1]+1;break}}var re=0,Ye=0,be=!1,de=0,Q=A._nextBeginningIndexes;Q===null&&(Q=A._nextBeginningIndexes=$.prepareNextBeginningIndexes(A.target));var oe=ce=x[0]===0?0:Q[x[0]-1];if(ce!==X)for(;;)if(ce>=X){if(re<=0){if(++Ye,Ye>te-2)break;if(k[Ye]===k[Ye+1])continue;ce=oe;continue}--re;var Te=y[--de];ce=Q[Te]}else{var ye=k[Ye===0?re:Ye===re?re+1:Ye===re-1?re-1:re]===U[ce];if(ye){if(y[de++]=ce,++re,re===te){be=!0;break}++ce}else ce=Q[ce]}{if(be)var Oe=y,ne=de;else var Oe=x,ne=ie;for(var Ke=0,Xe=-1,ot=0;ot<te;++ot){var ce=Oe[ot];Xe!==ce-1&&(Ke-=ce),Xe=ce}be?Ye!==0&&(Ke+=-20):(Ke*=1e3,Se!==0&&(Ke+=-20)),Ke-=X-te,A.score=Ke,A.indexes=new Array(ne);for(var ot=ne-1;ot>=0;--ot)A.indexes[ot]=Oe[ot];return A}},algorithmNoTypo:function(k,A,N){for(var U=A._targetLowerCodes,te=k.length,X=U.length,re=0,ce=0,Se=0;;){var ie=N===U[ce];if(ie){if(x[Se++]=ce,++re,re===te)break;N=k[re]}if(++ce,ce>=X)return null}var re=0,ye=!1,W=0,Ye=A._nextBeginningIndexes;Ye===null&&(Ye=A._nextBeginningIndexes=$.prepareNextBeginningIndexes(A.target));var be=ce=x[0]===0?0:Ye[x[0]-1];if(ce!==X)for(;;)if(ce>=X){if(re<=0)break;--re;var de=y[--W];ce=Ye[de]}else{var ie=k[re]===U[ce];if(ie){if(y[W++]=ce,++re,re===te){ye=!0;break}++ce}else ce=Ye[ce]}{if(ye)var Q=y,oe=W;else var Q=x,oe=Se;for(var Te=0,Oe=-1,ne=0;ne<te;++ne){var ce=Q[ne];Oe!==ce-1&&(Te-=ce),Oe=ce}ye||(Te*=1e3),Te-=X-te,A.score=Te,A.indexes=new Array(oe);for(var ne=oe-1;ne>=0;--ne)A.indexes[ne]=Q[ne];return A}},prepareLowerCodes:function(k){for(var A=k.length,N=[],U=k.toLowerCase(),te=0;te<A;++te)N[te]=U.charCodeAt(te);return N},prepareBeginningIndexes:function(k){for(var A=k.length,N=[],U=0,te=!1,X=!1,re=0;re<A;++re){var ce=k.charCodeAt(re),Se=ce>=65&&ce<=90,ie=Se||ce>=97&&ce<=122||ce>=48&&ce<=57,ye=Se&&!te||!X||!ie;te=Se,X=ie,ye&&(N[U++]=re)}return N},prepareNextBeginningIndexes:function(k){for(var A=k.length,N=$.prepareBeginningIndexes(k),U=[],te=N[0],X=0,re=0;re<A;++re)te>re?U[re]=te:(te=N[++X],U[re]=te===void 0?A:te);return U},cleanup:b,new:_};return $}a(_,"fuzzysortNew");var R=typeof window=="undefined",T=new Map,h=new Map,S=[];S.total=0;var x=[],y=[];function b(){T.clear(),h.clear(),x=[],y=[]}a(b,"cleanup");function B(M){for(var $=-9007199254740991,k=M.length-1;k>=0;--k){var A=M[k];if(A!==null){var N=A.score;N>$&&($=N)}}return $===-9007199254740991?null:$}a(B,"defaultScoreFn");function F(M,$){var k=M[$];if(k!==void 0)return k;var A=$;Array.isArray($)||(A=$.split("."));for(var N=A.length,U=-1;M&&++U<N;)M=M[A[U]];return M}a(F,"getValue");function q(M){return typeof M=="object"}a(q,"isObj");var j=a(function(){var M=[],$=0,k={};function A(){for(var N=0,U=M[N],te=1;te<$;){var X=te+1;N=te,X<$&&M[X].score<M[te].score&&(N=X),M[N-1>>1]=M[N],te=1+(N<<1)}for(var re=N-1>>1;N>0&&U.score<M[re].score;re=(N=re)-1>>1)M[N]=M[re];M[N]=U}return a(A,"n"),k.add=function(N){var U=$;M[$++]=N;for(var te=U-1>>1;U>0&&N.score<M[te].score;te=(U=te)-1>>1)M[U]=M[te];M[U]=N},k.poll=function(){if($!==0){var N=M[0];return M[0]=M[--$],A(),N}},k.peek=function(N){if($!==0)return M[0]},k.replaceTop=function(N){M[0]=N,A()},k},"fastpriorityqueue"),se=j();return _()},"UMD"))},645:(he,l)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */l.read=function(E,v,g,w,_){var R,T,h=_*8-w-1,S=(1<<h)-1,x=S>>1,y=-7,b=g?_-1:0,B=g?-1:1,F=E[v+b];for(b+=B,R=F&(1<<-y)-1,F>>=-y,y+=h;y>0;R=R*256+E[v+b],b+=B,y-=8);for(T=R&(1<<-y)-1,R>>=-y,y+=w;y>0;T=T*256+E[v+b],b+=B,y-=8);if(R===0)R=1-x;else{if(R===S)return T?NaN:(F?-1:1)*(1/0);T=T+Math.pow(2,w),R=R-x}return(F?-1:1)*T*Math.pow(2,R-w)},l.write=function(E,v,g,w,_,R){var T,h,S,x=R*8-_-1,y=(1<<x)-1,b=y>>1,B=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,F=w?0:R-1,q=w?1:-1,j=v<0||v===0&&1/v<0?1:0;for(v=Math.abs(v),isNaN(v)||v===1/0?(h=isNaN(v)?1:0,T=y):(T=Math.floor(Math.log(v)/Math.LN2),v*(S=Math.pow(2,-T))<1&&(T--,S*=2),T+b>=1?v+=B/S:v+=B*Math.pow(2,1-b),v*S>=2&&(T++,S/=2),T+b>=y?(h=0,T=y):T+b>=1?(h=(v*S-1)*Math.pow(2,_),T=T+b):(h=v*Math.pow(2,b-1)*Math.pow(2,_),T=0));_>=8;E[g+F]=h&255,F+=q,h/=256,_-=8);for(T=T<<_|h,x+=_;x>0;E[g+F]=T&255,F+=q,T/=256,x-=8);E[g+F-q]|=j*128}},3300:(he,l)=>{"use strict";var E=a(function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof v!="undefined")return v;throw new Error("unable to locate global object")},"getGlobal"),v=E();he.exports=l=v.fetch,v.fetch&&(l.default=v.fetch.bind(v)),l.Headers=v.Headers,l.Request=v.Request,l.Response=v.Response},447:(he,l,E)=>{var v=E(2479);he.exports=v(g),he.exports.strict=v(w),g.proto=g(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return g(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return w(this)},configurable:!0})});function g(_){var R=a(function(){return R.called?R.value:(R.called=!0,R.value=_.apply(this,arguments))},"f");return R.called=!1,R}a(g,"once");function w(_){var R=a(function(){if(R.called)throw new Error(R.onceError);return R.called=!0,R.value=_.apply(this,arguments)},"f"),T=_.name||"Function wrapped with `once`";return R.onceError=T+" shouldn't be called more than once",R.called=!1,R}a(w,"onceStrict")},6470:(he,l,E)=>{"use strict";var v=E(4155);function g(T){if(typeof T!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(T))}a(g,"assertPath");function w(T,h){for(var S="",x=0,y=-1,b=0,B,F=0;F<=T.length;++F){if(F<T.length)B=T.charCodeAt(F);else{if(B===47)break;B=47}if(B===47){if(!(y===F-1||b===1))if(y!==F-1&&b===2){if(S.length<2||x!==2||S.charCodeAt(S.length-1)!==46||S.charCodeAt(S.length-2)!==46){if(S.length>2){var q=S.lastIndexOf("/");if(q!==S.length-1){q===-1?(S="",x=0):(S=S.slice(0,q),x=S.length-1-S.lastIndexOf("/")),y=F,b=0;continue}}else if(S.length===2||S.length===1){S="",x=0,y=F,b=0;continue}}h&&(S.length>0?S+="/..":S="..",x=2)}else S.length>0?S+="/"+T.slice(y+1,F):S=T.slice(y+1,F),x=F-y-1;y=F,b=0}else B===46&&b!==-1?++b:b=-1}return S}a(w,"normalizeStringPosix");function _(T,h){var S=h.dir||h.root,x=h.base||(h.name||"")+(h.ext||"");return S?S===h.root?S+x:S+T+x:x}a(_,"_format");var R={resolve:a(function(){for(var h="",S=!1,x,y=arguments.length-1;y>=-1&&!S;y--){var b;y>=0?b=arguments[y]:(x===void 0&&(x=v.cwd()),b=x),g(b),b.length!==0&&(h=b+"/"+h,S=b.charCodeAt(0)===47)}return h=w(h,!S),S?h.length>0?"/"+h:"/":h.length>0?h:"."},"resolve"),normalize:a(function(h){if(g(h),h.length===0)return".";var S=h.charCodeAt(0)===47,x=h.charCodeAt(h.length-1)===47;return h=w(h,!S),h.length===0&&!S&&(h="."),h.length>0&&x&&(h+="/"),S?"/"+h:h},"normalize"),isAbsolute:a(function(h){return g(h),h.length>0&&h.charCodeAt(0)===47},"isAbsolute"),join:a(function(){if(arguments.length===0)return".";for(var h,S=0;S<arguments.length;++S){var x=arguments[S];g(x),x.length>0&&(h===void 0?h=x:h+="/"+x)}return h===void 0?".":R.normalize(h)},"join"),relative:a(function(h,S){if(g(h),g(S),h===S||(h=R.resolve(h),S=R.resolve(S),h===S))return"";for(var x=1;x<h.length&&h.charCodeAt(x)===47;++x);for(var y=h.length,b=y-x,B=1;B<S.length&&S.charCodeAt(B)===47;++B);for(var F=S.length,q=F-B,j=b<q?b:q,se=-1,M=0;M<=j;++M){if(M===j){if(q>j){if(S.charCodeAt(B+M)===47)return S.slice(B+M+1);if(M===0)return S.slice(B+M)}else b>j&&(h.charCodeAt(x+M)===47?se=M:M===0&&(se=0));break}var $=h.charCodeAt(x+M),k=S.charCodeAt(B+M);if($!==k)break;$===47&&(se=M)}var A="";for(M=x+se+1;M<=y;++M)(M===y||h.charCodeAt(M)===47)&&(A.length===0?A+="..":A+="/..");return A.length>0?A+S.slice(B+se):(B+=se,S.charCodeAt(B)===47&&++B,S.slice(B))},"relative"),_makeLong:a(function(h){return h},"_makeLong"),dirname:a(function(h){if(g(h),h.length===0)return".";for(var S=h.charCodeAt(0),x=S===47,y=-1,b=!0,B=h.length-1;B>=1;--B)if(S=h.charCodeAt(B),S===47){if(!b){y=B;break}}else b=!1;return y===-1?x?"/":".":x&&y===1?"//":h.slice(0,y)},"dirname"),basename:a(function(h,S){if(S!==void 0&&typeof S!="string")throw new TypeError('"ext" argument must be a string');g(h);var x=0,y=-1,b=!0,B;if(S!==void 0&&S.length>0&&S.length<=h.length){if(S.length===h.length&&S===h)return"";var F=S.length-1,q=-1;for(B=h.length-1;B>=0;--B){var j=h.charCodeAt(B);if(j===47){if(!b){x=B+1;break}}else q===-1&&(b=!1,q=B+1),F>=0&&(j===S.charCodeAt(F)?--F==-1&&(y=B):(F=-1,y=q))}return x===y?y=q:y===-1&&(y=h.length),h.slice(x,y)}else{for(B=h.length-1;B>=0;--B)if(h.charCodeAt(B)===47){if(!b){x=B+1;break}}else y===-1&&(b=!1,y=B+1);return y===-1?"":h.slice(x,y)}},"basename"),extname:a(function(h){g(h);for(var S=-1,x=0,y=-1,b=!0,B=0,F=h.length-1;F>=0;--F){var q=h.charCodeAt(F);if(q===47){if(!b){x=F+1;break}continue}y===-1&&(b=!1,y=F+1),q===46?S===-1?S=F:B!==1&&(B=1):S!==-1&&(B=-1)}return S===-1||y===-1||B===0||B===1&&S===y-1&&S===x+1?"":h.slice(S,y)},"extname"),format:a(function(h){if(h===null||typeof h!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof h);return _("/",h)},"format"),parse:a(function(h){g(h);var S={root:"",dir:"",base:"",ext:"",name:""};if(h.length===0)return S;var x=h.charCodeAt(0),y=x===47,b;y?(S.root="/",b=1):b=0;for(var B=-1,F=0,q=-1,j=!0,se=h.length-1,M=0;se>=b;--se){if(x=h.charCodeAt(se),x===47){if(!j){F=se+1;break}continue}q===-1&&(j=!1,q=se+1),x===46?B===-1?B=se:M!==1&&(M=1):B!==-1&&(M=-1)}return B===-1||q===-1||M===0||M===1&&B===q-1&&B===F+1?q!==-1&&(F===0&&y?S.base=S.name=h.slice(1,q):S.base=S.name=h.slice(F,q)):(F===0&&y?(S.name=h.slice(1,B),S.base=h.slice(1,q)):(S.name=h.slice(F,B),S.base=h.slice(F,q)),S.ext=h.slice(B,q)),F>0?S.dir=h.slice(0,F-1):y&&(S.dir="/"),S},"parse"),sep:"/",delimiter:":",win32:null,posix:null};R.posix=R,he.exports=R},8985:(he,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.Deferred=void 0;class E{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((g,w)=>{this.reject=w,this.resolve=g})}}a(E,"Deferred"),l.Deferred=E},7279:(he,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.EndOfStreamError=l.defaultMessages=void 0,l.defaultMessages="End-Of-Stream";class E extends Error{constructor(){super(l.defaultMessages)}}a(E,"EndOfStreamError"),l.EndOfStreamError=E},6654:(he,l,E)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.StreamReader=l.EndOfStreamError=void 0;const v=E(7279),g=E(8985);var w=E(7279);Object.defineProperty(l,"EndOfStreamError",{enumerable:!0,get:function(){return w.EndOfStreamError}});const _=1*1024*1024;class R{constructor(h){if(this.s=h,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!h.read||!h.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new v.EndOfStreamError)),this.s.once("error",S=>this.reject(S)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(h,S,x){const y=await this.read(h,S,x);return this.peekQueue.push(h.subarray(S,S+y)),y}async read(h,S,x){if(x===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new v.EndOfStreamError;let y=x,b=0;for(;this.peekQueue.length>0&&y>0;){const B=this.peekQueue.pop();if(!B)throw new Error("peekData should be defined");const F=Math.min(B.length,y);h.set(B.subarray(0,F),S+b),b+=F,y-=F,F<B.length&&this.peekQueue.push(B.subarray(F))}for(;y>0&&!this.endOfStream;){const B=Math.min(y,_),F=await this.readFromStream(h,S+b,B);if(b+=F,F<B)break;y-=F}return b}async readFromStream(h,S,x){const y=this.s.read(x);if(y)return h.set(y,S),y.length;{const b={buffer:h,offset:S,length:x,deferred:new g.Deferred};return this.deferred=b.deferred,this.s.once("readable",()=>{this.readDeferred(b)}),b.deferred.promise}}readDeferred(h){const S=this.s.read(h.length);S?(h.buffer.set(S,h.offset),h.deferred.resolve(S.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(h)})}reject(h){this.endOfStream=!0,this.deferred&&(this.deferred.reject(h),this.deferred=null)}}a(R,"StreamReader"),l.StreamReader=R},5167:(he,l,E)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.StreamReader=l.EndOfStreamError=void 0;var v=E(7279);Object.defineProperty(l,"EndOfStreamError",{enumerable:!0,get:function(){return v.EndOfStreamError}});var g=E(6654);Object.defineProperty(l,"StreamReader",{enumerable:!0,get:function(){return g.StreamReader}})},4155:he=>{var l=he.exports={},E,v;function g(){throw new Error("setTimeout has not been defined")}a(g,"defaultSetTimout");function w(){throw new Error("clearTimeout has not been defined")}a(w,"defaultClearTimeout"),function(){try{typeof setTimeout=="function"?E=setTimeout:E=g}catch(q){E=g}try{typeof clearTimeout=="function"?v=clearTimeout:v=w}catch(q){v=w}}();function _(q){if(E===setTimeout)return setTimeout(q,0);if((E===g||!E)&&setTimeout)return E=setTimeout,setTimeout(q,0);try{return E(q,0)}catch(j){try{return E.call(null,q,0)}catch(se){return E.call(this,q,0)}}}a(_,"runTimeout");function R(q){if(v===clearTimeout)return clearTimeout(q);if((v===w||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(q);try{return v(q)}catch(j){try{return v.call(null,q)}catch(se){return v.call(this,q)}}}a(R,"runClearTimeout");var T=[],h=!1,S,x=-1;function y(){!h||!S||(h=!1,S.length?T=S.concat(T):x=-1,T.length&&b())}a(y,"cleanUpNextTick");function b(){if(!h){var q=_(y);h=!0;for(var j=T.length;j;){for(S=T,T=[];++x<j;)S&&S[x].run();x=-1,j=T.length}S=null,h=!1,R(q)}}a(b,"drainQueue"),l.nextTick=function(q){var j=new Array(arguments.length-1);if(arguments.length>1)for(var se=1;se<arguments.length;se++)j[se-1]=arguments[se];T.push(new B(q,j)),T.length===1&&!h&&_(b)};function B(q,j){this.fun=q,this.array=j}a(B,"Item"),B.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={};function F(){}a(F,"noop"),l.on=F,l.addListener=F,l.once=F,l.off=F,l.removeListener=F,l.removeAllListeners=F,l.emit=F,l.prependListener=F,l.prependOnceListener=F,l.listeners=function(q){return[]},l.binding=function(q){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(q){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},842:(he,l,E)=>{"use strict";var v=E(8764).Buffer;Object.defineProperty(l,"__esModule",{value:!0}),l.AbstractTokenizer=void 0;const g=E(5167);class w{constructor(R){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=R||{}}async readToken(R,T=this.position){const h=v.alloc(R.len);if(await this.readBuffer(h,{position:T})<R.len)throw new g.EndOfStreamError;return R.get(h,0)}async peekToken(R,T=this.position){const h=v.alloc(R.len);if(await this.peekBuffer(h,{position:T})<R.len)throw new g.EndOfStreamError;return R.get(h,0)}async readNumber(R){if(await this.readBuffer(this.numBuffer,{length:R.len})<R.len)throw new g.EndOfStreamError;return R.get(this.numBuffer,0)}async peekNumber(R){if(await this.peekBuffer(this.numBuffer,{length:R.len})<R.len)throw new g.EndOfStreamError;return R.get(this.numBuffer,0)}async ignore(R){if(this.fileInfo.size!==void 0){const T=this.fileInfo.size-this.position;if(R>T)return this.position+=T,T}return this.position+=R,R}async close(){}normalizeOptions(R,T){if(T&&T.position!==void 0&&T.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return T?{mayBeLess:T.mayBeLess===!0,offset:T.offset?T.offset:0,length:T.length?T.length:R.length-(T.offset?T.offset:0),position:T.position?T.position:this.position}:{mayBeLess:!1,offset:0,length:R.length,position:this.position}}}a(w,"AbstractTokenizer"),l.AbstractTokenizer=w},778:(he,l,E)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.BufferTokenizer=void 0;const v=E(5167),g=E(842);class w extends g.AbstractTokenizer{constructor(R,T){super(T);this.uint8Array=R,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:R.length}async readBuffer(R,T){if(T&&T.position){if(T.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=T.position}const h=await this.peekBuffer(R,T);return this.position+=h,h}async peekBuffer(R,T){const h=this.normalizeOptions(R,T),S=Math.min(this.uint8Array.length-h.position,h.length);if(!h.mayBeLess&&S<h.length)throw new v.EndOfStreamError;return R.set(this.uint8Array.subarray(h.position,h.position+S),h.offset),S}async close(){}}a(w,"BufferTokenizer"),l.BufferTokenizer=w},7859:(he,l,E)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.fromFile=l.FileTokenizer=void 0;const v=E(842),g=E(5167),w=E(7209);class _ extends v.AbstractTokenizer{constructor(h,S){super(S);this.fd=h}async readBuffer(h,S){const x=this.normalizeOptions(h,S);this.position=x.position;const y=await w.read(this.fd,h,x.offset,x.length,x.position);if(this.position+=y.bytesRead,y.bytesRead<x.length&&(!S||!S.mayBeLess))throw new g.EndOfStreamError;return y.bytesRead}async peekBuffer(h,S){const x=this.normalizeOptions(h,S),y=await w.read(this.fd,h,x.offset,x.length,x.position);if(!x.mayBeLess&&y.bytesRead<x.length)throw new g.EndOfStreamError;return y.bytesRead}async close(){return w.close(this.fd)}}a(_,"FileTokenizer"),l.FileTokenizer=_;async function R(T){const h=await w.stat(T);if(!h.isFile)throw new Error(`File not a file: ${T}`);const S=await w.open(T,"r");return new _(S,{path:T,size:h.size})}a(R,"fromFile"),l.fromFile=R},7209:(he,l,E)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.readFile=l.writeFileSync=l.writeFile=l.read=l.open=l.close=l.stat=l.createReadStream=l.pathExists=void 0;const v=E(4059);l.pathExists=v.existsSync,l.createReadStream=v.createReadStream;async function g(x){return new Promise((y,b)=>{v.stat(x,(B,F)=>{B?b(B):y(F)})})}a(g,"stat"),l.stat=g;async function w(x){return new Promise((y,b)=>{v.close(x,B=>{B?b(B):y()})})}a(w,"close"),l.close=w;async function _(x,y){return new Promise((b,B)=>{v.open(x,y,(F,q)=>{F?B(F):b(q)})})}a(_,"open"),l.open=_;async function R(x,y,b,B,F){return new Promise((q,j)=>{v.read(x,y,b,B,F,(se,M,$)=>{se?j(se):q({bytesRead:M,buffer:$})})})}a(R,"read"),l.read=R;async function T(x,y){return new Promise((b,B)=>{v.writeFile(x,y,F=>{F?B(F):b()})})}a(T,"writeFile"),l.writeFile=T;function h(x,y){v.writeFileSync(x,y)}a(h,"writeFileSync"),l.writeFileSync=h;async function S(x){return new Promise((y,b)=>{v.readFile(x,(B,F)=>{B?b(B):y(F)})})}a(S,"readFile"),l.readFile=S},599:(he,l,E)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.ReadStreamTokenizer=void 0;const v=E(842),g=E(5167),w=256e3;class _ extends v.AbstractTokenizer{constructor(T,h){super(h);this.streamReader=new g.StreamReader(T)}async getFileInfo(){return this.fileInfo}async readBuffer(T,h){const S=this.normalizeOptions(T,h),x=S.position-this.position;if(x>0)return await this.ignore(x),this.readBuffer(T,h);if(x<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(S.length===0)return 0;const y=await this.streamReader.read(T,S.offset,S.length);if(this.position+=y,(!h||!h.mayBeLess)&&y<S.length)throw new g.EndOfStreamError;return y}async peekBuffer(T,h){const S=this.normalizeOptions(T,h);let x=0;if(S.position){const y=S.position-this.position;if(y>0){const b=new Uint8Array(S.length+y);return x=await this.peekBuffer(b,{mayBeLess:S.mayBeLess}),T.set(b.subarray(y),S.offset),x-y}else if(y<0)throw new Error("Cannot peek from a negative offset in a stream")}if(S.length>0){try{x=await this.streamReader.peek(T,S.offset,S.length)}catch(y){if(h&&h.mayBeLess&&y instanceof g.EndOfStreamError)return 0;throw y}if(!S.mayBeLess&&x<S.length)throw new g.EndOfStreamError}return x}async ignore(T){const h=Math.min(w,T),S=new Uint8Array(h);let x=0;for(;x<T;){const y=T-x,b=await this.readBuffer(S,{length:Math.min(h,y)});if(b<0)return b;x+=b}return x}}a(_,"ReadStreamTokenizer"),l.ReadStreamTokenizer=_},5849:(he,l,E)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.fromBuffer=l.fromStream=l.EndOfStreamError=void 0;const v=E(599),g=E(778);var w=E(5167);Object.defineProperty(l,"EndOfStreamError",{enumerable:!0,get:function(){return w.EndOfStreamError}});function _(T,h){return h=h||{},new v.ReadStreamTokenizer(T,h)}a(_,"fromStream"),l.fromStream=_;function R(T,h){return new g.BufferTokenizer(T,h)}a(R,"fromBuffer"),l.fromBuffer=R},6597:(he,l,E)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.fromStream=l.fromBuffer=l.EndOfStreamError=l.fromFile=void 0;const v=E(7209),g=E(5849);var w=E(7859);Object.defineProperty(l,"fromFile",{enumerable:!0,get:function(){return w.fromFile}});var _=E(5849);Object.defineProperty(l,"EndOfStreamError",{enumerable:!0,get:function(){return _.EndOfStreamError}}),Object.defineProperty(l,"fromBuffer",{enumerable:!0,get:function(){return _.fromBuffer}});async function R(T,h){if(h=h||{},T.path){const S=await v.stat(T.path);h.path=T.path,h.size=S.size}return g.fromStream(T,h)}a(R,"fromStream"),l.fromStream=R},3416:(he,l,E)=>{"use strict";var v=E(8764).Buffer;Object.defineProperty(l,"__esModule",{value:!0}),l.AnsiStringType=l.StringType=l.BufferType=l.Uint8ArrayType=l.IgnoreType=l.Float80_LE=l.Float80_BE=l.Float64_LE=l.Float64_BE=l.Float32_LE=l.Float32_BE=l.Float16_LE=l.Float16_BE=l.INT64_BE=l.UINT64_BE=l.INT64_LE=l.UINT64_LE=l.INT32_LE=l.INT32_BE=l.INT24_BE=l.INT24_LE=l.INT16_LE=l.INT16_BE=l.INT8=l.UINT32_BE=l.UINT32_LE=l.UINT24_BE=l.UINT24_LE=l.UINT16_BE=l.UINT16_LE=l.UINT8=void 0;const g=E(645);function w(x){return new DataView(x.buffer,x.byteOffset)}a(w,"dv"),l.UINT8={len:1,get(x,y){return w(x).getUint8(y)},put(x,y,b){return w(x).setUint8(y,b),y+1}},l.UINT16_LE={len:2,get(x,y){return w(x).getUint16(y,!0)},put(x,y,b){return w(x).setUint16(y,b,!0),y+2}},l.UINT16_BE={len:2,get(x,y){return w(x).getUint16(y)},put(x,y,b){return w(x).setUint16(y,b),y+2}},l.UINT24_LE={len:3,get(x,y){const b=w(x);return b.getUint8(y)+(b.getUint16(y+1,!0)<<8)},put(x,y,b){const B=w(x);return B.setUint8(y,b&255),B.setUint16(y+1,b>>8,!0),y+3}},l.UINT24_BE={len:3,get(x,y){const b=w(x);return(b.getUint16(y)<<8)+b.getUint8(y+2)},put(x,y,b){const B=w(x);return B.setUint16(y,b>>8),B.setUint8(y+2,b&255),y+3}},l.UINT32_LE={len:4,get(x,y){return w(x).getUint32(y,!0)},put(x,y,b){return w(x).setUint32(y,b,!0),y+4}},l.UINT32_BE={len:4,get(x,y){return w(x).getUint32(y)},put(x,y,b){return w(x).setUint32(y,b),y+4}},l.INT8={len:1,get(x,y){return w(x).getInt8(y)},put(x,y,b){return w(x).setInt8(y,b),y+2}},l.INT16_BE={len:2,get(x,y){return w(x).getInt16(y)},put(x,y,b){return w(x).setInt16(y,b),y+2}},l.INT16_LE={len:2,get(x,y){return w(x).getInt16(y,!0)},put(x,y,b){return w(x).setInt16(y,b,!0),y+2}},l.INT24_LE={len:3,get(x,y){const b=l.UINT24_LE.get(x,y);return b>8388607?b-16777216:b},put(x,y,b){const B=w(x);return B.setUint8(y,b&255),B.setUint16(y+1,b>>8,!0),y+3}},l.INT24_BE={len:3,get(x,y){const b=l.UINT24_BE.get(x,y);return b>8388607?b-16777216:b},put(x,y,b){const B=w(x);return B.setUint16(y,b>>8),B.setUint8(y+2,b&255),y+3}},l.INT32_BE={len:4,get(x,y){return w(x).getInt32(y)},put(x,y,b){return w(x).setInt32(y,b),y+4}},l.INT32_LE={len:4,get(x,y){return w(x).getInt32(y,!0)},put(x,y,b){return w(x).setInt32(y,b,!0),y+4}},l.UINT64_LE={len:8,get(x,y){return w(x).getBigUint64(y,!0)},put(x,y,b){return w(x).setBigUint64(y,b,!0),y+8}},l.INT64_LE={len:8,get(x,y){return w(x).getBigInt64(y,!0)},put(x,y,b){return w(x).setBigInt64(y,b,!0),y+8}},l.UINT64_BE={len:8,get(x,y){return w(x).getBigUint64(y)},put(x,y,b){return w(x).setBigUint64(y,b),y+8}},l.INT64_BE={len:8,get(x,y){return w(x).getBigInt64(y)},put(x,y,b){return w(x).setBigInt64(y,b),y+8}},l.Float16_BE={len:2,get(x,y){return g.read(x,y,!1,10,this.len)},put(x,y,b){return g.write(x,b,y,!1,10,this.len),y+this.len}},l.Float16_LE={len:2,get(x,y){return g.read(x,y,!0,10,this.len)},put(x,y,b){return g.write(x,b,y,!0,10,this.len),y+this.len}},l.Float32_BE={len:4,get(x,y){return w(x).getFloat32(y)},put(x,y,b){return w(x).setFloat32(y,b),y+4}},l.Float32_LE={len:4,get(x,y){return w(x).getFloat32(y,!0)},put(x,y,b){return w(x).setFloat32(y,b,!0),y+4}},l.Float64_BE={len:8,get(x,y){return w(x).getFloat64(y)},put(x,y,b){return w(x).setFloat64(y,b),y+8}},l.Float64_LE={len:8,get(x,y){return w(x).getFloat64(y,!0)},put(x,y,b){return w(x).setFloat64(y,b,!0),y+8}},l.Float80_BE={len:10,get(x,y){return g.read(x,y,!1,63,this.len)},put(x,y,b){return g.write(x,b,y,!1,63,this.len),y+this.len}},l.Float80_LE={len:10,get(x,y){return g.read(x,y,!0,63,this.len)},put(x,y,b){return g.write(x,b,y,!0,63,this.len),y+this.len}};class _{constructor(y){this.len=y}get(y,b){}}a(_,"IgnoreType"),l.IgnoreType=_;class R{constructor(y){this.len=y}get(y,b){return y.subarray(b,b+this.len)}}a(R,"Uint8ArrayType"),l.Uint8ArrayType=R;class T{constructor(y){this.len=y}get(y,b){return v.from(y.subarray(b,b+this.len))}}a(T,"BufferType"),l.BufferType=T;class h{constructor(y,b){this.len=y,this.encoding=b}get(y,b){return v.from(y).toString(this.encoding,b,b+this.len)}}a(h,"StringType"),l.StringType=h;class S{constructor(y){this.len=y}static decode(y,b,B){let F="";for(let q=b;q<B;++q)F+=S.codePointToString(S.singleByteDecoder(y[q]));return F}static inRange(y,b,B){return b<=y&&y<=B}static codePointToString(y){return y<=65535?String.fromCharCode(y):(y-=65536,String.fromCharCode((y>>10)+55296,(y&1023)+56320))}static singleByteDecoder(y){if(S.inRange(y,0,127))return y;const b=S.windows1252[y-128];if(b===null)throw Error("invaliding encoding");return b}get(y,b=0){return S.decode(y,b,b+this.len)}}a(S,"AnsiStringType"),l.AnsiStringType=S,S.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},2479:he=>{he.exports=l;function l(E,v){if(E&&v)return l(E)(v);if(typeof E!="function")throw new TypeError("need wrapper function");return Object.keys(E).forEach(function(w){g[w]=E[w]}),g;function g(){for(var w=new Array(arguments.length),_=0;_<w.length;_++)w[_]=arguments[_];var R=E.apply(this,w),T=w[w.length-1];return typeof R=="function"&&R!==T&&Object.keys(T).forEach(function(h){R[h]=T[h]}),R}a(g,"wrapper")}a(l,"wrappy")},6529:()=>{},6391:()=>{},4059:()=>{}},__webpack_module_cache__={};function __webpack_require__(he){var l=__webpack_module_cache__[he];if(l!==void 0)return l.exports;var E=__webpack_module_cache__[he]={id:he,loaded:!1,exports:{}};return __webpack_modules__[he].call(E.exports,E,E.exports,__webpack_require__),E.loaded=!0,E.exports}a(__webpack_require__,"__webpack_require__"),(()=>{__webpack_require__.n=he=>{var l=he&&he.__esModule?()=>he.default:()=>he;return __webpack_require__.d(l,{a:l}),l}})(),(()=>{__webpack_require__.d=(he,l)=>{for(var E in l)__webpack_require__.o(l,E)&&!__webpack_require__.o(he,E)&&Object.defineProperty(he,E,{enumerable:!0,get:l[E]})}})(),(()=>{__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(he){if(typeof window=="object")return window}}()})(),(()=>{__webpack_require__.o=(he,l)=>Object.prototype.hasOwnProperty.call(he,l)})(),(()=>{__webpack_require__.r=he=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(he,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(he,"__esModule",{value:!0})}})(),(()=>{__webpack_require__.nmd=he=>(he.paths=[],he.children||(he.children=[]),he)})();var __webpack_exports__={};(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{StateKeys:()=>qa,activate:()=>tc,getState:()=>Iu,updateState:()=>Fu});var he={};__webpack_require__.r(he),__webpack_require__.d(he,{max:()=>Ki,min:()=>Zi});const l=require("vscode"),E=new TextDecoder,v=new TextEncoder,g=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function w(r){const e=v.encode(r),t=new Array(e.length);for(let n=0;n<e.length;++n)t[n]=g[e[n]];return t.join("")}a(w,"encodeUtf8Hex");function _(r){const e=r.match(/(\w{2})/g);if(e===null)return"";const t=new Uint8Array(e.map(n=>parseInt(n,16)));return E.decode(t)}a(_,"decodeUtf8Hex");const R=/^[0-9a-f]{40}$/i;function T(r){return r!==void 0&&R.test(r)}a(T,"isSha");const h=/^[^/](?!.*\/\.)(?!.*\.\.)(?!.*\/\/)(?!.*@\{)[^\000-\037\177 ~^:?*[\\]+[^./]$/;function S(r){return h.test(r)}a(S,"isValidBranchName");function x(r){return r===""||r==="~"||r==="HEAD"?r:r.endsWith("^")?`${r.substr(0,7)}^`:r.substr(0,7)}a(x,"shortenRef");const y=47;function b(r){if(r===void 0)return;const e=r.path.endsWith("/");return!e&&!r.fragment?r.toString():r.with({path:e?r.path.slice(0,-1):r.path,fragment:""}).toString()}a(b,"asKey");function B(r){if(r===void 0)return;const e=r.path.endsWith("/");return!e&&!r.query&&!r.fragment?r.toString():r.with({path:e?r.path.slice(0,-1):r.path,query:"",fragment:""}).toString()}a(B,"asFileKey");function F(r,e){return`${(e==null?void 0:e.excludeScheme)?"":`${r.scheme}-`}${r.authority}${r.path.endsWith("/")?r.path.slice(0,-1):r.path}`}a(F,"asFileStorageKey");function q(r){const e=typeof r=="string"?r:r.path;let t=0,n=-1,i=!0;for(let o=e.length-1;o>=0;--o)if(e.charCodeAt(o)===y){if(!i){t=o+1;break}}else n===-1&&(i=!1,n=o+1);return n===-1?"":e.slice(t,n)}a(q,"uris_basename");function j(r){const e=r.path;if(e.length===1)return"/";let t,n=-1,i=!0;for(let o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),t===y){if(!i){n=o;break}}else i=!1;return n===-1?"/":e.slice(0,n)}a(j,"dirname");function se(r){const e=r.path.lastIndexOf("/");return e===-1?r.with({path:"/"}):r.with({path:r.path.substring(0,e)})}a(se,"getParent");function M(r,e){const t=typeof e=="string"?e:e.path;return t.startsWith(r.path)?l.Uri.joinPath(r,t.substr(r.path.length)):l.Uri.joinPath(r,t)}a(M,"joinRelativePath");function $(r,e){return typeof e=="string"?(e.startsWith("/")||(e=`/${e}`),k(r,e)&&r.path.substr(e.length+(e.endsWith("/")?0:1)).split("/").length===1):k(r,e)&&r.path.substr(e.path.length+(e.path.endsWith("/")?0:1)).split("/").length===1}a($,"isChild");function k(r,e){if(typeof r=="string")return e=typeof e=="string"?e:e.path,e.startsWith("/")||(e=`/${e}`),e.length===1||r.startsWith(e.endsWith("/")?e:`${e}/`);if(typeof e=="string"){e.startsWith("/")||(e=`/${e}`);const t=typeof r=="string"?r:r.path;return e.length===1||t.startsWith(e.endsWith("/")?e:`${e}/`)}return e.scheme===r.scheme&&e.authority===r.authority&&(e.path.length===1||r.path.startsWith(e.path.endsWith("/")?e.path:`${e.path}/`))}a(k,"uris_isDescendent");function A(r){return r&&typeof r=="object"&&"scheme"in r}a(A,"isSerializedUri");function N(r){return r.split("/").map(e=>encodeURIComponent(e)).join("/")}a(N,"encodeURIComponentExceptSlashes");var U;(function(r){r.authoritySeparator="+",r.scheme="vscode-vfs",r.baseVirtualWorkspaceUri=l.Uri.parse(`${r.scheme}://`);function e(f){const{authority:p}=f,D=p.indexOf(r.authoritySeparator);return D!==-1?p.substr(0,D):p}a(e,"getProviderId"),r.getProviderId=e;function t(f){return f.scheme!==r.scheme?f:f.with({scheme:e(f)})}a(t,"getProviderUri"),r.getProviderUri=t;function n(f,p){const D=new Map,I=l.workspace.textDocuments;if(I.length===0)return D;for(const z of I)z.uri.scheme===f&&p.some(fe=>k(z.uri,fe))&&D.set(b(z.uri),z.uri);return D}a(n,"getOpenUris"),r.getOpenUris=n;function i(f){return f.scheme===r.scheme?f:f.with({scheme:r.scheme})}a(i,"getVirtualUri"),r.getVirtualUri=i;function o(f,p){const[D,I]=f.authority.split(r.authoritySeparator);let z;if(I)try{const fe=JSON.parse(_(I));z=p?p(fe):fe}catch{}return{scheme:D,metadata:z}}a(o,"decodeAuthority"),r.decodeAuthority=o;function s(f,p){const D=p?`${r.authoritySeparator}${w(JSON.stringify(p))}`:"";return`${f}${D}`}a(s,"encodeAuthority"),r.encodeAuthority=s;function u(f){return f.authority.indexOf(r.authoritySeparator)===-1}a(u,"isCanonicalUri"),r.isCanonicalUri=u;function c(){var f,p;return(p=(f=l.workspace.workspaceFolders)==null?void 0:f.every(D=>D.uri.scheme===r.scheme))!=null?p:!1}a(c,"isVirtualWorkspace"),r.isVirtualWorkspace=c})(U||(U={}));var te;(function(r){r[r.Admin=100]="Admin",r[r.Maintain=40]="Maintain",r[r.WriteToPullRequest=31]="WriteToPullRequest",r[r.Write=30]="Write",r[r.Triage=20]="Triage",r[r.Read=10]="Read",r[r.None=0]="None"})(te||(te={}));var X;(function(r){r[r.Branch=0]="Branch",r[r.RemoteBranch=1]="RemoteBranch",r[r.Tag=2]="Tag",r[r.Commit=3]="Commit"})(X||(X={}));var re;(function(r){function e(t){return t!==void 0&&t.type===ie.Active}a(e,"isActive"),r.isActive=e})(re||(re={}));var ce;(function(r){function e(t){const n=U.decodeAuthority(t).metadata;if(!(n===void 0||n.idx===void 0)){if(n.idx==="latest")return{type:Se.Latest};if(T(n.idx))return{type:Se.SHA,sha:n.idx}}}a(e,"decode"),r.decode=e})(ce||(ce={}));var Se;(function(r){r[r.Latest=1]="Latest",r[r.SHA=2]="SHA"})(Se||(Se={}));var ie;(function(r){r[r.NotIndexed=0]="NotIndexed",r[r.Indexed=1]="Indexed",r[r.Match=2]="Match",r[r.Active=3]="Active"})(ie||(ie={})),function(r){function e(t){return t!==void 0&&(t===r.Indexed||t===r.Match||t===r.Active)}a(e,"hasIndex"),r.hasIndex=e}(ie||(ie={}));var ye;(function(r){r[r.Open=0]="Open",r[r.Closed=1]="Closed",r[r.Merged=2]="Merged"})(ye||(ye={}));var W;(function(r){r[r.Changed=1]="Changed",r[r.Created=2]="Created",r[r.Deleted=3]="Deleted"})(W||(W={}));var Ye;(function(r){r.CurrentWindow="currentWindow",r.NewWindow="newWindow",r.AddToWorkspace="addToWorkspace"})(Ye||(Ye={}));var be;(function(r){r[r.Branch=0]="Branch",r[r.Tag=1]="Tag",r[r.Commit=2]="Commit",r[r.PullRequest=3]="PullRequest",r[r.Tree=4]="Tree"})(be||(be={}));var de;(function(r){r[r.Abort=0]="Abort",r[r.KeepCurrent=1]="KeepCurrent",r[r.DiscardCurrent=2]="DiscardCurrent",r[r.Merge=3]="Merge"})(de||(de={}));var Q;(function(r){r[r.Repository=0]="Repository",r[r.PullRequest=1]="PullRequest",r[r.Branch=2]="Branch",r[r.Commit=3]="Commit",r[r.File=4]="File",r[r.Tag=5]="Tag"})(Q||(Q={}));var oe;(function(r){r.Branch="branch",r.RemoteBranch="remoteBranch",r.PullRequestBranch="pullRequestBranch",r.PullRequestRemoteBranch="pullRequestRemoteBranch",r.Tag="tag",r.Commit="commit"})(oe||(oe={}));var Te;(function(r){r.None="none",r.Latest="latest",r.Match="match",r.TipPlusLatest="tip+latest"})(Te||(Te={}));var Oe;(function(r){r.Browse="browse",r.Edit="edit"})(Oe||(Oe={}));var ne;(function(r){r.CommitFailedError="CommitFailedError",r.DetachedHEADError="DetachedHEADError",r.CommitToProtectedBranchError="CommitToProtectedBranchError",r.CommitToArchivedRepositoryError="CommitToArchivedRepositoryError",r.InvalidBranchNameError="InvalidBranchNameError",r.InvalidCredentialsError="InvalidCredentialsError",r.MergeConflictError="MergeConflictError",r.NothingToCommitError="NothingToCommitError",r.SyncConflictsError="SyncConflictsError",r.SyncOrFetchError="SyncOrFetchError",r.UnresolvedConflictsError="UnresolvedConflictsError",r.InvalidRepositoryError="InvalidRepositoryError",r.Unknown="Unknown"})(ne||(ne={}));class Ke extends Error{constructor(e,t,n){super(typeof e=="string"?e:e.message);this.messageOrError=e,this.errorCode=t,this.action=n}static CommitFailedError(){return new Ke("Failed to create and push commit",ne.CommitFailedError)}static DetachedHEADError(e){return new Ke(e,ne.DetachedHEADError)}static CommitToProtectedBranchError(e){return new Ke(e,ne.CommitToProtectedBranchError)}static CommitToArchivedRepositoryError(e){return new Ke(e,ne.CommitToArchivedRepositoryError)}static InvalidBranchNameError(e,t=!1){const n=t?`Branch '${e}' already exists`:`Invalid branch name '${e}'`;return new Ke(n,ne.InvalidBranchNameError)}static InvalidCredentialsError(e,t){return new Ke(e,ne.InvalidCredentialsError,t)}static MergeConflictError(e){return new Ke(e,ne.MergeConflictError)}static NothingToCommitError(e){return new Ke(e,ne.NothingToCommitError)}static SyncOrFetchError(e=!1){const t=e?"Unable to sync the repository":"Unable to fetch the repository";return new Ke(t,ne.SyncOrFetchError)}static SyncConflictsError(){const e="Sync operation will result in conflicts";return new Ke(e,ne.SyncConflictsError)}static UnresolvedConflictsError(){return new Ke("You have unresolved merge conflicts.",ne.UnresolvedConflictsError)}static InvalidRepositoryError(){return new Ke("The current repository is invalid",ne.InvalidRepositoryError)}static asVirtualProviderErrorCode(e){return e instanceof Error&&"messageOrError"in e&&"errorCode"in e?e.errorCode:ne.Unknown}}a(Ke,"VirtualProviderError");const Xe=6;var ot;(function(r){r.Off="off",r.Auto="auto",r.Always="always"})(ot||(ot={}));var G;(function(r){r.None="none",r.Latest="latest",r.Match="match",r.TipPlusLatest="tip+latest"})(G||(G={})),function(r){function e(t){return t===r.None||t===r.Latest||t===r.Match||t===r.TipPlusLatest?t:r.None}a(e,"sanitize"),r.sanitize=e}(G||(G={}));var ee;(function(r){r.Browse="browse",r.Edit="edit"})(ee||(ee={})),function(r){function e(n){return n===r.Browse||n===r.Edit?n:r.Edit}a(e,"sanitize"),r.sanitize=e;function t(n){return n===r.Browse?r.Edit:r.Browse}a(t,"toggle"),r.toggle=t}(ee||(ee={}));var ae;(function(r){function e(t,n){return t.display===n.display&&t.index===n.index}a(e,"equals"),r.equals=e})(ae||(ae={}));var _e;(function(r){const e=new Map([[oe.Branch,G.None],[oe.RemoteBranch,G.None],[oe.PullRequestBranch,G.Match],[oe.PullRequestRemoteBranch,G.Match],[oe.Commit,G.Match],[oe.Tag,G.Match]]),t=new Map([[oe.Branch,ee.Edit],[oe.RemoteBranch,ee.Edit],[oe.PullRequestBranch,ee.Browse],[oe.PullRequestRemoteBranch,ee.Browse],[oe.Commit,ee.Browse],[oe.Tag,ee.Browse]]);function n(o){var s,u;return{display:(s=t.get(o))!=null?s:ee.Edit,index:(u=e.get(o))!=null?u:G.None}}a(n,"getDefault"),r.getDefault=n;function i(o){switch(o){case oe.Branch:case oe.RemoteBranch:return{display:ee.Browse,index:G.Latest};case oe.PullRequestBranch:case oe.PullRequestRemoteBranch:return{display:ee.Browse,index:G.Match};case oe.Commit:case oe.Tag:return{display:ee.Browse,index:G.Match};default:return{display:ee.Edit,index:G.None}}}a(i,"getIndexDefault"),r.getIndexDefault=i})(_e||(_e={}));const Be=null;var Ue=__webpack_require__(5179),pe=__webpack_require__.n(Ue);const De="modes",Le="indexMemento";class Ve{constructor(){this._onDidChange=new l.EventEmitter,this._onDidChangeAny=new l.EventEmitter,this.memoryState=new Map}static configure(e,t){Me.configPrefix=e,Me.state=t.workspaceState,t.subscriptions.push(l.workspace.onDidChangeConfiguration(Me.onConfigurationChanged,Me))}get onDidChange(){return this._onDidChange.event}get onDidChangeAny(){return this._onDidChangeAny.event}onConfigurationChanged(e){if(!e.affectsConfiguration(this.configPrefix)){this._onDidChangeAny.fire(e);return}this._onDidChangeAny.fire(e),this._onDidChange.fire(e)}set state(e){if(this._state=e,this.modes=this._state.get(De),this.modes===void 0&&(this.modes=Object.create(null)),this.memoryState.size!==0){for(const t of this.memoryState.entries())this.modes[t[0]]=t[1];this._state.update(De,this.modes).then(()=>{this.memoryState.clear()},void 0)}this.indexMemento=this._state.get(Le),this.indexMemento===void 0&&(this.indexMemento=Object.create(null))}getEffective(e,t,n){const i=this.inspect(e,t);return i===void 0&&n!==void 0?n:(i==null?void 0:i.workspaceFolderValue)!==void 0?i.workspaceFolderValue:(i==null?void 0:i.workspaceValue)!==void 0?i.workspaceValue:i==null?void 0:i.globalValue}get(e,t,n){return n===void 0?l.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,t).get(e===void 0?this.configPrefix:e):l.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,t).get(e===void 0?this.configPrefix:e,n)}getMode(e,t,n){var i;const o=e.toString();let s=this.modes!==void 0?this.modes[o]:void 0;if(s!==void 0)return{display:ee.sanitize(s.display),index:G.sanitize(s.index)};if(s=this.memoryState.get(o),s!==void 0)return s;if(t===oe.Branch||t===oe.RemoteBranch)switch((i=l.workspace.getConfiguration("remoteHub.richNavigation.indexMode",e))==null?void 0:i.get("branch")){case"none":return{display:ee.Edit,index:G.None};case"latest":return{display:ee.Browse,index:G.Latest};case"tipPlusLatest":return{display:ee.Edit,index:G.TipPlusLatest}}if(!n)return _e.getDefault(t)}setMode(e,t){const n=e.toString();return this._state===void 0||this.modes===void 0?(this.memoryState.set(n,t),Promise.resolve()):(this.modes[n]=t,this._state.update(De,this.modes))}getIndexMemento(e){if(this.indexMemento!==void 0)return this.indexMemento[e.toString()]}setIndexMemento(e,t){return this.indexMemento===void 0||this._state===void 0?Promise.resolve():(this.indexMemento[e.toString()]=t,this._state.update(Le,this.indexMemento))}getAny(e,t,n){return n===void 0?l.workspace.getConfiguration(void 0,t).get(e):l.workspace.getConfiguration(void 0,t).get(e,n)}changed(e,t,n){var i;return(i=e==null?void 0:e.affectsConfiguration(`${this.configPrefix}.${t}`,n))!=null?i:!0}inspect(e,t){return l.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,t).inspect(e===void 0?this.configPrefix:e)}inspectAny(e,t){return l.workspace.getConfiguration(void 0,t).inspect(e)}async migrate(e,t,n){const i=Me.inspect(e);if(i===void 0)return!1;let o=!1;return i.globalValue!==void 0&&(await this.update(t,n.migrationFn!=null?n.migrationFn(i.globalValue):i.globalValue,l.ConfigurationTarget.Global),o=!0),i.workspaceValue!==void 0&&(await this.update(t,n.migrationFn!=null?n.migrationFn(i.workspaceValue):i.workspaceValue,l.ConfigurationTarget.Workspace),o=!0),i.workspaceFolderValue!==void 0&&(await this.update(t,n.migrationFn!=null?n.migrationFn(i.workspaceFolderValue):i.workspaceFolderValue,l.ConfigurationTarget.WorkspaceFolder),o=!0),!o&&n.fallbackValue!==void 0&&(await this.update(t,n.fallbackValue,l.ConfigurationTarget.Global),o=!0),o}async migrateIfMissing(e,t,n){const i=Me.inspect(e);if(i===void 0)return;const o=Me.inspect(t);i.globalValue!==void 0&&(o===void 0||o.globalValue===void 0)&&await this.update(t,n.migrationFn!=null?n.migrationFn(i.globalValue):i.globalValue,l.ConfigurationTarget.Global),i.workspaceValue!==void 0&&(o===void 0||o.workspaceValue===void 0)&&await this.update(t,n.migrationFn!=null?n.migrationFn(i.workspaceValue):i.workspaceValue,l.ConfigurationTarget.Workspace),i.workspaceFolderValue!==void 0&&(o===void 0||o.workspaceFolderValue===void 0)&&await this.update(t,n.migrationFn!=null?n.migrationFn(i.workspaceFolderValue):i.workspaceFolderValue,l.ConfigurationTarget.WorkspaceFolder)}name(e){return e}update(e,t,n){return l.workspace.getConfiguration(this.configPrefix).update(e,t,n)}updateAny(e,t,n,i){return l.workspace.getConfiguration(void 0,n===l.ConfigurationTarget.Global?void 0:i).update(e,t,n)}updateEffective(e,t){const n=Me.inspect(e);return n.workspaceFolderValue!==void 0?t===n.workspaceFolderValue?Promise.resolve(void 0):Me.update(e,t,l.ConfigurationTarget.WorkspaceFolder):n.workspaceValue!==void 0?t===n.workspaceValue?Promise.resolve(void 0):Me.update(e,t,l.ConfigurationTarget.Workspace):n.globalValue===t||n.globalValue===void 0&&t===n.defaultValue?Promise.resolve(void 0):Me.update(e,pe()(t,n.defaultValue)?void 0:t,l.ConfigurationTarget.Global)}}a(Ve,"Configuration");const Me=new Ve,$e="";var tt;(function(r){r.Off="off",r.Error="error",r.Warn="warn",r.Info="info",r.Debug="debug"})(tt||(tt={}));var st;(function(r){r[r.Off=0]="Off",r[r.Error=1]="Error",r[r.Warn=2]="Warn",r[r.Info=3]="Info",r[r.Debug=4]="Debug"})(st||(st={}));const Fe="[RemoteHub]",J=a(class{static configure(r,e,t){this._isDebugging=r.extensionMode===l.ExtensionMode.Development,this.outputChannelName=e,this.logLevel=t}static enabled(r){return this.level>=this.toOrderedLevel(r)}static get logLevel(){return this._logLevel}static set logLevel(r){var e,t;this._logLevel=r,this.level=this.toOrderedLevel(r),r===tt.Off?((e=this.output)==null||e.dispose(),this.output=void 0):this.output=(t=this.output)!=null?t:l.window.createOutputChannel(this.outputChannelName)}static toOrderedLevel(r){switch(r){case tt.Off:return 0;case tt.Error:return 1;case tt.Warn:return 2;case tt.Info:return 3;case tt.Debug:return 4}}static get isDebugging(){return this._isDebugging}static debug(r,...e){J.isDebugging&&console.log(this.timestamp,Fe,r!=null?r:$e,...e),!(this.output===void 0||this.level<4)&&this.output.appendLine(`${this.timestamp} ${r!=null?r:$e}${this.toLoggableParams(!0,e)}`)}static error(r,e,...t){if(!(this.level<1&&!J.isDebugging)){if(e===void 0){const n=r instanceof Error?r.stack:void 0;if(n){const i=/.*\s*?at\s(.+?)\s/.exec(n);i!==null&&(e=i[1])}}J.isDebugging&&console.error(this.timestamp,Fe,e!=null?e:$e,...t,r),!(this.output===void 0||this.level<1)&&this.output.appendLine(`${this.timestamp} ${e!=null?e:$e}${this.toLoggableParams(!1,t)}
${String(r)}`)}}static log(r,...e){J.isDebugging&&console.log(this.timestamp,Fe,r!=null?r:$e,...e),!(this.output===void 0||this.level<3)&&this.output.appendLine(`${this.timestamp} ${r!=null?r:$e}${this.toLoggableParams(!1,e)}`)}static warn(r,...e){J.isDebugging&&console.warn(this.timestamp,Fe,r!=null?r:$e,...e),!(this.output===void 0||this.level<2)&&this.output.appendLine(`${this.timestamp} ${r!=null?r:$e}${this.toLoggableParams(!1,e)}`)}static showOutputChannel(){var r;(r=this.output)==null||r.show()}static toLoggable(r,e){if(typeof r!="object")return String(r);if(r instanceof l.Uri)return`Uri(${r.toString(!0)})`;try{return JSON.stringify(r,e)}catch{return"<error>"}}static toLoggableName(r){var e,t,n;let i;if(typeof r=="function"){if(r.prototype===void 0||r.prototype.constructor===void 0)return r.name;i=(e=r.prototype.constructor.name)!=null?e:$e}else i=(n=(t=r.constructor)==null?void 0:t.name)!=null?n:$e;const o=i.indexOf("_");return o===-1?i:i.substr(o+1)}static get timestamp(){const r=new Date;return`[${r.toISOString().replace(/T/," ").replace(/\..+/,$e)}:${`00${r.getUTCMilliseconds()}`.slice(-3)}]`}static toLoggableParams(r,e){if(e.length===0||r&&this.level<4&&!J.isDebugging)return $e;const t=e.map(n=>this.toLoggable(n)).join(", ");return t.length!==0?` \u2014 ${t}`:$e}},"_Logger");let Z=J;Z.level=0,Z._logLevel=tt.Off;class rt{constructor(e){this.provider=e,this._timeout=0,this._disposable=Me.onDidChange(this.onConfigurationChanged,this),this.maybeQueueFetch()}dispose(){this._disposable.dispose(),this._timeout&&clearTimeout(this._timeout)}get config(){var e;if(this._config===void 0){const t=Me.get("autoFetch");this._config={enabled:(e=t.enabled)!=null?e:!0,interval:t.interval*1e3}}return this._config}onConfigurationChanged(e){!Me.changed(e,"autoFetch")||(this._config=void 0,this.maybeQueueFetch())}async fetchAll(){const e=this.provider.repositories;e.length!==0&&(await l.window.withProgress({location:l.ProgressLocation.SourceControl},async()=>{for(const t of e)try{await this.provider.fetch(t.uri)}catch(n){Z.error(n)}}),this.maybeQueueFetch())}maybeQueueFetch(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),!!this.config.enabled&&(this._timeout=setTimeout(()=>this.fetchAll(),this.config.interval))}}a(rt,"AutoFetchService");function zt(){}a(zt,"Diff"),zt.prototype={diff:a(function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.callback;typeof n=="function"&&(i=n,n={}),this.options=n;var o=this;function s(le){return i?(setTimeout(function(){i(void 0,le)},0),!0):le}a(s,"done"),e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));var u=t.length,c=e.length,f=1,p=u+c,D=[{newPos:-1,components:[]}],I=this.extractCommon(D[0],t,e,0);if(D[0].newPos+1>=u&&I+1>=c)return s([{value:this.join(t),count:t.length}]);function z(){for(var le=-1*f;le<=f;le+=2){var Ae=void 0,Ie=D[le-1],Qe=D[le+1],lt=(Qe?Qe.newPos:0)-le;Ie&&(D[le-1]=void 0);var Ze=Ie&&Ie.newPos+1<u,dt=Qe&&0<=lt&&lt<c;if(!Ze&&!dt){D[le]=void 0;continue}if(!Ze||dt&&Ie.newPos<Qe.newPos?(Ae=Er(Qe),o.pushComponent(Ae.components,void 0,!0)):(Ae=Ie,Ae.newPos++,o.pushComponent(Ae.components,!0,void 0)),lt=o.extractCommon(Ae,t,e,le),Ae.newPos+1>=u&&lt+1>=c)return s(wr(o,Ae.components,t,e,o.useLongestToken));D[le]=Ae}f++}if(a(z,"execEditLength"),i)a(function le(){setTimeout(function(){if(f>p)return i();z()||le()},0)},"exec")();else for(;f<=p;){var fe=z();if(fe)return fe}},"diff"),pushComponent:a(function(e,t,n){var i=e[e.length-1];i&&i.added===t&&i.removed===n?e[e.length-1]={count:i.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},"pushComponent"),extractCommon:a(function(e,t,n,i){for(var o=t.length,s=n.length,u=e.newPos,c=u-i,f=0;u+1<o&&c+1<s&&this.equals(t[u+1],n[c+1]);)u++,c++,f++;return f&&e.components.push({count:f}),e.newPos=u,c},"extractCommon"),equals:a(function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},"equals"),removeEmpty:a(function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},"removeEmpty"),castInput:a(function(e){return e},"castInput"),tokenize:a(function(e){return e.split("")},"tokenize"),join:a(function(e){return e.join("")},"join")};function wr(r,e,t,n,i){for(var o=0,s=e.length,u=0,c=0;o<s;o++){var f=e[o];if(f.removed){if(f.value=r.join(n.slice(c,c+f.count)),c+=f.count,o&&e[o-1].added){var D=e[o-1];e[o-1]=e[o],e[o]=D}}else{if(!f.added&&i){var p=t.slice(u,u+f.count);p=p.map(function(z,fe){var le=n[c+fe];return le.length>z.length?le:z}),f.value=r.join(p)}else f.value=r.join(t.slice(u,u+f.count));u+=f.count,f.added||(c+=f.count)}}var I=e[s-1];return s>1&&typeof I.value=="string"&&(I.added||I.removed)&&r.equals("",I.value)&&(e[s-2].value+=I.value,e.pop()),e}a(wr,"buildValues");function Er(r){return{newPos:r.newPos,components:r.components.slice(0)}}a(Er,"clonePath");var P=new zt;function d(r,e,t){return P.diff(r,e,t)}a(d,"diffChars");function m(r,e){if(typeof r=="function")e.callback=r;else if(r)for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);return e}a(m,"generateOptions");var V=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,ve=/\S/,Pe=new zt;Pe.equals=function(r,e){return this.options.ignoreCase&&(r=r.toLowerCase(),e=e.toLowerCase()),r===e||this.options.ignoreWhitespace&&!ve.test(r)&&!ve.test(e)},Pe.tokenize=function(r){for(var e=r.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),t=0;t<e.length-1;t++)!e[t+1]&&e[t+2]&&V.test(e[t])&&V.test(e[t+2])&&(e[t]+=e[t+2],e.splice(t+1,2),t--);return e};function me(r,e,t){return t=m(t,{ignoreWhitespace:!0}),Pe.diff(r,e,t)}a(me,"diffWords");function gt(r,e,t){return Pe.diff(r,e,t)}a(gt,"diffWordsWithSpace");var Rt=new zt;Rt.tokenize=function(r){var e=[],t=r.split(/(\n|\r\n)/);t[t.length-1]||t.pop();for(var n=0;n<t.length;n++){var i=t[n];n%2&&!this.options.newlineIsToken?e[e.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),e.push(i))}return e};function Ft(r,e,t){return Rt.diff(r,e,t)}a(Ft,"diffLines");function Nt(r,e,t){var n=m(t,{ignoreWhitespace:!0});return Rt.diff(r,e,n)}a(Nt,"diffTrimmedLines");var Gt=new zt;Gt.tokenize=function(r){return r.split(/(\S.+?[.!?])(?=\s+|$)/)};function Kr(r,e,t){return Gt.diff(r,e,t)}a(Kr,"diffSentences");var fn=new zt;fn.tokenize=function(r){return r.split(/([{}:;,]|\s+)/)};function Sn(r,e,t){return fn.diff(r,e,t)}a(Sn,"diffCss");function mn(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mn=a(function(e){return typeof e},"_typeof"):mn=a(function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},"_typeof"),mn(r)}a(mn,"_typeof");function sn(r){return yn(r)||zn(r)||kn(r)||Xr()}a(sn,"_toConsumableArray");function yn(r){if(Array.isArray(r))return Cr(r)}a(yn,"_arrayWithoutHoles");function zn(r){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(r))return Array.from(r)}a(zn,"_iterableToArray");function kn(r,e){if(!!r){if(typeof r=="string")return Cr(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Cr(r,e)}}a(kn,"_unsupportedIterableToArray");function Cr(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}a(Cr,"_arrayLikeToArray");function Xr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}a(Xr,"_nonIterableSpread");var Dn=Object.prototype.toString,An=new zt;An.useLongestToken=!0,An.tokenize=Rt.tokenize,An.castInput=function(r){var e=this.options,t=e.undefinedReplacement,n=e.stringifyReplacer,i=n===void 0?function(o,s){return typeof s=="undefined"?t:s}:n;return typeof r=="string"?r:JSON.stringify(ai(r,null,null,i),i,"  ")},An.equals=function(r,e){return zt.prototype.equals.call(An,r.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"))};function Ei(r,e,t){return An.diff(r,e,t)}a(Ei,"diffJson");function ai(r,e,t,n,i){e=e||[],t=t||[],n&&(r=n(i,r));var o;for(o=0;o<e.length;o+=1)if(e[o]===r)return t[o];var s;if(Dn.call(r)==="[object Array]"){for(e.push(r),s=new Array(r.length),t.push(s),o=0;o<r.length;o+=1)s[o]=ai(r[o],e,t,n,i);return e.pop(),t.pop(),s}if(r&&r.toJSON&&(r=r.toJSON()),mn(r)==="object"&&r!==null){e.push(r),s={},t.push(s);var u=[],c;for(c in r)r.hasOwnProperty(c)&&u.push(c);for(u.sort(),o=0;o<u.length;o+=1)c=u[o],s[c]=ai(r[c],e,t,n,c);e.pop(),t.pop()}else s=r;return s}a(ai,"canonicalize");var hn=new zt;hn.tokenize=function(r){return r.slice()},hn.join=hn.removeEmpty=function(r){return r};function H(r,e,t){return hn.diff(r,e,t)}a(H,"diffArrays");function we(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=r.split(/\r\n|[\n\v\f\r\x85]/),n=r.match(/\r\n|[\n\v\f\r\x85]/g)||[],i=[],o=0;function s(){var f={};for(i.push(f);o<t.length;){var p=t[o];if(/^(\-\-\-|\+\+\+|@@)\s/.test(p))break;var D=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(p);D&&(f.index=D[1]),o++}for(u(f),u(f),f.hunks=[];o<t.length;){var I=t[o];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(I))break;if(/^@@/.test(I))f.hunks.push(c());else{if(I&&e.strict)throw new Error("Unknown line "+(o+1)+" "+JSON.stringify(I));o++}}}a(s,"parseIndex");function u(f){var p=/^(---|\+\+\+)\s+(.*)$/.exec(t[o]);if(p){var D=p[1]==="---"?"old":"new",I=p[2].split("	",2),z=I[0].replace(/\\\\/g,"\\");/^".*"$/.test(z)&&(z=z.substr(1,z.length-2)),f[D+"FileName"]=z,f[D+"Header"]=(I[1]||"").trim(),o++}}a(u,"parseFileHeader");function c(){var f=o,p=t[o++],D=p.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),I={oldStart:+D[1],oldLines:typeof D[2]=="undefined"?1:+D[2],newStart:+D[3],newLines:typeof D[4]=="undefined"?1:+D[4],lines:[],linedelimiters:[]};I.oldLines===0&&(I.oldStart+=1),I.newLines===0&&(I.newStart+=1);for(var z=0,fe=0;o<t.length&&!(t[o].indexOf("--- ")===0&&o+2<t.length&&t[o+1].indexOf("+++ ")===0&&t[o+2].indexOf("@@")===0);o++){var le=t[o].length==0&&o!=t.length-1?" ":t[o][0];if(le==="+"||le==="-"||le===" "||le==="\\")I.lines.push(t[o]),I.linedelimiters.push(n[o]||`
`),le==="+"?z++:le==="-"?fe++:le===" "&&(z++,fe++);else break}if(!z&&I.newLines===1&&(I.newLines=0),!fe&&I.oldLines===1&&(I.oldLines=0),e.strict){if(z!==I.newLines)throw new Error("Added line count did not match for hunk at line "+(f+1));if(fe!==I.oldLines)throw new Error("Removed line count did not match for hunk at line "+(f+1))}return I}for(a(c,"parseHunk");o<t.length;)s();return i}a(we,"parsePatch");function Ne(r,e,t){var n=!0,i=!1,o=!1,s=1;return a(function u(){if(n&&!o){if(i?s++:n=!1,r+s<=t)return s;o=!0}if(!i)return o||(n=!0),e<=r-s?-s++:(i=!0,u())},"iterator")}a(Ne,"distanceIterator");function We(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string"&&(e=we(e)),Array.isArray(e)){if(e.length>1)throw new Error("applyPatch only works with a single input.");e=e[0]}var n=r.split(/\r\n|[\n\v\f\r\x85]/),i=r.match(/\r\n|[\n\v\f\r\x85]/g)||[],o=e.hunks,s=t.compareLine||function(on,jr,Zr,Tn){return jr===Tn},u=0,c=t.fuzzFactor||0,f=0,p=0,D,I;function z(on,jr){for(var Zr=0;Zr<on.lines.length;Zr++){var Tn=on.lines[Zr],Vn=Tn.length>0?Tn[0]:" ",wi=Tn.length>0?Tn.substr(1):Tn;if(Vn===" "||Vn==="-"){if(!s(jr+1,n[jr],Vn,wi)&&(u++,u>c))return!1;jr++}}return!0}a(z,"hunkFits");for(var fe=0;fe<o.length;fe++){for(var le=o[fe],Ae=n.length-le.oldLines,Ie=0,Qe=p+le.oldStart-1,lt=Ne(Qe,f,Ae);Ie!==void 0;Ie=lt())if(z(le,Qe+Ie)){le.offset=p+=Ie;break}if(Ie===void 0)return!1;f=le.offset+le.oldStart+le.oldLines}for(var Ze=0,dt=0;dt<o.length;dt++){var xt=o[dt],Et=xt.oldStart+xt.offset+Ze-1;Ze+=xt.newLines-xt.oldLines;for(var Je=0;Je<xt.lines.length;Je++){var Zt=xt.lines[Je],mt=Zt.length>0?Zt[0]:" ",gr=Zt.length>0?Zt.substr(1):Zt,ur=xt.linedelimiters[Je];if(mt===" ")Et++;else if(mt==="-")n.splice(Et,1),i.splice(Et,1);else if(mt==="+")n.splice(Et,0,gr),i.splice(Et,0,ur),Et++;else if(mt==="\\"){var kr=xt.lines[Je-1]?xt.lines[Je-1][0]:null;kr==="+"?D=!0:kr==="-"&&(I=!0)}}}if(D)for(;!n[n.length-1];)n.pop(),i.pop();else I&&(n.push(""),i.push(`
`));for(var _r=0;_r<n.length-1;_r++)n[_r]=n[_r]+i[_r];return n.join("")}a(We,"applyPatch");function at(r,e){typeof r=="string"&&(r=we(r));var t=0;function n(){var i=r[t++];if(!i)return e.complete();e.loadFile(i,function(o,s){if(o)return e.complete(o);var u=We(s,i,e);e.patched(i,u,function(c){if(c)return e.complete(c);n()})})}a(n,"processIndex"),n()}a(at,"applyPatches");function nt(r,e,t,n,i,o,s){s||(s={}),typeof s.context=="undefined"&&(s.context=4);var u=Ft(t,n,s);u.push({value:"",lines:[]});function c(Ie){return Ie.map(function(Qe){return" "+Qe})}a(c,"contextLines");for(var f=[],p=0,D=0,I=[],z=1,fe=1,le=a(function(Qe){var lt=u[Qe],Ze=lt.lines||lt.value.replace(/\n$/,"").split(`
`);if(lt.lines=Ze,lt.added||lt.removed){var dt;if(!p){var xt=u[Qe-1];p=z,D=fe,xt&&(I=s.context>0?c(xt.lines.slice(-s.context)):[],p-=I.length,D-=I.length)}(dt=I).push.apply(dt,sn(Ze.map(function(_r){return(lt.added?"+":"-")+_r}))),lt.added?fe+=Ze.length:z+=Ze.length}else{if(p)if(Ze.length<=s.context*2&&Qe<u.length-2){var Et;(Et=I).push.apply(Et,sn(c(Ze)))}else{var Je,Zt=Math.min(Ze.length,s.context);(Je=I).push.apply(Je,sn(c(Ze.slice(0,Zt))));var mt={oldStart:p,oldLines:z-p+Zt,newStart:D,newLines:fe-D+Zt,lines:I};if(Qe>=u.length-2&&Ze.length<=s.context){var gr=/\n$/.test(t),ur=/\n$/.test(n),kr=Ze.length==0&&I.length>mt.oldLines;!gr&&kr&&t.length>0&&I.splice(mt.oldLines,0,"\\ No newline at end of file"),(!gr&&!kr||!ur)&&I.push("\\ No newline at end of file")}f.push(mt),p=0,D=0,I=[]}z+=Ze.length,fe+=Ze.length}},"_loop"),Ae=0;Ae<u.length;Ae++)le(Ae);return{oldFileName:r,newFileName:e,oldHeader:i,newHeader:o,hunks:f}}a(nt,"structuredPatch");function yt(r){var e=[];r.oldFileName==r.newFileName&&e.push("Index: "+r.oldFileName),e.push("==================================================================="),e.push("--- "+r.oldFileName+(typeof r.oldHeader=="undefined"?"":"	"+r.oldHeader)),e.push("+++ "+r.newFileName+(typeof r.newHeader=="undefined"?"":"	"+r.newHeader));for(var t=0;t<r.hunks.length;t++){var n=r.hunks[t];n.oldLines===0&&(n.oldStart-=1),n.newLines===0&&(n.newStart-=1),e.push("@@ -"+n.oldStart+","+n.oldLines+" +"+n.newStart+","+n.newLines+" @@"),e.push.apply(e,n.lines)}return e.join(`
`)+`
`}a(yt,"formatPatch");function It(r,e,t,n,i,o,s){return yt(nt(r,e,t,n,i,o,s))}a(It,"createTwoFilesPatch");function Ut(r,e,t,n,i,o){return It(r,r,e,t,n,i,o)}a(Ut,"createPatch");function sr(r,e){return r.length!==e.length?!1:Ct(r,e)}a(sr,"arrayEqual");function Ct(r,e){if(e.length>r.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==r[t])return!1;return!0}a(Ct,"arrayStartsWith");function Yt(r){var e=Br(r.lines),t=e.oldLines,n=e.newLines;t!==void 0?r.oldLines=t:delete r.oldLines,n!==void 0?r.newLines=n:delete r.newLines}a(Yt,"calcLineCount");function qt(r,e,t){r=Vt(r,t),e=Vt(e,t);var n={};(r.index||e.index)&&(n.index=r.index||e.index),(r.newFileName||e.newFileName)&&(Mt(r)?Mt(e)?(n.oldFileName=Pr(n,r.oldFileName,e.oldFileName),n.newFileName=Pr(n,r.newFileName,e.newFileName),n.oldHeader=Pr(n,r.oldHeader,e.oldHeader),n.newHeader=Pr(n,r.newHeader,e.newHeader)):(n.oldFileName=r.oldFileName,n.newFileName=r.newFileName,n.oldHeader=r.oldHeader,n.newHeader=r.newHeader):(n.oldFileName=e.oldFileName||r.oldFileName,n.newFileName=e.newFileName||r.newFileName,n.oldHeader=e.oldHeader||r.oldHeader,n.newHeader=e.newHeader||r.newHeader)),n.hunks=[];for(var i=0,o=0,s=0,u=0;i<r.hunks.length||o<e.hunks.length;){var c=r.hunks[i]||{oldStart:1/0},f=e.hunks[o]||{oldStart:1/0};if(Sr(c,f))n.hunks.push(_n(c,s)),i++,u+=c.newLines-c.oldLines;else if(Sr(f,c))n.hunks.push(_n(f,u)),o++,s+=f.newLines-f.oldLines;else{var p={oldStart:Math.min(c.oldStart,f.oldStart),oldLines:0,newStart:Math.min(c.newStart+s,f.oldStart+u),newLines:0,lines:[]};un(p,c.oldStart,c.lines,f.oldStart,f.lines),o++,i++,n.hunks.push(p)}}return n}a(qt,"merge");function Vt(r,e){if(typeof r=="string"){if(/^@@/m.test(r)||/^Index:/m.test(r))return we(r)[0];if(!e)throw new Error("Must provide a base reference or pass in a patch");return nt(void 0,void 0,e,r)}return r}a(Vt,"loadPatch");function Mt(r){return r.newFileName&&r.newFileName!==r.oldFileName}a(Mt,"fileNameChanged");function Pr(r,e,t){return e===t?e:(r.conflict=!0,{mine:e,theirs:t})}a(Pr,"selectField");function Sr(r,e){return r.oldStart<e.oldStart&&r.oldStart+r.oldLines<e.oldStart}a(Sr,"hunkBefore");function _n(r,e){return{oldStart:r.oldStart,oldLines:r.oldLines,newStart:r.newStart+e,newLines:r.newLines,lines:r.lines}}a(_n,"cloneHunk");function un(r,e,t,n,i){var o={offset:e,lines:t,index:0},s={offset:n,lines:i,index:0};for(Gr(r,o,s),Gr(r,s,o);o.index<o.lines.length&&s.index<s.lines.length;){var u=o.lines[o.index],c=s.lines[s.index];if((u[0]==="-"||u[0]==="+")&&(c[0]==="-"||c[0]==="+"))pn(r,o,s);else if(u[0]==="+"&&c[0]===" "){var f;(f=r.lines).push.apply(f,sn(Qt(o)))}else if(c[0]==="+"&&u[0]===" "){var p;(p=r.lines).push.apply(p,sn(Qt(s)))}else u[0]==="-"&&c[0]===" "?Qn(r,o,s):c[0]==="-"&&u[0]===" "?Qn(r,s,o,!0):u===c?(r.lines.push(u),o.index++,s.index++):jn(r,Qt(o),Qt(s))}Si(r,o),Si(r,s),Yt(r)}a(un,"mergeLines");function pn(r,e,t){var n=Qt(e),i=Qt(t);if(Fr(n)&&Fr(i)){if(Ct(n,i)&&br(t,n,n.length-i.length)){var o;(o=r.lines).push.apply(o,sn(n));return}else if(Ct(i,n)&&br(e,i,i.length-n.length)){var s;(s=r.lines).push.apply(s,sn(i));return}}else if(sr(n,i)){var u;(u=r.lines).push.apply(u,sn(n));return}jn(r,n,i)}a(pn,"mutualChange");function Qn(r,e,t,n){var i=Qt(e),o=en(t,i);if(o.merged){var s;(s=r.lines).push.apply(s,sn(o.merged))}else jn(r,n?o:i,n?i:o)}a(Qn,"removal");function jn(r,e,t){r.conflict=!0,r.lines.push({conflict:!0,mine:e,theirs:t})}a(jn,"conflict");function Gr(r,e,t){for(;e.offset<t.offset&&e.index<e.lines.length;){var n=e.lines[e.index++];r.lines.push(n),e.offset++}}a(Gr,"insertLeading");function Si(r,e){for(;e.index<e.lines.length;){var t=e.lines[e.index++];r.lines.push(t)}}a(Si,"insertTrailing");function Qt(r){for(var e=[],t=r.lines[r.index][0];r.index<r.lines.length;){var n=r.lines[r.index];if(t==="-"&&n[0]==="+"&&(t="+"),t===n[0])e.push(n),r.index++;else break}return e}a(Qt,"collectChange");function en(r,e){for(var t=[],n=[],i=0,o=!1,s=!1;i<e.length&&r.index<r.lines.length;){var u=r.lines[r.index],c=e[i];if(c[0]==="+")break;if(o=o||u[0]!==" ",n.push(c),i++,u[0]==="+")for(s=!0;u[0]==="+";)t.push(u),u=r.lines[++r.index];c.substr(1)===u.substr(1)?(t.push(u),r.index++):s=!0}if((e[i]||"")[0]==="+"&&o&&(s=!0),s)return t;for(;i<e.length;)n.push(e[i++]);return{merged:n,changes:t}}a(en,"collectContext");function Fr(r){return r.reduce(function(e,t){return e&&t[0]==="-"},!0)}a(Fr,"allRemoves");function br(r,e,t){for(var n=0;n<t;n++){var i=e[e.length-t+n].substr(1);if(r.lines[r.index+n]!==" "+i)return!1}return r.index+=t,!0}a(br,"skipRemoveSuperset");function Br(r){var e=0,t=0;return r.forEach(function(n){if(typeof n!="string"){var i=Br(n.mine),o=Br(n.theirs);e!==void 0&&(i.oldLines===o.oldLines?e+=i.oldLines:e=void 0),t!==void 0&&(i.newLines===o.newLines?t+=i.newLines:t=void 0)}else t!==void 0&&(n[0]==="+"||n[0]===" ")&&t++,e!==void 0&&(n[0]==="-"||n[0]===" ")&&e++}),{oldLines:e,newLines:t}}a(Br,"calcOldNewLineCount");function ln(r){for(var e=[],t,n,i=0;i<r.length;i++)t=r[i],t.added?n=1:t.removed?n=-1:n=0,e.push([n,t.value]);return e}a(ln,"convertChangesToDMP");function Ln(r){for(var e=[],t=0;t<r.length;t++){var n=r[t];n.added?e.push("<ins>"):n.removed&&e.push("<del>"),e.push(ti(n.value)),n.added?e.push("</ins>"):n.removed&&e.push("</del>")}return e.join("")}a(Ln,"convertChangesToXML");function ti(r){var e=r;return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/"/g,"&quot;"),e}a(ti,"escapeHTML");var Fi=/[^a-zA-Z0-9]/,Pi=/\s/,ji=/[\r\n]/,oa=/\n\r?\n$/,Ji=/^\r?\n\r?\n/,ft;(function(r){r[r.DIFF_DELETE=-1]="DIFF_DELETE",r[r.DIFF_INSERT=1]="DIFF_INSERT",r[r.DIFF_EQUAL=0]="DIFF_EQUAL"})(ft||(ft={}));function Zi(r,e){return r<e?r:e}a(Zi,"min");function Ki(r,e){return r>e?r:e}a(Ki,"max");var Rn=he,Bn=function(){function r(){this.diffs=[],this.start1=0,this.start2=0,this.length1=0,this.length2=0}return a(r,"PatchObject"),r.prototype.toString=function(){var e,t;this.length1===0?e=this.start1+",0":this.length1===1?e=this.start1+1:e=this.start1+1+","+this.length1,this.length2===0?t=this.start2+",0":this.length2===1?t=this.start2+1:t=this.start2+1+","+this.length2;for(var n=["@@ -"+e+" +"+t+` @@
`],i,o=0;o<this.diffs.length;o++){switch(this.diffs[o][0]){case ft.DIFF_INSERT:i="+";break;case ft.DIFF_DELETE:i="-";break;case ft.DIFF_EQUAL:i=" ";break}n[o+1]=i+encodeURI(this.diffs[o][1])+`
`}return n.join("").replace(/%20/g," ")},r}(),oi=function(){function r(){this.diffTimeout=1,this.diffEditCost=4,this.matchThreshold=.5,this.matchDistance=1e3,this.patchDeleteThreshold=.5,this.patchMargin=4,this.matchMaxBits=32}return a(r,"DiffMatchPatch"),r.prototype.diff_main=function(e,t,n,i){typeof i=="undefined"&&(this.diffTimeout<=0?i=Number.MAX_VALUE:i=Date.now()+this.diffTimeout*1e3);var o=i;if(e==null||t==null)throw new Error("Null input. (diff_main)");if(e===t)return e?[[ft.DIFF_EQUAL,e]]:[];typeof n=="undefined"&&(n=!0);var s=n,u=this.diff_commonPrefix(e,t),c=e.substring(0,u);e=e.substring(u),t=t.substring(u),u=this.diff_commonSuffix(e,t);var f=e.substring(e.length-u);e=e.substring(0,e.length-u),t=t.substring(0,t.length-u);var p=this.diff_compute_(e,t,s,o);return c&&p.unshift([ft.DIFF_EQUAL,c]),f&&p.push([ft.DIFF_EQUAL,f]),this.diff_cleanupMerge(p),p},r.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,i=Rn.min(e.length,t.length),o=i,s=0;n<o;)e.substring(s,o)===t.substring(s,o)?(n=o,s=n):i=o,o=Math.floor((i-n)/2+n);return o},r.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!==t.charAt(t.length-1))return 0;for(var n=0,i=Rn.min(e.length,t.length),o=i,s=0;n<o;)e.substring(e.length-o,e.length-s)===t.substring(t.length-o,t.length-s)?(n=o,s=n):i=o,o=Math.floor((i-n)/2+n);return o},r.prototype.diff_cleanupSemantic=function(e){for(var t=!1,n=[],i=0,o=null,s=0,u=0,c=0,f=0,p=0;s<e.length;)e[s][0]===ft.DIFF_EQUAL?(n[i++]=s,u=f,c=p,f=0,p=0,o=e[s][1]):(e[s][0]===ft.DIFF_INSERT?f+=e[s][1].length:p+=e[s][1].length,o&&o.length<=Rn.max(u,c)&&o.length<=Rn.max(f,p)&&(e.splice(n[i-1],0,[ft.DIFF_DELETE,o]),e[n[i-1]+1][0]=ft.DIFF_INSERT,i--,i--,s=i>0?n[i-1]:-1,u=0,c=0,f=0,p=0,o=null,t=!0)),s++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),s=1;s<e.length;){if(e[s-1][0]===ft.DIFF_DELETE&&e[s][0]===ft.DIFF_INSERT){var D=e[s-1][1],I=e[s][1],z=this.diff_commonOverlap_(D,I),fe=this.diff_commonOverlap_(I,D);z>=fe?(z>=D.length/2||z>=I.length/2)&&(e.splice(s,0,[ft.DIFF_EQUAL,I.substring(0,z)]),e[s-1][1]=D.substring(0,D.length-z),e[s+1][1]=I.substring(z),s++):(fe>=D.length/2||fe>=I.length/2)&&(e.splice(s,0,[ft.DIFF_EQUAL,D.substring(0,fe)]),e[s-1][0]=ft.DIFF_INSERT,e[s-1][1]=I.substring(0,I.length-fe),e[s+1][0]=ft.DIFF_DELETE,e[s+1][1]=D.substring(fe),s++),s++}s++}},r.prototype.diff_cleanupSemanticLossless=function(e){for(var t=1;t<e.length-1;){if(e[t-1][0]===ft.DIFF_EQUAL&&e[t+1][0]===ft.DIFF_EQUAL){var n=e[t-1][1],i=e[t][1],o=e[t+1][1],s=this.diff_commonSuffix(n,i);if(s){var u=i.substring(i.length-s);n=n.substring(0,n.length-s),i=u+i.substring(0,i.length-s),o=u+o}for(var c=n,f=i,p=o,D=this.diff_cleanupSemanticScore_(n,i)+this.diff_cleanupSemanticScore_(i,o);i.charAt(0)===o.charAt(0);){n+=i.charAt(0),i=i.substring(1)+o.charAt(0),o=o.substring(1);var I=this.diff_cleanupSemanticScore_(n,i)+this.diff_cleanupSemanticScore_(i,o);I>=D&&(D=I,c=n,f=i,p=o)}e[t-1][1]!==c&&(c?e[t-1][1]=c:(e.splice(t-1,1),t--),e[t][1]=f,p?e[t+1][1]=p:(e.splice(t+1,1),t--))}t++}},r.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,n=[],i=0,o=null,s=0,u=!1,c=!1,f=!1,p=!1;s<e.length;)e[s][0]===ft.DIFF_EQUAL?(e[s][1].length<this.diffEditCost&&(f||p)?(n[i++]=s,u=f,c=p,o=e[s][1]):(i=0,o=null),f=p=!1):(e[s][0]===ft.DIFF_DELETE?p=!0:f=!0,o&&(u&&c&&f&&p||o.length<this.diffEditCost/2&&Number(u)+Number(c)+Number(f)+Number(p)===3)&&(e.splice(n[i-1],0,[ft.DIFF_DELETE,o]),e[n[i-1]+1][0]=ft.DIFF_INSERT,i--,o=null,u&&c?(f=p=!0,i=0):(i--,s=i>0?n[i-1]:-1,f=p=!1),t=!0)),s++;t&&this.diff_cleanupMerge(e)},r.prototype.diff_cleanupMerge=function(e){e.push([ft.DIFF_EQUAL,""]);for(var t=0,n=0,i=0,o="",s="",u;t<e.length;)switch(e[t][0]){case ft.DIFF_INSERT:i++,s+=e[t][1],t++;break;case ft.DIFF_DELETE:n++,o+=e[t][1],t++;break;case ft.DIFF_EQUAL:n+i>1?(n!==0&&i!==0&&(u=this.diff_commonPrefix(s,o),u!==0&&(t-n-i>0&&e[t-n-i-1][0]===ft.DIFF_EQUAL?e[t-n-i-1][1]+=s.substring(0,u):(e.splice(0,0,[ft.DIFF_EQUAL,s.substring(0,u)]),t++),s=s.substring(u),o=o.substring(u)),u=this.diff_commonSuffix(s,o),u!==0&&(e[t][1]=s.substring(s.length-u)+e[t][1],s=s.substring(0,s.length-u),o=o.substring(0,o.length-u))),t-=n+i,e.splice(t,n+i),o.length&&(e.splice(t,0,[ft.DIFF_DELETE,o]),t++),s.length&&(e.splice(t,0,[ft.DIFF_INSERT,s]),t++),t++):t!==0&&e[t-1][0]===ft.DIFF_EQUAL?(e[t-1][1]+=e[t][1],e.splice(t,1)):t++,i=0,n=0,o="",s="";break}e[e.length-1][1]===""&&e.pop();var c=!1;for(t=1;t<e.length-1;)e[t-1][0]===ft.DIFF_EQUAL&&e[t+1][0]===ft.DIFF_EQUAL&&(e[t][1].substring(e[t][1].length-e[t-1][1].length)===e[t-1][1]?(e[t][1]=e[t-1][1]+e[t][1].substring(0,e[t][1].length-e[t-1][1].length),e[t+1][1]=e[t-1][1]+e[t+1][1],e.splice(t-1,1),c=!0):e[t][1].substring(0,e[t+1][1].length)===e[t+1][1]&&(e[t-1][1]+=e[t+1][1],e[t][1]=e[t][1].substring(e[t+1][1].length)+e[t+1][1],e.splice(t+1,1),c=!0)),t++;c&&this.diff_cleanupMerge(e)},r.prototype.diff_xIndex=function(e,t){var n=0,i=0,o=0,s=0,u;for(u=0;u<e.length&&(e[u][0]!==ft.DIFF_INSERT&&(n+=e[u][1].length),e[u][0]!==ft.DIFF_DELETE&&(i+=e[u][1].length),!(n>t));u++)o=n,s=i;return e.length!==u&&e[u][0]===ft.DIFF_DELETE?s:s+(t-o)},r.prototype.diff_prettyHtml=function(e){for(var t=[],n=/&/g,i=/</g,o=/>/g,s=/\n/g,u=0;u<e.length;u++){var c=e[u][0],f=e[u][1],p=f.replace(n,"&amp;").replace(i,"&lt;").replace(o,"&gt;").replace(s,"&para;<br>");switch(c){case ft.DIFF_INSERT:t[u]='<ins style="background:#e6ffe6;">'+p+"</ins>";break;case ft.DIFF_DELETE:t[u]='<del style="background:#ffe6e6;">'+p+"</del>";break;case ft.DIFF_EQUAL:t[u]="<span>"+p+"</span>";break}}return t.join("")},r.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)e[n][0]!==ft.DIFF_INSERT&&(t[n]=e[n][1]);return t.join("")},r.prototype.diff_text2=function(e){for(var t=[],n=0;n<e.length;n++)e[n][0]!==ft.DIFF_DELETE&&(t[n]=e[n][1]);return t.join("")},r.prototype.diff_levenshtein=function(e){for(var t=0,n=0,i=0,o=0;o<e.length;o++){var s=e[o][0],u=e[o][1];switch(s){case ft.DIFF_INSERT:n+=u.length;break;case ft.DIFF_DELETE:i+=u.length;break;case ft.DIFF_EQUAL:t+=Rn.max(n,i),n=0,i=0;break}}return t+=Rn.max(n,i),t},r.prototype.diff_toDelta=function(e){for(var t=[],n=0;n<e.length;n++)switch(e[n][0]){case ft.DIFF_INSERT:t[n]="+"+encodeURI(e[n][1]);break;case ft.DIFF_DELETE:t[n]="-"+e[n][1].length;break;case ft.DIFF_EQUAL:t[n]="="+e[n][1].length;break}return t.join("	").replace(/%20/g," ")},r.prototype.diff_fromDelta=function(e,t){for(var n=[],i=0,o=0,s=t.split(/\t/g),u=0;u<s.length;u++){var c=s[u].substring(1);switch(s[u].charAt(0)){case"+":try{n[i++]=[ft.DIFF_INSERT,decodeURI(c)]}catch(D){throw new Error("Illegal escape in diff_fromDelta: "+c)}break;case"-":case"=":var f=parseInt(c,10);if(isNaN(f)||f<0)throw new Error("Invalid number in diff_fromDelta: "+c);var p=e.substring(o,o+=f);s[u].charAt(0)==="="?n[i++]=[ft.DIFF_EQUAL,p]:n[i++]=[ft.DIFF_DELETE,p];break;default:if(s[u])throw new Error("Invalid diff operation in diff_fromDelta: "+s[u])}}if(o!==e.length)throw new Error("Delta length ("+o+") does not equal source text length ("+e.length+")");return n},r.prototype.diff_linesToChars=function(e,t){var n=[],i={};n[0]="";var o=this.diff_linesToCharsMunge_(e,n,i,4e4),s=this.diff_linesToCharsMunge_(t,n,i,65535);return{chars1:o,chars2:s,lineArray:n}},r.prototype.diff_charsToLines=function(e,t){for(var n=0;n<e.length;n++){for(var i=e[n][1],o=[],s=0;s<i.length;s++)o[s]=t[i.charCodeAt(s)];e[n][1]=o.join("")}},r.prototype.match_main=function(e,t,n){if(e==null||t==null||n==null)throw new Error("Null input. (match_main)");return n=Rn.max(0,Rn.min(n,e.length)),e===t?0:e.length?e.substring(n,n+t.length)===t?n:this.match_bitap_(e,t,n):-1},r.prototype.patch_make=function(e,t,n){var i,o;if(typeof e=="string"&&typeof t=="string"&&typeof n=="undefined")i=e,o=this.diff_main(i,t,!0),o.length>2&&(this.diff_cleanupSemantic(o),this.diff_cleanupEfficiency(o));else if(e&&typeof e=="object"&&typeof t=="undefined"&&typeof n=="undefined")o=e,i=this.diff_text1(o);else if(typeof e=="string"&&t&&typeof t=="object"&&typeof n=="undefined")i=e,o=t;else if(typeof e=="string"&&typeof t=="string"&&n&&typeof n=="object")i=e,o=n;else throw new Error("Unknown call format to patch_make");if(o.length===0)return[];for(var s=[],u=new Bn,c=0,f=0,p=0,D=i,I=i,z=0;z<o.length;z++){var fe=o[z][0],le=o[z][1];switch(!c&&fe!==ft.DIFF_EQUAL&&(u.start1=f,u.start2=p),fe){case ft.DIFF_INSERT:u.diffs[c++]=o[z],u.length2+=le.length,I=I.substring(0,p)+le+I.substring(p);break;case ft.DIFF_DELETE:u.length1+=le.length,u.diffs[c++]=o[z],I=I.substring(0,p)+I.substring(p+le.length);break;case ft.DIFF_EQUAL:le.length<=2*this.patchMargin&&c&&o.length!==z+1?(u.diffs[c++]=o[z],u.length1+=le.length,u.length2+=le.length):le.length>=2*this.patchMargin&&c&&(this.patch_addContext_(u,D),s.push(u),u=new Bn,c=0,D=I,f=p);break}fe!==ft.DIFF_INSERT&&(f+=le.length),fe!==ft.DIFF_DELETE&&(p+=le.length)}return c&&(this.patch_addContext_(u,D),s.push(u)),s},r.prototype.patch_deepCopy=function(e){for(var t=[],n=0;n<e.length;n++){for(var i=e[n],o=new Bn,s=0;s<i.diffs.length;s++)o.diffs[s]=[i.diffs[s][0],i.diffs[s][1]];o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,t[n]=o}return t},r.prototype.patch_apply=function(e,t){if(e.length===0)return[t,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);t=n+t+n,this.patch_splitMax(e);for(var i=0,o=[],s=0;s<e.length;s++){var u=e[s].start2+i,c=this.diff_text1(e[s].diffs),f=void 0,p=-1;if(c.length>this.matchMaxBits?(f=this.match_main(t,c.substring(0,this.matchMaxBits),u),f!==-1&&(p=this.match_main(t,c.substring(c.length-this.matchMaxBits),u+c.length-this.matchMaxBits),(p===-1||f>=p)&&(f=-1))):f=this.match_main(t,c,u),f===-1)o[s]=!1,i-=e[s].length2-e[s].length1;else{o[s]=!0,i=f-u;var D=void 0;if(p===-1?D=t.substring(f,f+c.length):D=t.substring(f,p+this.matchMaxBits),c===D)t=t.substring(0,f)+this.diff_text2(e[s].diffs)+t.substring(f+c.length);else{var I=this.diff_main(c,D,!1);if(c.length>this.matchMaxBits&&this.diff_levenshtein(I)/c.length>this.patchDeleteThreshold)o[s]=!1;else{this.diff_cleanupSemanticLossless(I);for(var z=0,fe=0,le=0;le<e[s].diffs.length;le++){var Ae=e[s].diffs[le];Ae[0]!==ft.DIFF_EQUAL&&(fe=this.diff_xIndex(I,z)),Ae[0]===ft.DIFF_INSERT?t=t.substring(0,f+fe)+Ae[1]+t.substring(f+fe):Ae[0]===ft.DIFF_DELETE&&(t=t.substring(0,f+fe)+t.substring(f+this.diff_xIndex(I,z+Ae[1].length))),Ae[0]!==ft.DIFF_DELETE&&(z+=Ae[1].length)}}}}}return t=t.substring(n.length,t.length-n.length),[t,o]},r.prototype.patch_addPadding=function(e){for(var t=this.patchMargin,n="",i=1;i<=t;i++)n+=String.fromCharCode(i);for(var i=0;i<e.length;i++)e[i].start1+=t,e[i].start2+=t;var o=e[0],s=o.diffs;if(s.length===0||s[0][0]!==ft.DIFF_EQUAL)s.unshift([ft.DIFF_EQUAL,n]),o.start1-=t,o.start2-=t,o.length1+=t,o.length2+=t;else if(t>s[0][1].length){var u=t-s[0][1].length;s[0][1]=n.substring(s[0][1].length)+s[0][1],o.start1-=u,o.start2-=u,o.length1+=u,o.length2+=u}if(o=e[e.length-1],s=o.diffs,s.length===0||s[s.length-1][0]!==ft.DIFF_EQUAL)s.push([ft.DIFF_EQUAL,n]),o.length1+=t,o.length2+=t;else if(t>s[s.length-1][1].length){var u=t-s[s.length-1][1].length;s[s.length-1][1]+=n.substring(0,u),o.length1+=u,o.length2+=u}return n},r.prototype.patch_splitMax=function(e){for(var t=this.matchMaxBits,n=0;n<e.length;n++)if(!(e[n].length1<=t)){var i=e[n];e.splice(n--,1);for(var o=i.start1,s=i.start2,u="";i.diffs.length!==0;){var c=new Bn,f=!0;for(c.start1=o-u.length,c.start2=s-u.length,u!==""&&(c.length1=c.length2=u.length,c.diffs.push([ft.DIFF_EQUAL,u]));i.diffs.length!==0&&c.length1<t-this.patchMargin;){var p=i.diffs[0][0],D=i.diffs[0][1];p===ft.DIFF_INSERT?(c.length2+=D.length,s+=D.length,c.diffs.push(i.diffs.shift()),f=!1):p===ft.DIFF_DELETE&&c.diffs.length===1&&c.diffs[0][0]===ft.DIFF_EQUAL&&D.length>2*t?(c.length1+=D.length,o+=D.length,f=!1,c.diffs.push([p,D]),i.diffs.shift()):(D=D.substring(0,t-c.length1-this.patchMargin),c.length1+=D.length,o+=D.length,p===ft.DIFF_EQUAL?(c.length2+=D.length,s+=D.length):f=!1,c.diffs.push([p,D]),D===i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(D.length))}u=this.diff_text2(c.diffs),u=u.substring(u.length-this.patchMargin);var I=this.diff_text1(i.diffs).substring(0,this.patchMargin);I!==""&&(c.length1+=I.length,c.length2+=I.length,c.diffs.length!==0&&c.diffs[c.diffs.length-1][0]===ft.DIFF_EQUAL?c.diffs[c.diffs.length-1][1]+=I:c.diffs.push([ft.DIFF_EQUAL,I])),f||e.splice(++n,0,c)}}},r.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},r.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var n=e.split(`
`),i=0,o=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<n.length;){var s=n[i].match(o);if(!s)throw new Error("Invalid patch string: "+n[i]);var u=new Bn;t.push(u),u.start1=parseInt(s[1],10),s[2]===""?(u.start1--,u.length1=1):s[2]==="0"?u.length1=0:(u.start1--,u.length1=parseInt(s[2],10)),u.start2=parseInt(s[3],10),s[4]===""?(u.start2--,u.length2=1):s[4]==="0"?u.length2=0:(u.start2--,u.length2=parseInt(s[4],10)),i++;for(var c=void 0,f=void 0,p=void 0;i<n.length;){c=n[i].charAt(0),p=n[i].substring(1);try{f=decodeURI(p)}catch(D){throw new Error("Illegal escape in patch_fromText: "+p)}if(c==="-")u.diffs.push([ft.DIFF_DELETE,f]);else if(c==="+")u.diffs.push([ft.DIFF_INSERT,f]);else if(c===" ")u.diffs.push([ft.DIFF_EQUAL,f]);else{if(c==="@")break;if(c!=="")throw new Error('Invalid patch mode "'+c+'" in: '+f)}i++}}return t},r.prototype.diff_compute_=function(e,t,n,i){var o;if(!e)return[[ft.DIFF_INSERT,t]];if(!t)return[[ft.DIFF_DELETE,e]];var s=e.length>t.length?e:t,u=e.length>t.length?t:e,c=s.indexOf(u);if(c!==-1)return o=[[ft.DIFF_INSERT,s.substring(0,c)],[ft.DIFF_EQUAL,u],[ft.DIFF_INSERT,s.substring(c+u.length)]],e.length>t.length&&(o[0][0]=ft.DIFF_DELETE,o[2][0]=ft.DIFF_DELETE),o;if(u.length===1)return[[ft.DIFF_DELETE,e],[ft.DIFF_INSERT,t]];var f=this.diff_halfMatch_(e,t);if(f){var p=f[0],D=f[1],I=f[2],z=f[3],fe=f[4],le=this.diff_main(p,I,n,i),Ae=this.diff_main(D,z,n,i);return le.concat([[ft.DIFF_EQUAL,fe]],Ae)}return n&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,i):this.diff_bisect_(e,t,i)},r.prototype.diff_lineMode_=function(e,t,n){var i=this.diff_linesToChars(e,t);e=i.chars1,t=i.chars2;var o=i.lineArray,s=this.diff_main(e,t,!1,n);this.diff_charsToLines(s,o),this.diff_cleanupSemantic(s),s.push([ft.DIFF_EQUAL,""]);for(var u=0,c=0,f=0,p="",D="";u<s.length;){switch(s[u][0]){case ft.DIFF_INSERT:f++,D+=s[u][1];break;case ft.DIFF_DELETE:c++,p+=s[u][1];break;case ft.DIFF_EQUAL:if(c>=1&&f>=1){s.splice(u-c-f,c+f),u=u-c-f;for(var I=this.diff_main(p,D,!1,n),z=I.length-1;z>=0;z--)s.splice(u,0,I[z]);u=u+I.length}f=0,c=0,p="",D="";break}u++}return s.pop(),s},r.prototype.diff_bisect_=function(e,t,n){for(var i=e.length,o=t.length,s=Math.ceil((i+o)/2),u=s,c=2*s,f=new Array(c),p=new Array(c),D=0;D<c;D++)f[D]=-1,p[D]=-1;f[u+1]=0,p[u+1]=0;for(var I=i-o,z=I%2!=0,fe=0,le=0,Ae=0,Ie=0,Qe=0;Qe<s&&!(Date.now()>n);Qe++){for(var lt=-Qe+fe;lt<=Qe-le;lt+=2){var Ze=u+lt,dt=void 0;lt===-Qe||lt!==Qe&&f[Ze-1]<f[Ze+1]?dt=f[Ze+1]:dt=f[Ze-1]+1;for(var xt=dt-lt;dt<i&&xt<o&&e.charAt(dt)===t.charAt(xt);)dt++,xt++;if(f[Ze]=dt,dt>i)le+=2;else if(xt>o)fe+=2;else if(z){var Et=u+I-lt;if(Et>=0&&Et<c&&p[Et]!==-1){var Je=i-p[Et];if(dt>=Je)return this.diff_bisectSplit_(e,t,dt,xt,n)}}}for(var Zt=-Qe+Ae;Zt<=Qe-Ie;Zt+=2){var Et=u+Zt,Je=void 0;Zt===-Qe||Zt!==Qe&&p[Et-1]<p[Et+1]?Je=p[Et+1]:Je=p[Et-1]+1;for(var mt=Je-Zt;Je<i&&mt<o&&e.charAt(i-Je-1)===t.charAt(o-mt-1);)Je++,mt++;if(p[Et]=Je,Je>i)Ie+=2;else if(mt>o)Ae+=2;else if(!z){var Ze=u+I-Zt;if(Ze>=0&&Ze<c&&f[Ze]!==-1){var dt=f[Ze],xt=u+dt-Ze;if(Je=i-Je,dt>=Je)return this.diff_bisectSplit_(e,t,dt,xt,n)}}}}return[[ft.DIFF_DELETE,e],[ft.DIFF_INSERT,t]]},r.prototype.diff_bisectSplit_=function(e,t,n,i,o){var s=e.substring(0,n),u=t.substring(0,i),c=e.substring(n),f=t.substring(i),p=this.diff_main(s,u,!1,o),D=this.diff_main(c,f,!1,o);return p.concat(D)},r.prototype.diff_linesToCharsMunge_=function(e,t,n,i){for(var o="",s=0,u=-1,c=t.length;u<e.length-1;){u=e.indexOf(`
`,s),u===-1&&(u=e.length-1);var f=e.substring(s,u+1);(n.hasOwnProperty?n.hasOwnProperty(f):n[f]!==void 0)?o+=String.fromCharCode(n[f]):(c===i&&(f=e.substring(s),u=e.length),o+=String.fromCharCode(c),n[f]=c,t[c++]=f),s=u+1}return o},r.prototype.diff_commonOverlap_=function(e,t){var n=e.length,i=t.length;if(n===0||i===0)return 0;n>i?e=e.substring(n-i):n<i&&(t=t.substring(0,n));var o=Rn.min(n,i);if(e===t)return o;for(var s=0,u=1;;){var c=e.substring(o-u),f=t.indexOf(c);if(f===-1)return s;u+=f,(f===0||e.substring(o-u)===t.substring(0,u))&&(s=u,u++)}},r.prototype.diff_halfMatch_=function(e,t){if(this.diffTimeout<=0)return null;var n=e.length>t.length?e:t,i=e.length>t.length?t:e;if(n.length<4||i.length*2<n.length)return null;var o=this.diff_halfMatchI_(n,i,Math.ceil(n.length/4)),s=this.diff_halfMatchI_(n,i,Math.ceil(n.length/2)),u;if(!o&&!s)return null;s?o?u=o[4].length>s[4].length?o:s:u=s:u=o;var c,f,p,D,I=u[4];return e.length>t.length?(c=u[0],f=u[1],p=u[2],D=u[3]):(p=u[0],D=u[1],c=u[2],f=u[3]),[c,f,p,D,I]},r.prototype.diff_halfMatchI_=function(e,t,n){for(var i=e.substring(n,n+Math.floor(e.length/4)),o="",s,u,c,f,p=t.indexOf(i,0);p!==-1;){var D=this.diff_commonPrefix(e.substring(n),t.substring(p)),I=this.diff_commonSuffix(e.substring(0,n),t.substring(0,p));o.length<I+D&&(o=t.substring(p-I,p)+t.substring(p,p+D),s=e.substring(0,n-I),u=e.substring(n+D),c=t.substring(0,p-I),f=t.substring(p+D)),p=t.indexOf(i,p+1)}return o.length*2>=e.length?[s,u,c,f,o]:null},r.prototype.diff_cleanupSemanticScore_=function(e,t){if(!e||!t)return 6;var n=e.charAt(e.length-1),i=t.charAt(0),o=n.match(Fi),s=i.match(Fi),u=o&&n.match(Pi),c=s&&i.match(Pi),f=u&&n.match(ji),p=c&&i.match(ji),D=f&&e.match(oa),I=p&&t.match(Ji);return D||I?5:f||p?4:o&&!u&&c?3:u||c?2:o||s?1:0},r.prototype.match_bitap_=function(e,t,n){if(t.length>this.matchMaxBits)throw new Error("Pattern too long for this browser");var i=this.match_alphabet_(t),o=this.matchThreshold,s=e.indexOf(t,n);s!==-1&&(o=Rn.min(this.match_bitapScore_(0,s,t,n),o),s=e.lastIndexOf(t,n+t.length),s!==-1&&(o=Rn.min(this.match_bitapScore_(0,s,t,n),o)));var u=1<<t.length-1;s=-1;for(var c,f,p=t.length+e.length,D,I=0;I<t.length;I++){for(c=0,f=p;c<f;)this.match_bitapScore_(I,n+f,t,n)<=o?c=f:p=f,f=Math.floor((p-c)/2+c);p=f;var z=Rn.max(1,n-f+1),fe=Rn.min(n+f,e.length)+t.length,le=Array(fe+2);le[fe+1]=(1<<I)-1;for(var Ae=fe;Ae>=z;Ae--){var Ie=i[e.charAt(Ae-1)];if(I===0?le[Ae]=(le[Ae+1]<<1|1)&Ie:le[Ae]=(le[Ae+1]<<1|1)&Ie|((D[Ae+1]|D[Ae])<<1|1)|D[Ae+1],le[Ae]&u){var Qe=this.match_bitapScore_(I,Ae-1,t,n);if(Qe<=o)if(o=Qe,s=Ae-1,s>n)z=Rn.max(1,2*n-s);else break}}if(this.match_bitapScore_(I+1,n,t,n)>o)break;D=le}return s},r.prototype.match_bitapScore_=function(e,t,n,i){var o=e/n.length,s=Math.abs(i-t);return this.matchDistance?o+s/this.matchDistance:s?1:o},r.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(var n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},r.prototype.patch_addContext_=function(e,t){if(t.length!==0){if(e.start2==null)throw Error("patch not initialized");for(var n=t.substring(e.start2,e.start2+e.length1),i=0;t.indexOf(n)!==t.lastIndexOf(n)&&n.length<this.matchMaxBits-this.patchMargin-this.patchMargin;)i+=this.patchMargin,n=t.substring(e.start2-i,e.start2+e.length1+i);i+=this.patchMargin;var o=t.substring(e.start2-i,e.start2);o&&e.diffs.unshift([ft.DIFF_EQUAL,o]);var s=t.substring(e.start2+e.length1,e.start2+e.length1+i);s&&e.diffs.push([ft.DIFF_EQUAL,s]),e.start1-=o.length,e.start2-=o.length,e.length1+=o.length+s.length,e.length2+=o.length+s.length}},r}();function Jn(r,e){let t={};for(let o=0;o<e.length;o++){const s=e[o];t[s]?t[s].push(o):t[s]=[o]}let i=[{buffer1index:-1,buffer2index:-1,chain:null}];for(let o=0;o<r.length;o++){const s=r[o],u=t[s]||[];let c=0,f=i[0];for(let p=0;p<u.length;p++){const D=u[p];let I;for(I=c;I<i.length&&!(i[I].buffer2index<D&&(I===i.length-1||i[I+1].buffer2index>D));I++);if(I<i.length){const z={buffer1index:o,buffer2index:D,chain:i[I]};if(c===i.length?i.push(f):i[c]=f,c=I+1,f=z,c===i.length)break}}i[c]=f}return i[i.length-1]}a(Jn,"LCS");function Xi(r,e){const t=Jn(r,e);let n=[],i=r.length,o=e.length,s={common:[]};function u(){s.common.length&&(s.common.reverse(),n.push(s),s={common:[]})}a(u,"processCommon");for(let c=t;c!==null;c=c.chain){let f={buffer1:[],buffer2:[]};for(;--i>c.buffer1index;)f.buffer1.push(r[i]);for(;--o>c.buffer2index;)f.buffer2.push(e[o]);(f.buffer1.length||f.buffer2.length)&&(u(),f.buffer1.reverse(),f.buffer2.reverse(),n.push(f)),i>=0&&s.common.push(r[i])}return u(),n.reverse(),n}a(Xi,"diffComm");function bi(r,e){const t=Jn(r,e);let n=[],i=r.length,o=e.length;for(let s=t;s!==null;s=s.chain){const u=i-s.buffer1index-1,c=o-s.buffer2index-1;i=s.buffer1index,o=s.buffer2index,(u||c)&&n.push({buffer1:[i+1,u],buffer1Content:r.slice(i+1,i+1+u),buffer2:[o+1,c],buffer2Content:e.slice(o+1,o+1+c)})}return n.reverse(),n}a(bi,"diffIndices");function hi(r,e){const t=Jn(r,e);let n=[],i=r.length,o=e.length;function s(u,c,f){let p=[];for(let D=0;D<f;D++)p.push(u[c+D]);return{offset:c,length:f,chunk:p}}a(s,"chunkDescription");for(let u=t;u!==null;u=u.chain){const c=i-u.buffer1index-1,f=o-u.buffer2index-1;i=u.buffer1index,o=u.buffer2index,(c||f)&&n.push({buffer1:s(r,u.buffer1index+1,c),buffer2:s(e,u.buffer2index+1,f)})}return n.reverse(),n}a(hi,"diffPatch");function sa(r,e,t){let n=[];function i(c,f){n.push({ab:f,oStart:c.buffer1[0],oLength:c.buffer1[1],abStart:c.buffer2[0],abLength:c.buffer2[1]})}a(i,"addHunk"),bi(e,r).forEach(c=>i(c,"a")),bi(e,t).forEach(c=>i(c,"b")),n.sort((c,f)=>c.oStart-f.oStart);let o=[],s=0;function u(c){c>s&&(o.push({stable:!0,buffer:"o",bufferStart:s,bufferLength:c-s,bufferContent:e.slice(s,c)}),s=c)}for(a(u,"advanceTo");n.length;){let c=n.shift(),f=c.oStart,p=c.oStart+c.oLength,D=[c];for(u(f);n.length;){const I=n[0],z=I.oStart;if(z>p)break;p=Math.max(p,z+I.oLength),D.push(n.shift())}if(D.length===1){if(c.abLength>0){const I=c.ab==="a"?r:t;o.push({stable:!0,buffer:c.ab,bufferStart:c.abStart,bufferLength:c.abLength,bufferContent:I.slice(c.abStart,c.abStart+c.abLength)})}}else{let I={a:[r.length,-1,e.length,-1],b:[t.length,-1,e.length,-1]};for(;D.length;){c=D.shift();const Qe=c.oStart,lt=Qe+c.oLength,Ze=c.abStart,dt=Ze+c.abLength;let xt=I[c.ab];xt[0]=Math.min(Ze,xt[0]),xt[1]=Math.max(dt,xt[1]),xt[2]=Math.min(Qe,xt[2]),xt[3]=Math.max(lt,xt[3])}const z=I.a[0]+(f-I.a[2]),fe=I.a[1]+(p-I.a[3]),le=I.b[0]+(f-I.b[2]),Ae=I.b[1]+(p-I.b[3]);let Ie={stable:!1,aStart:z,aLength:fe-z,aContent:r.slice(z,fe),oStart:f,oLength:p-f,oContent:e.slice(f,p),bStart:le,bLength:Ae-le,bContent:t.slice(le,Ae)};o.push(Ie)}s=p}return u(e.length),o}a(sa,"diff3MergeRegions");function He(r,e,t,n){n=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/},n);const o=typeof r=="string",s=typeof e=="string",u=typeof t=="string";o&&(r=r.split(n.stringSeparator)),s&&(e=e.split(n.stringSeparator)),u&&(t=t.split(n.stringSeparator));let c=[];const f=sa(r,e,t);let p=[];function D(){p.length&&c.push({ok:p}),p=[]}a(D,"flushOk");function I(z,fe){if(z.length!==fe.length)return!1;for(let le=0;le<z.length;le++)if(z[le]!==fe[le])return!1;return!0}return a(I,"isFalseConflict"),f.forEach(z=>{z.stable?p.push(...z.bufferContent):n.excludeFalseConflicts&&I(z.aContent,z.bContent)?p.push(...z.aContent):(D(),c.push({conflict:{a:z.aContent,aIndex:z.aStart,o:z.oContent,oIndex:z.oStart,b:z.bContent,bIndex:z.bStart}}))}),D(),c}a(He,"diff3Merge");function ut(r,e,t,n){n=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/,label:{}},n);const o=He(r,e,t,n);let s=!1,u=[];return o.forEach(c=>{c.ok?u=u.concat(c.ok):c.conflict&&(s=!0,u.push(`<<<<<<<${n.label.a?` ${n.label.a}`:""}`),u=u.concat(c.conflict.a),u.push(`|||||||${n.label.o?` ${n.label.o}`:""}`),u=u.concat(c.conflict.o),u.push("======="),u=u.concat(c.conflict.b),u.push(`>>>>>>>${n.label.b?` ${n.label.b}`:""}`))}),{conflict:s,result:u}}a(ut,"mergeDiff3");function wt(r,e,t,n){n=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/},n);const o=He(r,e,t,n);let s=!1,u=[];for(let c=0;c<o.length;c++){const f=o[c];f.ok?u=u.concat(f.ok):(s=!0,u=u.concat([`
<<<<<<<<<
`],f.conflict.a,[`
=========
`],f.conflict.b,[`
>>>>>>>>>
`]))}return{conflict:s,result:u}}a(wt,"node_diff3_merge");function ct(r,e,t,n){n=Object.assign({excludeFalseConflicts:!1,stringSeparator:/\s+/},n);const o=He(r,e,t,n);let s=!1,u=[];for(let c=0;c<o.length;c++){const f=o[c];if(f.ok)u=u.concat(f.ok);else{const p=Xi(f.conflict.a,f.conflict.b);for(let D=0;D<p.length;D++){let I=p[D];I.common?u=u.concat(I.common):(s=!0,u=u.concat([`
<<<<<<<<<
`],I.buffer1,[`
=========
`],I.buffer2,[`
>>>>>>>>>
`]))}}}return{conflict:s,result:u}}a(ct,"mergeDigIn");function Lt(r,e){let t=[],n=0;function i(o){for(;n<o;)t.push(r[n]),n++}a(i,"advanceTo");for(let o=0;o<e.length;o++){let s=e[o];i(s.buffer1.offset);for(let u=0;u<s.buffer2.chunk.length;u++)t.push(s.buffer2.chunk[u]);n+=s.buffer1.length}return i(r.length),t}a(Lt,"patch");function er(r){return r.map(e=>({buffer1:{offset:e.buffer1.offset,length:e.buffer1.length},buffer2:{chunk:e.buffer2.chunk}}))}a(er,"stripPatch");function Tt(r){return r.map(e=>({buffer1:e.buffer2,buffer2:e.buffer1}))}a(Tt,"invertPatch");const ir=new oi;ir.diffTimeout=0;function Kt(r,e,t){return Me.get("experimental.useDiffMatchPatch")===!0?ir.patch_toText(ir.patch_make(e,t)):Ut(r,e,t)}a(Kt,"diffs_createPatch");function hr(r,e,t,n){const i=`diff --git a/${r} b/${r}`;switch(n){case"modify":return Kt(r,e,t);case"add":{let o;!t.endsWith(`
`)&&!t.endsWith(`\r
`)?o=`
\\ No newline at end of file`:o="";const s=/\r?\n/g,u=t.split(s),c=t.match(s)||[],f=u.length,p=[];for(let D=0;D<f;D+=1)(D<u.length-1||D===u.length-1&&u[D]!=="")&&p.push("+"),p.push(u[D]),D<c.length&&p.push(c[D]);return t=p.join(""),`${i}
new file mode 100644
--- /dev/null
+++ b/${r}
@@ -0,0 +1,${f} @@
${t}${o}`}case"delete":{let o=0;return e=e.replace(/\r?\n/g,s=>(o++,`${s}-`)),`${i}
deleted file mode 100644
--- a/${r}
+++ /dev/null
@@ -1,${o} +0,0 @@
-${e}`}}}a(hr,"createPatch2");function Dr(r,e,t){return We(r,e,t)}a(Dr,"diffs_applyPatch");function tn(r,e){const t=[];for(const n of we(r,e))t.push({...n,oldFileName:n.newFileName,oldHeader:n.newHeader,newFileName:n.oldFileName,newHeader:n.oldHeader,hunks:n.hunks.map(i=>({...i,oldLines:i.newLines,oldStart:i.newStart,newLines:i.oldLines,newStart:i.oldStart,lines:i.lines.map(o=>o[0]==="-"?`+${o.slice(1)}`:o[0]==="+"?`-${o.slice(1)}`:o)}))}),t.push(n);return t}a(tn,"reversePatch");function Yr(r,e,t,n){let i=`
`;const o=r.match(/(?:\r?\n)/g);if(o!==null&&o.length!==0){const f=o.filter(p=>p===`\r
`).length;i=f>o.length-f?`\r
`:`
`}const s=wt(r,e,t,{excludeFalseConflicts:!0,stringSeparator:/\r?\n/}),u=s.result;let c=s.conflict;for(let f=0;f<u.length;f+=1)u[f]===`
<<<<<<<<<
`?u[f]="<<<<<<< HEAD":u[f]===`
=========
`?u[f]="=======":u[f]===`
>>>>>>>>>
`&&(u[f]=`>>>>>>> ${n}`);return{conflicts:c,mergedContent:u.join(i)}}a(Yr,"diffs_merge");function rn(r){return r!==void 0&&typeof r.then=="function"}a(rn,"isPromise");const Ur="";function rr(...r){if(r.length===1){const e=r[0];return e===void 0?Ur:typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"||e instanceof Error?String(e):e instanceof l.Uri?e.toString():JSON.stringify(e)}return JSON.stringify(r)}a(rr,"defaultResolver");function Jt(r){return(e,t,n)=>{let i;if(typeof n.value=="function"?i=n.value:typeof n.get=="function"&&(i=n.get),i===void 0)throw new Error("Not supported");const o=`$gate$${t}`;n.value=function(...s){const u=s.length===0?o:`${o}$${(r!=null?r:rr)(...s)}`;Object.prototype.hasOwnProperty.call(this,u)||Object.defineProperty(this,u,{configurable:!1,enumerable:!1,writable:!0,value:void 0});let c=this[u];if(c===void 0){let f;try{if(f=i.apply(this,s),f==null||!rn(f))return f;this[u]=c=f.then(p=>(this[u]=void 0,p)).catch(p=>{throw this[u]=void 0,p})}catch(p){throw this[u]=void 0,p}}return c}}}a(Jt,"gate");function vr(r){const e=performance.now()*.001;let t=Math.floor(e),n=Math.floor(e%1*1e9);return r!==void 0&&(t=t-r[0],n=n-r[1],n<0&&(t--,n+=1e9)),[t,n]}a(vr,"hrtime");let mr=0;function K(){return mr===Number.MAX_SAFE_INTEGER&&(mr=0),++mr}a(K,"getNextInstanceId");const ue=a(class{constructor(r,e,...t){this.context=r,this.instance=`[${K().toString().padStart(5)}] `;var n,i,o,s,u,c;let f;if(typeof(e==null?void 0:e.log)=="boolean"?f=e.log?{}:void 0:f=(n=e==null?void 0:e.log)!=null?n:{},this.logLevel=(i=e==null?void 0:e.logLevel)!=null?i:tt.Info,this.time=vr(),f){if(!Z.enabled(this.logLevel))return;t.length?ht(this.logLevel,`${this.instance}${(o=f.prefix)!=null?o:""}${r}${(s=f.message)!=null?s:""}`,...t):ht(this.logLevel,`${this.instance}${(u=f.prefix)!=null?u:""}${r}${(c=f.message)!=null?c:""}`)}}log(r){this.logCore(this.context,r,!1)}logStep(r,e){(!r||e)&&this.logCore(this.context,e,!1),this.step=r?{time:vr(),label:r}:void 0}restart(r){this.logCore(this.context,r,!0),this.step=void 0,this.time=vr()}stop(r){this.restart(r)}logCore(r,e,t){var n,i,o,s,u,c,f;if(!Z.enabled(this.logLevel))return;let p="";if(this.step){const[fe,le]=vr(this.step.time),Ae=fe*1e3+Math.floor(le/1e6);p=`${this.step.label?`${this.step.label} took `:""}${Ae} ms`}if(!t){ht(this.logLevel,`${this.instance}${(n=e==null?void 0:e.prefix)!=null?n:""}${r}${(i=e==null?void 0:e.message)!=null?i:""}${p?` ${p}`:""}${(o=e==null?void 0:e.suffix)!=null?o:""}`);return}const[D,I]=vr(this.time),z=D*1e3+Math.floor(I/1e6);ht(z>500?tt.Warn:this.logLevel,`${this.instance}${(s=e==null?void 0:e.prefix)!=null?s:""}${r}${(u=e==null?void 0:e.message)!=null?u:""}${(c=e==null?void 0:e.took)!=null?c:" took "}${z} ms${p?` (${p})`:""}${(f=e==null?void 0:e.suffix)!=null?f:""}`)}static start(r,e,...t){var n;(n=ue.watches.get(r))==null||n.log(),ue.watches.set(r,new ue(r,e,...t))}static log(r,e){var t;(t=ue.watches.get(r))==null||t.log(e)}static stop(r,e){var t;(t=ue.watches.get(r))==null||t.stop(e),ue.watches.delete(r)}},"_Stopwatch");let Ee=ue;Ee.watches=new Map;function ht(r,e,...t){switch(r){case tt.Warn:Z.warn(e,...t);break;case tt.Info:Z.log(e,...t);break;default:Z.debug(e,...t);break}}a(ht,"log");let kt=0;function $t(){return kt===Number.MAX_SAFE_INTEGER&&(kt=0),String(++kt)}a($t,"getNextLockId");class pr{constructor(){this.id=$t()}async synchronize(e){let t;const n=this.promise;this.promise=new Promise(i=>t=i),await n;try{return await e()}finally{t()}}}a(pr,"Lock");class lr{constructor(e){this.lock=new pr,this.readers=new Set,this.counter=0,this._id=e!=null?e:this.lock.id}get id(){return this._id}getNextCounter(){return this.counter===Number.MAX_SAFE_INTEGER&&(this.counter=0),++this.counter}async synchronizeRead(e,t){let n;const i=new Ee(`Reader(${this.getNextCounter()}|${this.id})`,{log:{prefix:"(A) ",message:t?` \u2022 ${t}`:""},logLevel:tt.Debug});let o;await this.lock.synchronize(async()=>{this.writer&&await this.writer,o=new Promise(s=>n=s),this.readers.add(o)}),i.restart({prefix:"(L) ",suffix:t?` \u2022 ${t}`:"",took:" waited for "});try{return await e()}finally{i.stop({prefix:"(U) ",suffix:t?` \u2022 ${t}`:"",took:" locked for "}),o!==void 0&&this.readers.delete(o),n()}}async synchronizeWrite(e,t){let n;const i=new Ee(`Writer(${this.getNextCounter()}|${this.id})`,{log:{prefix:"(A) ",message:t?` \u2022 ${t}`:""},logLevel:tt.Debug});await this.lock.synchronize(async()=>{if(this.writer&&await this.writer,this.readers.size){const o=[...this.readers];this.readers.clear(),await Promise.all(o)}this.writer=new Promise(o=>n=o)}),i.restart({prefix:"(L) ",suffix:t?` \u2022 ${t}`:"",took:" waited for "});try{return await e()}finally{i.stop({prefix:"(U) ",suffix:t?` \u2022 ${t}`:"",took:" locked for "}),n(),this.writer=void 0}}}a(lr,"ReaderWriterLock");class ar{constructor(){this.locks=new Map}async synchronizeRead(e,t,n){let i=this.locks.get(e);return i===void 0&&(i=new lr(String(e)),this.locks.set(e,i)),i.synchronizeRead(t,n)}async synchronizeWrite(e,t,n){let i=this.locks.get(e);return i===void 0&&(i=new lr(String(e)),this.locks.set(e,i)),i.synchronizeWrite(t,n)}}a(ar,"KeyedReaderWriterLock");const dr=new TextDecoder,yr=new TextEncoder;async function jt(r){const e=typeof r=="string"?yr.encode(r):r;let t;if(globalThis.crypto.subtle)t=await globalThis.crypto.subtle.digest({name:"sha-1"},e);else{const n=new Xt;n.update(e),t=n.digest()}return globalThis.btoa(encodeURIComponent(dr.decode(t)))}a(jt,"sha1");async function Dt(r){const e=await globalThis.crypto.subtle.digest({name:"sha-256"},r);return Array.from(new Uint8Array(e)).map(n=>n.toString(16).padStart(2,"0")).join("")}a(Dt,"sha256");var Or;(function(r){r[r.BLOCK_SIZE=64]="BLOCK_SIZE"})(Or||(Or={}));function Ar(r,e,t=32){const n=t-e,i=~((1<<n)-1);return(r<<e|(i&r)>>>n)>>>0}a(Ar,"leftRotate");function $r(r,e=0,t=r.byteLength,n=0){for(let i=0;i<t;i++)r[e+i]=n}a($r,"fill");const Jr=a(class{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._finished=!1}update(r){const e=this._buff;let t=this._buffLen,n=0;const i=r.byteLength;for(;n<i;){const o=Math.min(64-t,i-n);for(let s=0;s<o;s++)e[t++]=r[n++];t>=64&&(this._step(),t-=64,this._totalLen+=64)}this._buffLen=t}digest(){this._finished||(this._finished=!0,this._totalLen+=this._buffLen,this._wrapUp());const r=new ArrayBuffer(20),e=new DataView(r);return e.setUint32(0,this._h0,!1),e.setUint32(4,this._h1,!1),e.setUint32(8,this._h2,!1),e.setUint32(12,this._h3,!1),e.setUint32(16,this._h4,!1),r}_wrapUp(){this._buff[this._buffLen++]=128,$r(this._buff,this._buffLen),this._buffLen>56&&(this._step(),$r(this._buff));const r=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(r/4294967296),!1),this._buffDV.setUint32(60,r%4294967296,!1),this._step()}_step(){const r=Jr._bigBlock32,e=this._buffDV;for(let p=0;p<64;p+=4)r.setUint32(p,e.getUint32(p,!1),!1);for(let p=64;p<320;p+=4)r.setUint32(p,Ar(r.getUint32(p-12,!1)^r.getUint32(p-32,!1)^r.getUint32(p-56,!1)^r.getUint32(p-64,!1),1),!1);let t=this._h0,n=this._h1,i=this._h2,o=this._h3,s=this._h4,u,c,f;for(let p=0;p<80;p++)p<20?(u=n&i|~n&o,c=1518500249):p<40?(u=n^i^o,c=1859775393):p<60?(u=n&i|n&o|i&o,c=2400959708):(u=n^i^o,c=3395469782),f=Ar(t,5)+u+s+c+r.getUint32(p*4,!1)&4294967295,s=o,o=i,i=Ar(n,30),n=t,t=f;this._h0=this._h0+t&4294967295,this._h1=this._h1+n&4294967295,this._h2=this._h2+i&4294967295,this._h3=this._h3+o&4294967295,this._h4=this._h4+s&4294967295}},"_SHA1Computer");let Xt=Jr;Xt._bigBlock32=new DataView(new ArrayBuffer(320));function Un(r){const e=globalThis.atob(r),t=e.length,n=new Uint8Array(t);for(let i=0;i<t;i++)n[i]=e.charCodeAt(i);return n}a(Un,"fromBase64");const{fromCharCode:bn}=String;function Nr(r){let e;if(typeof r=="string")e=r;else{e="";for(let t=0,{length:n}=r;t<n;t++)e+=bn(r[t])}return globalThis.btoa(e)}a(Nr,"toBase64");function ri(r,e){if(r===e)return-1;let t=0;for(;r[t]===e[t];)t++;return t}a(ri,"indexOfDifference");function $n(r){return r.replace(/[\\{}*+?|^$.[\]()]/g,"\\$&")}a($n,"strings_escapeRegExpCharacters");var Hn=Object.defineProperty,di=Object.getOwnPropertyDescriptor,si=a((r,e,t,n)=>{for(var i=n>1?void 0:n?di(e,t):e,o=r.length-1,s;o>=0;o--)(s=r[o])&&(i=(n?s(e,t,i):s(i))||i);return n&&i&&Hn(e,t,i),i},"__decorateClass");const gi=l.FileSystemError.FileNotFound().code,Kn=`===================================================================
`,In=new TextDecoder,xi=new TextEncoder;function Ci(r){return r&&"type"in r&&"uri"in r&&"uri"in r&&"fileType"in r&&"revision"in r&&"timestamp"in r}a(Ci,"isOperation");function Gn(r,e,t){return{type:r.type,rootUri:e,uri:t!=null?t:r.uri}}a(Gn,"toEvent");const Zn=a(class{constructor(r,e,t,n,i,o){this.providerService=r,this.storageService=e,this.fileStorageService=t,this.telemetryService=n,this.workspaceId=i,this._onDidChange=new l.EventEmitter,this.cache=new Map,this.lock=new ar,this.scopedStores=new Map,o===void 0&&(this.disposable=l.Disposable.from(this.providerService.onDidRefresh(()=>this.cache.clear())))}get onDidChange(){return this._onDidChange.event}dispose(){var r;(r=this.disposable)==null||r.dispose()}async exportDebugInfo(r){var e;async function t(n){const i=await l.workspace.openTextDocument({language:"json",content:`ChangeStore Operations for ${n.toString(!0)}

${this.toStorage(await this.getWorkingOperations(n))}`});return void l.window.showTextDocument(i)}if(a(t,"exportCore"),r===void 0)for(const n of(e=l.workspace.workspaceFolders)!=null?e:[])await t.call(this,n.uri);else return t.call(this,r)}async getWorkspacesWithChanges(){var r;const e=new Ee("ChangeStore.getWorkspacesWithChanges()");try{const t=[];for(const n of(r=l.workspace.workspaceFolders)!=null?r:[])n.uri.scheme===U.scheme&&await this.hasChanges(n.uri)&&t.push(n.uri);return t.length>0?t:void 0}finally{e.stop()}}async acceptAll(r,e){const t=`ChangeStore.acceptAll(${r.toString()}, ${e==null?void 0:e.staged})`;Z.log(t);const n=[];await this.lock.synchronizeWrite(b(r),async()=>{const i=await this.getWorkingOperations(r),o=[];let s=[];const u=(e==null?void 0:e.staged)&&!(e.staged==="auto"&&!i.some(c=>c.staged));for(const c of i){if(u&&!c.staged){s.push(c);continue}c.fileType===l.FileType.File&&await this.discardWorkingContent(r,c.uri);let f;if(c.type===W.Created&&c.fileType===l.FileType.Directory&&(i.some(p=>$(p.uri,c.uri))||(f={type:W.Deleted,rootUri:r,uri:c.uri})),n.push(f!=null?f:Gn(c,r)),c.type===W.Created){let p=c.uri;for(;;){const{parent:D}=this.findParent(p,i,I=>I.type===W.Created);if(D){o.push(D),p=D.uri;continue}break}}}s.length>0&&o.length>0&&(s=s.filter(c=>o.includes(c)?(n.push(Gn(c,r)),!1):!0)),await this.saveWorkingOperations(r,s)},t),n.length!==0&&this._onDidChange.fire(n)}async discard(r){const e=this.providerService.getVirtualWorkspaceUri(r);if(e===void 0)return;const t=`ChangeStore.discard(${r.toString()})`;Z.log(t);const n=[];await this.lock.synchronizeWrite(b(e),async()=>this.discardCore(e,r,n),t),n.length!==0&&this._onDidChange.fire(n)}async discardCore(r,e,t){Z.debug(`ChangeStore.discardCore(${e.toString()})`);let n=await this.getWorkingOperations(r);if(n.length===0)return;const i=B(e),o=n.findIndex(c=>B(c.uri)===i);if(o===-1)return;const[s]=n.splice(o,1);let u;switch(s.type){case W.Created:u=W.Deleted;break;case W.Deleted:u=W.Created;break;default:u=s.type;break}if(t.push({type:u,rootUri:r,uri:e}),s.type===W.Created){let c=s.uri;for(;;){const{parent:f,parentIndex:p}=this.findNewParentWithOnlyChild(c,n);if(f){n.splice(p,1),t.push({type:W.Deleted,rootUri:r,uri:f.uri}),c=f.uri;continue}break}}else if(s.type===W.Deleted){let c=s.uri;const f=this.findDeletedParents(c,n);let p=[...n];f.forEach(({parent:D,parentIndex:I})=>{p[I]=void 0,t.push({type:W.Created,rootUri:r,uri:D.uri})}),n=p.filter(D=>D!==void 0)}await this.saveWorkingOperations(r,n),s.fileType===l.FileType.File&&await this.discardWorkingContent(r,e)}async discardAll(r,e){const t=this.getUriScope(r);if(t)return this.getScopedChangeStore(t).discardAll(r,e);const n=`ChangeStore.discardAll(${r.toString()}, ${e==null?void 0:e.staged})`;Z.log(n);const i=[];await this.lock.synchronizeWrite(b(r),async()=>{const o=await this.getWorkingOperations(r),s=[];let u=[];const c=(e==null?void 0:e.staged)&&!(e.staged==="auto"&&!o.some(f=>f.staged));for(const f of o){if(c&&!f.staged){u.push(f);continue}f.fileType===l.FileType.File&&await this.discardWorkingContent(r,f.uri);let p;switch(f.type){case W.Created:p=W.Deleted;break;case W.Deleted:p=W.Created;break;default:p=f.type;break}if(i.push({type:p,rootUri:r,uri:f.uri}),f.type===W.Created){let D=f.uri;for(;;){const{parent:I}=this.findNewParentWithOnlyChild(D,o);if(I){s.push(I),D=I.uri;continue}break}}}u.length>0&&s.length>0&&(u=u.filter(f=>s.includes(f)?(i.push({type:W.Deleted,rootUri:r,uri:f.uri}),!1):!0)),await this.saveWorkingOperations(r,u)},n),i.length!==0&&this._onDidChange.fire(i)}async stage(r){const e=this.providerService.getVirtualWorkspaceUri(r);if(e===void 0)return;const t=`ChangeStore.stage(${r.toString()})`;Z.log(t);const n=[];await this.lock.synchronizeWrite(b(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(r,e);i!==void 0&&await this.stageCore(e,r,i,n,o)},t),n.length!==0&&this._onDidChange.fire(n)}async stageAll(r){const e=`ChangeStore.stageAll(${r.toString()})`;Z.log(e);const t=[];await this.lock.synchronizeWrite(b(r),async()=>{const n=(await this.getWorkingOperations(r)).filter(i=>!i.staged);if(n.length!==0)for(const i of n){const{index:o}=await this.getWorkingOperation(i.uri,r);if(!await this.stageCore(r,i.uri,i,t,o))return}},e),t.length!==0&&this._onDidChange.fire(t)}async stageCore(r,e,t,n,i){if(t.conflicts){if(!t.conflicts.status.includes(W.Deleted)){const s=l.l10n.t("Yes");if(await l.window.showWarningMessage(l.l10n.t("Are you sure you want to stage {0} with merge conflicts?",q(e)),{modal:!0},s)!==s)return!1}const[,o]=t.conflicts.status;switch(o){case W.Changed:switch(t.type){case W.Created:return!1;case W.Changed:return await this.spliceOperation(e,i,{...t,conflicts:void 0,staged:!0,timestamp:Date.now()},n),!0;case W.Deleted:const s=l.l10n.t("Keep Their Version"),u=l.l10n.t("Delete File"),c=await l.window.showInformationMessage(l.l10n.t(`File '{0}' was deleted by us and modified by them.

What would you like to do?`,q(e)),{modal:!0},s,u);return c===s?(await this.discardCore(r,e,n),!0):c===u?(await this.spliceOperation(e,i,{...t,type:W.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:void 0,staged:!0,timestamp:Date.now()},n),!0):!1}case W.Created:switch(t.type){case W.Changed:case W.Deleted:return!1;case W.Created:return await this.spliceOperation(e,i,{...t,type:W.Changed,conflicts:void 0,size:t.size,hash:t.hash,originalHash:t.originalHash,staged:!0,timestamp:Date.now()},n),!0}case W.Deleted:switch(t.type){case W.Created:case W.Changed:{const s=l.l10n.t("Keep Our Version"),u=l.l10n.t("Delete File"),c=await l.window.showInformationMessage(l.l10n.t(`File '{0}' was deleted by them and modified by us.

What would you like to do?`,q(e)),{modal:!0},s,u);return c===s?(await this.spliceOperation(e,i,{...t,type:W.Created,originalHash:void 0,conflicts:void 0,staged:!0,timestamp:Date.now()},n),!0):c===u?(await this.discardCore(r,e,n),!0):!1}case W.Deleted:return await this.discardCore(r,e,n),!0}}}return await this.spliceOperation(e,i,{...t,staged:!0,conflicts:void 0,timestamp:Date.now()},n),!0}async unstage(r){const e=this.providerService.getVirtualWorkspaceUri(r);if(e===void 0)return;const t=`ChangeStore.unstage(${r.toString()})`;Z.log(t);const n=[];await this.lock.synchronizeWrite(b(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(r,e);i!==void 0&&await this.spliceOperation(r,o,{...i,staged:!1,timestamp:Date.now()},n)},t),n.length!==0&&this._onDidChange.fire(n)}async unstageAll(r){const e=`ChangeStore.unstageAll(${r.toString()})`;Z.log(e);const t=[];await this.lock.synchronizeWrite(b(r),async()=>{const n=(await this.getWorkingOperations(r)).map(i=>({...i,staged:!1,timestamp:Date.now()}));n.length!==0&&(await this.saveWorkingOperations(r,n),t.push(...n.map(i=>Gn(i,r))))},e),t.length!==0&&this._onDidChange.fire(t)}async hasChanges(r){const e=this.getUriScope(r);if(e)return this.getScopedChangeStore(e).hasChanges(r);const t=b(r),n=this.cache.get(t);return n!==void 0?n.length!==0:this.lock.synchronizeRead(t,async()=>(await this.getWorkingOperations(r)).length!==0,`ChangeStore.hasChanges(${r.toString()})`)}maybeHasChanges(r,e){const t=this.getUriScope(r);if(t)return this.getScopedChangeStore(t).maybeHasChanges(r,e);const n=b(r),i=this.cache.get(n);if(i===void 0)return;if(i.length===0)return!1;if(e===void 0)return!0;const o=B(e);return i.some(s=>B(s.uri)===o)}async hasMergeConflicts(r){return this.lock.synchronizeRead(b(r),async()=>(await this.getWorkingOperations(r)).some(e=>e.conflicts!==void 0),`ChangeStore.hasMergeConflicts(${r.toString()})`)}async hasStagedChanges(r){return this.lock.synchronizeRead(b(r),async()=>(await this.getWorkingOperations(r)).some(e=>e.staged&&e.conflicts===void 0),`ChangeStore.hasStagedChanges(${r.toString()})`)}async hasWorkingChanges(r){return this.lock.synchronizeRead(b(r),async()=>(await this.getWorkingOperations(r)).some(e=>!e.staged&&e.conflicts===void 0),`ChangeStore.hasWorkingChanges(${r.toString()})`)}async getChange(r){const e=this.getUriScope(r);if(e)return this.getScopedChangeStore(e).getChange(r);const t=this.providerService.getVirtualRootUri(r);if(t!==void 0)return this.lock.synchronizeRead(b(t),async()=>{const{operation:n}=await this.getWorkingOperation(r,t);return n},`ChangeStore.getChange(${r.toString()})`)}async getChanges(r,e){const t=this.getUriScope(r);return t?this.getScopedChangeStore(t).getChanges(r,e):this.lock.synchronizeRead(b(r),async()=>{let n=await this.getWorkingOperations(r);if((e==null?void 0:e.excludeConflicts)||(e==null?void 0:e.predicate)){const{excludeConflicts:i,predicate:o}=e;n=n.filter(s=>{var u;return(!i||s.conflicts===void 0)&&((u=o==null?void 0:o(s))!=null?u:!0)})}return n},`ChangeStore.getChanges(${r.toString()})`)}async getGroupedChanges(r,e){const t=this.getUriScope(r);return t?this.getScopedChangeStore(t).getGroupedChanges(r,e):this.lock.synchronizeRead(b(r),async()=>{var n,i;const o=await this.getWorkingOperations(r),s={conflicts:[],staged:[],working:[]};for(const u of o)!((i=(n=e==null?void 0:e.predicate)==null?void 0:n.call(e,u))!=null?i:!0)||(u.conflicts?s.conflicts.push(u):u.staged?s.staged.push(u):s.working.push(u));return s},`ChangeStore.getChangesByType(${r.toString()})`)}async getContent(r){const e=this.providerService.getVirtualRootUri(r);if(e===void 0)throw new Error(`Unable to find content for ${r.toString()}; Repository not found`);const t=b(e),n=this.cache.get(t);if((n==null?void 0:n.length)===0)throw new Error(`Unable to find content for ${r.toString()}`);return this.lock.synchronizeRead(t,async()=>{const i=In.decode(await this.getWorkingContent(e,r));if(i!==void 0)return i;throw new Error(`Unable to find content for ${r.toString()}`)},`ChangeStore.getContent(${r.toString()}}`)}async getMergeConflicts(r,e){return this.lock.synchronizeRead(b(r),async()=>(await this.getWorkingOperations(r)).filter(n=>{var i,o;return n.conflicts!==void 0&&((o=(i=e==null?void 0:e.predicate)==null?void 0:i.call(e,n))!=null?o:!0)}),`ChangeStore.getMergeConflicts(${r.toString()})`)}async getStagedChanges(r,e){return this.lock.synchronizeRead(b(r),async()=>(await this.getWorkingOperations(r)).filter(n=>{var i,o;return n.staged&&n.conflicts===void 0&&((o=(i=e==null?void 0:e.predicate)==null?void 0:i.call(e,n))!=null?o:!0)}),`ChangeStore.getStagedChanges(${r.toString()})`)}async getWorkingChanges(r,e){return this.lock.synchronizeRead(b(r),async()=>(await this.getWorkingOperations(r)).filter(n=>{var i,o;return!n.staged&&n.conflicts===void 0&&((o=(i=e==null?void 0:e.predicate)==null?void 0:i.call(e,n))!=null?o:!0)}),`ChangeStore.getWorkingChanges(${r.toString()})`)}async applyChangeset(r,e,t,n){var i;let o;Ci(t)?o=t:n=n!=null?n:t,Z.log(`ChangeStore.applyChangeset${r.toString()}`,e.workspaceId,e.uri,o==null?void 0:o.uri,n==null?void 0:n.save);const s=this.getScopedChangeStore(e.workspaceId),u=(i=e.patch)!=null?i:await s.createPatch(e.uri,o==null?void 0:o.uri);await this.applyPatchCore(r,u,{...n,getIncomingContent:async c=>{const f=this.getScopedUri(this.providerService.createRelativeVirtualUri(e.uri,c),e.workspaceId);return In.decode(await l.workspace.fs.readFile(f))},merge:async(c,f,p)=>{try{const D=U.getProviderUri(c),I=In.decode(await l.workspace.fs.readFile(D)),z=this.getScopedUri(this.providerService.createRelativeVirtualUri(e.uri,f),e.workspaceId),fe=In.decode(await l.workspace.fs.readFile(z)),le=await this.providerService.getMetadata(z);return{...Yr(p,I,fe,le.HEAD.sha),baseUri:D,incomingUri:z}}catch(D){throw new Error(`Unable to apply patch to ${f}: ${String(D)}`)}}})}async applyPatch(r,e,t){if(Z.log(`ChangeStore.applyPatch(${r.toString()})`,t==null?void 0:t.save),!e.startsWith("diff --"))throw new Error("Invalid patch");return this.applyPatchCore(r,e,t)}async applyPatchCore(r,e,t={}){const n=`ChangeStore.applyPatchCore(${r.toString()})`;Z.debug(n,t==null?void 0:t.save);const i=new l.WorkspaceEdit,o=[],s=new Map;async function u(I){var z;const fe=b(I),le=l.workspace.textDocuments.find(Ae=>b(Ae.uri)===fe);return(z=le==null?void 0:le.getText())!=null?z:In.decode(await l.workspace.fs.readFile(I))}a(u,"getContent");async function c(I){try{const z=await l.workspace.fs.stat(I);return Boolean(z)}catch{return!1}}a(c,"exists");async function f(I,z,fe){let le=Dr("",fe,{fuzzFactor:0});if(le===!1){if(!t.getIncomingContent)throw new Error(`Unable to apply patch to ${z}`);le=await t.getIncomingContent(z)}i.createFile(I,{overwrite:!0}),i.replace(I,new l.Range(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),le)}a(f,"applyCreate");async function p(I,z,fe,le){const Ae=await u(I);let Ie=Dr(Ae,fe,{fuzzFactor:1});if(Ie===!1){if(t.merge===void 0)throw new Error(`Unable to apply patch to ${z}; Resulted in conflicts`);const Qe={title:l.l10n.t("Merge")},lt={title:l.l10n.t("Skip File"),isCloseAffordance:!0};if(await l.window.showWarningMessage(l.l10n.t(`Unable to apply changes to '{0}'.

Do you want to retry by merging the files?`,z),{modal:!0},Qe,lt)!==Qe)return;const dt=await t.merge(I,z,Ae);Ie=dt.mergedContent,dt.conflicts&&s.set(b(I),{type:le,baseUri:dt.baseUri,incomingUri:dt.incomingUri})}i.replace(I,new l.Range(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),Ie)}a(p,"applyModification");const D=(t==null?void 0:t.reverse)?tn(e,{}):we(e,{});for(const I of D)if(I.oldFileName==="/dev/null"){if(!I.newFileName)continue;const z=I.newFileName.startsWith("b/")?I.newFileName.substr(2):I.newFileName,fe=this.providerService.createRelativeVirtualUri(r,z);o.push(b(fe)),!await c(fe)?await f(fe,z,I):await p(fe,z,I,W.Created)}else if(I.newFileName==="/dev/null"){if(!I.oldFileName)continue;const z=I.oldFileName.startsWith("a/")?I.oldFileName.substr(2):I.oldFileName,fe=this.providerService.createRelativeVirtualUri(r,z);await c(fe)&&i.deleteFile(fe)}else if(I.oldFileName===I.newFileName){if(!I.newFileName)continue;const z=this.providerService.createRelativeVirtualUri(r,I.newFileName);o.push(b(z)),!await c(z)?await f(z,I.newFileName,I):await p(z,I.newFileName,I,W.Changed)}else throw new Error(`Unable to apply patch to ${I.oldFileName}; Renames aren't currently supported`);if(await l.workspace.applyEdit(i),t.save&&o.length)for(const I of o){const z=l.workspace.textDocuments.find(fe=>b(fe.uri)===I);await(z==null?void 0:z.save())}s.size&&setTimeout(async()=>{const I=[];await this.lock.synchronizeWrite(b(r),async()=>{const z=await this.getWorkingOperations(r);if(z.length===0)return;let fe=-1;for(const le of z){fe++;const Ae=s.get(b(le.uri));Ae!==void 0&&await this.spliceOperation(le.uri,fe,{...le,conflicts:{baseUri:Ae.baseUri,incomingUri:Ae.incomingUri,status:[le.type,Ae.type]},timestamp:Date.now()},I)}},n),I.length!==0&&this._onDidChange.fire(I)},0)}async createChangeset(r){Z.log(`ChangeStore.createChangeset${r.toString()})`);const e=await this.createPatch(r);return e?{workspaceId:this.workspaceId,uri:r,patch:e}:void 0}async createPatch(r,e,t){if(Z.log(`ChangeStore.createPatch${r.toString()})`,e),e===void 0){let o=await this.getWorkingOperations(r);if((t==null?void 0:t.staged)&&(o=o.filter(u=>u.staged)),o.length===0)return"";const s=[];for(const u of o){const c=await this.createPatchCore(r,u);s.push(c)}return s.join("")}const{operation:n}=await this.getWorkingOperation(e,r);if(n===void 0)throw new Error(`Unable to create patch for ${e.toString()}`);return(t==null?void 0:t.staged)&&n.staged?"":await this.createPatchCore(r,n)}async createPatchCore(r,e){if(e.fileType!==l.FileType.File)return"";const t=this.providerService.getRelativeFilePath(r,e.uri),n=`diff --git a/${t} b/${t}`;if(e.type===W.Created){let c=await this.getContent(e.uri);return hr(t,"",c,"add")}if(e.type===W.Deleted){let c=In.decode(await l.workspace.fs.readFile(U.getProviderUri(e.uri)));return hr(t,c,"","delete")}const i=await this.getContent(e.uri),o=In.decode(await l.workspace.fs.readFile(U.getProviderUri(e.uri))),s=Kt(t,o,i),u=s.indexOf(Kn);return`${n}
${s.substr(u+Kn.length)}`}async keep(r,e){const t=this.providerService.getVirtualWorkspaceUri(r);if(t===void 0)return;const n=`ChangeStore.keep(${r.toString()})`;Z.log(n,e);const i=[];await this.lock.synchronizeWrite(b(t),async()=>{const{operation:o,index:s}=await this.getWorkingOperation(r,t);if(o===void 0)return;if(e===void 0&&o.conflicts){const[,c]=o.conflicts.status;switch(c){case W.Changed:switch(o.type){case W.Changed:case W.Created:case W.Deleted:await this.spliceOperation(r,s,{...o,conflicts:void 0,timestamp:Date.now()},i);break}break;case W.Created:switch(o.type){case W.Changed:case W.Deleted:await this.spliceOperation(r,s,{...o,conflicts:void 0,timestamp:Date.now()},i);break;case W.Created:await this.spliceOperation(r,s,{...o,type:W.Changed,size:o.size,hash:o.hash,originalHash:o.originalHash,conflicts:void 0,timestamp:Date.now()},i);break}break;case W.Deleted:switch(o.type){case W.Deleted:await this.discardCore(t,r,i);break;case W.Changed:await this.spliceOperation(r,s,{...o,type:W.Created,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);break;case W.Created:await this.spliceOperation(r,s,{...o,conflicts:void 0,timestamp:Date.now()},i);break}break}return}if(e===void 0)return;switch(e.type){case W.Changed:switch(o.type){case W.Deleted:await this.spliceOperation(r,s,{...o,type:W.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);return;case W.Created:break;case W.Changed:break}break;case W.Created:switch(o.type){case W.Changed:case W.Deleted:return;case W.Created:break}break;case W.Deleted:switch(o.type){case W.Deleted:return this.discardCore(t,r,i);case W.Changed:await this.spliceOperation(r,s,{...o,type:W.Created,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);return;case W.Created:return}}const u=e!==void 0?await l.workspace.fs.readFile(e.providerUri):void 0;await this.spliceOperation(r,s,{...o,type:W.Changed,originalHash:u!==void 0?await jt(u):o.originalHash,conflicts:void 0,timestamp:Date.now()},i)},n),i.length!==0&&this._onDidChange.fire(i)}async merge(r,e,t){const n=this.providerService.getVirtualWorkspaceUri(r);if(n===void 0)return;const i=`ChangeStore.merge(${r.toString()})`;Z.log(i,e,t);const o=[];await this.lock.synchronizeWrite(b(n),async()=>{const{operation:s,index:u}=await this.getWorkingOperation(r,n);if(s===void 0)return;switch(e.type){case W.Changed:switch(s.type){case W.Deleted:await this.spliceOperation(r,u,{...s,type:W.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:{baseUri:t.providerUri,incomingUri:e.providerUri,status:[s.type,e.type]},timestamp:Date.now()},o);return;case W.Created:break;case W.Changed:break}break;case W.Created:switch(s.type){case W.Deleted:case W.Changed:return;case W.Created:const z=await l.workspace.fs.readFile(e.providerUri);await this.spliceOperation(r,u,{...s,originalHash:z!==void 0?await jt(z):s.originalHash,conflicts:{baseUri:t.providerUri,incomingUri:e.providerUri,status:[s.type,e.type]},type:W.Changed,timestamp:Date.now()},o);break}break;case W.Deleted:switch(s.type){case W.Deleted:return this.discardCore(n,r,o);case W.Changed:await this.spliceOperation(r,u,{...s,type:W.Created,originalHash:void 0,conflicts:{baseUri:void 0,incomingUri:e.providerUri,status:[s.type,e.type]},timestamp:Date.now()},o);return;case W.Created:return}}const c=await this.providerService.getMetadata(e.providerUri),f=await this.getWorkingContent(n,r),p=s.type===W.Created?new Uint8Array(0):await l.workspace.fs.readFile(t.providerUri),D=await l.workspace.fs.readFile(e.providerUri),I=Yr(In.decode(f),In.decode(p),In.decode(D),c.HEAD.sha);await this.writeFileCore(n,r,o,xi.encode(I.mergedContent),D!=null?D:new Uint8Array(0),I.conflicts?{baseUri:t.providerUri,incomingUri:e.providerUri,status:[s.type,e.type]}:void 0)},i),o.length!==0&&this._onDidChange.fire(o)}async resolveDiffCommand(r,e,t,n){let i;const o=this.providerService.getVirtualRootUri(r);return o!==void 0&&({operation:i}=await this.getWorkingOperation(r,o)),(i==null?void 0:i.type)===W.Deleted?this.resolveOpenCommand(e):((i==null?void 0:i.type)===W.Created&&(e=e.with({query:"~"})),{command:"vscode.diff",title:"Open Changes",arguments:[e,r,t,n]})}resolveOpenCommand(r,e){return{command:"vscode.open",title:"Open File",arguments:[r,e]}}getScopedUri(r,e){const t=typeof e=="string"?e:e.workspaceId;return t===this.workspaceId?r:r.with({fragment:t})}getUriScope(r){return r.fragment||void 0}getScopedChangeStore(r){const e=typeof r=="string"?r:r.workspaceId;Z.log(`ChangeStore.getScopedChangeStore(${e})`);let t=this.scopedStores.get(e);return t===void 0&&(t=e===this.workspaceId?new Zn.ScopedChangeStore(this,e,this.workspaceId):new Zn.ScopedChangeStore(new Zn(this.providerService,this.storageService.with(e),this.fileStorageService.with(e),this.telemetryService,this.workspaceId,e),e,this.workspaceId),this.scopedStores.set(e,t)),t}async stat(r){const e=this.getUriScope(r);if(e)return this.getScopedChangeStore(e).stat(r);const t=this.providerService.getVirtualRootUri(r);if(t===void 0)return;const n=b(t),i=this.cache.get(n);if((i==null?void 0:i.length)!==0)return this.lock.synchronizeRead(n,async()=>{var o;const{operation:s}=await this.getWorkingOperation(r,t);if(s!==void 0){if(s.type===W.Deleted)throw l.FileSystemError.FileNotFound(`The ${s.fileType===l.FileType.Directory?"folder":"file"} has been deleted.`);return{type:s.fileType,size:(o=s.size)!=null?o:0,ctime:0,mtime:s.timestamp}}},`ChangeStore.stat(${r.toString()}`)}async readFile(r){const e=this.getUriScope(r);if(e)return this.getScopedChangeStore(e).readFile(r);const t=new Ee(`ChangeStore.readFile(${r.toString()})`);try{const n=this.providerService.getVirtualRootUri(r);if(n===void 0)return;const i=b(n),o=this.cache.get(i);return(o==null?void 0:o.length)===0?void 0:await this.lock.synchronizeRead(i,()=>{const s=this.cache.get(i);if((s==null?void 0:s.length)===0){t.log({message:": Not found; no operations"});return}return this.getWorkingContent(n,r)},t.context)}finally{t.stop()}}async createDirectory(r){const e=this.providerService.getVirtualWorkspaceUri(r);if(e===void 0)return;const t=new Ee(`ChangeStore.createDirectory(${r.toString()})`);try{const n=[];if(await this.lock.synchronizeWrite(b(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(r,e),s=await this.providerService.getMetadata(r);await this.spliceOperation(r,o,i===void 0?{type:W.Created,uri:r,fileType:l.FileType.Directory,revision:s.HEAD.sha,timestamp:Date.now(),size:0,hash:"",originalHash:void 0}:{...i,timestamp:Date.now()},n)},t.context),n.length===0)return;this._onDidChange.fire(n)}finally{t.stop()}}async deleteDirectory(r){const e=this.providerService.getVirtualWorkspaceUri(r);if(e===void 0)return;const t=new Ee(`ChangeStore.deleteDirectory(${r.toString()})`);try{const n=[];if(await this.lock.synchronizeWrite(b(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(r,e);if((i==null?void 0:i.type)===W.Created)return this.discardCore(e,r,n);const s=await this.providerService.getMetadata(r);await this.spliceOperation(r,o,{type:W.Deleted,uri:r,fileType:l.FileType.Directory,revision:s.HEAD.sha,timestamp:Date.now(),size:void 0,hash:void 0,originalHash:void 0},n)},t.context),n.length===0)return;this._onDidChange.fire(n)}finally{t.stop()}}async updateDirectoryEntries(r,e){const t=this.providerService.getVirtualWorkspaceUri(r);if(t===void 0)return e;const n=new Ee(`ChangeStore.updateDirectoryEntries(${r.toString()})`,{},e.length);try{const i=b(t),o=this.cache.get(i);return(o==null?void 0:o.length)===0?e:await this.lock.synchronizeRead(i,async()=>{const{path:s}=M(t,r),u=await this.getWorkingOperations(t);for(const c of u)switch(c.type){case W.Changed:break;case W.Created:{if($(c.uri,s)){const f=this.providerService.getRelativeFilePath(r,c.uri);e.push([f,c.fileType])}break}case W.Deleted:{if($(c.uri,s)){const f=this.providerService.getRelativeFilePath(r,c.uri),p=e.findIndex(([D])=>D===f);p!==-1&&e.splice(p,1)}break}}return e},n.context)}finally{n.stop()}}async writeFile(r,e,t,n){const i=this.providerService.getVirtualWorkspaceUri(r);if(i===void 0)return;const o=new Ee(`ChangeStore.writeFile(${r.toString()})`,{},e.length,n);try{const s=[];if(await this.lock.synchronizeWrite(b(i),async()=>this.writeFileCore(i,r,s,e,t,n),o.context),s.length===0)return;this._onDidChange.fire(s)}finally{o.stop()}}async writeFileCore(r,e,t,n,i,o){const s=new Ee(`ChangeStore.writeFileCore(${e.toString()})`,{},n.length,o);try{const[{operation:u,index:c},f,p]=await Promise.all([this.getWorkingOperation(e,r),jt(n),jt(i)]);if(f===p&&(!u||(u==null?void 0:u.type)===W.Changed))return this.discardCore(r,e,t);if(f===(u==null?void 0:u.hash)&&p===(u==null?void 0:u.originalHash))return;const[{HEAD:D}]=await Promise.all([this.providerService.getMetadata(e),this.saveWorkingContent(r,e,n)]);await this.spliceOperation(e,c,u===void 0?{type:W.Changed,uri:e,fileType:l.FileType.File,revision:D.sha,timestamp:Date.now(),size:n.byteLength,hash:f,originalHash:p,conflicts:o,staged:!1}:{...u,revision:D.sha,timestamp:Date.now(),size:n.byteLength,hash:f,originalHash:p,conflicts:o,staged:!1},t)}finally{s.stop()}}async createFile(r,e){const t=this.providerService.getVirtualWorkspaceUri(r);if(t===void 0)return;const n=new Ee(`ChangeStore.createFile(${r.toString()})`,{},e.length);try{const i=[];if(await this.lock.synchronizeWrite(b(t),async()=>{const[{operation:o,index:s},u,c]=await Promise.all([this.getWorkingOperation(r,t),jt(e),this.providerService.getMetadata(r),this.saveWorkingContent(t,r,e)]);await this.spliceOperation(r,s,o===void 0?{type:W.Created,uri:r,fileType:l.FileType.File,revision:c.HEAD.sha,timestamp:Date.now(),size:e.byteLength,hash:u,originalHash:u}:o.type===W.Deleted?{...o,type:W.Changed,revision:c.HEAD.sha,timestamp:Date.now(),size:e.byteLength,hash:u}:{...o,type:W.Created,revision:c.HEAD.sha,timestamp:Date.now(),size:e.byteLength,hash:u},i)},n.context),i.length===0)return;this._onDidChange.fire(i)}finally{n.stop()}}async deleteFile(r){const e=this.providerService.getVirtualWorkspaceUri(r);if(e===void 0)return;const t=new Ee(`ChangeStore.deleteFile(${r.toString()})`);try{const n=[];if(await this.lock.synchronizeWrite(b(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(r,e);if((i==null?void 0:i.type)===W.Created)return this.discardCore(e,r,n);const[s]=await Promise.all([this.providerService.getMetadata(r),this.discardWorkingContent(e,r)]);await this.spliceOperation(r,o,{type:W.Deleted,uri:r,fileType:l.FileType.File,revision:s.HEAD.sha,timestamp:Date.now(),size:void 0,hash:void 0,originalHash:void 0},n)},t.context),n.length===0)return;this._onDidChange.fire(n)}finally{t.stop()}}findParent(r,e,t){const n=se(r),{operation:i,index:o}=this.findWorkingOperation(n,e);return i!==void 0&&t(i,e)?{parent:i,parentIndex:o}:{parent:void 0,parentIndex:-1}}findNewParentWithOnlyChild(r,e){const t=B(r);return this.findParent(r,e,(n,i)=>n.type===W.Created&&!i.some(o=>$(o.uri,n.uri)&&B(o.uri)!==t))}findDeletedParents(r,e){const t=[];for(let n=0;n<e.length;n+=1){const i=e[n];i.type===W.Deleted&&k(r,i.uri)&&t.push({parent:i,parentIndex:n})}return t}async getWorkingOperation(r,e){return this.findWorkingOperation(r,await this.getWorkingOperations(e))}findWorkingOperation(r,e){if(e.length===0)return{operation:void 0,index:-1};const t=B(r);let n=-1;const i=e.find((o,s)=>B(o.uri)!==t?!1:(n=s,!0));return i===void 0?{operation:void 0,index:-1}:{operation:i,index:n}}async getWorkingOperations(r){const e=b(r);let t=this.cache.get(e);return t===void 0&&(t=this.fromStorage(await this.storageService.get(this.getOperationsStorageKey(e))),this.cache.set(e,t)),t}async saveWorkingOperations(r,e){Z.debug(`ChangeStore.saveWorkingOperations(${r.toString()})`,e.length);const t=b(r);this.cache.set(t,e);try{await this.storageService.store(this.getOperationsStorageKey(t),this.toStorage(e))}catch(n){throw this.cache.delete(t),Z.error(n,`Failed to save repository changes for ${t}`),n}}getOperationsStorageKey(r){return`operations/${r}`}async getWorkingContent(r,e){try{return await this.fileStorageService.get(this.getFileStorageKey(r,e))}catch(t){throw Z.error(t),this.telemetryService.sendException(t),t}}async discardWorkingContent(r,e){Z.debug(`ChangeStore.discardWorkingContent(${e.toString()})`);try{return await this.fileStorageService.delete(this.getFileStorageKey(r,e))}catch(t){if(t instanceof l.FileSystemError&&t.code===gi)return;throw Z.error(t),this.telemetryService.sendException(t),t}}async saveWorkingContent(r,e,t){Z.debug(`ChangeStore.saveWorkingContent(${e.toString()})`,t.length);try{return await this.fileStorageService.store(this.getFileStorageKey(r,e),t)}catch(n){throw Z.error(n),this.telemetryService.sendException(n),n}}getFileStorageKey(r,e){return`changestore/${F(e)}`}async spliceOperation(r,e,t,n){const i=this.providerService.getVirtualWorkspaceUri(r);if(i===void 0)return;const o=await this.getWorkingOperations(i);e!==-1?o.splice(e,1,t):o.push(t),await this.saveWorkingOperations(i,o),n.push(Gn(t,i,r))}fromStorage(r){if(!r)return[];try{const e=JSON.parse(r,(t,n)=>(t==="uri"||t.endsWith("Uri"))&&A(n)?typeof n=="string"?l.Uri.parse(n):l.Uri.from(n):n);return Array.isArray(e)?e:e.operations}catch(e){throw Z.error(e,"Failed to deserialize ChangeStore operations"),e}}toStorage(r){const e={schemaVersion:Zn.operationsStorageSchemaVersion,operations:r};return JSON.stringify(e)}},"_ChangeStore");let ui=Zn;ui.operationsStorageSchemaVersion=1,ui.ScopedChangeStore=class{constructor(r,e,t){this.changeStore=r,this.scope=e,this.workspaceId=t}createPatch(r,e,t){return this.changeStore.createPatch(this.stripUriScope(r),this.stripUriScope(e),t)}discardAll(r,e){return this.changeStore.discardAll(this.stripUriScope(r),e)}getChange(r){return this.changeStore.getChange(this.stripUriScope(r))}getChanges(r,e){return this.changeStore.getChanges(this.stripUriScope(r),e)}async getGroupedChanges(r,e){return this.changeStore.getGroupedChanges(this.stripUriScope(r),e)}hasChanges(r){return this.changeStore.hasChanges(this.stripUriScope(r))}maybeHasChanges(r,e){return this.changeStore.maybeHasChanges(this.stripUriScope(r),this.stripUriScope(e))}async stat(r){const t=this.changeStore.getUriScope(r)!==this.workspaceId,n=await this.changeStore.stat(this.stripUriScope(r));return n!==void 0&&t&&(n.permissions=l.FilePermission.Readonly),n}readFile(r){return this.changeStore.readFile(this.stripUriScope(r))}resolveDiffCommand(r,e,t,n){return this.changeStore.resolveDiffCommand(this.changeStore.getScopedUri(r,this.scope),this.changeStore.getScopedUri(e,this.scope),t,n)}stripUriScope(r){return r===void 0||!r.fragment?r:r.with({fragment:""})}},si([Jt()],ui.prototype,"getWorkingOperations",1);function Li(r){switch(r){case OperationType.Changed:return l10n.t("Modified");case OperationType.Created:return l10n.t("Added");case OperationType.Deleted:return l10n.t("Deleted")}}a(Li,"getStatusText");function pi(r){const[e,t]=r;switch(e){case OperationType.Changed:switch(t){case OperationType.Changed:case OperationType.Created:return l10n.t("Modified by Both");case OperationType.Deleted:return l10n.t("Deleted by Incoming")}case OperationType.Created:switch(t){case OperationType.Changed:case OperationType.Created:return l10n.t("Added by Both");case OperationType.Deleted:return l10n.t("Deleted by Incoming")}case OperationType.Deleted:switch(t){case OperationType.Changed:case OperationType.Created:return l10n.t("Deleted by Current");case OperationType.Deleted:return l10n.t("Deleted by Both")}}}a(pi,"getConflictStatusText");const ni=a(class{constructor(r){this.storageService=r,this._onDidChange=new l.EventEmitter,this.cache=new Map}get onDidChange(){return this._onDidChange.event}async delete(r){const e=b(r),t=this.cache.has(e);this.cache.delete(e);try{await this.storageService.delete(this.getStorageKey(e))}catch(n){throw Z.error(n,`Failed to delete repository metadata for ${e}`),n}!t||setTimeout(()=>this._onDidChange.fire({uri:r}),0)}async get(r){this.assertMatchingScheme(r);const e=b(r),t=this.cache.get(e);if(t!==void 0)return t;let n;try{n=this.fromStorage(await this.storageService.get(this.getStorageKey(e)))}catch(i){throw Z.error(i,`Failed to get repository metadata for ${e}`),i}return n?this.cache.set(e,{revision:n}):this.cache.delete(e),{revision:n}}async set(r,e,t,n){this.assertMatchingScheme(r);const i=(await this.get(r)).revision!==e?"revision":void 0,o=b(r);if(t!==void 0&&!this.validate(t))throw new Error(`Metadata validation failed for ${r.toString()}`);const s={revision:e,cachedMetadata:t};this.cache.set(o,s);try{await this.storageService.store(this.getStorageKey(o),this.toStorage(e))}catch(u){throw this.cache.delete(o),Z.error(u,`Failed to save repository metadata for ${o}`),u}(n==null?void 0:n.silent)||setTimeout(()=>this._onDidChange.fire({uri:r,reason:i}),0)}refresh(){this.cache.clear()}validate(r){var e,t,n,i,o,s,u,c;return typeof r.version=="number"&&r.version>=ni.schemaVersion&&typeof r.timestamp=="number"&&typeof((e=r.provider)==null?void 0:e.id)=="string"&&typeof r.provider.name=="string"&&typeof r.name=="string"&&r.repo&&typeof r.accessLevel=="number"&&typeof((t=r.HEAD)==null?void 0:t.type)=="number"&&typeof((n=r.HEAD)==null?void 0:n.name)=="string"&&typeof((i=r.HEAD)==null?void 0:i.sha)=="string"&&(typeof((o=r.HEAD.detached)==null?void 0:o.name)=="string"&&typeof((s=r.HEAD.detached)==null?void 0:s.type)=="number"||typeof((u=r.HEAD.branch)==null?void 0:u.name)=="string")&&typeof((c=r.defaultBranch)==null?void 0:c.name)=="string"&&typeof r.defaultBranch.sha=="string"}assertMatchingScheme(r){if(r.scheme!==U.scheme)throw new Error(`Uri scheme '${r.scheme}' must match configured scheme '${U.scheme}'; uri=${r.toString()}`)}getStorageKey(r){return`metadata/${r}`}fromStorage(r){if(!r)return;const e=JSON.parse(r,(t,n)=>(t==="uri"||t.endsWith("Uri"))&&A(n)?l.Uri.from(n):n);return e==null?void 0:e.revision}toStorage(r){const e={schemaVersion:ni.storageSchemaVersion,revision:r};return JSON.stringify(e)}},"_MetadataStore");let dn=ni;dn.schemaVersion=Xe,dn.storageSchemaVersion=1;class li{constructor(e,t){this.memento=e,this.scope=t,this._onDidChange=new l.EventEmitter}get onDidChange(){return this._onDidChange.event}async get(e){const t=this.getScoped(e),n=new Ee(`MementoStorage.get(${e}): scopedKey=${t}`,{logLevel:tt.Debug});try{return await Promise.resolve(this.memento.get(t))}finally{n.stop()}}async getKeys(e){const t=this.getScoped(e),n=new Ee(`MementoStorage.getKeys(${e}): scopedPrefix=${t}`,{logLevel:tt.Debug});try{let i=this.getKeysCore(e);if(this.scope!==void 0){const o=this.scope.length+1;i=i.map(s=>s.substr(o))}return await Promise.resolve(i)}finally{n.stop()}}getKeysCore(e){let t=this.memento.keys();return e&&(t=t.filter(n=>n.startsWith(e))),t}async store(e,t){const n=this.getScoped(e),i=new Ee(`MementoStorage.store(${e}): scopedKey=${n}`,{logLevel:tt.Debug});try{return await this.storeCore(e,n,t)}finally{i.stop()}}async storeCore(e,t,n){await this.memento.update(t,n),this._onDidChange.fire({key:e})}async delete(e){const t=this.getScoped(e),n=new Ee(`MementoStorage.delete(${e}): scopedKey=${t}`,{logLevel:tt.Debug});try{return await this.storeCore(e,t,void 0)}finally{n.stop()}}async deleteKeys(e){const t=this.getScoped(e),n=new Ee(`MementoStorage.deleteKeys(${e}): scopedPrefix=${t}`,{logLevel:tt.Debug});try{const i=[],o=this.scope!==void 0?this.scope.length+1:0,s=this.getKeysCore(t);for(const u of s){const c=o!==0?u.substr(o):u;Z.debug(`MementoStorage.deleteKeys(${e}): Deleting key=${c}, scopedKey=${u}`);try{await this.storeCore(c,u,void 0)}catch(f){Z.debug(`MementoStorage.deleteKeys(${e}): Failed to delete key=${c}, scopedKey=${u}`),i.push(c)}}if(i.length)throw new Error(`Failed to delete keys: ${i.join(", ")}`)}finally{n.stop()}}with(e){return new li(this.memento,e)}getScoped(e){return`${this.scope!==void 0?`${this.scope}/`:""}${e!=null?e:""}`}}a(li,"MementoStorageService");class xe{constructor(e,t){this.storageUri=e,this.scope=t,this._onDidChange=new l.EventEmitter}get onDidChange(){return this._onDidChange.event}async get(e){const t=this.getScoped(e),n=new Ee(`ExtFileStorageService.get(${e}): scopedKey=${t}`,{logLevel:tt.Debug});try{return await l.workspace.fs.readFile(l.Uri.joinPath(this.storageUri,t))}catch(i){return}finally{n.stop()}}async store(e,t){const n=this.getScoped(e),i=new Ee(`ExtFileStorageService.store(${e}): scopedKey=${n}`,{logLevel:tt.Debug});try{return await this.storeCore(e,n,t)}finally{i.stop()}}async storeCore(e,t,n){await l.workspace.fs.writeFile(l.Uri.joinPath(this.storageUri,t),n),this._onDidChange.fire({key:e})}async delete(e){const t=this.getScoped(e),n=new Ee(`ExtFileStorageService.delete(${e}): scopedKey=${t}`,{logLevel:tt.Debug});try{return await l.workspace.fs.delete(l.Uri.joinPath(this.storageUri,t))}finally{n.stop()}}with(e){return new xe(this.storageUri,e)}getScoped(e){return`${this.scope!==void 0?`${this.scope}/`:""}${e}`}}a(xe,"ExtFileStorageService");const it=a(async(r,e,t)=>{const n=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,850)),i=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,5229)),o=new n.AppInsightsCore,s=new i.PostChannel,u={instrumentationKey:r,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(t){u.extensionConfig={};const p={alwaysUseXhrOverride:!0,httpXHROverride:t};u.extensionConfig[s.identifier]=p}const f=e.workspace.getConfiguration("telemetry").get("internalTesting");return o.initialize(u,[]),o.addTelemetryInitializer(p=>{var D,I;!f||(p.ext=(D=p.ext)!=null?D:{},p.ext.utc=(I=p.ext.utc)!=null?I:{},p.ext.utc.flags=8462029)}),o},"getAICore"),pt=a(async(r,e,t)=>{const n=await it(r,e,t);return{logEvent:(o,s)=>{try{n==null||n.track({name:o,baseData:{name:o,properties:s==null?void 0:s.properties,measurements:s==null?void 0:s.measurements}})}catch(u){throw new Error(`Failed to log event to app insights!
`+u.message)}},flush:async()=>{try{n==null||n.unload()}catch(o){throw new Error(`Failed to flush app insights!
`+o.message)}}}},"oneDataSystemClientFactory");var vt;(function(r){r[r.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",r[r.INSTANTIATING=1]="INSTANTIATING",r[r.INSTANTIATED=2]="INSTANTIATED"})(vt||(vt={}));class Pt{constructor(e,t){this._instantiationStatus=vt.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}sendEventData(e,t){if(!this._telemetryClient){this._instantiationStatus!==vt.INSTANTIATED&&this._eventQueue.push({eventName:e,data:t});return}this._telemetryClient.logEvent(e,t)}sendErrorData(e,t){if(!this._telemetryClient){this._instantiationStatus!==vt.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:t});return}}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:t})=>this.sendEventData(e,t)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:t})=>this.sendErrorData(e,t)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===vt.NOT_INSTANTIATED&&(this._instantiationStatus=vt.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=vt.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=vt.INSTANTIATED}))}}a(Pt,"BaseTelemetrySender");class Ht{constructor(e,t,n){this.telemetrySender=e,this.vscodeAPI=t,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,n),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,t,n,i){i?this.telemetrySender.sendEventData(e,{properties:t,measurements:n}):this.telemetryLogger.logUsage(e,{properties:t,measurements:n})}sendTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!1)}sendDangerousTelemetryEvent(e,t,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,t,n,!0)}internalSendTelemetryErrorEvent(e,t,n,i){i?this.telemetrySender.sendEventData(e,{properties:t,measurements:n}):this.telemetryLogger.logError(e,{properties:t,measurements:n})}sendTelemetryErrorEvent(e,t,n){this.internalSendTelemetryErrorEvent(e,t,n,!1)}sendDangerousTelemetryErrorEvent(e,t,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,t,n,!0)}internalSendTelemetryException(e,t,n,i){i?this.telemetrySender.sendErrorData(e,{properties:t,measurements:n}):this.telemetryLogger.logError(e,{properties:t,measurements:n})}sendTelemetryException(e,t,n){this.internalSendTelemetryException(e,t,n,!1)}sendDangerousTelemetryException(e,t,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryException(e,t,n,!0)}dispose(){return this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}}a(Ht,"BaseTelemetryReporter");class nr{static applyReplacements(e,t){for(const n of Object.keys(e))for(const i of t)i.lookup.test(n)&&(i.replacementString!==void 0?e[n]=i.replacementString:delete e[n])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.7.7"}}static getInstance(){return nr._instance||(nr._instance=new nr),nr._instance}}a(nr,"TelemetryUtil");const Ce=a(async(r,e)=>{let t;try{const i=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,3268));t=new i.ApplicationInsights({instrumentationKey:r,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0})}catch(i){return Promise.reject(i)}return{logEvent:(i,o)=>{const s={...o==null?void 0:o.properties,...o==null?void 0:o.measurements};(e==null?void 0:e.length)&&nr.applyReplacements(s,e),t==null||t.track({name:i,data:s})},flush:async()=>{t==null||t.flush()}}},"webAppInsightsClientFactory");function qe(r){if(r.userAgentData){const e=r.userAgentData.brands[r.userAgentData.brands.length-1];return`${r.userAgentData.platform} - ${e==null?void 0:e.brand} v${e==null?void 0:e.version}}`}else return r.appVersion}a(qe,"getBrowserRelease");class Ge extends Ht{constructor(e,t){let n=a(s=>Ce(s,t),"clientFactory");nr.shouldUseOneDataSystemSDK(e)&&(n=a(s=>pt(s,l),"clientFactory"));const i={release:qe(navigator),platform:"web",architecture:"web"},o=new Pt(e,n);if(e&&e.indexOf("AIF")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(o,l,{additionalCommonProperties:nr.getAdditionalCommonProperties(i)})}}a(Ge,"TelemetryReporter");const _t="Type of classified event does not match event properties",Bt=a(class{constructor(r){this.context=r,this.sharedProperties={},Bt._instance=this,this.reporter=new Ge(Bt.ingestionKey)}static get instance(){return this._instance}dispose(){this.reporter.dispose()}publicLog2(r,e){e!==_t&&this.reporter.sendTelemetryEvent(r,{...this.sharedProperties,...e})}sendEvent(r,e,t){this.reporter.sendTelemetryEvent(r,{...this.sharedProperties,...e},t)}sendErrorEvent(r,e,t){this.reporter.sendTelemetryErrorEvent(r,{...this.sharedProperties,...e},t)}sendException(r,e,t){this.reporter.sendTelemetryException(r,{...this.sharedProperties,...e},t)}setSharedProperty(r,e){this.sharedProperties[r]=e}reportWorkbenchLoadResult(r){const e="_codespaces.webeditor.connectWorkspace";l.env.appHost==="github.dev"&&(Z.debug(`Executing ${e}`),r={...r,errorDetail:r.errorDetail instanceof Error?r.errorDetail.name:void 0},l.commands.executeCommand(e,r).then(t=>{},t=>{Z.debug(`Failed to execute ${e}`,t)}))}},"_TelemetryService");let tr=Bt;tr.ingestionKey="0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255";function Rr(r,e){const t=l.l10n.t("Report Issue"),n=l.l10n.t("Reload");l.window.showErrorMessage(l.l10n.t("The {0} extension failed to activate.",r.extension.packageJSON.displayName),{modal:!0,detail:l.l10n.t("Please try reloading the window, or report an issue.")},n,t).then(i=>{i===t?l.commands.executeCommand("workbench.action.openIssueReporter",{extensionId:r.extension.id,issueTitle:"Extension activation failed",issueBody:e instanceof Error?e.toString():void 0}):i===n&&l.commands.executeCommand("workbench.action.reloadWindow")})}a(Rr,"handleExtensionActivationError");let xr;var zr;(function(r){function e(t){const n=Gi(t);return xr=l.env.uiKind===l.UIKind.Web,Z.warn(`Running on the ${xr?"web":"desktop"}${t.extensionRuntime!==l.ExtensionRuntime.Node?" in a webworker":""}; workspaceId=${n}; storageUri=${t.globalStorageUri.toString(!0)}`),n}a(e,"configure"),r.configure=e})(zr||(zr={}));const Ti=/\/workspaceStorage\/(?<id>[^/]+)/i;function Gi(r){var e;if(r.storageUri===void 0)return"";const t=Ti.exec(r.storageUri.path);let n;if((e=t==null?void 0:t.groups)==null?void 0:e.id)n=t.groups.id;else{n=r.storageUri.path;const i=ri(r.globalStorageUri.path,n),o=`/${r.extension.id}`;n.endsWith(o)?n=n.slice(i,-o.length):n=n.substr(i)}return/-[0-9]$/.test(n)?n.slice(0,-2):n}a(Gi,"getWorkspaceId");function ea(r,e){return r.reduce((n,i)=>{const o=e(i),s=n.get(o);return s===void 0?n.set(o,[i]):s.push(i),n},new Map)}a(ea,"groupBy");function vn(r){let e=0;for(const t of r){if(t===0)return!0;if(e++,e>8e3)break}return!1}a(vn,"isBinary");function Oi(r,e,t=n=>n){return[...r.reduce((i,o)=>{const s=e(o),u=i.get(s);if(u===void 0)i.set(s,o);else{const c=t(u,o);c!==void 0&&i.set(s,c)}return i},new Map).values()]}a(Oi,"uniqueBy");const vi=a(class{constructor(r,e,t,n,i){this.providerService=r,this.storageService=e,this.changeStore=t,this.workspaceId=n,this.context=i,this._onDidChange=new l.EventEmitter,this.cache=new Map,this.lock=new lr("WorkspaceRepositories"),this.disposable=l.Disposable.from(this.providerService.onDidChangeRepositories(this.onRepositoriesChanged,this),this.providerService.onDidChangeRepository(this.onRepositoryChanged,this),this.changeStore.onDidChange(this.onChangeStoreChanged,this),Me.onDidChange(this.onConfigurationChanged,this))}get onDidChange(){return this._onDidChange.event}dispose(){this.disposable.dispose()}async exportDebugInfo(){const r=await l.workspace.openTextDocument({language:"json",content:`Remote Repositories

${this.toStorage(await this.getCore())}`});return void l.window.showTextDocument(r)}onConfigurationChanged(r){if(!Me.changed(r,"experimental.syncRecentList"))return;const e=Me.get("experimental.syncRecentList")===!0?[vi.storageKey]:[];this.context.globalState.setKeysForSync(e)}onChangeStoreChanged(r){const e=Oi(r.map(t=>t.rootUri),t=>b(t)).map(t=>this.providerService.getRepository(t)).filter(t=>Boolean(t));this.addOrUpdate(e)}onRepositoriesChanged(r){this.addOrUpdate(r.added)}onRepositoryChanged(r){this.addOrUpdate([r.repository])}async get(r){let e=await this.lock.synchronizeRead(async()=>{let t=this.cache.get("workspaceRepositories");return t===void 0&&(t=[...(await this.getCore()).values()].sort((n,i)=>i.timestamp-n.timestamp),this.cache.set("workspaceRepositories",t)),t},"WorkspaceRepositories.get");if(r){const t=b(r);e=e.filter(n=>b(n.canonicalUri)===t)}return e}async getCore(){return this.fromStorage(await this.storageService.get(vi.storageKey))}async getRecents(r=10){return(await this.get()).slice(0,r)}async getRemoteWorkspaceSourceProvider(r){const e=await this.getRecents();if(e.length!==0)return e.filter(t=>t.provider.id===r)}refresh(){this.cache.clear()}async remove(r){await this.lock.synchronizeWrite(async()=>{const e=await this.getCore(),t=`${r.workspaceId}/${b(r.uri)}`,n=e.get(t);if(n===void 0)return;const i=this.changeStore.getScopedChangeStore(n),o=await i.getChanges(n.uri);if(o.length!==0){const s={title:l.l10n.t("Yes")},u={title:l.l10n.t("No"),isCloseAffordance:!0};if(await l.window.showWarningMessage(o.length===1?l.l10n.t(`This repository contains 1 file with uncommitted changes.

Removing it will cause those changes to be FOREVER LOST.
This is IRREVERSIBLE!

Are you sure you still want to remove it?`):l.l10n.t(`This repository contains {0} files with uncommitted changes.

Removing it will cause those changes to be FOREVER LOST.
This is IRREVERSIBLE!

Are you sure you still want to remove it?`,o.length),{modal:!0},s,u)!==s)return;await i.discardAll(n.uri)}this.cache.clear(),e.delete(t);try{await this.storageService.store(vi.storageKey,this.toStorage(e))}catch(s){throw Z.error(s,"Failed to save workspace repositories"),s}},"WorkspaceRepositories.remove"),this._onDidChange.fire()}async addOrUpdate(r){await this.lock.synchronizeWrite(async()=>{this.cache.clear();const e=await this.getCore();for(const t of r){const[{HEAD:n,pullRequest:i},o]=await Promise.all([t.getMetadata(),t.getIndexMetadata()]),s=await this.changeStore.getChanges(t.uri);e.set(`${this.workspaceId}/${b(t.uri)}`,{workspaceId:this.workspaceId,uri:t.uri,canonicalUri:t.canonicalUri,name:t.name,provider:t.provider,ref:{type:n.type,name:n.name},idx:(o==null?void 0:o.type)&&ie.hasIndex(o.type)?{type:o.type}:void 0,pullRequest:i?{id:i.id}:void 0,changes:Fa(s),timestamp:Date.now()})}try{await this.storageService.store(vi.storageKey,this.toStorage(e))}catch(t){throw Z.error(t,"Failed to save workspace repositories"),t}},"WorkspaceRepositories.addOrUpdate"),this._onDidChange.fire()}fromStorage(r){if(!r)return new Map;try{const e=JSON.parse(r,(t,n)=>(t==="uri"||t.endsWith("Uri"))&&A(n)?l.Uri.from(n):n);return new Map(e.workspaceRepositories)}catch(e){return Z.error(e,"Failed to deserialize workspace repositories"),new Map}}toStorage(r){const e={schemaVersion:vi.storageSchemaVersion,workspaceRepositories:[...r]};return JSON.stringify(e)}},"_WorkspaceRepositories");let ta=vi;ta.storageKey="workspaceRepositories",ta.storageSchemaVersion=1;function Qa(r){return r!==void 0&&(r.added!==0||r.changed!==0||r.deleted!==0)}a(Qa,"hasChanges");function pa(r){return Qa(r.changes)}a(pa,"hasUncommittedChanges");function Fa(r){let e=0,t=0,n=0;for(const i of r)switch(i.type){case W.Created:e++;break;case W.Changed:t++;break;case W.Deleted:n++;break}return e||t||n?{added:e,changed:t,deleted:n,timestamp:Date.now()}:void 0}a(Fa,"toChangesSummary");function Uo(r,e,{compact:t=!0,preamble:n,separator:i=", ",short:o=!1,single:s=!1}={}){if(!Qa(e))return r===HeadType.Branch||r===HeadType.RemoteBranch?l10n.t("Everything up to date"):l10n.t("No uncommitted changes");const{added:u,changed:c,deleted:f}=e;if(s){const D=u+c+f;return D===1?l10n.t("{0} change",D):l10n.t("{0} changes",D)}let p=`${n!=null?n:""}`;return(u||!t)&&(p+=o?`+${u}`:u===1?l10n.t("{0} file added",u):l10n.t("{0} files added",u),(c||f||!t)&&(p+=i)),(c||!t)&&(p+=o?`~${c}`:c===1?l10n.t("{0} file changed",c):l10n.t("{0} files changed",c),(f||!t)&&(p+=i)),(f||!t)&&(p+=o?`-${f}`:f===1?l10n.t("{0} file deleted",f):l10n.t("{0} files deleted",f)),p}a(Uo,"formatChangesSummary");var va=__webpack_require__(7360),Ja=__webpack_require__(919),ua=__webpack_require__.n(Ja),Za,On;(function(r){r.None=0,r.First=1,r.AsOld=r.First,r.Last=2,r.AsNew=r.Last})(On||(On={}));class nn{constructor(){this[Za]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)==null?void 0:e.value}get last(){var e;return(e=this._tail)==null?void 0:e.value}has(e){return this._map.has(e)}get(e,t=On.None){const n=this._map.get(e);if(!!n)return t!==On.None&&this.touch(n,t),n.value}set(e,t,n=On.None){let i=this._map.get(e);if(i)i.value=t,n!==On.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case On.None:this.addItemLast(i);break;case On.First:this.addItemFirst(i);break;case On.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return Boolean(this.remove(e))}remove(e){const t=this._map.get(e);if(!!t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const n=this._state;let i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const i={value:t.key,done:!1};return t=t.next,i}return{value:void 0,done:!0}}};return n}values(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const i={value:t.value,done:!1};return t=t.next,i}return{value:void 0,done:!0}}};return n}entries(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const i={value:[t.key,t.value],done:!1};return t=t.next,i}return{value:void 0,done:!0}}};return n}[(Za=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==On.First&&t!==On.Last)){if(t===On.First){if(e===this._head)return;const n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===On.Last){if(e===this._tail)return;const n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){const e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(const[t,n]of e)this.set(t,n)}}a(nn,"LinkedMap");class Fn extends nn{constructor(e,t=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=On.AsNew){return super.get(e,t)}peek(e){return super.get(e,On.None)}set(e,t){return super.set(e,t,On.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}a(Fn,"LRUCache");function ma(r,e,t){if(!(e==null?void 0:e.length)&&!(t==null?void 0:t.length))return new Set(r);let n;if(e==null?void 0:e.length){const i=new Set([...e,...e.map(s=>`${s}/**`)]),o=ua()(r,[...i],{dot:!0,nocase:!0});n=new Set(o)}if(t==null?void 0:t.length){const i=new Set([...t,...t.map(o=>`${o}/**`)]);if(n===void 0){const o=ua().not(r,[...i],{dot:!0,nocase:!0});n=new Set(o)}else ua()(r,[...i],{dot:!0,nocase:!0}).forEach(n.delete,n)}return n}a(ma,"globFilter");function xn(r,e={}){if(!r)return ao;if(typeof r=="string"||qo(r)){const t=Pa(r,e);if(t===Ri)return ao;const n=a(function(i,o){return!!t(i,o)},"resultPattern");return t.allBasenames&&(n.allBasenames=t.allBasenames),t.allPaths&&(n.allPaths=t.allPaths),n}return Oa(r,e)}a(xn,"parse");function $o(r,e,t=(n,i)=>n===i){if(r===e)return!0;if(!r||!e||r.length!==e.length)return!1;for(let n=0,i=r.length;n<i;n++)if(!t(r[n],e[n]))return!1;return!0}a($o,"equals");function Di(r){return!!r&&typeof r.then=="function"}a(Di,"isThenable");function ra(){return Object.create(null)}a(ra,"getEmptyExpression");const Ai="**",ki="/",ya="[/\\\\]",_a="[^/\\\\]",Ho=/\//g;function Xa(r,e){switch(r){case 0:return"";case 1:return`${_a}*?`;default:return`(?:${ya}|${_a}+${ya}${e?`|${ya}${_a}+`:""})*?`}}a(Xa,"starsToRegExp");function eo(r,e){if(!r)return[];const t=[];let n=!1,i=!1,o="";for(const s of r){switch(s){case e:if(!n&&!i){t.push(o),o="";continue}break;case"{":n=!0;break;case"}":n=!1;break;case"[":i=!0;break;case"]":i=!1;break}o+=s}return o&&t.push(o),t}a(eo,"splitGlobAware");function to(r){if(!r)return"";let e="";const t=eo(r,ki);if(t.every(n=>n===Ai))e=".*";else{let n=!1;t.forEach((i,o)=>{if(i===Ai){if(n)return;e+=Xa(2,o===t.length-1)}else{let s=!1,u="",c=!1,f="";for(const p of i){if(p!=="}"&&s){u+=p;continue}if(c&&(p!=="]"||!f)){let D;p==="-"?D=p:(p==="^"||p==="!")&&!f?D="^":p===ki?D="":D=escapeRegExpCharacters(p),f+=D;continue}switch(p){case"{":s=!0;continue;case"[":c=!0;continue;case"}":{e+=`(?:${eo(u,",").map(z=>to(z)).join("|")})`,s=!1,u="";break}case"]":{e+="["+f+"]",c=!1,f="";break}case"?":e+=_a;continue;case"*":e+=Xa(1);continue;default:e+=escapeRegExpCharacters(p)}}o<t.length-1&&(t[o+1]!==Ai||o+2<t.length)&&(e+=ya)}n=i===Ai})}return e}a(to,"parseRegExp");const Wo=/^\*\*\/\*\.[\w\.-]+$/,zo=/^\*\*\/([\w\.-]+)\/?$/,ro=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,jo=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,no=/^\*\*((\/[\w\.-]+)+)\/?$/,Ko=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,io=new Fn(1e4),ao=a(function(){return!1},"FALSE"),Ri=a(function(){return null},"NULL");function Pa(r,e){if(!r)return Ri;let t;typeof r!="string"?t=r.pattern:t=r,t=t.trim();const n=`${t}_${!!e.trimForExclusions}`;let i=io.get(n);if(i)return oo(i,r);let o;return Wo.test(t)?i=Yo(t.substr(4),t):(o=zo.exec(mi(t,e)))?i=wa(o[1],t):(e.trimForExclusions?jo:ro).test(t)?i=so(t,e):(o=no.exec(mi(t,e)))?i=uo(o[1].substr(1),t,!0):(o=Ko.exec(mi(t,e)))?i=uo(o[1],t,!1):i=lo(t),io.set(n,i),oo(i,r)}a(Pa,"parsePattern");function Go(r,e){if(!r||!e)return r;const t=e.length;if(t===0||r.length===0)return r;let n=0;for(;r.indexOf(e,n)===n;)n=n+t;return r.substring(n)}a(Go,"ltrim");function oo(r,e){if(typeof e=="string")return r;const t=a(function(n,i){return isDescendent(n,e.base)?r(Go(n.substr(e.base.length),"/"),i):null},"wrappedPattern");return t.allBasenames=r.allBasenames,t.allPaths=r.allPaths,t.basenames=r.basenames,t.patterns=r.patterns,t}a(oo,"wrapRelativePattern");function mi(r,e){return e.trimForExclusions&&r.endsWith("/**")?r.substr(0,r.length-2):r}a(mi,"trimForExclusions");function Yo(r,e){return function(t,n){return typeof t=="string"&&t.endsWith(r)?e:null}}a(Yo,"trivia1");function wa(r,e){const t=`/${r}`,n=`\\${r}`,i=a(function(s,u){return typeof s!="string"?null:u?u===r?e:null:s===r||s.endsWith(t)||s.endsWith(n)?e:null},"parsedPattern"),o=[r];return i.basenames=o,i.patterns=[e],i.allBasenames=o,i}a(wa,"trivia2");function so(r,e){const t=la(r.slice(1,-1).split(",").map(u=>Pa(u,e)).filter(u=>u!==Ri),r),n=t.length;if(!n)return Ri;if(n===1)return t[0];const i=a(function(u,c){for(let f=0,p=t.length;f<p;f++)if(t[f](u,c))return r;return null},"parsedPattern"),o=t.find(u=>!!u.allBasenames);o&&(i.allBasenames=o.allBasenames);const s=t.reduce((u,c)=>c.allPaths?u.concat(c.allPaths):u,[]);return s.length&&(i.allPaths=s),i}a(so,"trivia3");function uo(r,e,t){const n="/"+r;let i;return t?i=a(function(o,s){return typeof o=="string"&&o.endsWith(n)?e:null},"parsedPattern"):i=a(function(o,s){return null},"parsedPattern"),i.allPaths=[(t?"*/":"./")+r],i}a(uo,"trivia4and5");function lo(r){try{const e=new RegExp(`^${to(r)}$`);return function(t){return e.lastIndex=0,typeof t=="string"&&e.test(t)?r:null}}catch(e){return Ri}}a(lo,"toRegExp");function Os(r,e,t){return!r||typeof e!="string"?!1:xn(r)(e,void 0,t)}a(Os,"match");function qo(r){const e=r;return e?typeof e.base=="string"&&typeof e.pattern=="string":!1}a(qo,"isRelativePattern");function Vo(r){return r.allBasenames||[]}a(Vo,"getBasenameTerms");function Mu(r){return r.allPaths||[]}a(Mu,"getPathTerms");function co(r){let e=-1,t=0,n=-1,i=!0,o=0;for(let s=r.length-1;s>=0;--s){const u=r.charCodeAt(s);if(u===47){if(!i){t=s+1;break}continue}n===-1&&(i=!1,n=s+1),u===46?e===-1?e=s:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||n===-1||o===0||o===1&&e===n-1&&e===t+1?"":r.slice(e,n)}a(co,"extname");function Oa(r,e){const t=la(Object.getOwnPropertyNames(r).map(u=>Na(u,r[u],e)).filter(u=>u!==Ri)),n=t.length;if(!n)return Ri;if(!t.some(u=>!!u.requiresSiblings)){if(n===1)return t[0];const u=a(function(p,D){let I;for(let z=0,fe=t.length;z<fe;z++){const le=t[z](p,D);if(typeof le=="string")return le;Di(le)&&(I||(I=[]),I.push(le))}return I?(async()=>{for(const z of I){const fe=await z;if(typeof fe=="string")return fe}return null})():null},"resultExpression2"),c=t.find(p=>!!p.allBasenames);c&&(u.allBasenames=c.allBasenames);const f=t.reduce((p,D)=>D.allPaths?p.concat(D.allPaths):p,[]);return f.length&&(u.allPaths=f),u}const i=a(function(u,c,f){let p,D;for(let I=0,z=t.length;I<z;I++){const fe=t[I];fe.requiresSiblings&&f&&(c||(c=basename(u)),p||(p=c.substr(0,c.length-co(u).length)));const le=fe(u,c,p,f);if(typeof le=="string")return le;Di(le)&&(D||(D=[]),D.push(le))}return D?(async()=>{for(const I of D){const z=await I;if(typeof z=="string")return z}return null})():null},"resultExpression"),o=t.find(u=>!!u.allBasenames);o&&(i.allBasenames=o.allBasenames);const s=t.reduce((u,c)=>c.allPaths?u.concat(c.allPaths):u,[]);return s.length&&(i.allPaths=s),i}a(Oa,"parsedExpression");function Na(r,e,t){if(e===!1)return Ri;const n=Pa(r,t);if(n===Ri)return Ri;if(typeof e=="boolean")return n;if(e){const i=e.when;if(typeof i=="string"){const o=a((s,u,c,f)=>{if(!f||!n(s,u))return null;const p=i.replace("$(basename)",()=>c),D=f(p);return Di(D)?D.then(I=>I?r:null):D?r:null},"result");return o.requiresSiblings=!0,o}}return n}a(Na,"parseExpressionPattern");function la(r,e){const t=r.filter(u=>!!u.basenames);if(t.length<2)return r;const n=t.reduce((u,c)=>{const f=c.basenames;return f?u.concat(f):u},[]);let i;if(e){i=[];for(let u=0,c=n.length;u<c;u++)i.push(e)}else i=t.reduce((u,c)=>{const f=c.patterns;return f?u.concat(f):u},[]);const o=a(function(u,c){if(typeof u!="string")return null;if(!c){let p;for(p=u.length;p>0;p--){const D=u.charCodeAt(p-1);if(D===47||D===92)break}c=u.substr(p)}const f=n.indexOf(c);return f!==-1?i[f]:null},"aggregate");o.basenames=n,o.patterns=i,o.allBasenames=n;const s=r.filter(u=>!u.basenames);return s.push(o),s}a(la,"aggregateBasenameMatches");function Ns(r,e){return $o(r,e,(t,n)=>typeof t=="string"&&typeof n=="string"?t===n:typeof t!="string"&&typeof n!="string"?t.base===n.base&&t.pattern===n.pattern:!1)}a(Ns,"patternsEquals");const Qo=new TextDecoder,Jo=new TextEncoder;function O(r){const e=Qo.decode(r).trim().split(`
`);if(e.length!==3)return{oid:void 0,size:void 0,version:void 0};const t={};for(const u of e){const[c,f]=u.split(" ");t[c]=f}if(!("oid"in t)||!("version"in t)||!("size"in t))return{oid:void 0,size:void 0,version:void 0};let{oid:n,size:i,version:o}=t;const s="sha256:";return n.startsWith(s)&&(n=n.substring(s.length)),{oid:n,size:Number(i),version:o}}a(O,"parseLfsFile");function C(r,e){const t=r.getAttributesFor(e);return(t==null?void 0:t.filter)==="lfs"}a(C,"isLfsTrackedFile");function L(r,e,t="https://git-lfs.github.com/spec/v1"){return Nr(Jo.encode(`version ${t}
oid sha256:${r}
size ${e.toString()}
`))}a(L,"createLfsPointerFile");async function Y(r){const e=await Dt(r),t=r.byteLength;return{oid:e,size:t}}a(Y,"getLfsOperation");const ge="";function Re(...r){if(r.length===1){const e=r[0];return e===void 0?ge:typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"||e instanceof Error?String(e):e instanceof l.Uri?e.toString():JSON.stringify(e)}return JSON.stringify(r)}a(Re,"serialize_defaultResolver");function ze(r){return(e,t,n)=>{let i;if(typeof n.value=="function"?i=n.value:typeof n.get=="function"&&(i=n.get),i===void 0)throw new Error("Not supported");const o=`$serialize$${t}`;n.value=function(...s){const u=s.length===0?o:`${o}$${(r!=null?r:Re)(...s)}`;Object.prototype.hasOwnProperty.call(this,u)||Object.defineProperty(this,u,{configurable:!1,enumerable:!1,writable:!0,value:void 0});let c=this[u];const f=a(()=>i.apply(this,s),"run");return c===void 0?c=f():c=c.then(f,f),this[u]=c,c}}}a(ze,"serialize");function*et(r,e){for(const t of r)yield*e(t)}a(et,"flatMap");function*At(r,e){for(const t of r)e(t)&&(yield t)}a(At,"filter");function*St(r,e){for(const t of r){const n=e(t);n!=null&&(yield n)}}a(St,"filterMap");function Wt(r,e){for(const t of r)if(e(t))return t}a(Wt,"find");function cr(r,e){let t="";const n=r[Symbol.iterator]();let i=n.next();if(i.done)return t;for(;;){const o=i.value.toString();if(i=n.next(),i.done){t+=o;break}t+=o,t+=e}return t}a(cr,"join");function*qr(r,e){for(const t of r)yield e(t)}a(qr,"map");function fr(r,e){for(const t of r)if(e(t))return!0;return!1}a(fr,"some");function*Mr(...r){for(const e of r)for(const t of e)yield t}a(Mr,"union");function*Nn(r){const e=new Set;for(const t of r)e.has(t)||(e.add(t),yield t)}a(Nn,"unique");function je(r,e,t={}){if(!r)throw new Error("Cannot create regex from empty string");e||(r=$n(r)),t.wholeWord&&(/\B/.test(r.charAt(0))||(r=`\\b${r}`),/\B/.test(r.charAt(r.length-1))||(r=`${r}\\b`));let n="gmu";return t.matchCase||(n+="i"),new RegExp(r,n)}a(je,"createRegExp");let cn,Vr,wn;const Pn=a((r,e,t,n)=>{const i=`${e.join("--")};;;;${t.join("--")}`,o=r.map(u=>u.path).join("::");if(cn===o&&i==Vr&&wn)return wn;const s=ma((n?r.filter(u=>u.size<n):r).map(u=>u.path),e,t);return cn=o,Vr=i,wn=s,s},"generateIncludeSet"),Yi=a((r,e,t,n)=>{var i;const o=[];let s;if(typeof r=="string")s=r;else{const p=r;if(p[0]==255&&p[1]==254)s=new TextDecoder("utf-16le").decode(p);else if(p[0]==254&&p[1]==255)s=new TextDecoder("utf-16be").decode(p);else if(s=new TextDecoder("utf8").decode(p),s.slice(0,1e3).includes("\uFFFD")&&p.includes(0))return[]}const u=[];let c=null,f=n.remainingResultQuota;for(;(f===void 0||f>=0)&&(c=t.exec(s));)u.push({matchStartIndex:c.index,matchedText:c[0]}),f!==void 0&&f--;if(u.length){const p=new Set,D=new Set,I=[],z=a(Qe=>s.slice(I[Qe].start,I[Qe].end),"readLine");let fe=0,le=null;const Ae=/\r?\n/g;for(;le=Ae.exec(s);)I.push({start:fe,end:le.index}),fe=le.index+le[0].length;fe<s.length&&I.push({start:fe,end:s.length});let Ie=0;for(const{matchStartIndex:Qe,matchedText:lt}of u){if(f!==void 0&&f<0)break;for(;Boolean(I[Ie+1])&&Qe>I[Ie].end;)Ie++;let Ze=Ie;for(;Boolean(I[Ze+1])&&Qe+lt.length>I[Ze].end;)Ze++;if(n.beforeContext)for(let mt=Math.max(0,Ie-n.beforeContext);mt<Ie;mt++)p.add(mt);let dt="",xt=0;for(let mt=Ie;mt<=Ze;mt++){let gr=z(mt);((i=n.previewOptions)==null?void 0:i.charsPerLine)&&gr.length>n.previewOptions.charsPerLine&&(xt=Math.max(Qe-I[Ie].start-20,0),gr=gr.substr(xt,n.previewOptions.charsPerLine)),dt+=`${gr}
`,D.add(mt)}const Et=new l.Range(Ie,Qe-I[Ie].start,Ze,Qe+lt.length-I[Ze].start),Je=new l.Range(0,Qe-I[Ie].start-xt,Ze-Ie,Qe+lt.length-I[Ze].start-(Ze===Ie?xt:0)),Zt={uri:l.Uri.file(e),ranges:Et,preview:{text:dt,matches:Je}};if(o.push(Zt),n.afterContext)for(let mt=Ze+1;mt<=Math.min(Ze+n.afterContext,I.length-1);mt++)p.add(mt)}for(const Qe of p)D.has(Qe)||o.push({uri:l.Uri.file(e),text:z(Qe),lineNumber:Qe+1})}return o},"getFileResults");var Ma={},Ea=a(function(r,e,t,n,i){var o=new Worker(Ma[e]||(Ma[e]=URL.createObjectURL(new Blob([r+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return o.onmessage=function(s){var u=s.data,c=u.$e$;if(c){var f=new Error(c[0]);f.code=c[1],f.stack=c[2],i(f,null)}else i(null,u)},o.postMessage(t,n),o},"wk"),Wr=Uint8Array,Wn=Uint16Array,na=Uint32Array,qi=new Wr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Bi=new Wr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Vi=new Wr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fo=a(function(r,e){for(var t=new Wn(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new na(t[30]),n=1;n<30;++n)for(var o=t[n];o<t[n+1];++o)i[o]=o-t[n]<<5|n;return[t,i]},"freb"),Sa=fo(qi,2),ca=Sa[0],fa=Sa[1];ca[28]=258,fa[258]=28;for(var ba=fo(Bi,0),La=ba[0],xa=ba[1],ha=new Wn(32768),an=0;an<32768;++an){var Ui=(an&43690)>>>1|(an&21845)<<1;Ui=(Ui&52428)>>>2|(Ui&13107)<<2,Ui=(Ui&61680)>>>4|(Ui&3855)<<4,ha[an]=((Ui&65280)>>>8|(Ui&255)<<8)>>>1}for(var yi=a(function(r,e,t){for(var n=r.length,i=0,o=new Wn(e);i<n;++i)r[i]&&++o[r[i]-1];var s=new Wn(e);for(i=0;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var u;if(t){u=new Wn(1<<e);var c=15-e;for(i=0;i<n;++i)if(r[i])for(var f=i<<4|r[i],p=e-r[i],D=s[r[i]-1]++<<p,I=D|(1<<p)-1;D<=I;++D)u[ha[D]>>>c]=f}else for(u=new Wn(n),i=0;i<n;++i)r[i]&&(u[i]=ha[s[r[i]-1]++]>>>15-r[i]);return u},"hMap"),ke=new Wr(288),an=0;an<144;++an)ke[an]=8;for(var an=144;an<256;++an)ke[an]=9;for(var an=256;an<280;++an)ke[an]=7;for(var an=280;an<288;++an)ke[an]=8;for(var bt=new Wr(32),an=0;an<32;++an)bt[an]=5;var Ot=null,or=yi(ke,9,1),Tr=null,Hr=yi(bt,5,1),Lr=a(function(r){for(var e=r[0],t=1;t<r.length;++t)r[t]>e&&(e=r[t]);return e},"browser_max"),Qr=a(function(r,e,t){var n=e/8|0;return(r[n]|r[n+1]<<8)>>(e&7)&t},"bits"),Yn=a(function(r,e){var t=e/8|0;return(r[t]|r[t+1]<<8|r[t+2]<<16)>>(e&7)},"bits16"),Cn=a(function(r){return(r+7)/8|0},"shft"),gn=a(function(r,e,t){(e==null||e<0)&&(e=0),(t==null||t>r.length)&&(t=r.length);var n=new(r.BYTES_PER_ELEMENT==2?Wn:r.BYTES_PER_ELEMENT==4?na:Wr)(t-e);return n.set(r.subarray(e,t)),n},"slc"),_i={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14},Mn=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ir=a(function(r,e,t){var n=new Error(e||Mn[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,Ir),!t)throw n;return n},"err"),ho=a(function(r,e,t){var n=r.length;if(!n||t&&t.f&&!t.l)return e||new Wr(0);var i=!e||t,o=!t||t.i;t||(t={}),e||(e=new Wr(n*3));var s=a(function(Bo){var Va=e.length;if(Bo>Va){var Ia=new Wr(Math.max(Va*2,Bo));Ia.set(e),e=Ia}},"cbuf"),u=t.f||0,c=t.p||0,f=t.b||0,p=t.l,D=t.d,I=t.m,z=t.n,fe=n*8;do{if(!p){u=Qr(r,c,1);var le=Qr(r,c+1,3);if(c+=3,le)if(le==1)p=or,D=Hr,I=9,z=5;else if(le==2){var lt=Qr(r,c,31)+257,Ze=Qr(r,c+10,15)+4,dt=lt+Qr(r,c+5,31)+1;c+=14;for(var xt=new Wr(dt),Et=new Wr(19),Je=0;Je<Ze;++Je)Et[Vi[Je]]=Qr(r,c+Je*3,7);c+=Ze*3;for(var Zt=Lr(Et),mt=(1<<Zt)-1,gr=yi(Et,Zt,1),Je=0;Je<dt;){var ur=gr[Qr(r,c,mt)];c+=ur&15;var Ae=ur>>>4;if(Ae<16)xt[Je++]=Ae;else{var kr=0,_r=0;for(Ae==16?(_r=3+Qr(r,c,3),c+=2,kr=xt[Je-1]):Ae==17?(_r=3+Qr(r,c,7),c+=3):Ae==18&&(_r=11+Qr(r,c,127),c+=7);_r--;)xt[Je++]=kr}}var on=xt.subarray(0,lt),jr=xt.subarray(lt);I=Lr(on),z=Lr(jr),p=yi(on,I,1),D=yi(jr,z,1)}else Ir(1);else{var Ae=Cn(c)+4,Ie=r[Ae-4]|r[Ae-3]<<8,Qe=Ae+Ie;if(Qe>n){o&&Ir(0);break}i&&s(f+Ie),e.set(r.subarray(Ae,Qe),f),t.b=f+=Ie,t.p=c=Qe*8,t.f=u;continue}if(c>fe){o&&Ir(0);break}}i&&s(f+131072);for(var Zr=(1<<I)-1,Tn=(1<<z)-1,Vn=c;;Vn=c){var kr=p[Yn(r,c)&Zr],wi=kr>>>4;if(c+=kr&15,c>fe){o&&Ir(0);break}if(kr||Ir(2),wi<256)e[f++]=wi;else if(wi==256){Vn=c,p=null;break}else{var ci=wi-254;if(wi>264){var Je=wi-257,Mi=qi[Je];ci=Qr(r,c,(1<<Mi)-1)+ca[Je],c+=Mi}var zi=D[Yn(r,c)&Tn],fi=zi>>>4;zi||Ir(3),c+=zi&15;var jr=La[fi];if(fi>3){var Mi=Bi[fi];jr+=Yn(r,c)&(1<<Mi)-1,c+=Mi}if(c>fe){o&&Ir(0);break}i&&s(f+131072);for(var ei=f+ci;f<ei;f+=4)e[f]=e[f-jr],e[f+1]=e[f+1-jr],e[f+2]=e[f+2-jr],e[f+3]=e[f+3-jr];f=ei}}t.l=p,t.p=Vn,t.b=f,t.f=u,p&&(u=1,t.m=I,t.d=D,t.n=z)}while(!u);return f==e.length?e:gn(e,0,f)},"inflt"),$i=a(function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>>8},"wbits"),Ca=a(function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>>8,r[n+2]|=t>>>16},"wbits16"),go=a(function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var i=t.length,o=t.slice();if(!i)return[mo,0];if(i==1){var s=new Wr(t[0].s+1);return s[t[0].s]=1,[s,1]}t.sort(function(dt,xt){return dt.f-xt.f}),t.push({s:-1,f:25001});var u=t[0],c=t[1],f=0,p=1,D=2;for(t[0]={s:-1,f:u.f+c.f,l:u,r:c};p!=i-1;)u=t[t[f].f<t[D].f?f++:D++],c=t[f!=p&&t[f].f<t[D].f?f++:D++],t[p++]={s:-1,f:u.f+c.f,l:u,r:c};for(var I=o[0].s,n=1;n<i;++n)o[n].s>I&&(I=o[n].s);var z=new Wn(I+1),fe=po(t[p-1],z,0);if(fe>e){var n=0,le=0,Ae=fe-e,Ie=1<<Ae;for(o.sort(function(xt,Et){return z[Et.s]-z[xt.s]||xt.f-Et.f});n<i;++n){var Qe=o[n].s;if(z[Qe]>e)le+=Ie-(1<<fe-z[Qe]),z[Qe]=e;else break}for(le>>>=Ae;le>0;){var lt=o[n].s;z[lt]<e?le-=1<<e-z[lt]++-1:++n}for(;n>=0&&le;--n){var Ze=o[n].s;z[Ze]==e&&(--z[Ze],++le)}fe=e}return[new Wr(z),fe]},"hTree"),po=a(function(r,e,t){return r.s==-1?Math.max(po(r.l,e,t+1),po(r.r,e,t+1)):e[r.s]=t},"ln"),Zo=a(function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Wn(++e),n=0,i=r[0],o=1,s=a(function(c){t[n++]=c},"w"),u=1;u<=e;++u)if(r[u]==i&&u!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=r[u]}return[t.subarray(0,n),e]},"lc"),Ta=a(function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},"clen"),vo=a(function(r,e,t){var n=t.length,i=Cn(e+2);r[i]=n&255,r[i+1]=n>>>8,r[i+2]=r[i]^255,r[i+3]=r[i+1]^255;for(var o=0;o<n;++o)r[i+o+4]=t[o];return(i+4+n)*8},"wfblk"),Xo=a(function(r,e,t,n,i,o,s,u,c,f,p){$i(e,p++,t),++i[256];for(var D=go(i,15),I=D[0],z=D[1],fe=go(o,15),le=fe[0],Ae=fe[1],Ie=Zo(I),Qe=Ie[0],lt=Ie[1],Ze=Zo(le),dt=Ze[0],xt=Ze[1],Et=new Wn(19),Je=0;Je<Qe.length;++Je)Et[Qe[Je]&31]++;for(var Je=0;Je<dt.length;++Je)Et[dt[Je]&31]++;for(var Zt=go(Et,7),mt=Zt[0],gr=Zt[1],ur=19;ur>4&&!mt[Vi[ur-1]];--ur);var kr=f+5<<3,_r=Ta(i,ke)+Ta(o,bt)+s,on=Ta(i,I)+Ta(o,le)+s+14+3*ur+Ta(Et,mt)+(2*Et[16]+3*Et[17]+7*Et[18]);if(kr<=_r&&kr<=on)return vo(e,p,r.subarray(c,c+f));var jr,Zr,Tn,Vn;if($i(e,p,1+(on<_r)),p+=2,on<_r){jr=yi(I,z,0),Zr=I,Tn=yi(le,Ae,0),Vn=le;var wi=yi(mt,gr,0);$i(e,p,lt-257),$i(e,p+5,xt-1),$i(e,p+10,ur-4),p+=14;for(var Je=0;Je<ur;++Je)$i(e,p+3*Je,mt[Vi[Je]]);p+=3*ur;for(var ci=[Qe,dt],Mi=0;Mi<2;++Mi)for(var zi=ci[Mi],Je=0;Je<zi.length;++Je){var fi=zi[Je]&31;$i(e,p,wi[fi]),p+=mt[fi],fi>15&&($i(e,p,zi[Je]>>>5&127),p+=zi[Je]>>>12)}}else jr=Ot,Zr=ke,Tn=Tr,Vn=bt;for(var Je=0;Je<u;++Je)if(n[Je]>255){var fi=n[Je]>>>18&31;Ca(e,p,jr[fi+257]),p+=Zr[fi+257],fi>7&&($i(e,p,n[Je]>>>23&31),p+=qi[fi]);var ei=n[Je]&31;Ca(e,p,Tn[ei]),p+=Vn[ei],ei>3&&(Ca(e,p,n[Je]>>>5&8191),p+=Bi[ei])}else Ca(e,p,jr[n[Je]]),p+=Zr[n[Je]];return Ca(e,p,jr[256]),p+Zr[256]},"wblk"),Ms=new na([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),mo=new Wr(0),Ls=a(function(r,e,t,n,i,o){var s=r.length,u=new Wr(n+s+5*(1+Math.ceil(s/7e3))+i),c=u.subarray(n,u.length-i),f=0;if(!e||s<8)for(var p=0;p<=s;p+=65535){var D=p+65535;D>=s&&(c[f>>3]=o),f=vo(c,f+1,r.subarray(p,D))}else{for(var I=Ms[e-1],z=I>>>13,fe=I&8191,le=(1<<t)-1,Ae=new Wn(32768),Ie=new Wn(le+1),Qe=Math.ceil(t/3),lt=2*Qe,Ze=a(function(Ps){return(r[Ps]^r[Ps+1]<<Qe^r[Ps+2]<<lt)&le},"hsh"),dt=new na(25e3),xt=new Wn(288),Et=new Wn(32),Je=0,Zt=0,p=0,mt=0,gr=0,ur=0;p<s;++p){var kr=Ze(p),_r=p&32767,on=Ie[kr];if(Ae[_r]=on,Ie[kr]=_r,gr<=p){var jr=s-p;if((Je>7e3||mt>24576)&&jr>423){f=Xo(r,c,0,dt,xt,Et,Zt,mt,ur,p-ur,f),mt=Je=Zt=0,ur=p;for(var Zr=0;Zr<286;++Zr)xt[Zr]=0;for(var Zr=0;Zr<30;++Zr)Et[Zr]=0}var Tn=2,Vn=0,wi=fe,ci=_r-on&32767;if(jr>2&&kr==Ze(p-ci))for(var Mi=Math.min(z,jr)-1,zi=Math.min(32767,p),fi=Math.min(258,jr);ci<=zi&&--wi&&_r!=on;){if(r[p+Tn]==r[p+Tn-ci]){for(var ei=0;ei<fi&&r[p+ei]==r[p+ei-ci];++ei);if(ei>Tn){if(Tn=ei,Vn=ci,ei>Mi)break;for(var Bo=Math.min(ci,ei-2),Va=0,Zr=0;Zr<Bo;++Zr){var Ia=p-ci+Zr+32768&32767,rc=Ae[Ia],Pu=Ia-rc+32768&32767;Pu>Va&&(Va=Pu,on=Ia)}}}_r=on,on=Ae[_r],ci+=_r-on+32768&32767}if(Vn){dt[mt++]=268435456|fa[Tn]<<18|xa[Vn];var Ou=fa[Tn]&31,Nu=xa[Vn]&31;Zt+=qi[Ou]+Bi[Nu],++xt[257+Ou],++Et[Nu],gr=p+Tn,++Je}else dt[mt++]=r[p],++xt[r[p]]}}f=Xo(r,c,o,dt,xt,Et,Zt,mt,ur,p-ur,f),!o&&f&7&&(f=vo(c,f+1,mo))}return gn(u,0,n+Cn(f)+i)},"dflt"),ks=null,yo=a(function(){var r=-1;return{p:function(e){for(var t=r,n=0;n<e.length;++n)t=ks[t&255^e[n]]^t>>>8;r=t},d:function(){return~r}}},"crc"),Bs=a(function(){var r=1,e=0;return{p:function(t){for(var n=r,i=e,o=t.length|0,s=0;s!=o;){for(var u=Math.min(s+2655,o);s<u;++s)i+=n+=t[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}r=n,e=i},d:function(){return r%=65521,e%=65521,(r&255)<<24|r>>>8<<16|(e&255)<<8|e>>>8}}},"adler"),_o=a(function(r,e,t,n,i){return Ls(r,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):12+e.mem,t,n,!i)},"dopt"),wo=a(function(r,e){var t={};for(var n in r)t[n]=r[n];for(var n in e)t[n]=e[n];return t},"mrg"),Us=a(function(r,e,t){for(var n=r(),i=r.toString(),o=i.slice(i.indexOf("[")+1,i.lastIndexOf("]")).replace(/\s+/g,"").split(","),s=0;s<n.length;++s){var u=n[s],c=o[s];if(typeof u=="function"){e+=";"+c+"=";var f=u.toString();if(u.prototype)if(f.indexOf("[native code]")!=-1){var p=f.indexOf(" ",8)+1;e+=f.slice(p,f.indexOf("(",p))}else{e+=f;for(var D in u.prototype)e+=";"+c+".prototype."+D+"="+u.prototype[D].toString()}else e+=f}else t[c]=u}return[e,t]},"wcln"),Eo=null,Lu=a(function(r){var e=[];for(var t in r)r[t].buffer&&e.push((r[t]=new r[t].constructor(r[t])).buffer);return e},"cbfs"),$s=a(function(r,e,t,n){var i;if(!Eo[t]){for(var o="",s={},u=r.length-1,c=0;c<u;++c)i=Us(r[c],o,s),o=i[0],s=i[1];Eo[t]=Us(r[u],o,s)}var f=wo({},Eo[t][1]);return Ea(Eo[t][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+e.toString()+"}",t,f,Lu(f),n)},"wrkr"),es=a(function(){return[Wr,Wn,na,qi,Bi,Vi,ca,La,or,Hr,ha,Mn,yi,Lr,Qr,Yn,Cn,gn,Ir,ho,ka,ia,rs]},"bInflt"),ts=a(function(){return[Wr,Wn,na,qi,Bi,Vi,fa,xa,Ot,ke,Tr,bt,ha,Ms,mo,yi,$i,Ca,go,po,Zo,Ta,vo,Xo,Cn,gn,Ls,_o,So,ia]},"bDflt"),ku=a(function(){return[Hs,js,En,yo,ks]},"gze"),Bu=a(function(){return[Ws,zs]},"guze"),Uu=a(function(){return[Ks,En,Bs]},"zle"),$u=a(function(){return[Gs]},"zule"),ia=a(function(r){return postMessage(r,[r.buffer])},"pbf"),rs=a(function(r){return r&&r.size&&new Wr(r.size)},"gu8"),Da=a(function(r,e,t,n,i,o){var s=$s(t,n,i,function(u,c){s.terminate(),o(u,c)});return s.postMessage([r,e],e.consume?[r.buffer]:[]),function(){s.terminate()}},"cbify"),ic=a(function(r){return r.ondata=function(e,t){return postMessage([e,t],[e.buffer])},function(e){return r.push(e.data[0],e.data[1])}},"astrm"),ac=a(function(r,e,t,n,i){var o,s=$s(r,n,i,function(u,c){u?(s.terminate(),e.ondata.call(e,u)):(c[1]&&s.terminate(),e.ondata.call(e,u,c[0],c[1]))});s.postMessage(t),e.push=function(u,c){e.ondata||Ir(5),o&&e.ondata(Ir(4,0,1),null,!!c),s.postMessage([u,o=c],[u.buffer])},e.terminate=function(){s.terminate()}},"astrmify"),Ni=a(function(r,e){return r[e]|r[e+1]<<8},"b2"),qn=a(function(r,e){return(r[e]|r[e+1]<<8|r[e+2]<<16|r[e+3]<<24)>>>0},"b4"),ns=a(function(r,e){return qn(r,e)+qn(r,e+4)*4294967296},"b8"),En=a(function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},"wbytes"),Hs=a(function(r,e){var t=e.filename;if(r[0]=31,r[1]=139,r[2]=8,r[8]=e.level<2?4:e.level==9?2:0,r[9]=3,e.mtime!=0&&En(r,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),t){r[3]=8;for(var n=0;n<=t.length;++n)r[n+10]=t.charCodeAt(n)}},"gzh"),Ws=a(function(r){(r[0]!=31||r[1]!=139||r[2]!=8)&&Ir(6,"invalid gzip data");var e=r[3],t=10;e&4&&(t+=r[10]|(r[11]<<8)+2);for(var n=(e>>3&1)+(e>>4&1);n>0;n-=!r[t++]);return t+(e&2)},"gzs"),zs=a(function(r){var e=r.length;return(r[e-4]|r[e-3]<<8|r[e-2]<<16|r[e-1]<<24)>>>0},"gzl"),js=a(function(r){return 10+(r.filename&&r.filename.length+1||0)},"gzhl"),Ks=a(function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;r[0]=120,r[1]=n<<6|(n?32-2*n:1)},"zlh"),Gs=a(function(r){((r[0]&15)!=8||r[0]>>>4>7||(r[0]<<8|r[1])%31)&&Ir(6,"invalid zlib data"),r[1]&32&&Ir(6,"invalid zlib data: preset dictionaries not supported")},"zlv");function oc(r,e){return!e&&typeof r=="function"&&(e=r,r={}),this.ondata=e,r}a(oc,"AsyncCmpStrm");var sc=null,uc=null;function Hu(r,e,t){return t||(t=e,e={}),typeof t!="function"&&Ir(7),Da(r,e,[ts],function(n){return ia(So(n.data[0],n.data[1]))},0,t)}a(Hu,"deflate");function So(r,e){return _o(r,e||{},0,0)}a(So,"deflateSync");var lc=null,cc=null;function Ys(r,e,t){return t||(t=e,e={}),typeof t!="function"&&Ir(7),Da(r,e,[es],function(n){return ia(ka(n.data[0],rs(n.data[1])))},1,t)}a(Ys,"inflate");function ka(r,e){return ho(r,e)}a(ka,"inflateSync");var fc=null,hc=null;function dc(r,e,t){return t||(t=e,e={}),typeof t!="function"&&Ir(7),Da(r,e,[ts,ku,function(){return[qs]}],function(n){return ia(qs(n.data[0],n.data[1]))},2,t)}a(dc,"gzip");function qs(r,e){e||(e={});var t=yo(),n=r.length;t.p(r);var i=_o(r,e,js(e),8),o=i.length;return Hs(i,e),En(i,o-8,t.d()),En(i,o-4,n),i}a(qs,"gzipSync");var gc=null,pc=null;function Wu(r,e,t){return t||(t=e,e={}),typeof t!="function"&&Ir(7),Da(r,e,[es,Bu,function(){return[bo]}],function(n){return ia(bo(n.data[0]))},3,t)}a(Wu,"gunzip");function bo(r,e){return ho(r.subarray(Ws(r),-8),e||new Wr(zs(r)))}a(bo,"gunzipSync");var vc=null,mc=null;function yc(r,e,t){return t||(t=e,e={}),typeof t!="function"&&Ir(7),Da(r,e,[ts,Uu,function(){return[Vs]}],function(n){return ia(Vs(n.data[0],n.data[1]))},4,t)}a(yc,"zlib");function Vs(r,e){e||(e={});var t=Bs();t.p(r);var n=_o(r,e,2,4);return Ks(n,e),En(n,n.length-4,t.d()),n}a(Vs,"zlibSync");var _c=null,wc=null;function zu(r,e,t){return t||(t=e,e={}),typeof t!="function"&&Ir(7),Da(r,e,[es,$u,function(){return[is]}],function(n){return ia(is(n.data[0],rs(n.data[1])))},5,t)}a(zu,"unzlib");function is(r,e){return ho((Gs(r),r.subarray(2,-4)),e)}a(is,"unzlibSync");var Ec=null,Sc=null;function bc(r,e,t){return t||(t=e,e={}),typeof t!="function"&&Ir(7),r[0]==31&&r[1]==139&&r[2]==8?Wu(r,e,t):(r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31?Ys(r,e,t):zu(r,e,t)}a(bc,"decompress");function xc(r,e){return r[0]==31&&r[1]==139&&r[2]==8?bo(r,e):(r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31?ka(r,e):is(r,e)}a(xc,"decompressSync");var as=a(function(r,e,t,n){for(var i in r){var o=r[i],s=e+i,u=n;Array.isArray(o)&&(u=wo(n,o[1]),o=o[0]),o instanceof Wr?t[s]=[o,u]:(t[s+="/"]=[new Wr(0),u],as(o,s,t,n))}},"fltn"),Qs=typeof TextEncoder!="undefined"&&new TextEncoder,os=typeof TextDecoder!="undefined"&&new TextDecoder,ju=0;try{os.decode(mo,{stream:!0}),ju=1}catch(r){}var Ku=a(function(r){for(var e="",t=0;;){var n=r[t++],i=(n>127)+(n>223)+(n>239);if(t+i>r.length)return[e,gn(r,t-1)];i?i==3?(n=((n&15)<<18|(r[t++]&63)<<12|(r[t++]&63)<<6|r[t++]&63)-65536,e+=String.fromCharCode(55296|n>>10,56320|n&1023)):i&1?e+=String.fromCharCode((n&31)<<6|r[t++]&63):e+=String.fromCharCode((n&15)<<12|(r[t++]&63)<<6|r[t++]&63):e+=String.fromCharCode(n)}},"dutf8"),Cc=null,Tc=null;function xo(r,e){if(e){for(var t=new Wr(r.length),n=0;n<r.length;++n)t[n]=r.charCodeAt(n);return t}if(Qs)return Qs.encode(r);for(var i=r.length,o=new Wr(r.length+(r.length>>1)),s=0,u=a(function(p){o[s++]=p},"w"),n=0;n<i;++n){if(s+5>o.length){var c=new Wr(s+8+(i-n<<1));c.set(o),o=c}var f=r.charCodeAt(n);f<128||e?u(f):f<2048?(u(192|f>>6),u(128|f&63)):f>55295&&f<57344?(f=65536+(f&1023<<10)|r.charCodeAt(++n)&1023,u(240|f>>18),u(128|f>>12&63),u(128|f>>6&63),u(128|f&63)):(u(224|f>>12),u(128|f>>6&63),u(128|f&63))}return gn(o,0,s)}a(xo,"strToU8");function Gu(r,e){if(e){for(var t="",n=0;n<r.length;n+=16384)t+=String.fromCharCode.apply(null,r.subarray(n,n+16384));return t}else{if(os)return os.decode(r);var i=Ku(r),o=i[0],s=i[1];return s.length&&Ir(8),o}}a(Gu,"strFromU8");var Dc=a(function(r){return r==1?3:r<6?2:r==9?1:0},"dbf"),Js=a(function(r,e){return e+30+Ni(r,e+26)+Ni(r,e+28)},"slzh"),Zs=a(function(r,e,t){var n=Ni(r,e+28),i=Gu(r.subarray(e+46,e+46+n),!(Ni(r,e+8)&2048)),o=e+46+n,s=qn(r,e+20),u=t&&s==4294967295?Yu(r,o):[s,qn(r,e+24),qn(r,e+42)],c=u[0],f=u[1],p=u[2];return[Ni(r,e+10),c,f,i,o+Ni(r,e+30)+Ni(r,e+32),p]},"zh"),Yu=a(function(r,e){for(;Ni(r,e)!=1;e+=4+Ni(r,e+2));return[ns(r,e+12),ns(r,e+4),ns(r,e+20)]},"z64e"),Ba=a(function(r){var e=0;if(r)for(var t in r){var n=r[t].length;n>65535&&Ir(9),e+=n+4}return e},"exfl"),Co=a(function(r,e,t,n,i,o,s,u){var c=n.length,f=t.extra,p=u&&u.length,D=Ba(f);En(r,e,s!=null?33639248:67324752),e+=4,s!=null&&(r[e++]=20,r[e++]=t.os),r[e]=20,e+=2,r[e++]=t.flag<<1|(o<0&&8),r[e++]=i&&8,r[e++]=t.compression&255,r[e++]=t.compression>>8;var I=new Date(t.mtime==null?Date.now():t.mtime),z=I.getFullYear()-1980;if((z<0||z>119)&&Ir(10),En(r,e,z<<25|I.getMonth()+1<<21|I.getDate()<<16|I.getHours()<<11|I.getMinutes()<<5|I.getSeconds()>>>1),e+=4,o!=-1&&(En(r,e,t.crc),En(r,e+4,o<0?-o-2:o),En(r,e+8,t.size)),En(r,e+12,c),En(r,e+14,D),e+=16,s!=null&&(En(r,e,p),En(r,e+6,t.attrs),En(r,e+10,s),e+=14),r.set(n,e),e+=c,D)for(var fe in f){var le=f[fe],Ae=le.length;En(r,e,+fe),En(r,e+2,Ae),r.set(le,e+4),e+=4+Ae}return p&&(r.set(u,e),e+=p),e},"wzh"),Xs=a(function(r,e,t,n,i){En(r,e,101010256),En(r,e+8,t),En(r,e+10,t),En(r,e+12,n),En(r,e+16,i)},"wzf"),Ac=null,Rc=null,Ic=null,Fc=null;function Pc(r,e,t){t||(t=e,e={}),typeof t!="function"&&Ir(7);var n={};as(r,"",n,e);var i=Object.keys(n),o=i.length,s=0,u=0,c=o,f=new Array(o),p=[],D=a(function(){for(var Ae=0;Ae<p.length;++Ae)p[Ae]()},"tAll"),I=a(function(Ae,Ie){To(function(){t(Ae,Ie)})},"cbd");To(function(){I=t});var z=a(function(){var Ae=new Wr(u+22),Ie=s,Qe=u-s;u=0;for(var lt=0;lt<c;++lt){var Ze=f[lt];try{var dt=Ze.c.length;Co(Ae,u,Ze,Ze.f,Ze.u,dt);var xt=30+Ze.f.length+Ba(Ze.extra),Et=u+xt;Ae.set(Ze.c,Et),Co(Ae,s,Ze,Ze.f,Ze.u,dt,u,Ze.m),s+=16+xt+(Ze.m?Ze.m.length:0),u=Et+dt}catch(Je){return I(Je,null)}}Xs(Ae,s,f.length,Qe,Ie),I(null,Ae)},"cbf");o||z();for(var fe=a(function(Ae){var Ie=i[Ae],Qe=n[Ie],lt=Qe[0],Ze=Qe[1],dt=yo(),xt=lt.length;dt.p(lt);var Et=xo(Ie),Je=Et.length,Zt=Ze.comment,mt=Zt&&xo(Zt),gr=mt&&mt.length,ur=Ba(Ze.extra),kr=Ze.level==0?0:8,_r=a(function(on,jr){if(on)D(),I(on,null);else{var Zr=jr.length;f[Ae]=wo(Ze,{size:xt,crc:dt.d(),c:jr,f:Et,m:mt,u:Je!=Ie.length||mt&&Zt.length!=gr,compression:kr}),s+=30+Je+ur+Zr,u+=76+2*(Je+ur)+(gr||0)+Zr,--o||z()}},"cbl");if(Je>65535&&_r(Ir(11,0,1),null),!kr)_r(null,lt);else if(xt<16e4)try{_r(null,So(lt,Ze))}catch(on){_r(on,null)}else p.push(Hu(lt,Ze,_r))},"_loop_1"),le=0;le<c;++le)fe(le);return D}a(Pc,"zip");function Oc(r,e){e||(e={});var t={},n=[];as(r,"",t,e);var i=0,o=0;for(var s in t){var u=t[s],c=u[0],f=u[1],p=f.level==0?0:8,D=xo(s),I=D.length,z=f.comment,fe=z&&xo(z),le=fe&&fe.length,Ae=Ba(f.extra);I>65535&&Ir(11);var Ie=p?So(c,f):c,Qe=Ie.length,lt=yo();lt.p(c),n.push(wo(f,{size:c.length,crc:lt.d(),c:Ie,f:D,m:fe,u:I!=s.length||fe&&z.length!=le,o:i,compression:p})),i+=30+I+Ae+Qe,o+=76+2*(I+Ae)+(le||0)+Qe}for(var Ze=new Wr(o+22),dt=i,xt=o-i,Et=0;Et<n.length;++Et){var D=n[Et];Co(Ze,D.o,D,D.f,D.u,D.c.length);var Je=30+D.f.length+Ba(D.extra);Ze.set(D.c,D.o+Je),Co(Ze,i,D,D.f,D.u,D.c.length,D.o,D.m),i+=16+Je+(D.m?D.m.length:0)}return Xs(Ze,i,n.length,xt,dt),Ze}a(Oc,"zipSync");var Nc=null,Mc=null,Lc=null,kc=null,To=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(r){r()};function Bc(r,e,t){t||(t=e,e={}),typeof t!="function"&&Ir(7);var n=[],i=a(function(){for(var Ae=0;Ae<n.length;++Ae)n[Ae]()},"tAll"),o={},s=a(function(Ae,Ie){To(function(){t(Ae,Ie)})},"cbd");To(function(){s=t});for(var u=r.length-22;qn(r,u)!=101010256;--u)if(!u||r.length-u>65558)return s(Ir(13,0,1),null),i;var c=Ni(r,u+8);if(c){var f=c,p=qn(r,u+16),D=p==4294967295||f==65535;if(D){var I=qn(r,u-12);D=qn(r,I)==101075792,D&&(f=c=qn(r,I+32),p=qn(r,I+48))}for(var z=e&&e.filter,fe=a(function(Ae){var Ie=Zs(r,p,D),Qe=Ie[0],lt=Ie[1],Ze=Ie[2],dt=Ie[3],xt=Ie[4],Et=Ie[5],Je=Js(r,Et);p=xt;var Zt=a(function(gr,ur){gr?(i(),s(gr,null)):(ur&&(o[dt]=ur),--c||s(null,o))},"cbl");if(!z||z({name:dt,size:lt,originalSize:Ze,compression:Qe}))if(!Qe)Zt(null,gn(r,Je,Je+lt));else if(Qe==8){var mt=r.subarray(Je,Je+lt);if(lt<32e4)try{Zt(null,ka(mt,new Wr(Ze)))}catch(gr){Zt(gr,null)}else n.push(Ys(mt,{size:Ze},Zt))}else Zt(Ir(14,"unknown compression type "+Qe,1),null);else Zt(null,null)},"_loop_3"),le=0;le<f;++le)fe(le)}else s(null,{});return i}a(Bc,"unzip");function Uc(r,e){for(var t={},n=r.length-22;qn(r,n)!=101010256;--n)(!n||r.length-n>65558)&&Ir(13);var i=Ni(r,n+8);if(!i)return{};var o=qn(r,n+16),s=o==4294967295||i==65535;if(s){var u=qn(r,n-12);s=qn(r,u)==101075792,s&&(i=qn(r,u+32),o=qn(r,u+48))}for(var c=e&&e.filter,f=0;f<i;++f){var p=Zs(r,o,s),D=p[0],I=p[1],z=p[2],fe=p[3],le=p[4],Ae=p[5],Ie=Js(r,Ae);o=le,(!c||c({name:fe,size:I,originalSize:z,compression:D}))&&(D?D==8?t[fe]=ka(r.subarray(Ie,Ie+I),new Wr(z)):Ir(14,"unknown compression type "+D):t[fe]=gn(r,Ie,Ie+I))}return t}a(Uc,"unzipSync");var Ua;(function(r){r.HasVirtualFolders="remoteHub:hasVirtualFolders",r.VirtualFolderProviders="remoteHub:virtualFolderProviders",r.HasRecentRepositories="remoteHub:hasRecentRepositories",r.ActiveResourceHasChanges="remoteHub:activeResourceHasChanges",r.HasSearchIndexes="gitHub:hasSearchIndexes",r.EnabledSomeSearchIndexes="gitHub:enabledSomeSearchIndexes",r.EnabledAllSearchIndexes="gitHub:enabledAllSearchIndexes",r.HasPullRequestExtension="gitHub:hasPullRequestExtension"})(Ua||(Ua={}));const eu=new Map;function $c(r){return r==="isWeb"?isWeb:r==="remoteName"?env.remoteName:r==="virtualWorkspace"?VirtualProviderUtils.isVirtualWorkspace():r.startsWith("config.")?configuration.getAny(r.substring(7)):eu.get(r)}a($c,"getContext");function Hc(r){return r==="isWeb"||r==="remoteName"||r==="virtualWorkspace"||r.startsWith("config.")||r.startsWith("remoteHub:")||r.startsWith("continueOn:")}a(Hc,"isSupportedContextKey");async function ss(r,e){eu.set(r,e),!r.startsWith("continueOn:")&&await l.commands.executeCommand("setContext",r,e)}a(ss,"setContext");class us{constructor(e){this.bytes=e,this.byteIndexCurrent=0}hasMoreBytes(){return this.byteIndexCurrent<this.bytes.length}readBytes(e){const t=this.byteIndexCurrent;return this.byteIndexCurrent+=e,this.bytes.slice(t,this.byteIndexCurrent)}readByte(){const e=this.bytes[this.byteIndexCurrent];return this.byteIndexCurrent++,e}readString(e){const t=[],n=this.byteIndexCurrent+e;let i=this.byteIndexCurrent;for(;i<n;){const o=this.bytes[i++];if(o===0)break;let s=0,u=0;if((o&128)==0)s=o,u=0;else if((o&224)==192)s=o&31,u=1;else if((o&240)==224)s=o&15,u=2;else if((o&248)==240)s=o&7,u=3;else throw Error(`Invalid unicode, unknown multibyte encoding header ${o.toString(2)} at offset ${i}`);for(;u>0;){const c=this.bytes[i++];if((c&192)!=128)throw Error(`Invalid unicode, unexpected multibyte encoding trailer ${c.toString(2)} at offset ${i}`);s=s<<6|c&63,u--}t.push(String.fromCodePoint(s))}return this.byteIndexCurrent=n,t.join("")}}a(us,"ByteStream");class Xn{constructor(e,t){this.value=e,this.id=`_${this.value}`,this.name=t}static Instances(){return Xn._instances==null&&(Xn._instances=new tu),Xn._instances}}a(Xn,"TarFileTypeFlag");class tu{constructor(){this.Normal=new Xn("0","Normal"),this.HardLink=new Xn("1","Hard Link"),this.SymbolicLink=new Xn("2","Symbolic Link"),this.CharacterSpecial=new Xn("3","Character Special"),this.BlockSpecial=new Xn("4","Block Special"),this.Directory=new Xn("5","Directory"),this.FIFO=new Xn("6","FIFO"),this.ContiguousFile=new Xn("7","Contiguous File"),this.LongFilePath=new Xn("L","././@LongLink"),this._All=[this.Normal,this.HardLink,this.SymbolicLink,this.CharacterSpecial,this.BlockSpecial,this.Directory,this.FIFO,this.ContiguousFile,this.LongFilePath];for(let e=0;e<this._All.length;e++){const t=this._All[e];this._All[t.id]=t}}}a(tu,"TarFileTypeFlag_Instances");class Do{constructor(e,t,n,i,o,s,u,c,f,p,D,I,z,fe,le,Ae){this.fileName=e,this.fileMode=t,this.userIDOfOwner=n,this.userIDOfGroup=i,this.fileSizeInBytes=o,this.timeModifiedInUnixFormat=s,this.checksum=u,this.typeFlag=c,this.nameOfLinkedFile=f,this.uStarIndicator=p,this.uStarVersion=D,this.userNameOfOwner=I,this.groupNameOfOwner=z,this.deviceNumberMajor=fe,this.deviceNumberMinor=le,this.filenamePrefix=Ae,this.fullFileName=Ae.length?Ae.endsWith("/")?Ae+e:`${Ae}/${e}`:e}static fromBytes(e){const t=new us(e),n=t.readString(100).trim(),i=t.readString(8),o=t.readString(8),s=t.readString(8),u=t.readString(12),c=t.readBytes(12),f=t.readString(8),p=t.readString(1),D=t.readString(100),I=t.readString(6),z=t.readString(2),fe=t.readString(32),le=t.readString(32),Ae=t.readString(8),Ie=t.readString(8),Qe=t.readString(155),lt=t.readBytes(12),Ze=parseInt(u.trim(),8),dt=parseInt(f,8),xt=Xn.Instances()._All,Et=`_${p}`,Je=xt[Et];return new Do(n,i,o,s,Ze,c,dt,Je,D,I,z,fe,le,Ae,Ie,Qe)}}a(Do,"TarFileEntryHeader");const ru=512;class Ao{constructor(e,t){this.header=e,this.dataAsBytes=t}static fromBytes(e,t){const n=ru,i=Do.fromBytes(e),o=i.fileSizeInBytes,u=Math.ceil(o/n)*n,c=t.readBytes(u).slice(0,o);return new Ao(i,c)}}a(Ao,"TarFileEntry");class Ro{constructor(e){var t;this.entries=e,this.consolidateLongPathEntries();for(const n of this.entries)((t=n.header.typeFlag)==null?void 0:t.name)==="Normal"&&(n.header.fullFileName=n.header.fullFileName.replace(/^[^/]+\/?/,""));this.entryMap=new Map;for(const n of this.entries)this.entryMap.set(n.header.fullFileName,n)}static async fromBytes(e){const t=new us(e),n=[],i=ru;let o=0,s=0;for(;t.hasMoreBytes()==!0;){++o%1e3==0&&await new Promise(f=>setTimeout(f,10));const u=t.readBytes(i);let c=!0;for(let f=0;f<u.length;f++)if(u[f]!=0){c=!1;break}if(c==!0){if(s++,s==2)break}else{s=0;const f=Ao.fromBytes(u,t);n.push(f)}}return new Ro(n)}consolidateLongPathEntries(){var e;const t=Xn.Instances().LongFilePath.name,n=this.entries;for(let i=0;i<n.length;i++){const o=n[i];if(((e=o.header.typeFlag)==null?void 0:e.name)==t){const s=n[i+1];s.header.fileName=o.dataAsBytes.reduce((u,c)=>u+=String.fromCharCode(c),""),s.header.fileName=s.header.fileName.replace(/\0/g,""),n.splice(i,1),i--}}}}a(Ro,"TarFile");const qu=a(r=>Ro.fromBytes(r),"readTar"),Io=new TextDecoder,ls=new TextEncoder;class nu{constructor(e,t=0){this.retainFor=t;try{this.weakRef=new WeakRef(e)}catch{}this.retain(e)}retain(e){this.retainTimeout&&clearTimeout(this.retainTimeout),this.strongRef=e,this.retainTimeout=setTimeout(()=>{this.strongRef=void 0,this.retainTimeout=void 0},this.retainFor)}deref(){var e,t;const n=(t=this.strongRef)!=null?t:(e=this.weakRef)==null?void 0:e.deref();return n&&this.retain(n),n}}a(nu,"TimedRetainingRef");class iu{constructor(e,t){this.root=e,this.providerService=t,this._onDidChangeIndexingEnablement=new l.EventEmitter,this._onDidDownloadTar=new l.EventEmitter,this.ongoingDiskRequests=new Map,this.ongoingNetworkRequests=new Map,this.indexingDisabled=!1,this.usageFile=l.Uri.joinPath(this.root,"usageHistory.json"),this.indexingAllowanceFile=l.Uri.joinPath(this.root,"indexAllowances.json"),this._disposable=l.Disposable.from(...this.registerCommands()),this.updateContext()}get onDidChangeIndexingEnablement(){return this._onDidChangeIndexingEnablement.event}get onDidDownloadTar(){return this._onDidDownloadTar.event}async updateContext(){await ss(Ua.HasSearchIndexes,(await this.listTars()).length>0);const e=this.providerService.repositories.map(i=>i.name),t=await this.getIndexingEnabledRepos(),n=t.has("*")||e.every(i=>t.has(i));await ss(Ua.EnabledSomeSearchIndexes,t.size>0),await ss(Ua.EnabledAllSearchIndexes,n)}dispose(){this._disposable.dispose()}registerCommands(){return[l.commands.registerCommand("remoteHub.configureIndexingAllowedRepos",async()=>{await this.configureIndexingAllowedRepos()}),l.commands.registerCommand("remoteHub.disableIndexingForSession",()=>(this.temporarilyDisableIndexing(),{triggerSearch:!0})),l.commands.registerCommand("remoteHub.enableIndexing",async()=>(await this.markIndexingEnablementForRepos(!0),{triggerSearch:!0})),l.commands.registerCommand("remoteHub.deleteLocalRepositoryData",async()=>{const e=a(i=>{const o=[{power:9,name:"GB"},{power:6,name:"MB"},{power:3,name:"kB"},{power:0,name:"B"}];for(const s of o)if(i>10**s.power)return`${Math.round(i/10**s.power)} ${s.name}`;return"Unknown size"},"humanReadableSize"),t=await this.listTars();if(t.length===0){await l.window.showInformationMessage("No Repository Indexes Found");return}const n=l.window.createQuickPick();n.canSelectMany=!0,n.items=t.map(({name:i,size:o,path:s})=>({label:i,path:s,description:o?e(o):void 0})),n.show(),n.onDidAccept(async()=>{n.hide();for(const{label:i,path:o}of n.selectedItems){const s=l.workspace.fs.delete(o),u=l.window.setStatusBarMessage(`$(loading) Deleting ${i}`,s);await s,u.dispose()}this.updateContext()}),n.onDidHide(()=>n.dispose())}),l.commands.registerCommand("remoteHub.deleteAllLocalRepositoryData",()=>l.window.withProgress({location:l.ProgressLocation.Notification,title:"Deleting Repository Indexes..."},async()=>{this.lastReadKey=void 0,this.lastReadValue=void 0;try{await Promise.all([l.workspace.fs.delete(this.root,{recursive:!0})])}catch(e){Z.error(e)}finally{this.updateContext()}}))]}getTarFromMemory(e){var t;if(Z.debug(`TarPit.getTarFromMemory(key=${e})`),e===this.lastReadKey){const n=(t=this.lastReadValue)==null?void 0:t.deref();if(n)return n;Z.log("Weakref deallocated.")}}async getTarFromDisk(e){try{const t=await l.workspace.fs.readFile(e);return!t||!t.length?void 0:t}catch(t){(!(t instanceof l.FileSystemError)||t.code!==l.FileSystemError.FileNotFound.name)&&(l.window.showWarningMessage(l.l10n.t("Unexpected error reading index from disk, attempting to reload from network")),Z.error(t,"Unexpected error reading tarball from disk"));return}}async getTarFromNetwork(e,t,n){try{const i=await this.isIndexingEnabledForRepo(e);try{if(i){const o=await this.providerService.getTarGz(e,t);if(o)return o}else if(i===void 0){const o=Me.get("indexing.maxIndexSize");if(o===null)throw new l.CancellationError;if(o){const s=await this.providerService.getTarGz(e,t,o*1024*1024);if(s)return s}}}catch(o){if(o instanceof l.CancellationError)throw await this.markIndexingEnablementForRepos(!1),o;if(o instanceof Error&&o.message==="LIMIT_HIT")await this.markIndexingEnablementForRepos(!1);else throw o}if(!n){const o={id:"configure",title:l.l10n.t("Configure Limit")},s={id:"continue",title:l.l10n.t("Continue"),isCloseAffordance:!0};l.window.showInformationMessage(l.l10n.t("Repository exceeds download size limit! Continuing with partial text services."),o,s).then(async u=>{u===o&&await l.commands.executeCommand("workbench.action.openSettings","remoteHub.indexing")})}if(n){const o={id:"no",title:l.l10n.t("Use Partial Services"),isCloseAffordance:!0},s={id:"configure",title:l.l10n.t("Configure")},u={id:"repo",title:l.l10n.t("Download Full Contents")},c=Me.get("indexing.maxIndexSize"),f=c!==null?`${c.toString()}\xA0MB`:"null";switch(await l.window.showWarningMessage(l.l10n.t("This repository exceeds the download size limit ({0}).",f),{modal:!0,detail:l.l10n.t("Continue using a partial version of text services like workspace search and global references, or ignore the limit and download this repository's full contents.",f)},o,u,s)){case u:{await this.markIndexingEnablementForRepos(!0);try{const D=await this.providerService.getTarGz(e,t);if(D)return D}catch(D){D instanceof l.CancellationError&&await this.markIndexingEnablementForRepos(!1)}break}case s:await l.commands.executeCommand("workbench.action.openSettings","remoteHub.indexing");break;case o:await this.markIndexingEnablementForRepos(!1)}}throw new l.CancellationError}finally{this.updateContext()}}async getTar(e,t,n){n===void 0&&({HEAD:{sha:n}}=await this.providerService.getMetadata(e));const i=this.getTarStorageUri(e,n),o=await this.getTarCacheKey(e,n);try{let s=this.ongoingNetworkRequests.get(o);return s===void 0&&(s=this.getTarCore(e,n,i,{blocking:t}),this.ongoingNetworkRequests.set(o,s),this.ongoingDiskRequests.set(o,s)),await s}finally{this.ongoingNetworkRequests.delete(o),this.ongoingDiskRequests.delete(o)}}async getInMemoryTar(e,t){return Z.debug(`TarPit.getInMemoryTar(rootUri=${e.toString()}, ref=${t==null?void 0:t.toString()})`),this.getTarFromMemory(await this.getTarCacheKey(e,t))}async getCachedTar(e,t){var n;const i=await this.getTarCacheKey(e,t),o=this.getTarStorageUri(e,t);try{let s=(n=this.ongoingDiskRequests.get(i))!=null?n:this.ongoingNetworkRequests.get(i);return s===void 0&&(s=this.getTarCore(e,t,o,{skipDownload:!0,blocking:!1}),this.ongoingDiskRequests.set(i,s)),await s}finally{this.ongoingDiskRequests.delete(i)}}async getTarCore(e,t,n,i){const o=this.providerService.getCanonicalUri(e),s=`${F(o,{excludeScheme:!0})}/${t}`,u=new Ee(`TarPit.getTar(${s})`),c=await this.getTarCacheKey(e,t),f=Date.now();let p,D;try{if(u.logStep("Getting .tar from memory",{suffix:" \u2022 Getting .tar from memory..."}),D=this.getTarFromMemory(c),D)return p=" \u2022 Got .tar from memory",D;u.logStep("Getting .tar from disk",{message:": Not found \u2022",suffix:" \u2022 Getting .tar from disk..."});let I=!1,z=await this.getTarFromDisk(n);if(z==null?void 0:z.length)p=" \u2022 Got .tar from disk";else{if(i==null?void 0:i.skipDownload){p=" \u2022 Skipped download";return}if(await this.isIndexingEnabledForRepo(e)===!1)throw p=" \u2022 Downloading disabled",new l.CancellationError;u.logStep("Getting .tar from network",{message:": Not found \u2022",suffix:" \u2022 Getting .tar from network..."}),z=await this.getTarFromNetwork(e,t,i.blocking),I=!0,p=" \u2022 Got .tar from network",l.workspace.fs.writeFile(n,z).then(()=>Z.debug(`Sucessfully wrote tarball to disk in ${Date.now()-f}ms`),le=>Z.error(le,`Error writing tarball to disk in ${Date.now()-f}ms`))}if(!(z==null?void 0:z.length))throw new Error("Internal Error: Invalid repository index. Try deleting repository data and running operation again: `GitHub Repositories: Delete Local Repository Data...`");u.logStep("Unzipping .tar",{suffix:" \u2022 Unzipping .tar..."});const fe=bo(z);return D=await qu(fe),u.stop({message:"Finished getting tar"}),this.lastReadValue=new nu(D,10*(Date.now()-f)),this.lastReadKey=c,I&&setTimeout(()=>this._onDidDownloadTar.fire({rootUri:e,sha:t}),0),D}catch(I){throw p=` \u2022 Failed; ${String(I)}`,I}finally{D&&(this.markCacheEntryUsed(`${s}`).catch(I=>Z.log(`Error marking entry used: ${I}`)),this.cleanUpCache().catch(I=>Z.log(`Error cleaning cache: ${I}`))),u.stop(p?{suffix:p}:void 0)}}async getTarCacheKey(e,t){return t===void 0&&({HEAD:{sha:t}}=await this.providerService.getMetadata(e)),this.getTarStorageUri(e,t).toString()}getTarStorageUri(e,t){return l.Uri.joinPath(this.root,"tars",F(this.providerService.getCanonicalUri(e),{excludeScheme:!0}),t)}async readDir(e){try{return(await l.workspace.fs.readDirectory(e)).map(t=>l.Uri.joinPath(e,t[0]))}catch{return[]}}temporarilyDisableIndexing(){this.indexingDisabled=!0}async isIndexingEnabledForRepo(e){if(this.indexingDisabled)return!1;const t=await this.getIndexingEnabledRepos();if(t.has("*"))return!0;const{name:n}=this.providerService.getVirtualUriMetadata(e);if(!!n){if(t.has(n))return!0;if(t.has(`-${n}`))return!1}}async configureIndexingAllowedRepos(){const e=[...(await this.getIndexingEnabledRepos()).values()],t=await l.window.showQuickPick(e.map(n=>({picked:!0,label:n.startsWith("-")?`${l.l10n.t("Disallowed:")} ${n.slice(1)}`:`${l.l10n.t("Allowed:")} ${n}`})),{canPickMany:!0,title:l.l10n.t("Repository index allowance overrides")});t&&await this.writeIndexEnablementData(t.map(n=>n.label))}async getIndexingEnabledRepos(){let e;try{e=JSON.parse(Io.decode(await l.workspace.fs.readFile(this.indexingAllowanceFile)))}catch(t){t instanceof l.FileSystemError&&t.code!==l.FileSystemError.FileNotFound().code&&Z.error(t,"Error reading index allowance data."),e=[]}return new Set(e)}async listTars(){const e=await this.readDir(l.Uri.joinPath(this.root,"tars")).catch(()=>[]),t=(await Promise.all(e.map(o=>this.readDir(o)))).flat(),n=(await Promise.all(t.map(o=>this.readDir(o)))).flat(),i=(await Promise.all(n.map(o=>this.readDir(o)))).flat();return Promise.all(i.map(async o=>({name:o.path.replace(/^.*\/tars\//,""),path:o,size:(await l.workspace.fs.stat(o)).size})))}async markIndexingEnablementForRepos(e){let t;try{t=JSON.parse(Io.decode(await l.workspace.fs.readFile(this.indexingAllowanceFile)))}catch(o){o instanceof l.FileSystemError&&o.code!==l.FileSystemError.FileNotFound().code&&Z.error(o,"Error reading index allowance data."),t=[]}const n=e?this.providerService.repositories.map(o=>o.name):[],i=e?[]:this.providerService.repositories.map(o=>o.name);t=[...t,...n].filter(o=>o.startsWith("-")?!n.includes(o.slice(1)):!i.includes(o));for(const o of i)t.push(`-${o}`);this.indexingDisabled=!1,await this.writeIndexEnablementData(t)}async writeIndexEnablementData(e){await l.workspace.fs.writeFile(this.indexingAllowanceFile,ls.encode(JSON.stringify(e))),await this.updateContext(),setTimeout(()=>this._onDidChangeIndexingEnablement.fire(),0)}async markCacheEntryUsed(e){let t;try{t=JSON.parse(Io.decode(await l.workspace.fs.readFile(this.usageFile)))}catch(n){n instanceof l.FileSystemError&&n.code!==l.FileSystemError.FileNotFound().code&&Z.error(n,"Error reading usage data."),t={}}t[e]=Number(Date.now()),await l.workspace.fs.writeFile(this.usageFile,ls.encode(JSON.stringify(t)))}async cleanUpCache(){var e,t;Z.log("Cleaning up search cache...");const n=await this.listTars();let i;try{i=JSON.parse(Io.decode(await l.workspace.fs.readFile(this.usageFile)))}catch(z){z instanceof l.FileSystemError&&z.code!==l.FileSystemError.FileNotFound().code&&Z.error(z,"Error reading usage data. All existing indexes will be discarded."),i={}}const o=[];n.forEach(z=>{var fe;const le=/^([^/]*\/[^/]*)\//.exec(z.name);if(!le)throw Error("Unexpected repo entry");const Ae=le[1],Ie=(fe=i[z.name])!=null?fe:0;o.push({...z,lastUsed:Ie,repo:Ae})}),o.sort((z,fe)=>fe.lastUsed-z.lastUsed);let s=0;const u=[],c=new Map,f=(e=Me.get("indexing.cacheSizeLimit"))!=null?e:Me.get("search.download.sizeLimit"),p=(t=Me.get("indexing.cacheRepoLimit"))!=null?t:Me.get("search.download.repoLimit"),D=(f!=null?f:100)*1024*1024,I=p!=null?p:4;o.forEach(z=>{var fe,le;(z.lastUsed===0||s>D||((fe=c.get(z.repo))!=null?fe:0)>I)&&u.push(z),s+=z.size,c.set(z.repo,((le=c.get(z.repo))!=null?le:0)+1)}),await Promise.all(u.map(async z=>{try{await l.workspace.fs.delete(z.path,{recursive:!0}),delete i[z.name],Z.log(`Deleted cache entry for ${z.name}`)}catch(fe){Z.log(`Deleting cache entry for ${z.name} failed; ${String(fe)}`)}})),await l.workspace.fs.writeFile(this.usageFile,ls.encode(JSON.stringify(i))),await this.updateContext()}}a(iu,"TarPit");async function Vu(r,e,t,n,i,o,s){return cs("provideTextSearchResults",async()=>{const u=je(n.pattern,Boolean(n.isRegExp),{matchCase:n.isCaseSensitive,wholeWord:n.isWordMatch,multiline:n.isMultiline,global:!0});let c;try{c=await cs("fetch tarball",()=>t.getTar(i.folder,!0,void 0))}catch(Ae){if(Ae instanceof l.CancellationError)throw Ae;return{limitHit:!1,message:{type:l.TextSearchCompleteMessageType.Warning,trusted:!0,text:l.l10n.t("Repository index not available. [Retry with indexing disabled]({0}).","command:remoteHub.disableIndexingForSession")}}}if(s.isCancellationRequested)return{limitHit:!1};const{maxResults:f,maxFileSize:p,includes:D,excludes:I}=i,z=await Qu(i.folder,r,c,e);if(s.isCancellationRequested)return{limitHit:!0};let fe=f;const le=Pn(z,D,I,p);return cs("searchFiles",async()=>{var Ae,Ie;let Qe=0;for(const lt of z){if(!le.has(lt.path))continue;const Ze=Yi(lt.contents,lt.path,u,{beforeContext:(Ae=i.beforeContext)!=null?Ae:0,afterContext:(Ie=i.afterContext)!=null?Ie:0,previewOptions:i.previewOptions,remainingResultQuota:fe});for(const dt of Ze)o.report({...dt,uri:l.Uri.joinPath(i.folder,dt.uri.path)});if(fe!==void 0&&(fe-=Ze.length,fe<=0))return{limitHit:!0};if(Qe++,Qe%1e4==0&&(await new Promise(dt=>setTimeout(dt,0)),s.isCancellationRequested))return{limitHit:!1}}return{limitHit:!1}})})}a(Vu,"provideTextSearchResults");async function Qu(r,e,t,n){const i=t.entries,o=e.getVirtualRootUri(r),s=await n.getChanges(o,{predicate:D=>D.fileType===l.FileType.File});if(s.length===0)return i.map(D=>({contents:D.dataAsBytes,path:D.header.fullFileName,size:D.dataAsBytes.byteLength}));const u=await Promise.all(St(s,D=>{if(D.type===W.Created)return n.getContent(D.uri).then(I=>({path:e.getRelativeFilePath(o,D.uri),size:I.length,contents:I}))})),c=await Promise.all(St(s,D=>{if(D.type===W.Changed)return n.getContent(D.uri).then(I=>({path:e.getRelativeFilePath(o,D.uri),size:I.length,contents:I}))})),f=new Set(Mr(qr(c,D=>D.path),St(s,D=>{if(D.type===W.Deleted)return e.getRelativeFilePath(o,D.uri)})));return[...St(i,D=>{if(!f.has(D.header.fullFileName))return{contents:D.dataAsBytes,path:D.header.fullFileName,size:D.dataAsBytes.byteLength}}),...u,...c]}a(Qu,"listAllFiles");function Wc(r,e){const t=Date.now(),n=e();return Logger.log(`${r} time: ${Date.now()-t}`),n}a(Wc,"timeSync");async function cs(r,e){const t=Date.now(),n=await e();return Z.log(`${r} time: ${Date.now()-t}`),n}a(cs,"time");var Ju=Object.defineProperty,Zu=Object.getOwnPropertyDescriptor,fs=a((r,e,t,n)=>{for(var i=n>1?void 0:n?Zu(e,t):e,o=r.length-1,s;o>=0;o--)(s=r[o])&&(i=(n?s(e,t,i):s(i))||i);return n&&i&&Ju(e,t,i),i},"fs_decorateClass");const Xu=l.FileSystemError.FileNotFound().code,el=/(\/|\\)/g,tl=/(\*|\.)/g,au=".vscode/.github-pull-request.rec";class $a{constructor(e,t,n,i,o){this.providerService=e,this.github=t,this.changeStore=n,this.tarPit=i,this.telemetryService=o,this._onDidChangeFile=new l.EventEmitter,this.fileSearchCache=new Map,this.pendingUriRequests=new Map,this.pendingUriRequestsEventDelay=10,this.implicitlyWatchedUris=new Map,this.watchedUris=new Map,this.disposable=l.Disposable.from(l.workspace.registerFileSystemProvider(this.scheme,this,{isCaseSensitive:!0,isReadonly:!0}),l.workspace.registerFileSearchProvider(this.scheme,this),l.workspace.registerTextSearchProvider(this.scheme,this),e.onDidChangeRepository(s=>{s.reason==="HEAD"&&this.onRefreshOrRepositoryChanged([s.repository.uri])}),e.onDidRefresh(s=>this.onRefreshOrRepositoryChanged(s)))}get onDidChangeFile(){return this._onDidChangeFile.event}get scheme(){return this.github.scheme}dispose(){var e;(e=this.disposable)==null||e.dispose()}onRefreshOrRepositoryChanged(e){if(e=e.filter(t=>U.getProviderId(t)===this.scheme).map(t=>U.getProviderUri(t)),e.length!==0){Z.log(`GitHubFS.onRefreshOrRepositoryChanged(${e.map(t=>t.toString()).join(", ")})`),this.fileSearchCache.clear();for(const[t,n]of[...this.pendingUriRequests])e.some(i=>k(n.uri,i))&&(this.pendingUriRequests.delete(t),n.outdated=!0);this.updateOpenOrWatchedUris(e)}}updateOpenOrWatchedUris(e){const t=U.getOpenUris(this.scheme,e);for(const[i,o]of[...this.watchedUris,...this.implicitlyWatchedUris])e.some(s=>k(o,s))&&(this.implicitlyWatchedUris.delete(i),t.set(i,o));Z.debug(`GitHubFS.updateOpenOrWatchedUris(${e.map(i=>i.toString()).join(", ")}): uris=${t.size}`);for(const i of e)t.set(b(i),i);const n=[...t.values()].map(i=>({type:l.FileChangeType.Changed,uri:i}));setTimeout(()=>{Z.debug(`GitHubFS.updateOpenOrWatchedUris: Firing events=${n.map(i=>i.uri.toString()).join(", ")}`),this._onDidChangeFile.fire(n)},0)}watch(e,t){const n=b(e);return this.watchedUris.set(n,e),{dispose:()=>{this.watchedUris.delete(n)}}}async stat(e){var t,n;const i=b(e);this.implicitlyWatchedUris.set(i,e);const o=this.github.getProviderRootUri(e),{hasRepoWithOwner:s}=ou(e);if(this.providerService.isInWorkspace(this.providerService.getVirtualRootUri(e))||s){const u=this.providerService.getRelativeFilePath(e),c={uri:e,outdated:!1};try{this.pendingUriRequests.set(`stat:${i}`,c);const f=await this.github.getFileTree(e),p=await f.get(u);if(p==null?void 0:p.stat){if(p.stat.type===l.FileType.File&&Me.get("lfs.read.enabled")&&!e.path.endsWith(".gitattributes")&&C(await this.github.getGitAttributes(o),u)){const D=await this.github.getFileContent(e),I=O(D).size;p.stat.size=I!=null?I:p.stat.size}return p.stat}if(this.implicitlyWatchedUris.delete(i),e.query==="~")return{type:l.FileType.File,size:0,ctime:0,mtime:(t=f.timestamp)!=null?t:Date.now(),permissions:l.FilePermission.Readonly};if(u===au){const{ref:D}=this.providerService.getVirtualUriMetadata(e);if((D==null?void 0:D.type)===be.PullRequest)return{type:l.FileType.File,size:0,ctime:0,mtime:(n=f.timestamp)!=null?n:Date.now(),permissions:l.FilePermission.Readonly}}throw l.FileSystemError.FileNotFound(e)}finally{this.pendingUriRequests.delete(`stat:${i}`),(c==null?void 0:c.outdated)&&setTimeout(()=>{Z.log(`GitHubFS.stat(${e.toString()}): Repository changed; firing change event...`),this._onDidChangeFile.fire([{type:l.FileChangeType.Changed,uri:e}])},this.pendingUriRequestsEventDelay)}}return{type:l.FileType.Directory,size:0,ctime:0,mtime:Date.now(),permissions:l.FilePermission.Readonly}}async readDirectory(e,t){var n;this.implicitlyWatchedUris.set(b(e),e);const{pathQuery:i,hasRepoWithOwner:o}=ou(e);if(this.providerService.isInWorkspace(this.providerService.getVirtualRootUri(e))||o){let s;const u=this.providerService.getRelativeFilePath(e);let c;try{return s=await this.github.getFileTree(e),(await s.getChildren(u,t)).map(([p,{stat:{type:D}}])=>[p,D])}catch(f){throw c=f,u===""&&f instanceof Error&&this.telemetryService.publicLog2("fs.readRootDirectory.error",{errorName:f.name,errorMessage:f.message,errorStack:(n=f.stack)!=null?n:""}),f}finally{u===""&&(Ee.stop("Time to root directory"),this.telemetryService.reportWorkbenchLoadResult({result:c===void 0?"Success":"Failure",errorMessage:(s==null?void 0:s.hasEntireTree)?"":"Unable to load entire tree",errorDetail:c}))}}else{const{results:s}=await this.github.searchRepositoriesQuery("",{user:i,owner:i});return(i.length>0?s.filter(c=>c.owner===i).map(c=>c.repo):[...new Set(s.map(c=>c.owner))]).map(c=>[c,l.FileType.Directory])}}createDirectory(e){throw l.FileSystemError.NoPermissions()}async readFile(e){const t=b(e);this.implicitlyWatchedUris.set(t,e);const n={uri:e,outdated:!1};try{this.pendingUriRequests.set(t,n);const i=await this.github.getFileContent(e);if(!Me.get("lfs.read.enabled")||e.path.endsWith(".gitattributes"))return i;const o=this.github.getProviderRootUri(e),s=await this.github.getGitAttributes(o);return C(s,e.path)?this.github.getLfsContent(o,i):i}catch(i){if(this.implicitlyWatchedUris.delete(t),i instanceof l.FileSystemError&&i.code===Xu){if(e.query==="~")return new Uint8Array(0);if(this.providerService.getRelativeFilePath(e)===au){const{ref:s}=this.providerService.getVirtualUriMetadata(e);if((s==null?void 0:s.type)===be.PullRequest)return new Uint8Array(0)}}throw i}finally{this.pendingUriRequests.delete(t),(n==null?void 0:n.outdated)&&setTimeout(()=>{Z.log(`GitHubFS.readFile(${e.toString()}): Repository changed; firing change event...`),this._onDidChangeFile.fire([{type:l.FileChangeType.Changed,uri:e}])},this.pendingUriRequestsEventDelay)}}writeFile(e,t,n){throw l.FileSystemError.NoPermissions()}delete(e,t){throw l.FileSystemError.NoPermissions()}rename(e,t,n){throw l.FileSystemError.NoPermissions()}copy(e,t,n){throw l.FileSystemError.NoPermissions()}async provideFileSearchResults(e,{folder:t,maxResults:n,includes:i,excludes:o},s){const u=`${b(t)}|${JSON.stringify({includes:i,excludes:o})}`;let c=this.fileSearchCache.get(u);if(c===void 0){const p=this.providerService.getRelativeFilePath(t);let D;await this.github.hasFileTree(t)&&(D=await this.github.getFileTree(t));let I;if(D===void 0||D.loading||!D.hasEntireTree?I=await this.github.getFileList(t,p):I=(await D.getChildren(p,{filter:l.FileType.File,recursive:!0})).map(([z])=>z),I.length===0||s.isCancellationRequested)return[];((i==null?void 0:i.length)||(o==null?void 0:o.length))&&(I=[...ma(I,i,o)]),c=I.map(z=>va.prepareSlow(z)),this.fileSearchCache.set(u,c)}let f;return e.pattern===""?f=c.map(p=>l.Uri.joinPath(t,p.target)):(f=va.go(e.pattern.replace(el,"/").replace(tl,""),c,{allowTypo:!0,limit:n}).map(p=>l.Uri.joinPath(t,p.target)),va.cleanup()),n!==void 0&&n!==0&&n<f.length&&(f=f.slice(0,n)),f}async provideTextSearchResults(e,t,n,i){const o=[];if(await this.tarPit.isIndexingEnabledForRepo(t.folder)!==!1)try{return await Vu(this.providerService,this.changeStore,this.tarPit,e,t,n,i)}catch(f){f instanceof l.CancellationError||o.push({text:l.l10n.t("Error searching index, falling back to GitHub search. Try [deleting this repo's data]({0}) or [deleting all local data]({1}) to rebuild the index.","command:remoteHub.deleteLocalRepositoryData","command:remoteHub.deleteAllLocalRepositoryData"),type:l.TextSearchCompleteMessageType.Warning})}e.isCaseSensitive||e.isRegExp||e.isWordMatch?o.push({text:l.l10n.t("Search flags are not supported by GitHub search. [Download full index]({0}) for full search features and exact text searches.","command:remoteHub.enableIndexing"),type:l.TextSearchCompleteMessageType.Warning,trusted:!0}):o.push({text:l.l10n.t("Partial results shown. [Download full index]({0}) for exact text searches.","command:remoteHub.enableIndexing"),type:l.TextSearchCompleteMessageType.Information,trusted:!0});const s=await this.github.searchCodeQuery(e.pattern,t.folder,{maxResults:t.maxResults,context:{before:t.beforeContext,after:t.afterContext}});if(s.warnings&&s.warnings.forEach(f=>{o.push({text:f,trusted:!0,type:l.TextSearchCompleteMessageType.Warning})}),s===void 0)return{limitHit:!0,message:o};const u=new Set(ma(s.matches.map(f=>f.path),t.includes,t.excludes));let c;for(const f of s.matches)u.has(f.path)&&(c=l.Uri.joinPath(t.folder,f.path),n.report({uri:c,ranges:f.ranges,preview:{text:f.preview,matches:f.matches}}));return{limitHit:!1,message:o}}}a($a,"GitHubFS"),fs([ze()],$a.prototype,"stat",1),fs([ze()],$a.prototype,"readDirectory",1),fs([ze()],$a.prototype,"readFile",1);function ou(r){let e=r.path;return e.startsWith("/")&&(e=e.slice(1)),e.endsWith("/")&&(e=e.slice(0,e.length-1)),{pathQuery:e,hasRepoWithOwner:e.includes("/")}}a(ou,"getRepoWithOwnerFromUri");var su=__webpack_require__(6470);const Ha=globalThis.fetch;async function uu(r,e,t){const n=new AbortController;t.onCancellationRequested(()=>n.abort());try{return await globalThis.fetch(r,{...e,signal:n.signal})}catch(i){throw t.isCancellationRequested?new l.CancellationError:i}}a(uu,"fetchWithCancellation");async function hs(r,e,t,n,i){if(t===0)throw new l.CancellationError;const o=new l.CancellationTokenSource;n.onCancellationRequested(()=>o.cancel());try{const s=await uu(r,e,o.token);if(s.body){const u=[];let c=0;const f=s.body.getReader();let p=3;for(;;){let{done:D,value:I}=await f.read();if(D){const fe=u.reduce((Ie,Qe)=>Ie+Qe.length,0),le=new Uint8Array(fe);let Ae=0;for(const Ie of u)le.set(Ie,Ae),Ae+=Ie.length;return le}I&&(u.push(I),c+=I.length);const z=Math.floor(c/(1024*1024));if(p<z){p=z;const fe={message:z+" MB"};i.report(fe)}if(t!==void 0&&c>t)throw f.cancel(),o.cancel(),new Error("LIMIT_HIT")}}}catch(s){throw n.isCancellationRequested?new l.CancellationError:s}throw new l.CancellationError}a(hs,"fetchUInt8ArrayWithMaxSizeAndCancellation");var Wa=__webpack_require__(4155);function Fo(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof Wa=="object"&&"version"in Wa?`Node.js/${Wa.version.substr(1)} (${Wa.platform}; ${Wa.arch})`:"<environment undetectable>"}a(Fo,"getUserAgent");var rl=__webpack_require__(5186);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function lu(r){return Object.prototype.toString.call(r)==="[object Object]"}a(lu,"isObject");function cu(r){var e,t;return lu(r)===!1?!1:(e=r.constructor,e===void 0?!0:(t=e.prototype,!(lu(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)))}a(cu,"isPlainObject");function nl(r){return r?Object.keys(r).reduce((e,t)=>(e[t.toLowerCase()]=r[t],e),{}):{}}a(nl,"lowercaseKeys");function fu(r,e){const t=Object.assign({},r);return Object.keys(e).forEach(n=>{cu(e[n])?n in r?t[n]=fu(r[n],e[n]):Object.assign(t,{[n]:e[n]}):Object.assign(t,{[n]:e[n]})}),t}a(fu,"mergeDeep");function hu(r){for(const e in r)r[e]===void 0&&delete r[e];return r}a(hu,"removeUndefinedProperties");function ds(r,e,t){if(typeof e=="string"){let[i,o]=e.split(" ");t=Object.assign(o?{method:i,url:o}:{url:i},t)}else t=Object.assign({},e);t.headers=nl(t.headers),hu(t),hu(t.headers);const n=fu(r||{},t);return r&&r.mediaType.previews.length&&(n.mediaType.previews=r.mediaType.previews.filter(i=>!n.mediaType.previews.includes(i)).concat(n.mediaType.previews)),n.mediaType.previews=n.mediaType.previews.map(i=>i.replace(/-preview/,"")),n}a(ds,"dist_web_merge");function il(r,e){const t=/\?/.test(r)?"&":"?",n=Object.keys(e);return n.length===0?r:r+t+n.map(i=>i==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${i}=${encodeURIComponent(e[i])}`).join("&")}a(il,"addQueryParameters");const al=/\{[^}]+\}/g;function ol(r){return r.replace(/^\W+|\W+$/g,"").split(/,/)}a(ol,"removeNonChars");function sl(r){const e=r.match(al);return e?e.map(ol).reduce((t,n)=>t.concat(n),[]):[]}a(sl,"extractUrlVariableNames");function du(r,e){return Object.keys(r).filter(t=>!e.includes(t)).reduce((t,n)=>(t[n]=r[n],t),{})}a(du,"omit");function gu(r){return r.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}a(gu,"encodeReserved");function Aa(r){return encodeURIComponent(r).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}a(Aa,"encodeUnreserved");function za(r,e,t){return e=r==="+"||r==="#"?gu(e):Aa(e),t?Aa(t)+"="+e:e}a(za,"encodeValue");function Ra(r){return r!=null}a(Ra,"isDefined");function gs(r){return r===";"||r==="&"||r==="?"}a(gs,"isKeyOperator");function ul(r,e,t,n){var i=r[t],o=[];if(Ra(i)&&i!=="")if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")i=i.toString(),n&&n!=="*"&&(i=i.substring(0,parseInt(n,10))),o.push(za(e,i,gs(e)?t:""));else if(n==="*")Array.isArray(i)?i.filter(Ra).forEach(function(s){o.push(za(e,s,gs(e)?t:""))}):Object.keys(i).forEach(function(s){Ra(i[s])&&o.push(za(e,i[s],s))});else{const s=[];Array.isArray(i)?i.filter(Ra).forEach(function(u){s.push(za(e,u))}):Object.keys(i).forEach(function(u){Ra(i[u])&&(s.push(Aa(u)),s.push(za(e,i[u].toString())))}),gs(e)?o.push(Aa(t)+"="+s.join(",")):s.length!==0&&o.push(s.join(","))}else e===";"?Ra(i)&&o.push(Aa(t)):i===""&&(e==="&"||e==="?")?o.push(Aa(t)+"="):i===""&&o.push("");return o}a(ul,"getValues");function ll(r){return{expand:cl.bind(null,r)}}a(ll,"parseUrl");function cl(r,e){var t=["+","#",".","/",";","?","&"];return r.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(n,i,o){if(i){let u="";const c=[];if(t.indexOf(i.charAt(0))!==-1&&(u=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach(function(f){var p=/([^:\*]*)(?::(\d+)|(\*))?/.exec(f);c.push(ul(e,u,p[1],p[2]||p[3]))}),u&&u!=="+"){var s=",";return u==="?"?s="&":u!=="#"&&(s=u),(c.length!==0?u:"")+c.join(s)}else return c.join(",")}else return gu(o)})}a(cl,"expand");function pu(r){let e=r.method.toUpperCase(),t=(r.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),n=Object.assign({},r.headers),i,o=du(r,["method","baseUrl","url","headers","request","mediaType"]);const s=sl(t);t=ll(t).expand(o),/^http/.test(t)||(t=r.baseUrl+t);const u=Object.keys(r).filter(p=>s.includes(p)).concat("baseUrl"),c=du(o,u);if(!/application\/octet-stream/i.test(n.accept)&&(r.mediaType.format&&(n.accept=n.accept.split(/,/).map(p=>p.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${r.mediaType.format}`)).join(",")),r.mediaType.previews.length)){const p=n.accept.match(/[\w-]+(?=-preview)/g)||[];n.accept=p.concat(r.mediaType.previews).map(D=>{const I=r.mediaType.format?`.${r.mediaType.format}`:"+json";return`application/vnd.github.${D}-preview${I}`}).join(",")}return["GET","HEAD"].includes(e)?t=il(t,c):"data"in c?i=c.data:Object.keys(c).length?i=c:n["content-length"]=0,!n["content-type"]&&typeof i!="undefined"&&(n["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof i=="undefined"&&(i=""),Object.assign({method:e,url:t,headers:n},typeof i!="undefined"?{body:i}:null,r.request?{request:r.request}:null)}a(pu,"dist_web_parse");function fl(r,e,t){return pu(ds(r,e,t))}a(fl,"endpointWithDefaults");function vu(r,e){const t=ds(r,e),n=fl.bind(null,t);return Object.assign(n,{DEFAULTS:t,defaults:vu.bind(null,t),merge:ds.bind(null,t),parse:pu})}a(vu,"withDefaults");const hl=`octokit-endpoint.js/6.0.12 ${Fo()}`,dl=vu(null,{method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":hl},mediaType:{format:"",previews:[]}});var gl=__webpack_require__(3300),pl=__webpack_require__.n(gl);class ps extends Error{constructor(e){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}a(ps,"Deprecation");var vl=__webpack_require__(447),mu=__webpack_require__.n(vl);const ml=mu()(r=>console.warn(r)),yl=mu()(r=>console.warn(r));class Hi extends Error{constructor(e,t,n){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=t;let i;"headers"in n&&typeof n.headers!="undefined"&&(i=n.headers),"response"in n&&(this.response=n.response,i=n.response.headers);const o=Object.assign({},n.request);n.request.headers.authorization&&(o.headers=Object.assign({},n.request.headers,{authorization:n.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),o.url=o.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=o,Object.defineProperty(this,"code",{get(){return ml(new ps("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),t}}),Object.defineProperty(this,"headers",{get(){return yl(new ps("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),i||{}}})}}a(Hi,"RequestError");const _l="5.6.3";function wl(r){return r.arrayBuffer()}a(wl,"getBufferResponse");function yu(r){const e=r.request&&r.request.log?r.request.log:console;(cu(r.body)||Array.isArray(r.body))&&(r.body=JSON.stringify(r.body));let t={},n,i;return(r.request&&r.request.fetch||pl())(r.url,Object.assign({method:r.method,body:r.body,headers:r.headers,redirect:r.redirect},r.request)).then(async s=>{i=s.url,n=s.status;for(const u of s.headers)t[u[0]]=u[1];if("deprecation"in t){const u=t.link&&t.link.match(/<([^>]+)>; rel="deprecation"/),c=u&&u.pop();e.warn(`[@octokit/request] "${r.method} ${r.url}" is deprecated. It is scheduled to be removed on ${t.sunset}${c?`. See ${c}`:""}`)}if(!(n===204||n===205)){if(r.method==="HEAD"){if(n<400)return;throw new Hi(s.statusText,n,{response:{url:i,status:n,headers:t,data:void 0},request:r})}if(n===304)throw new Hi("Not modified",n,{response:{url:i,status:n,headers:t,data:await vs(s)},request:r});if(n>=400){const u=await vs(s);throw new Hi(El(u),n,{response:{url:i,status:n,headers:t,data:u},request:r})}return vs(s)}}).then(s=>({status:n,url:i,headers:t,data:s})).catch(s=>{throw s instanceof Hi?s:new Hi(s.message,500,{request:r})})}a(yu,"fetchWrapper");async function vs(r){const e=r.headers.get("content-type");return/application\/json/.test(e)?r.json():!e||/^text\/|charset=utf-8$/.test(e)?r.text():wl(r)}a(vs,"getResponseData");function El(r){return typeof r=="string"?r:"message"in r?Array.isArray(r.errors)?`${r.message}: ${r.errors.map(JSON.stringify).join(", ")}`:r.message:`Unknown error: ${JSON.stringify(r)}`}a(El,"toErrorMessage");function ms(r,e){const t=r.defaults(e);return Object.assign(a(function(i,o){const s=t.merge(i,o);if(!s.request||!s.request.hook)return yu(t.parse(s));const u=a((c,f)=>yu(t.parse(t.merge(c,f))),"request");return Object.assign(u,{endpoint:t,defaults:ms.bind(null,t)}),s.request.hook(u,s)},"newApi"),{endpoint:t,defaults:ms.bind(null,t)})}a(ms,"dist_web_withDefaults");const Po=ms(dl,{headers:{"user-agent":`octokit-request.js/${_l} ${Fo()}`}}),Sl="4.8.0";function bl(r){return`Request failed due to following response errors:
`+r.errors.map(e=>` - ${e.message}`).join(`
`)}a(bl,"_buildMessageForResponseErrors");class aa extends Error{constructor(e,t,n){super(bl(n));this.request=e,this.headers=t,this.response=n,this.name="GraphqlResponseError",this.errors=n.errors,this.data=n.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}a(aa,"GraphqlResponseError");const xl=["method","baseUrl","url","headers","request","query","mediaType"],Cl=["query","method","url"],_u=/\/api\/v3\/?$/;function Tl(r,e,t){if(t){if(typeof e=="string"&&"query"in t)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const s in t)if(!!Cl.includes(s))return Promise.reject(new Error(`[@octokit/graphql] "${s}" cannot be used as variable name`))}const n=typeof e=="string"?Object.assign({query:e},t):e,i=Object.keys(n).reduce((s,u)=>xl.includes(u)?(s[u]=n[u],s):(s.variables||(s.variables={}),s.variables[u]=n[u],s),{}),o=n.baseUrl||r.endpoint.DEFAULTS.baseUrl;return _u.test(o)&&(i.url=o.replace(_u,"/api/graphql")),r(i).then(s=>{if(s.data.errors){const u={};for(const c of Object.keys(s.headers))u[c]=s.headers[c];throw new aa(i,u,s.data)}return s.data.data})}a(Tl,"graphql");function ys(r,e){const t=r.defaults(e);return Object.assign(a((i,o)=>Tl(t,i,o),"newApi"),{defaults:ys.bind(null,t),endpoint:Po.endpoint})}a(ys,"graphql_dist_web_withDefaults");const Kc=ys(Po,{headers:{"user-agent":`octokit-graphql.js/${Sl} ${Fo()}`},method:"POST",url:"/graphql"});function Dl(r){return ys(r,{method:"POST",url:"/graphql"})}a(Dl,"withCustomRequest");const Al=/^v1\./,Rl=/^ghs_/,Il=/^ghu_/;async function Fl(r){const e=r.split(/\./).length===3,t=Al.test(r)||Rl.test(r),n=Il.test(r);return{type:"token",token:r,tokenType:e?"app":t?"installation":n?"user-to-server":"oauth"}}a(Fl,"auth");function Pl(r){return r.split(/\./).length===3?`bearer ${r}`:`token ${r}`}a(Pl,"withAuthorizationPrefix");async function Ol(r,e,t,n){const i=e.endpoint.merge(t,n);return i.headers.authorization=Pl(r),e(i)}a(Ol,"hook");const Nl=a(function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(Fl.bind(null,e),{hook:Ol.bind(null,e)})},"createTokenAuth"),wu="3.5.1";class ja{constructor(e={}){const t=new rl.Collection,n={baseUrl:Po.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:t.bind(null,"request")}),mediaType:{previews:[],format:""}};if(n.headers["user-agent"]=[e.userAgent,`octokit-core.js/${wu} ${Fo()}`].filter(Boolean).join(" "),e.baseUrl&&(n.baseUrl=e.baseUrl),e.previews&&(n.mediaType.previews=e.previews),e.timeZone&&(n.headers["time-zone"]=e.timeZone),this.request=Po.defaults(n),this.graphql=Dl(this.request).defaults(n),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},e.log),this.hook=t,e.authStrategy){const{authStrategy:o,...s}=e,u=o(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:s},e.auth));t.wrap("request",u.hook),this.auth=u}else if(!e.auth)this.auth=async()=>({type:"unauthenticated"});else{const o=Nl(e.auth);t.wrap("request",o.hook),this.auth=o}this.constructor.plugins.forEach(o=>{Object.assign(this,o(this,e))})}static defaults(e){return a(class extends this{constructor(...n){const i=n[0]||{};if(typeof e=="function"){super(e(i));return}super(Object.assign({},e,i,i.userAgent&&e.userAgent?{userAgent:`${i.userAgent} ${e.userAgent}`}:null))}},"OctokitWithDefaults")}static plugin(...e){var t;const n=this.plugins;return t=a(class extends this{},"_a"),t.plugins=n.concat(e.filter(o=>!n.includes(o))),t}}a(ja,"Octokit"),ja.VERSION=wu,ja.plugins=[];var Eu;(function(r){r[r.Force=0]="Force",r[r.ForceWithLease=1]="ForceWithLease"})(Eu||(Eu={}));var Qi;(function(r){r[r.Head=0]="Head",r[r.RemoteHead=1]="RemoteHead",r[r.Tag=2]="Tag"})(Qi||(Qi={}));var Ka;(function(r){r[r.INDEX_MODIFIED=0]="INDEX_MODIFIED",r[r.INDEX_ADDED=1]="INDEX_ADDED",r[r.INDEX_DELETED=2]="INDEX_DELETED",r[r.INDEX_RENAMED=3]="INDEX_RENAMED",r[r.INDEX_COPIED=4]="INDEX_COPIED",r[r.MODIFIED=5]="MODIFIED",r[r.DELETED=6]="DELETED",r[r.UNTRACKED=7]="UNTRACKED",r[r.IGNORED=8]="IGNORED",r[r.INTENT_TO_ADD=9]="INTENT_TO_ADD",r[r.ADDED_BY_US=10]="ADDED_BY_US",r[r.ADDED_BY_THEM=11]="ADDED_BY_THEM",r[r.DELETED_BY_US=12]="DELETED_BY_US",r[r.DELETED_BY_THEM=13]="DELETED_BY_THEM",r[r.BOTH_ADDED=14]="BOTH_ADDED",r[r.BOTH_DELETED=15]="BOTH_DELETED",r[r.BOTH_MODIFIED=16]="BOTH_MODIFIED"})(Ka||(Ka={}));var Su;(function(r){r.BadConfigFile="BadConfigFile",r.AuthenticationFailed="AuthenticationFailed",r.NoUserNameConfigured="NoUserNameConfigured",r.NoUserEmailConfigured="NoUserEmailConfigured",r.NoRemoteRepositorySpecified="NoRemoteRepositorySpecified",r.NotAGitRepository="NotAGitRepository",r.NotAtRepositoryRoot="NotAtRepositoryRoot",r.Conflict="Conflict",r.StashConflict="StashConflict",r.UnmergedChanges="UnmergedChanges",r.PushRejected="PushRejected",r.RemoteConnectionError="RemoteConnectionError",r.DirtyWorkTree="DirtyWorkTree",r.CantOpenResource="CantOpenResource",r.GitNotFound="GitNotFound",r.CantCreatePipe="CantCreatePipe",r.PermissionDenied="PermissionDenied",r.CantAccessRemote="CantAccessRemote",r.RepositoryNotFound="RepositoryNotFound",r.RepositoryIsLocked="RepositoryIsLocked",r.BranchNotFullyMerged="BranchNotFullyMerged",r.NoRemoteReference="NoRemoteReference",r.InvalidBranchName="InvalidBranchName",r.BranchAlreadyExists="BranchAlreadyExists",r.NoLocalChanges="NoLocalChanges",r.NoStashFound="NoStashFound",r.LocalChangesOverwritten="LocalChangesOverwritten",r.NoUpstreamBranch="NoUpstreamBranch",r.IsInSubmodule="IsInSubmodule",r.WrongCase="WrongCase",r.CantLockRef="CantLockRef",r.CantRebaseMultipleBranches="CantRebaseMultipleBranches",r.PatchDoesNotApply="PatchDoesNotApply",r.NoPathFound="NoPathFound",r.UnknownPath="UnknownPath"})(Su||(Su={}));class _s{constructor(e){this.rules=[],this.parse(e)}getAttributesFor(e){var t;const n=this.rulesForPath(typeof e=="string"?e:e.path),i={};for(const o of n){const s=(t=o.attrs)!=null?t:{};for(const u of Object.keys(s))i[u]=s[u]}return i}rulesForPath(e){const t=[];for(;/^(\.\/|\.\\)/.test(e);)e=e.substr(2);/^[\/\\]/.test(e)||(e=`/${e}`);for(const n of this.rules){if(!n.pattern)continue;const i=n.pattern[0]==="/"?`${n.pattern}`:`**/${n.pattern}`;ua().isMatch(e,i)&&t.push(n)}return t}parse(e,t=!1,n=!1){const i=e.split(/\r\n|\r|\n/g);for(const o of i){const s=this.parseRule(o,t,n);s&&this.rules.push(s)}}parseRule(e,t=!1,n=!1){if(e=e.trim(),!e)return n?{comment:void 0,pattern:void 0,attrs:void 0}:void 0;if(e[0]==="#")return t?{comment:e.substr(1),pattern:void 0,attrs:void 0}:void 0;e[0]==="\\"&&e[1]==="#"&&(e=e.substr(1));let i,o;if(e[0]==='"'){const s=/^"(?:[^"\\]|\\.)*"/.exec(e);if(s){try{i=JSON.parse(s[0])}catch(u){i=i.replace(/\\(.)/g,"\\1")}o=e.substr(s[0].length+1).trim()}else i=s==null?void 0:s[0],o=void 0}else{const s=/\s+/g.exec(e);i=s?e.substr(0,s.index):e,o=s?e.substr(s.index+s[0].length):void 0}return{pattern:i,attrs:o?this.parseAttributes(o):{},comment:void 0}}parseAttributes(e){const t={};for(const n of e.split(/\s+/g)){if(n==="=")continue;let i=n,o;if(n.startsWith("-"))i=n.substr(1),o=!1;else if(n.includes("=")){const s=n.indexOf("=");i=n.substr(0,s),o=n.substr(s+1)}else o=!0;t[i]=o,i==="binary"&&o?t.diff=!1:i==="crlf"&&o===!0?t.text=!0:i==="crlf"&&o===!1?t.text=!1:i==="crlf"&&o==="input"&&(t.eol="lf")}return t}}a(_s,"GitAttributes");class ws{constructor(e,t){this.path=e,this.relativePath=t}}a(ws,"TrieNode");class bu{constructor(){this.root=new ws("","")}get(e){var t;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let n=this.root;for(const i of e.split("/")){const o=(t=n.children)==null?void 0:t.get(i);if(o===void 0)return;n=o}return n.path===e?n.data:void 0}getChildren(e){var t;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let n=this.root;if(e)for(const i of e.split("/")){const o=(t=n.children)==null?void 0:t.get(i);if(o===void 0)return[];n=o}return n.children===void 0?[]:[...n.children.values()].map(i=>[i.relativePath,i.data])}getDescendants(e){var t;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let n=this.root;const i=[];if(e)for(const o of e.split("/")){const s=(t=n.children)==null?void 0:t.get(o);if(s===void 0)return i;n=s}if(n.children!==void 0){let o=a(function(s,u,c){for(const f of s.values()){const p=`${u?`${u}/`:""}${f.relativePath}`;f.data&&c.push([p,f.data]),f.children!==void 0&&o(f.children,p,c)}},"getDescendantsCore");o(n.children,"",i)}return i}has(e){var t;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let n=this.root;for(const i of e.split("/")){const o=(t=n.children)==null?void 0:t.get(i);if(o===void 0)return!1;n=o}return n.path===e}set(e,t){var n;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let i=this.root,o="";for(const s of e.split("/")){let u=(n=i.children)==null?void 0:n.get(s);o=`${o?`${o}/`:""}${s}`,u===void 0&&(i.children===void 0&&(i.children=new Map),u=new ws(o,s),i.children.set(s,u)),i=u}i.data=t}}a(bu,"Trie");var Ml=__webpack_require__(5431),Es=__webpack_require__.n(Ml);class Ss{constructor(e,t,n,i,o){if(this.rootUri=e,this.sha=t,this.timestamp=n,this.provider=i,this.trie=new bu,this._hasEntireTree=!1,this._isContentCached=!1,i===void 0)return;const s=[i];i.onDidTriggerContentCaching!==void 0&&i.tryCachingContent!==void 0&&s.push(i.onDidTriggerContentCaching(u=>{(!u||b(u.rootUri)===b(this.rootUri)&&u.sha===this.sha)&&!this.loading&&this.hasEntireTree&&!this.isContentCached&&i.tryCachingContent(this.trie.get.bind(this.trie)).then(c=>this._isContentCached=c,()=>this._isContentCached=!0)})),this._loading=this.load(o==null?void 0:o.path,o==null?void 0:o.recursive).then(u=>(this._hasEntireTree=(u==null?void 0:u.success)?u.recursive:!1,this._hasEntireTree&&setTimeout(()=>{var c;return void((c=i.tryCachingContent)==null?void 0:c.call(i,this.trie.get.bind(this.trie)).then(f=>this._isContentCached=f,()=>this._isContentCached=!0))},0),this._loading=void 0,this.preloading=void 0,this.treeSha=(u==null?void 0:u.success)?u.sha:void 0,this.treeSha)),(o==null?void 0:o.preload)&&(this.preloading=new Map([["",this.load("")],[".vscode",this.load(".vscode")]])),this.disposable=l.Disposable.from(...s)}get hasEntireTree(){return this._hasEntireTree}get isContentCached(){return this._isContentCached}get loading(){return this._loading!==void 0}get permissions(){var e;return(e=this.provider)==null?void 0:e.permissions}dispose(){var e;(e=this.disposable)==null||e.dispose()}async get(e){var t;if(e==="")return{mode:"040000",sha:this.treeSha,stat:{type:l.FileType.Directory,size:0,ctime:0,mtime:(t=this.timestamp)!=null?t:Date.now(),permissions:await this.permissions},getContent:void 0};let n=this.trie.get(e);return n!==void 0||(await this.ensureLoaded(e),n=this.trie.get(e)),n}async getChildren(e,t){await this.ensureLoaded(e,!0);const n=(t==null?void 0:t.recursive)?this.trie.getDescendants(e):this.trie.getChildren(e);return(t==null?void 0:t.filter)===void 0?n:n.filter(([,i])=>i.stat.type===t.filter)}async getTreeSha(){return await this.waitUntilLoaded(),this.treeSha}async waitUntilLoaded(){this._loading!==void 0&&await this._loading}async ensureLoaded(e,t=!1){if(this._loading!==void 0){let i;if(this.preloading!==void 0)if(t)i=this.preloading.get(e);else{const o=Wt(this.preloading,([s])=>e.startsWith(s)&&e.lastIndexOf("/")===(s?s.length:-1));i=o==null?void 0:o[1]}await(i!=null?i:this._loading)}if(this.hasEntireTree||e==="")return;let n=this.trie.get(e);if(n)return t&&(n==null?void 0:n.loadChildren)?n.loadChildren():void 0;if(await this.ensureLoaded(e.substr(0,e.lastIndexOf("/")),!0),n=this.trie.get(e),t&&(n==null?void 0:n.loadChildren))return n.loadChildren()}async load(e,t=!1){var n;if(((n=this.provider)==null?void 0:n.getTree)===void 0)return;const i=new Ee(`FileTree.load(${this.sha}:${e})`);let o;try{i.logStep("Tree query");const s=await this.provider.getTree(e,t);if(s.truncated){Z.warn(`Loading file tree for path=${e} was truncated`),i.logStep("Fixing directories",{message:`: Tree=${s.sha};`,suffix:" \u2022 Fixing directories..."});for(const[c,f]of this.trie.getDescendants(""))f.stat.type===l.FileType.Directory&&(f.loadChildren=Es()(()=>this.load(c).then(()=>f.loadChildren=void 0)));return o=` \u2022 Tree=${s.sha} \u2022 Truncated`,{sha:s.sha,recursive:!1,success:!0}}let u;this.permissions!==void 0&&(i.logStep("Permissions query",{message:`: Tree=${s.sha};`,suffix:" \u2022 Waiting for permissions..."}),u=await this.permissions),i.logStep("Filling trie",{suffix:" \u2022 Filling trie..."});for(let{path:c,item:f}of s.tree)if(c!==void 0){switch(c=e?`${e}/${c}`:c,f.stat.permissions=u,f.stat.type){case l.FileType.File:f.getContent=Es()(()=>this.provider.getContent(f,c));break;case l.FileType.Directory:t||(f.loadChildren=Es()(()=>this.load(c).then(()=>f.loadChildren=void 0)));break}this.trie.set(c,f)}return o=` \u2022 Tree=${s.sha}`,{sha:s.sha,recursive:t,success:!0}}catch(s){return o=`\u2022 Loading for path=${e} failed; ${String(s)}`,{error:s,success:!1}}finally{i.stop(o?{suffix:o}:void 0)}}}a(Ss,"FileTree");var Ll=__webpack_require__(7769);const kl="github-pr-owner-number";function Bl(r){return`branch.${r}.${kl}`}a(Bl,"getMetadataKeyForBranch");const xu=new TextDecoder;class Cu{constructor(e,t,n,i,o,s){this.providerService=e,this.rootUri=t,this.sourceControl=n,this.metadata=i,this.changeStore=o,this.github=s,this._onDidChangeSelection=new l.EventEmitter,this._onDidChangeState=new l.EventEmitter,this._objects=new Map,this.disposable=l.Disposable.from(this.sourceControl.onDidChangeSelection(()=>this._onDidChangeSelection.fire()),this.providerService.onDidRefresh(f=>{const p=b(this.rootUri);!f.some(D=>b(D)===p)||this.updateState(this.metadata)}),this.providerService.onDidChangeRepository(async({repository:f})=>{b(this.rootUri)===b(f.uri)&&this.updateState(await f.getMetadata())}),this.changeStore.onDidChange(()=>this.updateState(this.metadata)),this._onDidChangeSelection,this._onDidChangeState),this._inputBox={get value(){return n.inputBox.value},set value(f){n.inputBox.value=f}},this._ui={get selected(){return n.selected},onDidChange:this._onDidChangeSelection.event};const{repo:{owner:u,name:c}}=i;this.remote={name:"origin",fetchUrl:`https://github.com/${u}/${c}.git`,isReadOnly:i.accessLevel<te.Write},this.remotes=[this.remote],this._state={HEAD:this.getHEADFromMetadata(i),mergeChanges:[],indexChanges:[],workingTreeChanges:[],onDidChange:this._onDidChangeState.event,rebaseCommit:void 0,refs:[],remotes:this.remotes,submodules:[]},this.updateState(i)}dispose(){this.disposable.dispose()}get inputBox(){return this._inputBox}get state(){return this._state}get ui(){return this._ui}getHEADFromMetadata(e){switch(e.HEAD.type){case X.Branch:return{type:Qi.Head,commit:e.HEAD.sha,name:e.HEAD.branch.name,upstream:{name:e.HEAD.branch.name,remote:this.remote.name}};case X.RemoteBranch:{const t=e.HEAD.branch.remote.repo.owner,n=e.HEAD.branch.remote.accessLevel<te.Write,i=this.remotes.findIndex(o=>o.name===t);return this.remotes.splice(i===-1?this.remotes.length:i,i===-1?0:1,{name:t,fetchUrl:`https://github.com/${e.HEAD.branch.remote.repo.owner}/${e.HEAD.branch.remote.repo.name}.git`,pushUrl:n?void 0:`https://github.com/${e.HEAD.branch.remote.repo.owner}/${e.HEAD.branch.remote.repo.name}.git`,isReadOnly:n}),{type:Qi.RemoteHead,commit:e.HEAD.sha,name:e.HEAD.branch.name,upstream:{name:e.HEAD.branch.name,remote:e.HEAD.branch.remote.repo.owner}}}case X.Tag:return{type:Qi.Tag,name:e.HEAD.detached.name,commit:e.HEAD.sha};case X.Commit:return{type:Qi.Head,commit:e.HEAD.sha}}}async updateState(e){this.metadata=e;const t=await this.changeStore.getGroupedChanges(this.rootUri,{predicate:u=>u.fileType===l.FileType.File}),n=t.conflicts.map(u=>({uri:u.uri,status:bs(u.type),originalUri:u.uri,renameUri:u.uri})),i=t.staged.map(u=>({uri:u.uri,status:bs(u.type),originalUri:u.uri,renameUri:u.uri})),o=t.working.map(u=>({uri:u.uri,status:bs(u.type),originalUri:u.uri,renameUri:u.uri})),s=Me.get("staging.enabled");this._state={...this._state,HEAD:this.getHEADFromMetadata(e),mergeChanges:n,indexChanges:s?i:[],workingTreeChanges:s?o:[...i,...o]},this._onDidChangeState.fire()}getConfigs(){return Promise.resolve([])}getConfig(e){return this.metadata.HEAD.branch&&this.metadata.pullRequest&&e===Bl(this.metadata.HEAD.branch.name)?Promise.resolve(`${this.metadata.repo.owner}#${this.metadata.repo.name}#${this.metadata.pullRequest.id}`):Promise.resolve("")}setConfig(e,t){return Promise.resolve("")}getGlobalConfig(e){throw new Error("Method not implemented.")}async getObjectDetails(e,t){const n=new Ee(`IGit.getObjectDetails(${e}, ${t})`);try{return await this.github.getObjectDetails(this.rootUri,e,this.pathToRelativePath(t))}finally{n.stop()}}async detectObjectType(e){var t;const n=new Ee(`IGit.detectObjectType(${e})`);try{const i=await this.github.getBlobContent(this.metadata.repo,e);if(!vn(i))return{mimetype:"text/plain"};const s=await(0,Ll.fromBuffer)(i);return{mimetype:(t=s==null?void 0:s.mime)!=null?t:"application/octet-stream"}}finally{n.stop()}}async buffer(e,t){const n=new Ee(`IGit.buffer(${e}, ${t})`);try{return await this.github.getFileContent(this.rootUri,e,this.pathToRelativePath(t))}finally{n.stop()}}async show(e,t){const n=new Ee(`IGit.show(${e}, ${t})`);try{const i=await this.github.getFileContent(this.rootUri,e,this.pathToRelativePath(t));return xu.decode(i)}finally{n.stop()}}async getCommit(e){const t=new Ee(`IGit.getCommit(${e})`);try{const n=await this.github.getCommit(this.rootUri,e);if(n===void 0)throw new Error(`Unable to find commit for ref "${e}"`);return n}finally{t.stop()}}clean(e){return this._objects.clear(),Promise.resolve()}async apply(e,t){const n=new Ee(`IGit.apply(reverse=${t})`);try{return await this.changeStore.applyPatch(this.rootUri,e,t?{reverse:!0}:void 0)}finally{n.stop()}}async diff(e){const t=new Ee(`IGit.diff(${e})`);try{return await this.changeStore.createPatch(this.rootUri,void 0,e?{staged:!0}:void 0)}finally{t.stop()}}diffWithHEAD(e){return e?this.diffBetween("","HEAD",e):this.diffBetween("","HEAD")}diffWith(e,t){return t?this.diffBetween("",e,t):this.diffBetween("",e)}diffIndexWithHEAD(e){return e?this.diffBetween("~","HEAD",e):this.diffBetween("~","HEAD")}diffIndexWith(e,t){return t?this.diffBetween("~",e,t):this.diffBetween("~",e)}async diffBetween(e,t,n){if(!n)throw new Error("Method not implemented.");const i=new Ee(`IGit.diffBetween(${e}, ${t}, ${n})`);try{const o=[];for(const c of[e,t])try{o.push(await this.getContent(c,n))}catch(f){o.push(void 0)}const[s,u]=o;if(s===void 0&&u!==void 0)return hr(n,"",u,"add");if(s!==void 0&&u===void 0)return hr(n,s,"","delete");if(s!==void 0&&u!==void 0)return hr(n,s,u,"modify");throw l.FileSystemError.FileNotFound()}finally{i.stop()}}async diffBlobs(e,t){const n=new Ee(`IGit.diffBlobs(${e}, ${t})`);try{const i=await this.getBlobContent(e),o=await this.getBlobContent(t),s=Kt("untitled",i,o);return Promise.resolve(s)}finally{n.stop()}}async getBlobContent(e){const t=new Ee(`IGit.getBlobContent(${e})`);try{const n=this._objects.get(e);if(n)return this._objects.delete(e),n;const{repo:i}=this.providerService.getVirtualUriMetadata(this.rootUri),o=await this.github.getBlobContent(i,e);return xu.decode(o)}finally{t.stop()}}async getContent(e,t){const n=new Ee(`IGit.getContent(${e}, ${t})`);try{const i=this.pathToRelativeUri(t);if(e===""||e==="~"){const o=await this.changeStore.getChange(i);if(o!==void 0&&(e===""||o.staged))return this.changeStore.getContent(i);e="HEAD"}return await this.show(e==="HEAD"?this.metadata.HEAD.sha:e,t)}finally{n.stop()}}async hashObject(e){const t=new Ee("IGit.hashObject");try{const n=w(await jt(e));return this._objects.set(n,e),n}finally{t.stop()}}async createBranch(e,t,n){const i=new Ee(`IGit.createBranch(${e}, ${t}, ${n})`);try{n||(n=this.metadata.HEAD.sha);const o=await this.github.createBranch(this.rootUri,e,n);t&&await this.checkout(o)}finally{i.stop()}}deleteBranch(e,t){throw new Error("Method not implemented.")}async getBranch(e){const t=new Ee(`IGit.getBranch(${e})`);try{const n=await this.github.getBranch(this.rootUri,e);if(n===void 0)throw new Error(`Unable to find branch named "${e}"`);return{type:n.type,name:n.name,commit:n.commit,remote:this.remote.name,upstream:{name:n.name,remote:this.remote.name}}}finally{t.stop()}}async getBranches(e){var t,n;const i=(n=(t=e.contains)!=null?t:e.pattern)!=null?n:"",o=new Ee(`IGit.getBranches(${i})`);try{const{branches:s}=await this.github.getBranches(this.rootUri,{query:i,limit:e.count});if(s.length===0)throw new Error(`Unable to find branches for "${i}"`);return s.map(u=>({type:u.type,name:u.name,commit:u.commit}))}finally{o.stop()}}setBranchUpstream(e,t){throw new Error("Method not implemented.")}getMergeBase(e,t){throw new Error("Method not implemented.")}async status(){}async checkout(e){const t=new Ee(`IGit.checkout(${e})`);try{if(await this.github.repositoryObjectExists(this.rootUri,e)){const i=await this.github.switchTo(this.rootUri,e,{openInNewWindow:!1});throw i!==void 0&&await this.providerService.openWorkspace(i),new Error("User aborted")}const n=/pr\/(?<remote>.+)\/(?<num>\d+)/.exec(e);if(n==null?void 0:n.groups){const{num:i}=n.groups,{provider:o,repo:s}=this.providerService.getVirtualUriMetadata(this.rootUri),u=this.providerService.getRemoteUri(o.id,{repo:s,pullRequest:{id:i}});if(u!==void 0){const c=await this.providerService.createWorkspaceForRemoteUrl(u.toString());c!==void 0&&await this.providerService.openWorkspace(c)}}throw new Error("User aborted")}finally{t.stop()}}addRemote(e,t){var n;let i;const o=this.remotes.findIndex(s=>s.name===e);return o!==-1&&([i]=this.remotes.splice(o,1)),this.remotes.push({name:e,fetchUrl:t,isReadOnly:(n=i==null?void 0:i.isReadOnly)!=null?n:!1}),Promise.resolve()}removeRemote(e){const t=this.remotes.findIndex(n=>n.name===e);return t!==-1&&this.remotes.splice(t,1),Promise.resolve()}renameRemote(e,t){const n=this.remotes.findIndex(o=>o.name===e);if(n===-1)return Promise.resolve();const[i]=this.remotes.splice(n,1);return this.remotes.push({...i,name:t}),Promise.resolve()}async fetch(e,t,n){const i=new Ee("IGit.fetch");try{return this.github.fetch(this.rootUri)}finally{i.stop()}}async pull(e){const t=new Ee("IGit.pull");try{return this.github.sync(this.rootUri,this.changeStore,{conflictResolution:de.Merge})}finally{t.stop()}}push(e,t,n){return Promise.resolve()}blame(e){throw new Error("Method not implemented.")}async log(e){var t;const n=(e==null?void 0:e.path)?this.pathToRelativePath(e.path):void 0,i=await this.github.getCommits(this.rootUri,{ref:this.metadata.HEAD.sha,path:n,limit:e==null?void 0:e.maxEntries});return(t=i==null?void 0:i.commits)!=null?t:[]}async commit(e,t){const n=new Ee("IGit.commit");try{if((t==null?void 0:t.amend)!==void 0||(t==null?void 0:t.empty)!==void 0||(t==null?void 0:t.signCommit)!==void 0||(t==null?void 0:t.signoff)!==void 0)throw new Error("The specified commit options are not yet supported.");const i=(await this.providerService.getCommitOperations(this.rootUri,{staged:(t==null?void 0:t.all)===!1})).filter(o=>o.fileType===l.FileType.File);if(!i.length){l.window.showInformationMessage(l.l10n.t("There are no changes to commit."));return}await this.github.createAndPushCommit(this.rootUri,e,i,void 0,t),await this.changeStore.acceptAll(this.rootUri)}finally{n.stop()}}pathToRelativePath(e){return this.providerService.getRelativeFilePath(this.rootUri,this.pathToRelativeUri(e))}pathToRelativeUri(e){return M(this.rootUri,Hl(e))}}a(Cu,"GitHubRepository");const Ul=/^\/?([a-zA-Z])(?::\/)(.*)$/,$l=/\\/g;function Hl(r){r=l.Uri.file(r).fsPath.replace($l,"/");const e=Ul.exec(r);return e!==null&&([,,r]=e),r.startsWith("/")?r:`/${r}`}a(Hl,"normalizePath");function bs(r){switch(r){case W.Changed:return Ka.MODIFIED;case W.Created:return Ka.INTENT_TO_ADD;case W.Deleted:return Ka.DELETED}}a(bs,"opTypeToStatus");class Oo extends Error{constructor(e,t,n){super(e.message);this.original=e,this.name=t,this.id=n;var i;(i=Error.captureStackTrace)==null||i.call(Error,this,Oo)}}a(Oo,"PullRequestNotFoundError");class Ga extends Error{constructor(e,t){super(e.message);this.original=e,this.name=t;var n;(n=Error.captureStackTrace)==null||n.call(Error,this,Ga)}}a(Ga,"RepositoryForbiddenError");class Ya extends Error{constructor(e,t){super(e.message);this.original=e,this.name=t;var n;(n=Error.captureStackTrace)==null||n.call(Error,this,Ya)}}a(Ya,"RepositoryNotFoundError");class No extends Error{constructor(e,t){super(e.message);this.original=e,this.name=t;var n;(n=Error.captureStackTrace)==null||n.call(Error,this,No)}}a(No,"RepositoryEmptyError");function Wl(r){if(!r)return"";let e=`L${r.start.line+1}`;return r.start.line!==r.end.line&&(e+=`-L${r.end.line+1}`),e}a(Wl,"rangeString");function zl(r,e){if(r===void 0)return"";if(!e)return`C${r+1}`;let t=`C${r+1}:L${e.start.line+1}`;return e.start.line!==e.end.line&&(t+=`-L${e.end.line+1}`),t}a(zl,"notebookCellRangeString");function jl(r){var e;if(r.resourceUri.scheme==="vscode-notebook-cell"){const t=l.window.visibleNotebookEditors.find(o=>o.notebook.uri.fsPath===r.resourceUri.fsPath),n=t==null?void 0:t.notebook.getCells().find(o=>{var s;return o.document.uri.fragment===((s=r.resourceUri)==null?void 0:s.fragment)}),i=(e=n==null?void 0:n.index)!=null?e:t==null?void 0:t.selection.start;return zl(i,r.selection)}return Wl(r.selection)}a(jl,"getRangeSegment");var Kl=Object.defineProperty,Gl=Object.getOwnPropertyDescriptor,Wi=a((r,e,t,n)=>{for(var i=n>1?void 0:n?Gl(e,t):e,o=r.length-1,s;o>=0;o--)(s=r[o])&&(i=(n?s(e,t,i):s(i))||i);return n&&i&&Kl(e,t,i),i},"messages_decorateClass");class Ii{constructor(){this.hasShownStatus404Message=!1}showGitHubStatus500Message(){return l.window.showErrorMessage(l.l10n.t("GitHub failed to respond and might be experiencing issues. Visit the [GitHub status page](https://githubstatus.com) for more information."),l.l10n.t("OK")),Promise.resolve()}async showStatus401Message(e){if(!e)return void l.window.showErrorMessage(l.l10n.t("The provided credentials are either invalid or expired."),l.l10n.t("OK"));const t=l.l10n.t("Reauthenticate");await l.window.showErrorMessage(l.l10n.t("The provided credentials are either invalid or expired. Would you like to reauthenticate?"),t)===t&&e()}async showStatus404Message(e,t,n){if(this.hasShownStatus404Message)return!0;this.hasShownStatus404Message=!0;const i=l.l10n.t("Load Latest"),o=await l.window.showErrorMessage(l.l10n.t("Could not open repository '{0}'.",e),{modal:!0,detail:l.l10n.t(`The last opened commit ({0}) no longer exists on the remote.

Do you want to load the latest repository contents from the remote instead? Your uncommitted changes for commit {0} will be preserved and should be reviewed before committing.`,x(t))},i);return n(o),o!==void 0}async showStatus403Message(e){if(!e)return void l.window.showErrorMessage(l.l10n.t("The provided credentials do not have the required access."),l.l10n.t("OK"));const t=l.l10n.t("Reauthenticate"),n=l.l10n.t("The provided credentials do not have the required access. Would you like to reauthenticate to grant additional access?");await l.window.showErrorMessage(n,t)===t&&e()}async showRepositoryEmptyMessage(e){const t=l.l10n.t("Open Repository");await l.window.showErrorMessage(l.l10n.t("Repository '{0}' is empty and cannot be opened. Would you like to open another repository?",e),{modal:!0},t)===t&&l.commands.executeCommand("remoteHub.openRepository")}async showPullRequestNotFoundMessage(e,t){const n=l.l10n.t("Open Pull Request");await l.window.showErrorMessage(l.l10n.t("Unable to find pull request {1} on repository '{0}'. Would you like to open another pull request?",e,t),n)===n&&l.commands.executeCommand("remoteHub.openRepository")}async showPullRequestHeadNotFoundMessage(e,t){if(Iu(qa.DoNotAlertForMissingPullRequestSourceBranch))return;const n=l.l10n.t("OK"),i=l.l10n.t("Don't Show Again");await l.window.showInformationMessage(l.l10n.t("You are viewing the merge commit for pull request {1} on repository {0} because the source branch was deleted.",e,t),n,i)===i&&Fu(qa.DoNotAlertForMissingPullRequestSourceBranch,!0)}async showRepositoryForbiddenMessage(e,t){const n=l.l10n.t("Open Repository"),i=l.l10n.t("Reauthenticate"),o=await l.window.showErrorMessage(l.l10n.t("We require additional permissions to access repository '{0}'. Would you like to reauthenticate or open another repository?",e),{modal:!0},n,i);o===n?l.commands.executeCommand("remoteHub.openRepository"):o===i&&t()}async showRepositoryNotFoundMessage(e,t,n){const i=l.l10n.t("Open Default Branch"),o=l.l10n.t("Open Repository"),s=t?[i,o]:[o],u=await l.window.showErrorMessage(t?l.l10n.t("Unable to find ref '{1}' in repository '{0}'. Would you like to open the default branch instead?",e,t):l.l10n.t("Unable to find repository '{0}'. Would you like to open another repository?",e),{modal:!0},...s);u===o?l.commands.executeCommand("remoteHub.openRepository"):u===i&&(n==null||n())}async showUnableToOpenRepositoryMessage(e){const t=l.l10n.t("Open Repository");await l.window.showErrorMessage(l.l10n.t("Unable to open repository. {0}. Would you like to open another repository?",String(e)),{modal:!0},t)===t&&l.commands.executeCommand("remoteHub.openRepository")}}a(Ii,"Messages"),Wi([Jt(()=>"")],Ii.prototype,"showGitHubStatus500Message",1),Wi([Jt(()=>"")],Ii.prototype,"showStatus401Message",1),Wi([Jt(()=>"")],Ii.prototype,"showStatus404Message",1),Wi([Jt(()=>"")],Ii.prototype,"showStatus403Message",1),Wi([Jt()],Ii.prototype,"showRepositoryEmptyMessage",1),Wi([Jt()],Ii.prototype,"showPullRequestNotFoundMessage",1),Wi([Jt()],Ii.prototype,"showPullRequestHeadNotFoundMessage",1),Wi([Jt()],Ii.prototype,"showRepositoryForbiddenMessage",1),Wi([Jt()],Ii.prototype,"showRepositoryNotFoundMessage",1),Wi([Jt()],Ii.prototype,"showUnableToOpenRepositoryMessage",1);const ii=new Ii;var xs=__webpack_require__(4155),Yl=Object.defineProperty,ql=Object.getOwnPropertyDescriptor,Tu=a((r,e,t,n)=>{for(var i=n>1?void 0:n?ql(e,t):e,o=r.length-1,s;o>=0;o--)(s=r[o])&&(i=(n?s(e,t,i):s(i))||i);return n&&i&&Yl(e,t,i),i},"provider_decorateClass");const Vl=new TextDecoder,Cs=/^(?:https?:\/\/)?github\.(?:com|dev)\/(?<owner>[^/]+)\/(?<repo>[^/?#]+)(?:|\.git|\/tree\/(?<tree>[^?#]+)|\/blob\/(?<blob>[^?#]+)|\/commit\/(?<commit>[0-9a-f]{40})|\/pull\/(?<pull>[0-9]+))?(?<extra>[^?#]*)(?:\?(?<query>[^#]*))?(?:#(?<fragment>.*))?$/i,Du=/(?<remoteOwner>[^/:]+)\/?(?<remoteRepo>[^/:]+)?:(?<remoteRef>.*)/,Ts=/^git@github\.com:(?<owner>[^/]+)\/(?<repo>[^/]+?)(\.git)?$/i,Ql=["repo","workflow"],Mo=["repo","workflow","user:email","read:user"],Lo=1,Ds=Object.freeze({id:"github",name:"GitHub"});function da(r){const{scheme:e,metadata:t}=U.decodeAuthority(r,s=>{if(s.v!==void 0)return s;if(typeof s.pr=="string")return{v:Lo,ref:{type:be.PullRequest,id:s.pr},idx:s.idx};if(typeof s.ref=="string")return{v:Lo,ref:{type:be.Tree,id:s.ref},idx:s.idx}}),[,n,i,...o]=su.posix.normalize(r.path).split("/");return{scheme:e,provider:Ds,name:`${n}/${i}`,repo:{owner:n,name:i},path:o.join("/")||"",ref:t==null?void 0:t.ref,idx:t==null?void 0:t.idx}}a(da,"getGitHubMetadata");function Jl(r,e){const{repo:t}=e!=null?e:da(r);return r.with({path:`/${t.owner}/${t.name}`,query:"",fragment:""})}a(Jl,"getGitHubRootUri");function As(r,e,t){const{repo:{owner:n,name:i}}=r instanceof l.Uri?da(r):r;return l.Uri.parse(`github://${U.encodeAuthority("github",{v:Lo,ref:{type:be.Commit,id:e}})}/${n}/${i}/${t}`)}a(As,"getGitHubRevisionUri");class Au{constructor(e){if(this.scopes=e,this.id="github",this.account={id:"vscode-remotehub-test",label:"RemoteHub Test"},!xs.env.GITHUB_REMOTEHUB_TEST_PAT)throw new Error("Unable to initialize authentication for integration tests. Please set `process.env.GITHUB_REMOTEHUB_TEST_PAT`.");this.accessToken=xs.env.GITHUB_REMOTEHUB_TEST_PAT}}a(Au,"TestAuthenticationSession");const Ru="_remotehub.getTarballProxyEndpoints",Zl="_workbench.getTarballProxyEndpoints";class ko{constructor(e,t){this.providerService=e,this.tarPit=t,this.fileTreeCache=new Map,this.fileTreesToCache=new Set,this.gitAttributes=new Map,this.disposable=l.Disposable.from(e.onDidChangeRepository(n=>{n.reason==="HEAD"&&this.onRefreshOrRepositoryChanged([n.repository.uri])}),e.onDidRefresh(n=>this.onRefreshOrRepositoryChanged(n))),xr&&(this.tarballProxyEndpoint=this.getTarballProxyEndpoint()),xs.env.GITHUB_REMOTEHUB_TEST_PAT&&(this._session=new Au(Ql))}get scheme(){return"github"}get repositories(){return[...this.providerService.getRepositories(Ds.id)]}getTarballProxyEndpoint(){return l.commands.getCommands().then(async e=>{const t=e.includes(Ru)?Ru:Zl,n=await l.commands.executeCommand(t);return n==null?void 0:n["github.com"]})}dispose(){this.disposable.dispose()}onRefreshOrRepositoryChanged(e){e=e.filter(t=>U.getProviderId(t)===this.scheme),e.length!==0&&(this.fileTreeCache.forEach(t=>t.dispose()),this.fileTreeCache.clear())}async ensureAuthenticated(e=!1){const t=new Ee("GitHub.ensureAuthenticated");try{if(this._session===void 0){async function n(){try{return e?await l.authentication.getSession("github",Mo,{forceNewSession:e}):await l.authentication.getSession("github",Mo,{createIfNone:!0})}catch(o){if(o instanceof Error&&o.message==="User did not consent to login.")throw new Error(l.l10n.t("Please sign into GitHub to access this repository's contents."));Z.error(o);try{const s=await l.authentication.getSession("github",Mo,{createIfNone:!1});if(s!==void 0)return s}catch{}return new Promise(s=>{async function u(){const f=await l.authentication.getSession("github",Mo,{createIfNone:!0});f!==void 0&&s(f)}a(u,"getSession");const c=l.authentication.onDidChangeSessions(async f=>{f.provider.id==="github"&&(c.dispose(),await u())})})}}a(n,"waitUntilAuthenticated"),this._session=await n();const i=l.authentication.onDidChangeSessions(o=>{if(this._session===void 0){i.dispose();return}o.provider.id==="github"&&(this.clearAuthenticationSession(),i.dispose())})}return this._session}finally{t.stop()}}async getAuthentication(e){const t=await this.ensureAuthenticated();return{provider:Ds,session:t,getRichNavigationHeaders:()=>({"X-Git-GitHub":`Bearer ${t.accessToken}`})}}clearAuthenticationSession(){this._session=void 0,this._octokit=void 0,this._octokitDefaults=void 0}async reauthenticate(){this.clearAuthenticationSession(),await this.ensureAuthenticated(!0)}async octokit(e){if(this._octokitDefaults===void 0){const n=await this.ensureAuthenticated();if(xr){async function i(o,s){if(s.headers!==void 0){const{"user-agent":u,...c}=s.headers;u&&(s.headers=c)}return Ha(o,s)}a(i,"fetchCore"),this._octokitDefaults=ja.defaults({auth:`token ${n.accessToken}`,request:{fetch:i}})}else this._octokitDefaults=ja.defaults({auth:`token ${n.accessToken}`})}const t=new this._octokitDefaults(e);return(Z.logLevel===tt.Debug||Z.isDebugging)&&t.hook.wrap("request",async(n,i)=>{var o;const s=new Ee(`[GITHUB] ${i.method} ${i.url}`,{log:!1});try{return await n(i)}finally{let u;try{if(typeof i.query=="string"){const c=/(^[^({\n]+)/.exec(i.query);u=` ${(o=c==null?void 0:c[1].trim())!=null?o:i.query}`}}catch{}s.stop({message:u})}}),t}async graphql(e,t,n=!0){this._octokit===void 0&&(this._octokit=await this.octokit());try{return await this._octokit.graphql(e,t)}catch(i){throw n||this.handleRequestErrors(i),Z.error(i),i}}async request(e,t){this._octokit===void 0&&(this._octokit=await this.octokit());try{return await this._octokit.request(e,t)}catch(n){throw this.handleRequestErrors(n),Z.error(n),n}}handleRequestErrors(e){var t,n;if(e instanceof Hi)switch(e.status){case 500:return e.response&&ii.showGitHubStatus500Message(),!0;case 401:return ii.showStatus401Message(()=>void this.reauthenticate()),!0;case 403:return ii.showStatus403Message(()=>void this.reauthenticate()),!0}else if(e instanceof aa){if(((n=(t=e.errors)==null?void 0:t[0])==null?void 0:n.type)==="FORBIDDEN")return ii.showStatus403Message(()=>void this.reauthenticate()),!0;if(e.headers.status==="500")return ii.showGitHubStatus500Message(),!0}return!1}createIGitRepository(e,t,n,i){return new Cu(this.providerService,e,t,n,i,this)}async validateMetadataRevision(e,t,n){try{switch(n.type){case X.Branch:case X.RemoteBranch:await this.request("GET /repos/{owner}/{repo}/git/trees/{tree_sha}",{owner:e,repo:t,tree_sha:n.sha}),Z.debug(`GitHub.validateMetadataRevision(${e}, ${t}, ${n.sha}) SUCCEEDED`);break;default:return}}catch(i){if(Z.error(`GitHub.validateMetadataRevision(${e}, ${t}, ${n.sha}) FAILED with error`,i.toString()),i instanceof Hi&&i.status===404&&i.message==="Not Found"&&!await ii.showStatus404Message(`${e}/${t}`,n.sha,s=>{if(s!==void 0)switch(n.type){case X.Branch:case X.RemoteBranch:n.sha=n.branch.sha}}))throw i}}async createMetadata(e,t){var n,i,o,s,u,c;const f=new Ee(`GitHub.createMetadata(${e.toString()}, ${t})`);let p;try{let{provider:D,name:I,repo:{owner:z,name:fe},ref:le}=da(e);(!le||le.type===be.Commit&&/HEAD/i.test(le.id))&&(le={type:be.Commit,id:"HEAD"});const Ae=this.providerService.isInWorkspace(e),Ie=await this.getRepositoryInfo(z,fe,Ae,le.type===be.PullRequest?{pr:Number(le.id)}:{ref:le.id});if(Ie===void 0)throw p=" \u2022 Aborted; Unable to get repository info",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get repository info`);let Qe;if(t)Qe=t;else if(le.type===be.Commit&&le.id!=="HEAD"||le.type===be.Tree&&Ie.ref===void 0)Qe=le.id;else if(Qe=(i=(n=Ie.ref)==null?void 0:n.sha)!=null?i:Ie.defaultBranch.sha,Qe===void 0)throw p=" \u2022 Aborted; Unable to get repository revision",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get repository revision`);let lt;if(((o=Ie.ref)==null?void 0:o.prefix)==="refs/heads/")lt={type:X.Branch,name:Ie.ref.name,sha:Qe,branch:{name:Ie.ref.name,sha:Ie.ref.sha}};else if(((s=Ie.ref)==null?void 0:s.prefix)==="refs/remotes/"){if(!Ie.ref.remote)throw p=" \u2022 Aborted; Unable to get remote info",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get remote info`);lt={type:X.RemoteBranch,name:`${Ie.ref.remote.repo.owner}${Ie.ref.remote.repo.name!==fe?`/${Ie.ref.remote.repo.name}`:""}:${Ie.ref.name}`,sha:Qe,branch:{name:Ie.ref.name,sha:Ie.ref.sha,remote:Ie.ref.remote}}}else if(((u=Ie.ref)==null?void 0:u.prefix)==="refs/tags/")lt={type:X.Tag,name:Ie.ref.name,sha:Ie.ref.sha,detached:{type:X.Tag,name:Ie.ref.name}};else if(T(Qe))lt={type:X.Commit,name:x(Qe),sha:Qe,detached:{type:X.Commit,name:x(Qe)}};else throw p=" \u2022 Aborted; Unable to get HEAD info",ii.showRepositoryNotFoundMessage(`${z}/${fe}`,le.id,()=>{const Et=this.getRemoteUri({repo:{owner:z,name:fe}});l.commands.executeCommand("remoteHub.openRepository",Et.toString())}),new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get HEAD info`);await this.validateMetadataRevision(z,fe,lt);let Ze,dt;if(Me.get("experimental.prefetch")&&Ae&&(Ze=Qe,f.log({suffix:` \u2022 Prefetching tree for ${Ze}...`}),this.getFileTree(e,void 0,{recursive:!0,prefetched:{metadata:new Promise(Et=>dt=Et),repo:{owner:z,name:fe},HEAD:{sha:Ze},timestamp:Date.now()}})),Ze!==void 0&&Ze!==lt.sha){const Et=this.asFileTreeKey(e,Ze),Je=this.fileTreeCache.get(Et);Je&&!T(Ze)&&lt.sha===((c=lt.branch)==null?void 0:c.sha)?(f.log({suffix:` \u2022 Updating prefetched tree for ${Ze}, since HEAD was resolved; HEAD=${lt.sha}`}),this.fileTreeCache.set(this.asFileTreeKey(e,lt.sha),Je),this.fileTreeCache.delete(Et)):(f.log({suffix:` \u2022 Removing prefetched tree for ${Ze}, since the HEAD changed; HEAD=${lt.sha}`}),this.fileTreeCache.delete(Et),Je==null||Je.dispose())}const xt={version:dn.schemaVersion,timestamp:Date.now(),provider:D,name:I,repo:Ie.repo,cloneUrl:Ie.cloneUrl,accessLevel:Ie.accessLevel,HEAD:lt,defaultBranch:Ie.defaultBranch,pullRequest:Ie.pullRequest};return p=` \u2022 HEAD=${lt.sha}`,dt==null||dt(xt),xt}finally{f.stop(p?{suffix:p}:void 0)}}getMetadata(e){return this.providerService.getMetadata(e)}getRemoteWorkspaceSourceProviders(){return[{name:"GitHub",icon:"$(github)",label:l.l10n.t("Open Repository from {0}","GitHub"),placeholder:l.l10n.t("Choose a repository"),provideSources:async(e,t,n,i)=>{n=n!=null?n:"";let o;const s=n==null?void 0:n.indexOf("/");s!==-1&&(o=n.substring(0,s),n=n.substr(s+1));const{results:u,hasSAMLProtectedResults:c}=await this.searchRepositoriesQuery(n,{...i,user:o}),f=[];if(c){const p={label:`$(lock) ${l.l10n.t("Single sign-on to see repositories in organizations protected by SAML enforcement")}`,showMore:async()=>this.reauthenticate()};f.push(p)}return f.push({kind:l.QuickPickItemKind.Separator,label:l.l10n.t("repositories")},...u.map(p=>({providerId:"github",name:p.repoWithOwner,icon:"$(repo)",description:`${p.fork?`$(repo-forked) ${p.fork}`:""}${p.stars>0?`${p.fork?" \u2022 ":""}$(star-full) ${p.stars}`:""}`,detail:p.description,url:p.url}))),f}},{name:"GitHub",icon:"$(github)",label:l.l10n.t("Open Pull Request from {0}","GitHub"),placeholder:l.l10n.t("Choose a pull request"),provideSources:async(e,t,n,i)=>{n=n!=null?n:"";let o;const s=n==null?void 0:n.indexOf("/");s!==-1&&(o=n.substring(0,s),n=n.substr(s+1));const{results:u,hasSAMLProtectedResults:c}=await this.searchPullRequestsQuery(n,{user:o}),f=[];if(c){const p={label:`$(lock) ${l.l10n.t("Single sign-on to see pull requests in organizations protected by SAML enforcement")}`,showMore:async()=>this.reauthenticate()};f.push(p)}return f.push({kind:l.QuickPickItemKind.Separator,label:l.l10n.t("pull requests")},...u.map(p=>({providerId:"github",name:p.title,icon:"$(git-pull-request)",description:p.reasons.length!==0?p.reasons.sort().join(", "):void 0,detail:`${p.repoWithOwner} #${p.number}`,url:p.url}))),f}}]}canOpenRemoteUrl(e){var t;const n=(t=Cs.exec(e))!=null?t:Ts.exec(e);if((n==null?void 0:n.groups)===void 0)return;const{blob:i,commit:o,pull:s,tree:u}=n.groups;return s?Q.PullRequest:o?Q.Commit:u?Q.Branch:i?Q.File:Q.Repository}getHttpsCloneUri(e){let t,n;const i=e.toString(),o=Cs.exec(i);(o==null?void 0:o.groups)&&({owner:t,repo:n}=o.groups);const s=Ts.exec(i);if((s==null?void 0:s.groups)&&({owner:t,repo:n}=s.groups),t&&n)return this.getRemoteUri({repo:{owner:t,name:n}})}async createWorkspaceForRemoteUrl(e,t=Ye.CurrentWindow,n=!0){var i;const o=(i=Cs.exec(e))!=null?i:Ts.exec(e);if((o==null?void 0:o.groups)===void 0)return;let{owner:s,repo:u,blob:c,commit:f,pull:p,tree:D,fragment:I}=o.groups;u=u.endsWith(".git")?u.slice(0,u.length-4):u;let z,fe;if(n){const Ie=await this.validateOwnerAndRepoAndSplitRefFromPath(s,u,D!=null?D:c);if(Ie===void 0)return;({owner:s,repo:u,ref:fe,path:z}=Ie)}if(D||c){if(z&&I&&c){const Ie=/L(?<start>\d+)(?:-L(?<end>\d+))?/.exec(I);if(Ie==null?void 0:Ie.groups){const{start:Qe,end:lt}=Ie.groups;z+=`:${Qe}${lt!==void 0?`-${lt}`:""}`}}}else f?fe={type:be.Commit,id:f}:p&&(fe={type:be.PullRequest,id:p});const le=this.providerService.createVirtualUri("github",{repo:{owner:s,name:u},ref:fe}),{name:Ae}=da(U.getVirtualUri(this.getProviderRootUri(le)));return{name:Ae,uri:le,location:t,filesToOpen:z?[z]:void 0}}createVirtualUri(e,{repo:t,ref:n,idx:i},o){const s=n!==void 0||i!==void 0?{v:Lo}:void 0;return s&&(n&&(s.ref={...n,type:n.type===be.Branch||n.type===be.Tag?be.Tree:n.type}),i&&(s.idx=i)),e.with({authority:U.encodeAuthority("github",s),path:`/${t.owner}/${t.name}${(o==null?void 0:o.startsWith("/"))?o:o?`/${o}`:""}`})}getRemoteUri(e){const t=`https://github.com/${e.repo.owner}/${e.repo.name}`,n=e.path?"blob":"tree",i=e.path?`/${e.path}`:"",o=e.item?jl(e.item):"",s=o?`#${o}`:"";return e.pullRequest?l.Uri.parse(`${t}/pull/${e.pullRequest.id}`):e.branch?l.Uri.parse(`${t}/${n}/${e.branch}${i}${s}`):e.tag?l.Uri.parse(`${t}/${n}/${e.tag}${i}${s}`):e.sha?l.Uri.parse(`${t}/${n}/${e.sha}${i}${s}`):l.Uri.parse(t)}getProviderRootUri(e){return e=U.getProviderUri(e),Jl(e)}getRelativeFilePath(e,t){let{path:n}=da(e);const{path:i}=da(M(e,t));return n.length!==0&&i!==n&&i.startsWith(n)?(n=n.endsWith("/")?n:`${n}/`,i.slice(n.length)):i}getVirtualUriMetadata(e){const{provider:t,name:n,repo:i,ref:o}=da(e);return{provider:t,name:n,repo:i,ref:o}}async getModeRefType(e,t){const{HEAD:n,pullRequest:i}=await(t!=null?t:this.getMetadata(e));switch(n.type){case X.Branch:return i!==void 0?oe.PullRequestBranch:oe.Branch;case X.RemoteBranch:return i!==void 0?oe.PullRequestRemoteBranch:oe.RemoteBranch;case X.Tag:return oe.Tag;case X.Commit:return oe.Commit}}async getGitAttributes(e){const t=e.toString(),n=this.gitAttributes.get(t);if(n)return n;const i=this.providerService.createRelativeUri(e,".gitattributes"),o=this.getFileContent(i).then(s=>new _s(Vl.decode(s))).catch(s=>{if(s instanceof l.FileSystemError&&s.code===l.FileSystemError.FileNotFound().code)return new _s("");throw s});return this.gitAttributes.set(t,o),o}async createBranch(e,t,n,i){try{const{repo:{owner:o,name:s}}=i!=null?i:await this.getMetadata(e);return t.startsWith("refs/heads/")||(t=`refs/heads/${t}`),(await this.request("POST /repos/{owner}/{repo}/git/refs",{owner:o,repo:s,ref:t,sha:n})).data.ref.substr(11)}catch(o){throw o instanceof Hi&&o.status===422?o.message==="Reference already exists"?Ke.InvalidBranchNameError(t.substring(11),!0):Ke.InvalidBranchNameError(t.substring(11),!1):(Z.error(o),o)}}async createAndPushCommit(e,t,n,i,o,s){var u;const c=new Ee(`GitHub.createAndPushCommit(${e.toString()}${s?`, fork=${s.repo.owner}/${s.repo.name}`:""})`);if(n=n.filter(p=>p.fileType===l.FileType.File),n.length===0&&!(o==null?void 0:o.empty))throw c.stop({message:"Aborted; No changes to commit"}),Ke.NothingToCommitError("No changes to commit");let f;try{const p=await this.getMetadata(e);let D;if(i!==void 0)D=i;else{if(p.HEAD.detached&&!p.HEAD.branch)throw Ke.DetachedHEADError("Unable to commit; no current branch");D=p.HEAD.branch.name}let I;if(s)I=`${s.repo.owner}/${s.repo.name}`;else if(p.HEAD.type===X.RemoteBranch&&p.HEAD.branch.remote.accessLevel>=te.Write){const{owner:dt,name:xt}=p.HEAD.branch.remote.repo;I=`${dt}/${xt}`}else I=`${p.repo.owner}/${p.repo.name}`;const z=[],fe=[],le=[],Ae=await this.getGitAttributes(e);for(const dt of n)switch(dt.type){case W.Created:case W.Changed:{try{const xt=await dt.content;if(Me.get("lfs.write.enabled")&&C(Ae,dt.path)){const Et=await Y(xt);le.push({...Et,path:dt.path,binaryContent:xt})}else z.push({path:dt.path,contents:Nr(xt)})}catch(xt){throw Z.error(xt),Ke.CommitFailedError()}break}case W.Deleted:fe.push({path:dt.path});break}const Ie=await this.uploadLfsFiles(e,le);z.push(...Ie);const Qe={branch:{branchName:D,repositoryNameWithOwner:I},message:{headline:t},fileChanges:{additions:z,deletions:fe},expectedHeadOid:p.HEAD.sha},lt=`mutation CreateCommitOnBranch ($commitInput: CreateCommitOnBranchInput!) {
	createCommitOnBranch(input: $commitInput) {
		commit {
			oid
		}
		ref {
			name
		}
	}
}`,Ze=await this.graphql(lt,{commitInput:Qe});if(f=Ze==null?void 0:Ze.createCommitOnBranch.commit.oid,!f)throw Ke.CommitFailedError();return i===void 0&&!p.HEAD.detached&&f!==void 0&&await this.fastForwardTo(e,f,p),f}catch(p){if(p instanceof aa){const D=(u=p.errors)==null?void 0:u[0];if((D==null?void 0:D.type)==="STALE_DATA"&&D.message.includes("Pull and try again"))throw Ke.MergeConflictError(p);if((D==null?void 0:D.type)==="BRANCH_PROTECTION_RULE_VIOLATION"&&D.message.includes("protected branch"))throw Ke.CommitToProtectedBranchError(D.message);if((D==null?void 0:D.type)==="FORBIDDEN"&&D.message.includes("does not have the correct permissions to execute `CreateCommitOnBranch`"))throw Ke.CommitToArchivedRepositoryError(D.message)}throw Z.error(p),p}finally{c.stop(f?{message:`: Created and pushed commit ${f}`}:void 0)}}async createPullRequest(e,t,n,i,o,s){var u,c,f;const p=new Ee(`GitHub.createPullRequest(${e.toString()}, ${t}${s?`, fork=${s.repo.owner}/${s.repo.name}`:""})`);try{const{repo:{owner:D,name:I},HEAD:{branch:z},defaultBranch:fe}=await this.getMetadata(e),le=await this.request("POST /repos/{owner}/{repo}/pulls",{owner:D,repo:I,base:`refs/heads/${(u=z==null?void 0:z.name)!=null?u:fe.name}`,head:s?`${s.repo.owner}:${t}`:t,title:n,body:i,draft:(c=o==null?void 0:o.draft)!=null?c:!1,maintainer_can_modify:(f=o==null?void 0:o.canMaintainerModify)!=null?f:!0});return{id:le.data.number.toString(),uri:l.Uri.parse(le.data.html_url)}}catch(D){throw Z.error(D),D}finally{p.stop()}}async fetch(e,t){const{fetched:n,metadata:i}=await this.fetchCore(e,!1,t);n&&await this.providerService.updateMetadata(e,i)}async fetchCore(e,t,n){var i,o,s,u,c,f,p,D,I;const{force:z,to:fe}={...n,force:t||(n==null?void 0:n.force)},le=new Ee(`GitHub.fetch(${e.toString()}, force=${z}, to=${fe})`);let Ae;try{const Ie=await this.getMetadata(e);if(Ie.HEAD.detached)return Ae=" \u2022 Skipped; detached HEAD",{fetched:!1,metadata:Ie};const Qe=await this.getBranchTips(e);if(!Qe)throw Ae=" \u2022 Unable to fetch branch tips",Ke.SyncOrFetchError(t);if(!z&&!fe&&((i=Qe.defaultBranch)==null?void 0:i.sha)!==void 0&&Qe.defaultBranch.sha===Ie.defaultBranch.sha&&((o=Qe.branch)==null?void 0:o.sha)!==void 0&&Qe.branch.sha===Ie.HEAD.branch.sha&&(Ie.HEAD.sha===Ie.HEAD.branch.sha||Ie.state!==void 0))return Ae=" \u2022 No changes detected",{fetched:!1,metadata:Ie};let lt;if(((s=Qe.defaultBranch)==null?void 0:s.sha)!==void 0&&Qe.defaultBranch.sha!==Ie.defaultBranch.sha&&(lt={defaultBranch:{...Ie.defaultBranch,sha:Qe.defaultBranch.sha}}),((u=Qe.branch)==null?void 0:u.sha)===void 0){if(Ae=" \u2022 Unable to find branch tip",z)throw Ke.SyncOrFetchError(t);return lt!==void 0?{fetched:!0,metadata:{...Ie,...lt}}:{fetched:!1,metadata:Ie}}if(Qe.branch.sha!==Ie.HEAD.branch.sha&&(lt={...lt,HEAD:{...Ie.HEAD,branch:{...Ie.HEAD.branch,sha:Qe.branch.sha},detached:void 0}}),Qe.branch.sha===((c=n==null?void 0:n.to)!=null?c:Ie.HEAD.sha))return Ae=" \u2022 Up to date",Ie.state!==void 0||lt!==void 0?{fetched:!0,metadata:{...Ie,...lt,state:void 0}}:{fetched:!1,metadata:Ie};le.logStep("Fetching upstream changes");try{const Ze=await this.getAheadBehindState(e,Ie,{base:(f=n==null?void 0:n.to)!=null?f:Ie.HEAD.sha,head:(I=(D=(p=lt==null?void 0:lt.HEAD)==null?void 0:p.branch)==null?void 0:D.sha)!=null?I:Ie.HEAD.branch.sha});return Ae=` \u2022 Changes detected; ${Ze==null?void 0:Ze.behind} commits behind`,{fetched:!0,metadata:{...Ie,...lt,state:Ze?{ahead:Ze.ahead,behind:Ze.behind,incomingChanges:Ze.incomingChanges}:void 0}}}catch(Ze){if(Ae=` \u2022 Failed fetching upstream changes; ${String(Ze)}`,z)throw Ke.SyncOrFetchError(t);return lt!==void 0?{fetched:!0,metadata:{...Ie,...lt}}:{fetched:!1,metadata:Ie}}}finally{le.stop(Ae?{suffix:Ae}:void 0)}}async fork(e){try{const{repo:{owner:t,name:n}}=await this.getMetadata(e),i=await this.request("POST /repos/{owner}/{repo}/forks",{owner:t,repo:n});let o;for(;;){try{if(o=await this.getRepositoryInfo(i.data.owner.login,i.data.name,!1),o!==void 0)break}catch{}await new Promise(s=>setTimeout(s,250))}return{name:`${i.data.owner.login}/${i.data.name}`,repo:{owner:i.data.owner.login,name:i.data.name},url:i.data.url}}catch(t){throw Z.error(t),t}}async getBranch(e,t){try{const{repo:{owner:n,name:i}}=await this.getMetadata(e),o=`query getBranch(
				$owner: String!
				$repo: String!
				$qualifiedName: String!
			) {
				repository(owner: $owner, name: $repo) {
					ref(qualifiedName: $qualifiedName) {
						name
						target {
							oid
							commitUrl
						}
						refUpdateRule {
							viewerCanPush
							requiredApprovingReviewCount
						}
					}
				}
			}`,s=await this.graphql(o,{owner:n,repo:i,qualifiedName:t.startsWith("refs/heads/")?t:`refs/heads/${t}`});return(s==null?void 0:s.repository)?{type:Qi.Head,name:s.repository.ref.name,commit:s.repository.ref.target.oid,commitUrl:s.repository.ref.target.commitUrl,locked:s.repository.ref.refUpdateRule?!s.repository.ref.refUpdateRule.viewerCanPush||s.repository.ref.refUpdateRule.requiredApprovingReviewCount>0:void 0}:void 0}catch(n){return}}async getBranches(e,t){var n,i,o;try{const{repo:{owner:s,name:u}}=await this.getMetadata(e),c=`query getBranches(
	$owner: String!
	$repo: String!
	$branchQuery: String!
	$cursor: String
	$limit: Int = 100
) {
	repository(owner: $owner, name: $repo) {
		refs(query: $branchQuery, refPrefix: "refs/heads/", first: $limit, after: $cursor) {
			pageInfo {
				endCursor
				hasNextPage
			}
			nodes {
				name
				refUpdateRule {
					viewerCanPush
					requiredApprovingReviewCount
				}
				target {
					oid
					commitUrl
					... on Commit {
						committedDate
					  }
				}
			}
		}
	}
}`,f=await this.graphql(c,{owner:s,repo:u,branchQuery:(n=t==null?void 0:t.query)!=null?n:"",cursor:t==null?void 0:t.cursor,limit:Math.min(100,(i=t==null?void 0:t.limit)!=null?i:100)});if(f===void 0)return{branches:[]};const p=(o=f.repository)==null?void 0:o.refs;if(p===void 0)return{branches:[]};const D=p.nodes.map(I=>({type:Qi.Head,name:I.name,commit:I.target.oid,commitUrl:I.target.commitUrl,committedDate:new Date(I.target.committedDate),locked:I.refUpdateRule?!I.refUpdateRule.viewerCanPush||I.refUpdateRule.requiredApprovingReviewCount>0:void 0}));return{paging:{cursor:p.pageInfo.endCursor,more:p.pageInfo.hasNextPage},branches:D}}catch(s){return{branches:[]}}}async getCommit(e,t){var n;try{const{HEAD:i,repo:{owner:o,name:s}}=await this.getMetadata(e),u=`query getCommit(
	$owner: String!
	$repo: String!
	$ref: GitObjectID!
) {
	repository(name: $repo owner: $owner) {
		object(oid: $ref) {
			...on Commit {
				oid
				message
				parents(first: 100) {
					nodes {
						oid
					}
				}
				author {
					date
					email
					name
				}
				committer {
					date
				}
			}
		}
	}
}`;t.toUpperCase()==="HEAD"&&(t=i.sha);const c=await this.graphql(u,{owner:o,repo:s,ref:t});if(c===void 0)return;const f=(n=c.repository)==null?void 0:n.object;return f===void 0?void 0:{hash:f.oid,message:f.message,parents:f.parents.nodes.map(p=>p.oid),authorDate:new Date(f.author.date),authorEmail:f.author.email,authorName:f.author.name,commitDate:new Date(f.committer.date)}}catch(i){return}}async getCommits(e,t){var n,i,o;try{const{HEAD:s,repo:{owner:u,name:c}}=await this.getMetadata(e),f=`query getCommits(
	$owner: String!
	$repo: String!
	$ref: GitObjectID!
	$path: String
	$cursor: String
	$limit: Int = 100
) {
	repository(name: $repo, owner: $owner) {
		object(oid: $ref) {
			... on Commit {
				history(first: $limit, path: $path, after: $cursor) {
					pageInfo {
						endCursor
						hasNextPage
					}
					nodes {
						... on Commit {
							...commit
						}
					}
				}
			}
		}
	}
}

fragment commit on Commit {
	oid
	message
	parents(first: 100) {
		nodes {
			oid
		}
	}
	author {
		date
		email
		name
	}
	committer {
		date
	}
}
`;let p=t==null?void 0:t.ref;(p==null?void 0:p.toUpperCase())==="HEAD"&&(p=s.sha);const D=await this.graphql(f,{owner:u,repo:c,ref:p,cursor:t==null?void 0:t.cursor,path:t==null?void 0:t.path,limit:Math.min(100,(n=t==null?void 0:t.limit)!=null?n:100)});if(D===void 0)return;const I=(o=(i=D.repository)==null?void 0:i.object)==null?void 0:o.history;if(I===void 0)return;const z=I.nodes.map(fe=>({hash:fe.oid,message:fe.message,parents:fe.parents.nodes.map(le=>le.oid),authorDate:new Date(fe.author.date),authorEmail:fe.author.email,authorName:fe.author.name,commitDate:new Date(fe.committer.date)}));return{paging:{cursor:I.pageInfo.endCursor,more:I.pageInfo.hasNextPage},commits:z}}catch(s){return}}async getBlobContent(e,t){try{const n=await this.request("GET /repos/{owner}/{repo}/git/blobs/{file_sha}",{owner:e.owner,repo:e.name,file_sha:t});return Un(n.data.content)}catch(n){throw Z.logLevel===tt.Debug&&Z.error(n),n}}async getFileContent(e,t,n){try{let i;const o=this.getProviderRootUri(e);if(t&&n&&!this.hasFileTree(e,t)){n.startsWith("/")&&(n=n.slice(1));let s=(0,su.dirname)(n);(s==="."||s==="/")&&(s=""),i=await(await this.getFileTree(o,t,{path:s,recursive:!1})).get(n)}else{const[s,{path:u}]=await Promise.all([this.getFileTree(e,t),n?{path:void 0}:this.providerService.getMetadata(e)]);i=await s.get(n!=null?n:u)}if((i==null?void 0:i.sha)===void 0)throw l.FileSystemError.FileNotFound(e);return await i.getContent()}catch(i){throw Z.logLevel===tt.Debug&&Z.error(i),i}}getBatchApiUrl(e){return`${this.getRemoteUri({repo:this.getVirtualUriMetadata(e).repo}).toString()}.git/info/lfs/objects/batch`}async uploadLfsFiles(e,t){var n,i,o,s;const u=this.getBatchApiUrl(e),c=(await this.ensureAuthenticated()).accessToken,f=[],p=await Ha(u,{method:"POST",headers:{"Content-Type":"application/vnd.git-lfs+json",Accept:"application/vnd.git-lfs+json",Authorization:`Bearer ${c}`},body:JSON.stringify({transfers:["basic"],operation:"upload",objects:t.map(D=>({oid:D.oid,size:D.size}))})});if(p.ok){const D=await p.json();if(D.objects.length!==t.length)throw Ke.CommitFailedError();for(let I=0;I<t.length;I++){const z=D.objects[I],fe=t[I];if((i=(n=z.actions)==null?void 0:n.upload)==null?void 0:i.href){const{href:le,header:Ae}=z.actions.upload;if((await Ha(le,{method:"PUT",body:fe.binaryContent,headers:{"Content-Type":"application/octet-stream",...Ae}})).ok&&((s=(o=z.actions)==null?void 0:o.verify)==null?void 0:s.href)&&!(await Ha(z.actions.verify.href,{method:"POST",headers:z.actions.verify.header})).ok)throw Ke.CommitFailedError()}f.push({path:fe.path,contents:L(fe.oid,fe.size)})}}return f}async getLfsContent(e,t){var n,i;const{oid:o,size:s}=O(t),u=this.getBatchApiUrl(e),c=(await this.ensureAuthenticated()).accessToken;try{const f=await Ha(u,{method:"POST",headers:{"Content-Type":"application/vnd.git-lfs+json",Accept:"application/vnd.git-lfs+json",Authorization:`Bearer ${c}`},body:JSON.stringify({transfers:["basic"],operation:"download",objects:[{oid:o,size:Number(s)}]})});if(f.ok){const D=(i=(n=(await f.json()).objects[0].actions)==null?void 0:n.download)==null?void 0:i.href;if(D)return l.window.withProgress({location:l.ProgressLocation.Window},(I,z)=>hs(D,{method:"GET"},void 0,z,I))}return t}catch(f){return Z.error(f),t}}async getFileList(e,t,n){const i=new Ee(`GitHub.getFileList(${e.toString()}${n?`, ${n}`:""})`);try{const{repo:{owner:o,name:s},HEAD:{sha:u}}=await this.getMetadata(e),c=await this.request("GET /repos/{owner}/{repo}/git/tree-file-list/{treeish}",{owner:o,repo:s,treeish:`${n!=null?n:u}${t?`:${t}`:""}`});return c.status!==200?[]:c.data}catch(o){return Z.error(o),[]}finally{i.stop()}}hasFileTree(e,t){return t?this.fileTreeCache.has(this.asFileTreeKey(e,t)):this.getMetadata(e).then(n=>this.fileTreeCache.has(this.asFileTreeKey(e,n.HEAD.sha)))}async getFileTree(e,t,n){var i,o,s,u;const c=this.providerService.isInWorkspace(e);let f=c,p,D,I;if(f||!t){const Ae=(o=(i=n==null?void 0:n.prefetched)==null?void 0:i.metadata)!=null?o:this.getMetadata(e);p=c?this.getFileTreePermissions(e,Ae):void 0;let Ie;({repo:D,HEAD:{sha:Ie},timestamp:I}=(s=n==null?void 0:n.prefetched)!=null?s:await Ae),t||(t=Ie)}else({repo:D}=(u=n==null?void 0:n.prefetched)!=null?u:this.providerService.getVirtualUriMetadata(e)),I=Date.now();const z=this.asFileTreeKey(e,t);this.fileTreesToCache.has(z)&&(f=!0),this.fileTreesToCache.add(z);const fe=this.getProviderRootUri(e),le=new Ee(`GitHub.getFileTree(${z}): ${e.toString()}`,{log:!1,logLevel:tt.Debug});try{let Ae=a(function(){var Qe;const lt=new Ee(`GitHub.createFileTree(${z})`);let Ze,dt;f&&c&&(Ze=new l.EventEmitter,dt=l.Disposable.from(this.tarPit.onDidChangeIndexingEnablement(()=>Ze.fire()),this.tarPit.onDidDownloadTar(Et=>Ze.fire({rootUri:this.getProviderRootUri(Et.rootUri),sha:Et.sha}))));const xt={dispose:()=>dt==null?void 0:dt.dispose(),permissions:p,getContent:async(Et,Je)=>{const Zt=new Ee("getFileContents"),mt=Me.get("experimental.fs.useTars");if(mt==="always"||mt==="ifAvailable"){const ur=await this.tarPit.getInMemoryTar(fe,t);if(ur){const kr=ur.entryMap.get(Je);if(kr)return Zt.stop({message:`Retrieved ${Je} from in-memory tar with rootUri=${fe.toString()}, ref=${t==null?void 0:t.toString()}`}),kr.dataAsBytes}}let gr=!1;return new Promise((ur,kr)=>{this.getBlobContent(D,Et.sha).then(_r=>{gr||(Zt.stop({message:`Retrieved ${Je} from web`}),gr=!0,ur(_r))},_r=>kr(_r)),mt!=="never"&&this.tarPit.getCachedTar(fe,t).then(_r=>_r===void 0&&mt==="always"&&!gr?this.tarPit.getTar(fe,!1,t):_r).then(_r=>{var on;const jr=(on=_r==null?void 0:_r.entryMap.get(Je))==null?void 0:on.dataAsBytes;jr&&!gr&&(Zt.stop({message:`Retrieved ${Je} from tar`}),gr=!0,ur(jr))},_r=>{})})},getTree:async(Et,Je)=>{const Zt=await this.request("GET /repos/{owner}/{repo}/git/trees/{tree_sha}",{owner:D.owner,repo:D.name,recursive:Je?"1":void 0,tree_sha:`${t}${Et?`:${Et}`:""}`});return Zt.data.truncated?{sha:Zt.data.sha,truncated:!0}:{sha:Zt.data.sha,truncated:!1,tree:qr(Zt.data.tree,mt=>{var gr;return{path:mt.path,item:{mode:mt.mode,sha:mt.sha,stat:{type:ec(mt.type),size:(gr=mt.size)!=null?gr:0,ctime:0,mtime:I,permissions:void 0}}}})}},onDidTriggerContentCaching:Ze==null?void 0:Ze.event,tryCachingContent:f&&c?async Et=>{const Je=Me.get("experimental.fs.useTars");if(Je!=="always"&&Je!=="ifAvailable")return!1;const Zt=new Ee(`FileTree.loadAllContent(${t})`);let mt;try{let gr;if(Je==="ifAvailable"){if(Zt.logStep("Tar cache query"),gr=await this.tarPit.getCachedTar(fe,t),gr===void 0)return mt=" \u2022 No cached Tar",!1}else Zt.logStep("Tar query"),gr=await this.tarPit.getTar(fe,!1,t);Zt.logStep("Updating content",{suffix:" \u2022 Updating content..."});for(const ur of gr.entries){const kr=Et(ur.header.fullFileName);if(kr===void 0)continue;const _r=ur.dataAsBytes;kr.getContent=()=>_r}return!0}catch(gr){return mt=` \u2022 Failed ${String(gr)}`,!1}finally{Zt.stop(mt?{suffix:mt}:void 0)}}:void 0};try{return new Ss(fe,t,I,xt,{path:n==null?void 0:n.path,recursive:(Qe=n==null?void 0:n.recursive)!=null?Qe:f,preload:f||(n==null?void 0:n.recursive)})}catch(Et){return Z.error(Et),new Ss(fe,t,I,void 0)}finally{lt.stop()}},"createFileTree"),Ie=this.fileTreeCache.get(z);return Ie!==void 0||(Ie=Ae.call(this),f&&this.fileTreeCache.set(z,Ie)),Ie}finally{le.stop()}}async getFileTreePermissions(e,t){if(this.providerService.getModeConfig(e,await this.getModeRefType(e,t)).display===ee.Edit)return;const i=await this.providerService.getIndexMetadata(e);return re.isActive(i)?l.FilePermission.Readonly:void 0}async getFork(e){var t,n,i;try{const{repo:{owner:o,name:s}}=await this.getMetadata(e),u=`query getFork(
	$owner: String!
	$repo: String!
) {
	repository(owner: $owner, name: $repo) {
		forks(affiliations: OWNER, first: 1) {
			nodes {
				owner {
					login
				}
				name
				url
			}
		}
	}
}`,c=await this.graphql(u,{owner:o,repo:s});if(c===void 0)return;const[f]=(i=(n=(t=c.repository)==null?void 0:t.forks)==null?void 0:n.nodes)!=null?i:[];return f===void 0?void 0:{name:`${f.owner.login}/${f.name}`,repo:{owner:f.owner.login,name:f.name},url:f.url}}catch(o){return}}async getIncomingChanges(e){var t,n;return(n=(t=(await this.getMetadata(e)).state)==null?void 0:t.incomingChanges)!=null?n:[]}async compareCommits(e,t){const n=await this.getMetadata(e),i=await this.getAheadBehindState(e,n,{base:t.base,head:t.compare});return i==null?void 0:i.incomingChanges}async getAheadBehindState(e,t,n){var i,o,s,u,c;const{base:f,head:p}={base:t.HEAD.sha,head:(i=t.HEAD.branch)==null?void 0:i.sha,...n},D=new Ee(`GitHub.getAheadBehindState(${e.toString()}, base=${f}, head=${p})`);let I,z;try{if(!p){I=` \u2022 Skipped; Unsupported HEAD type (${t.HEAD.type})`;return}const fe=await this.request("GET /repos/{owner}/{repo}/compare/{base}...{head}",{owner:t.repo.owner,repo:t.repo.name,base:f,head:p}),le=[];for(const Ae of(o=fe.data.files)!=null?o:[])switch(Ae.status){case"added":case"copied":le.push({uri:l.Uri.joinPath(e,Ae.filename),type:W.Created});break;case"removed":le.push({uri:l.Uri.joinPath(e,Ae.filename),type:W.Deleted});break;case"modified":le.push({uri:l.Uri.joinPath(e,Ae.filename),type:W.Changed});break;case"renamed":le.push({uri:l.Uri.joinPath(e,Ae.filename),type:W.Created}),le.push({uri:l.Uri.joinPath(e,Ae.previous_filename),type:W.Deleted});break;default:Z.warn(`GitHub.getAheadBehindState(${e.toString()}, base=${f}, head=${p}): Unknown file status encountered '${Ae.status}'`);break}return z={ahead:(s=fe.data.behind_by)!=null?s:0,behind:(u=fe.data.ahead_by)!=null?u:0,incomingChanges:le},z}catch(fe){throw I=` \u2022 Failed; ${String(fe)}`,Z.error(fe),fe}finally{D.stop({suffix:I!=null?I:` \u2022 ${(c=z==null?void 0:z.behind)!=null?c:0} commits behind`})}}async getObjectDetails(e,t,n){var i;try{const o=await this.getFileTree(e,t);n?n=this.providerService.getRelativeFilePath(e,this.providerService.createRelativeUri(e,n)):{path:n}=await this.providerService.getMetadata(e);const s=await o.get(n);if((s==null?void 0:s.mode)===void 0||(s==null?void 0:s.sha)===void 0)throw new Error(`Cannot get details of ${n} in ${t}`);return{mode:s.mode,object:s.sha,size:(i=s.stat.size)!=null?i:0}}catch(o){throw Z.error(o),o}}async getPullRequest(e,t){const{repo:{owner:n,name:i}}=await this.getMetadata(e);return this.getPullRequestCore(n,i,t)}async getPullRequestCore(e,t,n){var i,o,s,u,c,f,p;try{const D=`query getPullRequest(
	$owner: String!
	$repo: String!
	$pr: Int!
) {
	repository(name: $repo, owner: $owner) {
		pullRequest(number: $pr) {
			author {
				login
				avatarUrl
				url
			}
			permalink
			number
			title
			state
			updatedAt
			closedAt
			mergedAt
			repository {
				name
				owner {
					login
				}
			}
			baseRef {
				name
			}
			baseRefName
			baseRefOid
			baseRepository {
				name
				owner {
					login
				}
			}
			headRef {
				name
			}
			headRefName
			headRefOid
			headRepository {
				name
				owner {
					login
				}
			}
			headRepositoryOwner {
				login
			}
		}
	}
}`,I=await this.graphql(D,{owner:e,repo:t,number:Number(n)}),z=(i=I==null?void 0:I.repository)==null?void 0:i.pullRequest;return z?{author:{name:z.author.login,avatarUrl:z.author.avatarUrl,url:z.author.url},closedAt:z.closedAt?new Date(z.closedAt):void 0,mergedAt:z.mergedAt?new Date(z.mergedAt):void 0,id:z.number.toString(),repo:{name:z.repository.name,owner:z.repository.owner.login},state:Rs(z.state),title:z.title,updatedAt:new Date(z.updatedAt),url:z.permalink,refs:{base:{owner:z.baseRepository.owner.login,repo:z.baseRepository.name,branch:z.baseRefName,sha:z.baseRefOid,exists:z.baseRef!=null},head:{owner:(c=(u=(o=z.headRepository)==null?void 0:o.owner.login)!=null?u:(s=z.headRepositoryOwner)==null?void 0:s.login)!=null?c:"<unknown>",repo:(p=(f=z.headRepository)==null?void 0:f.name)!=null?p:z.baseRepository.name,branch:z.headRefName,sha:z.headRefOid,exists:z.headRef!=null}}}:void 0}catch(D){Z.error(D);return}}async getPullRequestForBranch(e,t,n){var i,o,s,u,c;try{const{repo:{owner:f,name:p}}=await this.getMetadata(e),D=`query getPullRequestForBranch(
	$owner: String!
	$repo: String!
	$branch: String!
	$maxCount: Int!
	$states: [PullRequestState!]
) {
	repository(name: $repo, owner: $owner) {
		refs(query: $branch, refPrefix: "refs/heads/", first: 1) {
			nodes {
				associatedPullRequests(first: $maxCount, orderBy: {field: UPDATED_AT, direction: DESC}, states: $states) {
					nodes {
						author {
							login
							avatarUrl
							url
						}
						permalink
						number
						title
						state
						updatedAt
						closedAt
						mergedAt
						repository {
							isFork
							name
							owner {
								login
							}
						}
					}
				}
			}
		}
	}
}`,I=await this.graphql(D,{owner:f,repo:p,branch:t,maxCount:(i=n==null?void 0:n.maxCount)!=null?i:1,states:Xl(n==null?void 0:n.include)}),z=(c=(u=(s=(o=I==null?void 0:I.repository)==null?void 0:o.refs.nodes[0])==null?void 0:s.associatedPullRequests)==null?void 0:u.nodes)==null?void 0:c.filter(le=>!le.repository.isFork||le.repository.owner.login===f);if(z==null||z.length===0)return;z.length>1&&z.sort((le,Ae)=>(le.repository.owner.login===f?-1:1)-(Ae.repository.owner.login===f?-1:1)||(le.state==="OPEN"?-1:1)-(Ae.state==="OPEN"?-1:1)||new Date(Ae.updatedAt).getTime()-new Date(le.updatedAt).getTime());const[fe]=z;return{author:{name:fe.author.login,avatarUrl:fe.author.avatarUrl,url:fe.author.url},closedAt:fe.closedAt?new Date(fe.closedAt):void 0,mergedAt:fe.mergedAt?new Date(fe.mergedAt):void 0,id:fe.number.toString(),repo:{name:fe.repository.name,owner:fe.repository.owner.login},state:Rs(fe.state),title:fe.title,updatedAt:new Date(fe.updatedAt),url:fe.permalink}}catch(f){Z.error(f);return}}async getTags(e,t){var n,i,o;try{const{repo:{owner:s,name:u}}=await this.getMetadata(e),c=`query getTags(
	$owner: String!
	$repo: String!
	$tagQuery: String!
	$cursor: String
	$limit: Int = 100
) {
	repository(owner: $owner, name: $repo) {
		refs(query: $tagQuery, refPrefix: "refs/tags/", first: $limit, after: $cursor, orderBy: { field: TAG_COMMIT_DATE, direction: DESC }) {
			pageInfo {
				endCursor
				hasNextPage
			}
			nodes {
				name
				target {
					oid
				}
			}
		}
	}
}`,f=await this.graphql(c,{owner:s,repo:u,tagQuery:(n=t==null?void 0:t.query)!=null?n:"",cursor:t==null?void 0:t.cursor,limit:Math.min(100,(i=t==null?void 0:t.limit)!=null?i:100)});if(f===void 0)return{tags:[]};const p=(o=f.repository)==null?void 0:o.refs;if(p===void 0)return{tags:[]};const D=p.nodes.map(I=>({type:Qi.Tag,name:I.name,commit:I.target.oid,commitUrl:I.target.commitUrl}));return{paging:{cursor:p.pageInfo.endCursor,more:p.pageInfo.hasNextPage},tags:D}}catch(s){return{tags:[]}}}async loadWorkspaceContents(e){try{return await this.tarPit.getTar(e,!1,void 0),!0}catch(t){return Z.error(t),!1}}async getTarGz(e,t,n){const{repo:{owner:i,name:o}}=await this.getMetadata(e),s=await this.ensureAuthenticated(),u=Me.get("indexing.verboseDownloadNotification");return l.window.withProgress({location:u?l.ProgressLocation.Notification:l.ProgressLocation.Window,cancellable:!0,title:l.l10n.t("Downloading repository index")},async(c,f)=>{try{if(xr){let I;try{const Ae=await this.tarballProxyEndpoint;Ae!==void 0&&(I=Ae.replace("{owner}",i).replace("{repo}",o).replace("{sha}",t))}catch{}if(!I)throw new Error("Workbench embedder must set `_tarballProxyEndpoints` in workbench construction options to enable GitHub fulltext search.");const fe=await(await uu(I,{headers:{"x-proxy-authorization":`Bearer ${s.accessToken}`},credentials:"include"},f)).text();return await hs(fe,{},n,f,c)}const p=`https://api.github.com/repos/${i}/${o}/tarball/${t}`;return await hs(p,{headers:{Authorization:`Bearer ${s.accessToken}`}},n,f,c)}catch(p){throw Z.error(p),p}})}async queryRepositoryObject(e,t,n,i){var o,s;try{const{repo:{owner:u,name:c},HEAD:{sha:f},path:p}=await this.providerService.getMetadata(e),D=`query ${t}(
	$owner: String!
	$repo: String!
	$expression: String
) {
	repository(owner: $owner, name: $repo) {
		object(expression: $expression) {
			${n}
		}
	}
}`,I=await this.graphql(D,{owner:u,repo:c,expression:i!=null?i:`${f}:${p}`});return(s=(o=I==null?void 0:I.repository)==null?void 0:o.object)!=null?s:void 0}catch(u){Z.error(u);return}}async repositoryObjectExists(e,t){return await this.queryRepositoryObject(e,"exists","			__typename",t)!==void 0}async searchPullRequestsQuery(e,t){var n;function i(o){function s(u,c){return{number:u.number,title:u.title,repoWithOwner:u.repository.nameWithOwner,reasons:c?[c]:[],url:u.url}}return a(s,"toResult"),Oi([...o.assigned.nodes.filter(u=>u!==null).map(u=>s(u,"assigned")),...o.reviewRequested.nodes.filter(u=>u!==null).map(u=>s(u,"review requested")),...o.mentioned.nodes.filter(u=>u!==null).map(u=>s(u,"mentioned")),...o.authored.nodes.filter(u=>u!==null).map(u=>s(u,"authored")),...et(o.viewer.repositories.nodes,u=>u.pullRequests.nodes.filter(c=>c!==null).map(c=>s(c)))],u=>u.url,(u,c)=>(c.reasons.length!==0&&u.reasons.push(...c.reasons),u))}a(i,"processQueryResults");try{const o=`query searchPullRequests(
	$authored: String!
	$assigned: String!
	$reviewRequested: String!
	$mentioned: String!
) {
	viewer {
		repositories(first: 100, orderBy: { field: STARGAZERS, direction: DESC }) {
			nodes {
				pullRequests(first: 100, states: OPEN, orderBy: { field: UPDATED_AT, direction: DESC }) {
					nodes {
						number
						title
						url
						repository {
							nameWithOwner
						}
					}
				}
			}
		}
	}
	authored: search(first: 100, query: $authored, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
	assigned: search(first: 100, query: $assigned, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
	reviewRequested: search(first: 100, query: $reviewRequested, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
	mentioned: search(first: 100, query: $mentioned, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
}`;e=e.trim(),(t==null?void 0:t.user)&&(e+=` user:${t.user}`);const s=await this.graphql(o,{authored:(e?`${e} is:pr is:open archived:false author:@me`:"is:pr is:open archived:false author:@me").trim(),assigned:(e?`${e} is:pr is:open archived:false assignee:@me`:"is:pr is:open archived:false assignee:@me").trim(),reviewRequested:(e?`${e} is:pr is:open archived:false review-requested:@me`:"is:pr is:open archived:false review-requested:@me").trim(),mentioned:(e?`${e} is:pr is:open archived:false mentions:@me`:"is:pr is:open archived:false mentions:@me").trim()},!0);return s===void 0?{results:[],hasSAMLProtectedResults:!1}:{results:i(s),hasSAMLProtectedResults:!1}}catch(o){return o instanceof aa?{results:i(o.data),hasSAMLProtectedResults:((n=o.errors)==null?void 0:n.find(s=>s.type==="FORBIDDEN"))!==void 0}:(this.handleRequestErrors(o),{results:[],hasSAMLProtectedResults:!1})}}async searchRepositoriesQuery(e,t){var n;function i(o){var s,u,c;const f=Oi((t==null?void 0:t.user)?[...o.search.nodes,...o.viewer.repositories.nodes]:[...o.viewer.repositories.nodes,...o.search.nodes],D=>D==null?void 0:D.url),p=[];for(const D of f)D!==null&&p.push({repoWithOwner:D.nameWithOwner,owner:D.nameWithOwner.split("/")[0],repo:D.nameWithOwner.split("/")[1],description:(s=D.description)!=null?s:void 0,url:D.url,fork:(c=(u=D.parent)==null?void 0:u.nameWithOwner)!=null?c:void 0,stars:D.stargazerCount});return p}a(i,"processQueryResults");try{const o=`query searchRepositories(
	$search: String!
) {
	viewer {
		repositories(first: 100, orderBy: { field: UPDATED_AT, direction: DESC }) {
			nodes {
				nameWithOwner
				description
				url
				parent {
					nameWithOwner
				}
				stargazerCount
			}
		}
	}
	search(first: 100, query: $search, type: REPOSITORY) {
		nodes {
			...on Repository {
				nameWithOwner
				description
				url
				parent {
					nameWithOwner
				}
				stargazerCount
			}
		}
	}
}`;(t==null?void 0:t.user)&&(e+=` user:${t.user}`),(t==null?void 0:t.owner)&&(e+=` owner:${t.owner}`),(t==null?void 0:t.sort)&&(e+=` sort:${t.sort}`),e+=" fork:true";const s=await this.graphql(o,{search:e.trim()},!0);return s===void 0?{results:[],hasSAMLProtectedResults:!1}:{results:i(s),hasSAMLProtectedResults:!1}}catch(o){return o instanceof aa?{results:i(o.data),hasSAMLProtectedResults:((n=o.errors)==null?void 0:n.find(s=>s.type==="FORBIDDEN"))!==void 0}:(this.handleRequestErrors(o),{results:[],hasSAMLProtectedResults:!1})}}async searchCodeQuery(e,t,n){var i,o,s;const{repo:{owner:u,name:c},HEAD:f,defaultBranch:p}=await this.getMetadata(t),D=[];((i=f.branch)==null?void 0:i.name)!==p.name&&D.push(l.l10n.t("Unable to search {0} without index, falling back to {1}.",(s=(o=f.branch)==null?void 0:o.name)!=null?s:f.detached.name,p.name));try{const z=await(await this.octokit({request:{headers:{authorization:`Bearer ${(await this.ensureAuthenticated()).accessToken}`,accept:"application/vnd.github.v3.text-match+json"}}})).request("GET /search/code",{q:`${e} repo:${u}/${c}`}),fe=new l.Range(0,0,0,0),le=[];let Ae=0,Ie;for(const Qe of z.data.items)for(const lt of Qe.text_matches){if(Ae++,n.maxResults!==void 0&&Ae>n.maxResults)return{matches:le,limitHit:!0};Ie={path:Qe.path,ranges:[],preview:lt.fragment,matches:[]};for(const Ze of lt.matches){let dt=0,xt=0,Et=0;for(let Je=0;Je<Ze.indices[1];Je++)Je===Ze.indices[0]&&(xt=Et),lt.fragment[Je]===`
`?(dt++,Et=0):Et++;Ie.ranges.push(fe),Ie.matches.push(new l.Range(dt,xt,dt,Et))}le.push(Ie)}return{matches:le,limitHit:!1,warnings:D}}catch(I){return{matches:[],limitHit:!0}}}async switchTo(e,t,n){const{name:i,repo:o,HEAD:{branch:s}}=await this.getMetadata(e);let u;if(!(t!==void 0&&(typeof t=="string"?(t==null?void 0:t.startsWith("refs/heads/"))?(u={type:be.Tree,id:t.substr(11)},t=t.substr(11)):(t==null?void 0:t.startsWith("refs/tags/"))?u={type:be.Tree,id:t.substr(10)}:u={type:be.Tree,id:t}:u={...t,type:t.type===be.Branch||t.type===be.Tag?be.Tree:t.type},(s==null?void 0:s.name)===u.id)))return{name:i,uri:this.providerService.createVirtualUri(e,{repo:o,ref:u}),location:(n==null?void 0:n.openInNewWindow)?Ye.NewWindow:Ye.CurrentWindow}}async sync(e,t,n){var i,o,s,u,c,f;const p=new Ee(`GitHub.sync(${e.toString()}, resolution=${n.conflictResolution}, to=${n.to})`);let D;try{const{metadata:I}=await this.fetchCore(e,!0,{to:n.to});if(I.HEAD.detached){D=" \u2022 Skipped; detached HEAD";return}if(((o=(i=I==null?void 0:I.state)==null?void 0:i.behind)!=null?o:0)>0&&await t.hasChanges(e)){p.logStep("Fetching upstream changes");const z=[],fe=(u=(s=I.state)==null?void 0:s.incomingChanges)!=null?u:[];if(fe.length>0){const le=await t.getChanges(e);for(const Ae of le){const Ie=this.providerService.getRelativeFilePath(e,Ae.uri),Qe=fe.find(lt=>this.providerService.getRelativeFilePath(e,lt.uri)===Ie);Qe!==void 0&&z.push({path:Ie,current:Ae,incomingType:Qe.type})}}if(z.length>0)switch(n.conflictResolution){case de.KeepCurrent:p.logStep("Syncing (keep) upstream changes",{message:`: ${z.length} conflicts; \u2022`,suffix:" \u2022 Syncing (keep) upstream changes..."});for(const le of z)await t.keep(le.current.uri,{type:le.incomingType,providerUri:As(I,I.HEAD.branch.sha,le.path)});break;case de.DiscardCurrent:p.logStep("Syncing (discard) upstream changes",{message:`: ${z.length} conflicts; \u2022`,suffix:" \u2022 Syncing (discard) upstream changes..."});for(const le of z)await t.discard(le.current.uri);break;case de.Merge:p.logStep("Syncing (merge) upstream changes",{message:`: ${z.length} conflicts; \u2022`,suffix:" \u2022 Syncing (merge) upstream changes..."});for(const le of z)await t.merge(le.current.uri,{type:le.incomingType,providerUri:As(I,I.HEAD.branch.sha,le.path)},{providerUri:As(I,I.HEAD.sha,le.path)});break;case de.Abort:default:throw p.logStep("Syncing (abort) upstream changes",{message:`: ${z.length} conflicts; \u2022`,suffix:" \u2022 Syncing (abort) upstream changes..."}),await this.providerService.updateMetadata(e,I),Ke.SyncConflictsError()}}D=` \u2022 to=${(c=n.to)!=null?c:I.HEAD.branch.sha}`,await this.fastForwardTo(e,(f=n.to)!=null?f:I.HEAD.branch.sha,I)}finally{p.stop(D?{suffix:D}:void 0)}}async fastForwardTo(e,t,n){if(n.HEAD.detached)throw Ke.DetachedHEADError("Unable to fast-forward; no current branch");if(n.HEAD.sha===t&&n.state===void 0)return;const i=this.asFileTreeKey(e,n.HEAD.sha),o=this.fileTreeCache.get(i);this.fileTreeCache.delete(i),o==null||o.dispose(),Z.log(`Fast forward to ${t}; rootUri=${e.toString()}`),await this.providerService.updateMetadata(e,{...n,HEAD:{...n.HEAD,detached:void 0,sha:t},state:t!==n.HEAD.branch.sha?n.state:void 0,timestamp:Date.now()}),t!==n.HEAD.branch.sha&&n.state===void 0&&await this.fetchCore(e,!1,{to:t})}async getBranchTips(e,t){try{const{repo:{owner:n,name:i},HEAD:o}=await this.getMetadata(e);t===void 0&&(o.type===X.RemoteBranch?t=`${o.branch.remote.repo.owner}/${o.branch.remote.repo.name}:refs/heads/${o.branch.name}`:t=o.branch?`refs/heads/${o.branch.name}`:"");const s=Du.exec(t);if(s==null?void 0:s.groups)return this.getRemoteBranchTips(n,i,t);const u=`query getBranchTips(
	$owner: String!
	$repo: String!
	$ref: String!
) {
	repository(owner: $owner, name: $repo) {
		defaultBranchRef {
			target {
				oid
			}
		}
		ref(qualifiedName: $ref) {
			target {
				oid
			}
		}
	}
}`,c=await this.graphql(u,{owner:n,repo:i,ref:t});if((c==null?void 0:c.repository)==null)return;const{defaultBranchRef:f,ref:p}=c.repository;return!f&&!p?void 0:{defaultBranch:f?{sha:f.target.oid}:void 0,branch:p?{sha:p.target.oid}:void 0}}catch(n){return}}async getRemoteBranchTips(e,t,n){try{const i=Du.exec(n);if((i==null?void 0:i.groups)==null)return;let{remoteOwner:o,remoteRepo:s,remoteRef:u}=i.groups;s||(s=t);const c=`query getRemoteBranchTips(
	$owner: String!
	$repo: String!
	$remoteOwner: String!
	$remoteRepo: String!
	$remoteRef: String!
) {
	repository(owner: $owner, name: $repo) {
		defaultBranchRef {
			target {
				oid
			}
		}
	}
	remote: repository(owner: $remoteOwner, name: $remoteRepo) {
		ref(qualifiedName: $remoteRef) {
			target {
				oid
			}
		}
	}
}`,f=await this.graphql(c,{owner:e,repo:t,remoteOwner:o,remoteRepo:s,remoteRef:u});if((f==null?void 0:f.repository)==null||(f==null?void 0:f.remote)==null)return;const{repository:{defaultBranchRef:p},remote:{ref:D}}=f;return!p&&!D?void 0:{defaultBranch:p?{sha:p.target.oid}:void 0,branch:D?{sha:D.target.oid}:void 0}}catch(i){return}}async getRepositoryInfo(e,t,n,i){var o,s,u,c,f,p,D,I,z,fe,le,Ae,Ie,Qe,lt,Ze;try{const dt=`number
title
state
maintainerCanModify
baseRef { name }
baseRefName
baseRefOid
baseRepository {
	name
	owner { login }
	defaultBranchRef {
		name
		target { oid }
	}
	viewerPermission
}
headRef { name }
headRefName
headRefOid
headRepository {
	name
	owner { login }
	defaultBranchRef {
		name
		target { oid }
	}
	viewerPermission
}
mergeCommit { oid }
`,xt=`query getRepository(
	$owner: String!
	$repo: String!
	$ref: String = ""
	$has_pr: Boolean!
	$pr: Int = 0
) {
	viewer { login }
	repository(owner: $owner, name: $repo) {
		name
		owner { login }
		defaultBranchRef {
			name
			target { oid }
		}
		ref(qualifiedName: $ref) {
			name
			prefix
			target {
				... on Tag {
                    target {
                        ... on Commit {
                            oid
                        }
                    }
                }
				... on Tree {
					oid
				}
				... on Blob {
					oid
				}
                ... on Commit {
                    oid
                }
			}
		}
		submodules(first: 100) {
			nodes {
				branch
				gitUrl
				path
                subprojectCommitOid 
			}
		}
		url
		sshUrl
		viewerPermission
		pullRequest(number: $pr) @include(if: $has_pr) {
			${dt}
		}
	}
}`;let Et,Je;try{const ur=await this.graphql(xt,{owner:e,repo:t,ref:(i==null?void 0:i.ref)!=="HEAD"?i==null?void 0:i.ref:void 0,has_pr:Boolean(i==null?void 0:i.pr),pr:(o=i==null?void 0:i.pr)!=null?o:0});if((ur==null?void 0:ur.repository)==null)return;({repository:Je,viewer:{login:Et}}=ur)}catch(ur){if((i==null?void 0:i.pr)&&ur instanceof aa&&((u=(s=ur.errors)==null?void 0:s[0])==null?void 0:u.type)==="NOT_FOUND"&&((c=ur.errors[0])==null?void 0:c.message.includes("Could not resolve to a PullRequest"))){({repository:Je,viewer:{login:Et}}=ur.data);try{const kr=await this.graphql(`query getPullRequestFromParentRepository(
	$owner: String!
	$repo: String!
	$pr: Int!
) {
	repository(owner: $owner, name: $repo) {
		parent {
			pullRequest(number: $pr) {
				${dt}
			}
		}
	}
}`,{owner:e,repo:t,pr:i==null?void 0:i.pr});if(((p=(f=kr==null?void 0:kr.repository)==null?void 0:f.parent)==null?void 0:p.pullRequest)==null)throw ur;Je.pullRequest=kr.repository.parent.pullRequest}catch{throw ur}}else throw ur}const Zt=(D=Je.defaultBranchRef)!=null?D:void 0;if((Zt==null?void 0:Zt.name)==null)return;const mt=Je.pullRequest;let gr;if(Je==null?void 0:Je.ref)gr={prefix:Je.ref.prefix,name:Je.ref.name,sha:"oid"in Je.ref.target?Je.ref.target.oid:Je.ref.target.target.oid};else if(mt==null?void 0:mt.headRefName){let ur=Is(mt.headRepository.viewerPermission);ur<te.Write&&mt.maintainerCanModify&&Is(Je.viewerPermission)>=te.Write&&(ur=te.WriteToPullRequest),gr=mt.headRepository.owner.login===e?{prefix:"refs/heads/",name:mt==null?void 0:mt.headRefName,sha:(z=(I=mt.mergeCommit)==null?void 0:I.oid)!=null?z:mt==null?void 0:mt.headRefOid}:{prefix:"refs/remotes/",name:mt==null?void 0:mt.headRefName,sha:(le=(fe=mt.mergeCommit)==null?void 0:fe.oid)!=null?le:mt==null?void 0:mt.headRefOid,remote:{name:`${mt.headRepository.owner.login}/${mt.headRepository.name}`,accessLevel:ur,repo:{owner:mt.headRepository.owner.login,name:mt.headRepository.name}}}}else(mt==null?void 0:mt.baseRef)?(gr={prefix:"refs/heads/",name:mt==null?void 0:mt.baseRef.name,sha:(Ie=(Ae=mt.mergeCommit)==null?void 0:Ae.oid)!=null?Ie:mt==null?void 0:mt.baseRefOid},n&&(Z.log("Did not find a headRef for PR, falling back to baseRef",mt.baseRef),ii.showPullRequestHeadNotFoundMessage(`${e}/${t}`,`#${i==null?void 0:i.pr}`))):(i==null?void 0:i.ref)==="HEAD"&&(gr={prefix:"refs/heads/",name:Zt.name,sha:Zt.target.oid});return{user:Et,repo:{owner:Je.owner.login,name:Je.name},accessLevel:Is(Je.viewerPermission),ref:gr,defaultBranch:{name:Zt.name,sha:Zt.target.oid},cloneUrl:{http:Je.url,ssh:Je.sshUrl},pullRequest:mt?{id:mt.number.toString(),state:Rs(mt.state),title:mt.title}:void 0}}catch(dt){if(dt instanceof aa)switch((lt=(Qe=dt.errors)==null?void 0:Qe[0])==null?void 0:lt.type){case"NOT_FOUND":{if((i==null?void 0:i.pr)&&((Ze=dt.errors[0])==null?void 0:Ze.message.includes("Could not resolve to a PullRequest"))){const Et=new Oo(dt,`${e}/${t}`,`#${i==null?void 0:i.pr}`);throw n&&ii.showPullRequestNotFoundMessage(Et.name,Et.id),Et}const xt=new Ya(dt,`${e}/${t}`);throw n?Ke.InvalidRepositoryError():xt}case"FORBIDDEN":{const xt=new Ga(dt,`${e}/${t}`);throw n&&ii.showRepositoryForbiddenMessage(xt.name,()=>this.reauthenticate()),xt}}Z.error(dt,`Failed to get repository info for '${e}/${t}'`),!this.handleRequestErrors(dt)&&n&&ii.showUnableToOpenRepositoryMessage(dt);return}}async getSubmodules(e){var t,n,i;const{repo:{owner:o,name:s}}=await this.getMetadata(e),u=`query getRepository(
	$owner: String!
	$repo: String!
) {
	repository(owner: $owner, name: $repo) {
		submodules(first: 100) {
			nodes {
				branch
				gitUrl
				path
                subprojectCommitOid 
			}
		}
	}
}`;try{const c=await this.graphql(u,{owner:o,repo:s});if((c==null?void 0:c.repository)==null)return[];const f=[];for(const p of(n=(t=c.repository.submodules)==null?void 0:t.nodes)!=null?n:[]){const D=(i=await this.createWorkspaceForRemoteUrl(p.gitUrl,void 0,!1))==null?void 0:i.uri;D&&f.push([p.path,D])}return f}catch(c){return[]}}async validateOwnerAndRepoAndSplitRefFromPath(e,t,n){try{const i=await this.request(`GET /repos/{owner}/{repo}/git/extract-ref/${n!=null?n:"HEAD"}`,{owner:e,repo:t});return[e,t]=i.data.name_with_owner.split("/"),n?{owner:e,repo:t,ref:{type:be.Tree,id:i.data.ref},path:i.data.path}:{owner:e,repo:t}}catch(i){if(i instanceof Hi)switch(i.status){case 401:throw Ke.InvalidCredentialsError(i,()=>void this.reauthenticate());case 403:throw ii.showRepositoryForbiddenMessage(`${e}/${t}`,()=>this.reauthenticate()),new Ga(i,`${e}/${t}`);case 404:throw i.message.includes("No ref found")&&n?ii.showRepositoryNotFoundMessage(`${e}/${t}`,n,()=>{const o=this.getRemoteUri({repo:{owner:e,name:t}});l.commands.executeCommand("remoteHub.openRepository",o.toString())}):ii.showRepositoryNotFoundMessage(`${e}/${t}`),new Ya(i,`${e}/${t}`);case 409:throw ii.showRepositoryEmptyMessage(`${e}/${t}`),new No(i,`${e}/${t}`)}return}}asFileTreeKey(e,t){return`${B(this.getProviderRootUri(e))}:${t}`}}a(ko,"GitHubRepositoryProvider"),Tu([Jt()],ko.prototype,"ensureAuthenticated",1),Tu([Jt()],ko.prototype,"octokit",1);function Rs(r){switch(r){case"OPEN":return ye.Open;case"CLOSED":return ye.Closed;case"MERGED":return ye.Merged}}a(Rs,"toPullRequestState");function Xl(r){if(r!==void 0)return r.map(e=>{switch(e){case ye.Open:return"OPEN";case ye.Closed:return"CLOSED";case ye.Merged:return"MERGED"}})}a(Xl,"fromPullRequestStates");var ga;(function(r){r.ADMIN="ADMIN",r.MAINTAIN="MAINTAIN",r.WRITE="WRITE",r.TRIAGE="TRIAGE",r.READ="READ",r.NONE="NONE"})(ga||(ga={}));function Is(r){switch(r){case ga.ADMIN:return te.Admin;case ga.MAINTAIN:return te.Maintain;case ga.WRITE:return te.Write;case ga.TRIAGE:return te.Triage;case ga.READ:return te.Read;default:return te.None}}a(Is,"permissionToAccessLevel");function ec(r){switch(r&&(r=r.toLocaleLowerCase()),r){case"blob":return l.FileType.File;case"tree":case"commit":return l.FileType.Directory;default:return l.FileType.Unknown}}a(ec,"typenameToFileType");var qa;(function(r){r.DoNotAlertForMissingPullRequestSourceBranch="gitHub.doNotAlertForMissingPullRequestSourceBranch"})(qa||(qa={}));let Fs;function Iu(r){return Fs.globalState.get(r)}a(Iu,"getState");async function Fu(r,e){return Fs.globalState.update(r,e)}a(Fu,"updateState");function tc(r){return Fs=r,{registerVirtualProviderService:function(e){Ve.configure("githubRepositories",r),Z.configure(r,"GitHub Repositories",Me.get("logLevel")),Ee.start("Time to root directory",{log:!1});const t=zr.configure(r),n=new tr(r);try{const i=new li(r.globalState),o=i.with(t),s=new xe(r.globalStorageUri,t),u=new dn(o),c=new ui(e,o,s,n,t);c.getWorkspacesWithChanges();const f=new ta(e,i,c,t,r),p=new iu(r.globalStorageUri,e),D=new ko(e,p),I=new $a(e,D,c,p,n);r.subscriptions.push(e.register("github","GitHub",D,I,i,c,u,f),D,I,new rt(D))}catch(i){throw Z.error(i),Rr(r,i),i}}}}a(tc,"activate")})(),module.exports=__webpack_exports__})();
